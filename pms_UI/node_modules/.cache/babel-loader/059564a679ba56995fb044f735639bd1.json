{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\views\\components\\bscList\\setTypeIndex.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\components\\bscList\\setTypeIndex.vue","mtime":1682043105447},{"path":"D:\\hrp\\zjry-pms-ui\\babel.config.js","mtime":1682043101067},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9ocnAvempyeS1wbXMtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfc2V0dHlwZSA9IHJlcXVpcmUoIkAvYXBpL3NldHR5cGUvc2V0dHlwZSIpOwp2YXIgX3Z1ZVRyZWVzZWxlY3QgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkByaW9waGFlL3Z1ZS10cmVlc2VsZWN0IikpOwpyZXF1aXJlKCJAcmlvcGhhZS92dWUtdHJlZXNlbGVjdC9kaXN0L3Z1ZS10cmVlc2VsZWN0LmNzcyIpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogImluZGV4IiwKICBjb21wb25lbnRzOiB7CiAgICBUcmVlc2VsZWN0OiBfdnVlVHJlZXNlbGVjdC5kZWZhdWx0CiAgfSwKICBwcm9wczogewogICAgbGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAi5oyH5qCH6ZuG5YiG57G7IgogICAgfSwKICAgIGZvckl0ZW1Qcm9wOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImJzY0NvZGUiCiAgICB9LAogICAgcGxhY2Vob2xkZXI6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAi6K+36YCJ5oup5oyH5qCH6ZuG5YiG57G7IgogICAgfSwKICAgIGZvcm06IHsKICAgICAgdHlwZTogW09iamVjdCwgQXJyYXldCiAgICB9LAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBtdWx0aXBsZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHNpemU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAibWluaSIKICAgIH0sCiAgICAvLyDliKTmlq3mmK/lkKbmmK/nlKjmiLflhbPogZTnmoTku5PlupPmjqXlj6MKICAgIHVzZXJTdG9yZTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHJlZnJlc2g6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBkaXNhYmxlQnJhbmNoOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBic2NPcHRpb25zOiBbXQogICAgfTsKICB9LAogIHdhdGNoOiB7CiAgICAvL+ebkeWQrOaYr+WQpumcgOimgeWIt+aWsOagkee7k+aehOaVsOaNrgogICAgcmVmcmVzaDogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKCkgewogICAgICAgIHRoaXMuZ2V0RGF0YSgpOwogICAgICB9LAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldERhdGEoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIG5vcm1hbGl6ZXI6IGZ1bmN0aW9uIG5vcm1hbGl6ZXIobm9kZSkgewogICAgICByZXR1cm4gewogICAgICAgIGlkOiBub2RlLmJzY0NvZGUsCiAgICAgICAgbGFiZWw6IG5vZGUuYnNjTmFtZSwKICAgICAgICBjaGlsZHJlbjogbm9kZS5jaGlsZHJlbgogICAgICB9OwogICAgfSwKICAgIC8vIOaQnOe0ouaVsOaNrgogICAgZ2V0RGF0YTogZnVuY3Rpb24gZ2V0RGF0YSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgLy8gbGV0IGRhdGEgPSBPYmplY3QuYXNzaWduKAogICAgICAvLyAgIC8vIHsKICAgICAgLy8gICAvLyAgIHF1ZXJ5UGFyYW06dGhpcy5xdWVyeVBhcmFtc1t0aGlzLnNldFByb3BdCiAgICAgIC8vICAgLy8gfQogICAgICAvLyApOwogICAgICAoMCwgX3NldHR5cGUuc3BkTWNsaXN0KSgpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuYnNjT3B0aW9ucyA9IF90aGlzLmhhbmRsZVRyZWUocmVzcG9uc2UuZGF0YSwgImJzY0NvZGUiLCAicGFyZW50Q29kZSIpOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVUcmVlU2VsZWN0OiBmdW5jdGlvbiBoYW5kbGVUcmVlU2VsZWN0KHZhbCkgewogICAgICB0aGlzLiRlbWl0KCJzZWxlY3RUcmVlIiwgdmFsKTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;AAkBA;AACA;AACA;;;;;;;;;;;;;;;;;;eACA;EACAA;EACAC;IAAAC;EAAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;IACA;IACAK;MACAL;MACAC;IACA;IACAK;MACAN;MACAC;IACA;IACAM;MACAP;MACAC;IACA;IACA;IACAO;MACAR;MACAC;IACA;IACAQ;MACAT;MACAC;IACA;IACAS;MACAV;MACAC;IACA;EACA;EACAU;IACA;MACAC;IACA;EACA;EACAC;IACA;IACAJ;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAC;IACA;EACA;EAEAC;IACAC;MACA;QACAC;QACApB;QACAqB;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;QACA,oCACAC,eACA,WACA,aACA;MACA;IACA;IACAC;MACA;IACA;EACA;AACA;AAAA","names":["name","components","Treeselect","props","label","type","default","forItemProp","placeholder","form","disabled","multiple","size","userStore","refresh","disableBranch","data","bscOptions","watch","handler","immediate","mounted","methods","normalizer","id","children","getData","response","handleTreeSelect"],"sourceRoot":"src/views/components/bscList","sources":["setTypeIndex.vue"],"sourcesContent":["<template>\n  <!-- 物资分类 -->\n  <el-form-item :label=\"label\" :prop=\"forItemProp\">\n    <treeselect\n      :placeholder=\"placeholder\"\n      no-options-text=\"暂无数据\"\n      v-model=\"form[forItemProp]\"\n      :normalizer=\"normalizer\"\n      :show-count=\"true\"\n      :options=\"bscOptions\"\n      @select=\"handleTreeSelect\"\n      :disable-branch-nodes=\"disableBranch\"\n      :disabled = \"disabled\"\n    />\n  </el-form-item>\n</template>\n\n<script>\n  import { spdMclist } from \"@/api/settype/settype\";\n  import Treeselect from \"@riophae/vue-treeselect\";\n  import \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\n  export default {\n    name: \"index\",\n    components: { Treeselect },\n    props: {\n      label: {\n        type: String,\n        default: \"指标集分类\"\n      },\n      forItemProp: {\n        type: String,\n        default: \"bscCode\"\n      },\n      placeholder: {\n        type: String,\n        default:\"请选择指标集分类\"\n      },\n      form: {\n        type: [Object, Array]\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      multiple: {\n        type: Boolean,\n        default: false\n      },\n      size: {\n        type: String,\n        default: \"mini\"\n      },\n      // 判断是否是用户关联的仓库接口\n      userStore: {\n        type: Boolean,\n        default: false\n      },\n      refresh: {\n        type: Boolean,\n        default: false\n      },\n      disableBranch:{\n        type: Boolean,\n        default: true\n      }\n    },\n    data() {\n      return {\n        bscOptions: []\n      };\n    },\n    watch:{\n      //监听是否需要刷新树结构数据\n      refresh:{\n        handler(){\n          this.getData()\n        },\n        immediate:true\n      }\n    },\n    mounted() {\n      this.getData()\n    },\n\n    methods: {\n      normalizer(node) {\n        return {\n          id: node.bscCode,\n          label: node.bscName,\n          children: node.children\n        };\n      },\n      // 搜索数据\n      getData() {\n        // let data = Object.assign(\n        //   // {\n        //   //   queryParam:this.queryParams[this.setProp]\n        //   // }\n        // );\n        spdMclist().then(response => {\n          this.bscOptions = this.handleTree(\n            response.data,\n            \"bscCode\",\n            \"parentCode\"\n          );\n        });\n      },\n      handleTreeSelect(val) {\n        this.$emit(\"selectTree\", val);\n      }\n    }\n  };\n</script>\n\n<style scoped>\n  ::v-deep .vue-treeselect__value-container,\n  ::v-deep .vue-treeselect__control {\n    height: 27px;\n    line-height: 26px;\n  }\n  ::v-deep .vue-treeselect__placeholder,\n  ::v-deep .vue-treeselect__single-value {\n    line-height: 26px;\n  }\n  ::v-deep .vue-treeselect__input-container {\n    font-size: 13px;\n  }\n</style>\n"]}]}
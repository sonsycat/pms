{"remainingRequest":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\tool\\formProcess\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\tool\\formProcess\\index.vue","mtime":1718087161015},{"path":"F:\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJGOi9wbXNfVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5mdW5jdGlvbi5uYW1lLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKdmFyIF91dGlscyA9IHJlcXVpcmUoIkAvYXBpL3V0aWxzIik7CnZhciBfZm9ybURlc2lnbiA9IHJlcXVpcmUoIkAvYXBpL2Zvcm1EZXNpZ24vZm9ybURlc2lnbiIpOwp2YXIgX2RldGFpbCA9IHJlcXVpcmUoIkAvYXBpL3F1YWxpdHkvZGV0YWlsIik7CnZhciBfbW9tZW50ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJtb21lbnQiKSk7CnZhciBfZm9ybURlc2lnbjIgPSByZXF1aXJlKCIuLi8uLi8uLi9hcGkvZm9ybURlc2lnbi9mb3JtRGVzaWduIik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVIZWlnaHQ6ICdhdXRvJywKICAgICAgaXNBZGQ6IGZhbHNlLAogICAgICBpZGQ6IG51bGwsCiAgICAgIC8vIOS/ruaUuWlkCiAgICAgIGFkZEVkaXRJZDogIiIsCiAgICAgIGxpc3RzOiBbXSwKICAgICAgbGlzdHMyOiBbXSwKICAgICAgY29sczogW10sCiAgICAgIGpzb25EYXRhOiB7CiAgICAgICAgbGlzdDogW10KICAgICAgfSwKICAgICAgZm9ybURlc2lnbklkOiAiIiwKICAgICAgLy8gZm9ybURlc2lnbklkOnRoaXMuJHJvdXRlLm5hbWUsCiAgICAgIGZvcm1OYW1lOiAiIiwKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAvLyDlr7zlh7rpga7nvanlsYIKICAgICAgZXhwb3J0TG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOiHquWumuS5ieihqOWNleihqOagvOaVsOaNrgogICAgICBmb3JtRGVzaWduTGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIHNlYXJjaFRpdGxlOiAiIiwKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICBvcGVuX3NlYXJjaDogZmFsc2UsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDMwCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7CiAgICAgICAgbGlzdHMyOiBbXQogICAgICB9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHt9LAogICAgICBzZWxlY3Rpb25Sb3c6IFtdLAogICAgICB0YWJsZUxvYWRpbmc6IGZhbHNlLAogICAgICBmb3JtRGF0YUxpc3Q6IFtdLAogICAgICBmb3JtRGF0YUxpc3QxOiBbXSwKICAgICAgZm9ybURhdGFMaXN0MjogW10sCiAgICAgIG1icHhUeXBlT3B0aW9uczogW10sCiAgICAgIHF1ZXJ5VHlwZU9wdGlvbnM6IFtdLAogICAgICBpc1Btc0d1aWRhbmNlOiBmYWxzZSwKICAgICAgaXNQbXNSZXN1bHQ6IGZhbHNlLAogICAgICBpc0FkZFNob3c6IGZhbHNlLAogICAgICB0YXJnZXRWYWx1ZTogW10sCiAgICAgIC8v5oyH5qCH5pWw5o2uCiAgICAgIGl0ZW1BbGlnbjogJycKICAgIH07CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIGNvbnNvbGUubG9nKCLov5vlhaXkv6Hmga8iKTsKICAgIHRoaXMuZ2V0RGljdHMoInBtc19tYnB4X3R5cGUiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5tYnB4VHlwZU9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgICB0aGlzLmdldERpY3RzKCJwbXNfbWJzeF90aiIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnF1ZXJ5VHlwZU9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygiLiRyb3V0ZS5wYXRoPSIgKyB0aGlzLiRyb3V0ZS5wYXRoKTsKICAgICgwLCBfZm9ybURlc2lnbjIuZ2V0Rm9ybURlc2lnbikodGhpcy4kcm91dGUubmFtZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgY29uc29sZS5sb2coIuS/ruaUueWJjWZvcm1EZXNpZ25JZD0iICsgX3RoaXMuZm9ybURlc2lnbklkKTsKICAgICAgX3RoaXMuZm9ybURlc2lnbklkID0gcmVzcG9uc2UuZGF0YS5pZDsKICAgICAgX3RoaXMuZm9ybU5hbWUgPSByZXNwb25zZS5kYXRhLmZvcm1OYW1lOwogICAgICBjb25zb2xlLmxvZygi5L+u5pS55ZCOZm9ybURlc2lnbklkPSIgKyBfdGhpcy5mb3JtRGVzaWduSWQpOwogICAgfSk7CiAgICBjb25zb2xlLmxvZygiY3JlYXRlZCDkuK1mb3JtRGVzaWduSWQ9IiArIHRoaXMuZm9ybURlc2lnbklkKTsKICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5yZXNpemVIYW5kbGVyKCk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCBfdGhpcy5yZXNpemVIYW5kbGVyKTsKICAgIH0pOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxpc3REYXRhOiBmdW5jdGlvbiBsaXN0RGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5zaWRlYmFyLm9wZW5lZDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBsaXN0RGF0YTogZnVuY3Rpb24gbGlzdERhdGEodmFsKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5yZXNpemVIYW5kbGVyKCk7CiAgICAgIH0sIDMwMCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDbGlja1RhYmxlTmFtZTogZnVuY3Rpb24gaGFuZGxlQ2xpY2tUYWJsZU5hbWUoZGF0YSkgewogICAgICAvLyDpgInkuK3lvZPliY3ooYwKICAgICAgdGhpcy5yb3dDbGljayhkYXRhLCBmYWxzZSk7CiAgICAgIHRoaXMuaGFuZGxlVXBkYXRlKGRhdGEpOwogICAgfSwKICAgIHJlc2l6ZUhhbmRsZXI6IGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKSB7CiAgICAgIHZhciBhID0gdGhpcy4kcmVmcy5idG5zLm9mZnNldEhlaWdodDsKICAgICAgdmFyIGIgPSB0aGlzLiRyZWZzLnNlYXJjaHMub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgaCA9IGEgKyBiICsgMTggKyA0NSArIDg0ICsgMzY7CiAgICAgIGggPSBoOwogICAgICAvLyBgY2FsYygxMDB2aCAtICR7aH0pYDsKICAgICAgdGhpcy50YWJsZUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSBoICsgInB4IjsKICAgICAgLy8gY29uc29sZS5sb2codGhpcy50YWJsZUhlaWdodCkKICAgIH0sCiAgICBzdGF0ZUZvcm1hdDogZnVuY3Rpb24gc3RhdGVGb3JtYXQocm93LCBjb2x1bW4sIGNlbGxWYWx1ZSkgewogICAgICB2YXIgYXJyID0gdGhpcy5saXN0czsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoYXJyW2ldLmZpZWxkTmFtZSA9PSBjb2x1bW4ucHJvcGVydHkpIHsKICAgICAgICAgIGlmIChhcnJbaV0uZmllbGROYW1lID09ICJjc190YXJnZXQiKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdERpY3RJbmRleExhYmVsKGFycltpXS5vcHRpb25zLCBjZWxsVmFsdWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKGFycltpXS5vcHRpb25zLCBjZWxsVmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8qKiDmn6Xor6Loh6rlrprkuYnooajljZXliJfooaggKi9nZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgLy8gdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgLy8gZm9ybURlc2lnbklkOnRoaXMuZm9ybURlc2lnbklkLAogICAgICAgIGZvcm1EZXNpZ25JZDogdGhpcy4kcm91dGUubmFtZQogICAgICB9OwogICAgICBjb25zb2xlLmxvZygibGlzdCDkuK1mb3JtRGVzaWduSWQ9IiArIHRoaXMuZm9ybURlc2lnbklkKTsKICAgICAgKDAsIF91dGlscy5kZXBsb3lMaXN0KShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIC8vIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBfdGhpczIubGlzdHMgPSByZXNwb25zZS5kYXRhOwogICAgICAgIF90aGlzMi5saXN0czIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzMi5saXN0cykpOwogICAgICAgIF90aGlzMi5mb3JtID0gewogICAgICAgICAgbGlzdHMyOiBfdGhpczIubGlzdHMyCiAgICAgICAgfTsKICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7CiAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubGlzdHNbaV0sIF90aGlzMi5saXN0c1tpXS5maWVsZE5hbWUsIG51bGwpOwogICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzW2ldLCAidmFsIiwgbnVsbCk7CiAgICAgICAgICBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkVHlwZSA9PSAic2VsZWN0IikgewogICAgICAgICAgICBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkTmFtZSA9PSAiY3NfdGFyZ2V0IikgewogICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICBpbmRleENvZGU6IF90aGlzMi5saXN0c1tpXS5pbmRleENvZGUsCiAgICAgICAgICAgICAgICBjb21wQ29kZTogX3RoaXMyLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZCAvLyDlv4XkvKAKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAoMCwgX2RldGFpbC5saXN0RGV0YWlsKShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgIm9wdGlvbnMiLCByZXNwb25zZS5yb3dzKTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnRhcmdldFZhbHVlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5yb3dzKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkTmFtZSA9PSAiY3NfZGVwdCIpIHsKICAgICAgICAgICAgICB2YXIgX3BhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGNvbXBDb2RlOiBfdGhpczIuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAoMCwgX2Zvcm1EZXNpZ24uZ2V0RGVwdEluZm9Gb3JQbXMpKF9wYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzW2ldLCAib3B0aW9ucyIsIHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIuZ2V0RGljdHMoX3RoaXMyLmxpc3RzW2ldLmRpY3RUeXBlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzW2ldLCAib3B0aW9ucyIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkVHlwZSA9PSAicmFkaW8iKSB7CiAgICAgICAgICAgIF90aGlzMi5saXN0c1tpXS5vcHRpb25zID0gSlNPTi5wYXJzZShfdGhpczIubGlzdHNbaV0ub3B0aW9ucyk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkVHlwZSA9PSAiY2hlY2tib3giKSB7CiAgICAgICAgICAgIF90aGlzMi5saXN0c1tpXS5vcHRpb25zID0gSlNPTi5wYXJzZShfdGhpczIubGlzdHNbaV0ub3B0aW9ucyk7CiAgICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgInZhbCIsIFtdKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczIubGlzdHNbaV0uZmllbGRUeXBlID09ICJkYXRlIiAmJiBfdGhpczIubGlzdHNbaV0ucXVlcnlUeXBlID09ICJiZXR3ZWVuIikgewogICAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubGlzdHNbaV0sICJ2YWwiLCBbKDAsIF9tb21lbnQuZGVmYXVsdCkoKS5zdGFydE9mKCdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLCAoMCwgX21vbWVudC5kZWZhdWx0KSgpLmVuZE9mKCdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzMi5saXN0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgX2xvb3AoaSk7CiAgICAgICAgfQogICAgICAgIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIoX2kpIHsKICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0czJbX2ldLCBfdGhpczIubGlzdHMyW19pXS5maWVsZE5hbWUsIG51bGwpOwogICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzMltfaV0sICJ2YWwiLCBfdGhpczIubGlzdHMyW19pXS5kZWZhdWx0VmFsdWUpOwogICAgICAgICAgaWYgKF90aGlzMi5saXN0czJbX2ldLmZpZWxkVHlwZSA9PSAic2VsZWN0IikgewogICAgICAgICAgICBpZiAoX3RoaXMyLmxpc3RzMltfaV0uZmllbGROYW1lID09ICJjc190YXJnZXQiKSB7CiAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGluZGV4Q29kZTogX3RoaXMyLmxpc3RzMltfaV0uaW5kZXhDb2RlLAogICAgICAgICAgICAgICAgY29tcENvZGU6IF90aGlzMi4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQgLy/lv4XkvKAKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAoMCwgX2RldGFpbC5saXN0RGV0YWlsKShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0czJbX2ldLCAib3B0aW9ucyIsIHJlc3BvbnNlLnJvd3MpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5saXN0czJbX2ldLmZpZWxkTmFtZSA9PSAiY3NfZGVwdCIpIHsKICAgICAgICAgICAgICB2YXIgX3BhcmFtczIgPSB7CiAgICAgICAgICAgICAgICBjb21wQ29kZTogX3RoaXMyLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgKDAsIF9mb3JtRGVzaWduLmdldERlcHRJbmZvRm9yUG1zKShfcGFyYW1zMikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubGlzdHMyW19pXSwgIm9wdGlvbnMiLCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMyLmdldERpY3RzKF90aGlzMi5saXN0czJbX2ldLmRpY3RUeXBlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzMltfaV0sICJvcHRpb25zIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczIubGlzdHMyW19pXS5maWVsZFR5cGUgPT0gInJhZGlvIikgewogICAgICAgICAgICBfdGhpczIubGlzdHMyW19pXS5vcHRpb25zID0gSlNPTi5wYXJzZShfdGhpczIubGlzdHMyW19pXS5vcHRpb25zKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczIubGlzdHMyW19pXS5maWVsZFR5cGUgPT0gImNoZWNrYm94IikgewogICAgICAgICAgICBfdGhpczIubGlzdHMyW19pXS5vcHRpb25zID0gSlNPTi5wYXJzZShfdGhpczIubGlzdHMyW19pXS5vcHRpb25zKTsKICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzMltfaV0sICJ2YWwiLCBbXSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX3RoaXMyLmxpc3RzMi5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgIF9sb29wMihfaSk7CiAgICAgICAgfQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdHMyLCd0aGlzLmxpc3RzMi0tLScpCiAgICAgICAgdmFyIGxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIC8vIGNvbnNvbGUubG9nKGxpc3QsJ2xpc3QnKQogICAgICAgIHZhciBhcnIgPSBbXTsKICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBsaXN0Lmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICAgIGlmIChsaXN0W19pMl0uZmllbGROYW1lICE9ICJwbXNfc3RhdGUiKSB7CiAgICAgICAgICAgIGlmIChsaXN0W19pMl0uZmllbGROYW1lICE9ICJkZXB0X3RyYWNrIikgewogICAgICAgICAgICAgIG9iai5sYWJlbCA9IGxpc3RbX2kyXS5maWVsZERlc2M7CiAgICAgICAgICAgICAgb2JqLnByb3AgPSBsaXN0W19pMl0uZmllbGROYW1lOwogICAgICAgICAgICAgIG9iai5pc0xpc3QgPSBsaXN0W19pMl0uaXNMaXN0OwogICAgICAgICAgICAgIG9iai5maWVsZFR5cGUgPSBsaXN0W19pMl0uZmllbGRUeXBlOwogICAgICAgICAgICAgIGlmIChsaXN0W19pMl0uZmllbGROYW1lID09ICdjc19zY29yZScpIHsKICAgICAgICAgICAgICAgIG9iai5kZWNpbWxEaWdpdCA9IGxpc3RbX2kyXS5kZWNpbWxEaWdpdDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKG9iai5wcm9wID09ICdjc19kYXRlJykgewogICAgICAgICAgICAgICAgb2JqLmFsaWduID0gJ2NlbnRlcic7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoucHJvcCA9PSAnY3Nfc2NvcmUnKSB7CiAgICAgICAgICAgICAgICBvYmouYWxpZ24gPSAncmlnaHQnOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBvYmouYWxpZ24gPSAnbGVmdCc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGFyci5wdXNoKG9iaik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgX3RoaXMyLmNvbHMgPSBhcnI7CiAgICAgICAgX3RoaXMyLmhhbmRsZVF1ZXJ5KCk7CiAgICAgICAgLy8gdGhpcy4kc2V0KCB0aGlzLnF1ZXJ5UGFyYW1zLCAiZm9ybURlc2lnbklkIiwgdGhpcy5mb3JtRGVzaWduSWQgKQogICAgICAgIC8vIAkJdGhpcy5nZXRUYWJsZSgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLmdldFRhYmxlKCk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuaWRkID0gbnVsbDsKICAgICAgdmFyIGxpc3RzMkxlbmd0aCA9IHRoaXMuZm9ybS5saXN0czIuZmlsdGVyKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgcmV0dXJuIF8uZmllbGROYW1lID09ICJkZXB0X3RyYWNrIjsKICAgICAgfSk7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5mb3JtLmxpc3RzMi5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuZm9ybS5saXN0czJbaV0udmFsID0gdGhpcy5mb3JtLmxpc3RzMltpXS5kZWZhdWx0VmFsdWU7CiAgICAgICAgaWYgKHRoaXMuZm9ybS5saXN0czJbaV0uZmllbGRUeXBlID09ICJjaGVja2JveCIpIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0ubGlzdHMyW2ldLCAidmFsIiwgW10pOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAobGlzdHMyTGVuZ3RoLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgdmFyIGd1aWRhbmNlID0gdGhpcy5mb3JtLmxpc3RzMi5maW5kKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgICByZXR1cm4gXy5maWVsZE5hbWUgPT0gJ3Btc19ndWlkYW5jZSc7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHJlc3VsdFBtcyA9IHRoaXMuZm9ybS5saXN0czIuZmluZChmdW5jdGlvbiAoXykgewogICAgICAgICAgcmV0dXJuIF8uZmllbGROYW1lID09ICdwbXNfcmVzdWx0JzsKICAgICAgICB9KTsKICAgICAgICBndWlkYW5jZS5pc0VkaXQgPSAiMCI7CiAgICAgICAgcmVzdWx0UG1zLmlzRWRpdCA9ICIwIjsKICAgICAgICBndWlkYW5jZS5maWVsZFZhbHVlID0gbnVsbDsKICAgICAgICByZXN1bHRQbXMuZmllbGRWYWx1ZSA9IG51bGw7CiAgICAgIH0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtLmxpc3RzMiwncmVzZXQnKQogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi9oYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHZhciBsaXN0ID0gdGhpcy5saXN0czsKICAgICAgdmFyIGRhdGEgPSB7fTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtc1tsaXN0W2ldLmZpZWxkTmFtZV0gPSBsaXN0W2ldLnZhbDsKICAgICAgfQogICAgICB0aGlzLiRzZXQodGhpcy5xdWVyeVBhcmFtcywgImZvcm1EZXNpZ25JZCIsIHRoaXMuZm9ybURlc2lnbklkKTsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlU2l6ZSA9IDMwOwogICAgICB0aGlzLmdldFRhYmxlKCk7CiAgICB9LAogICAgLy/ooajmoLzmlbDmja4KICAgIGdldFRhYmxlOiBmdW5jdGlvbiBnZXRUYWJsZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIC8vIHRoaXMuJHNldCggdGhpcy5xdWVyeVBhcmFtcywgImZvcm1EZXNpZ25JZCIsIHRoaXMuZm9ybURlc2lnbklkICk7CiAgICAgIHRoaXMuJHNldCh0aGlzLnF1ZXJ5UGFyYW1zLCAiZm9ybURlc2lnbklkIiwgdGhpcy4kcm91dGUubmFtZSk7CiAgICAgIHRoaXMuJHNldCh0aGlzLnF1ZXJ5UGFyYW1zLCAiY29tcF9jb2RlIiwgdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQpOwogICAgICAvLyB0ZXN0Rm9ybSh0aGlzLnF1ZXJ5UGFyYW1zLHRoaXMuZm9ybURlc2lnbklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgKDAsIF91dGlscy50ZXN0Rm9ybSkodGhpcy5xdWVyeVBhcmFtcywgdGhpcy4kcm91dGUubmFtZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSwncmVzJyk7CiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICBfdGhpczMuZm9ybURlc2lnbkxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgICAgX3RoaXMzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/mn6Xor6Lorr7nva4t6KGo5qC85YiX6KGo5pWw5o2uCiAgICBnZXRGb3JtVGFibGVMaXN0OiBmdW5jdGlvbiBnZXRGb3JtVGFibGVMaXN0KCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdGhpcy50YWJsZUxvYWRpbmcgPSB0cnVlOwogICAgICAoMCwgX2Zvcm1EZXNpZ24uZ2V0Rm9ybVRhYmxlTGlzdCkoewogICAgICAgIGZvcm1EZXNpZ25JZDogdGhpcy5mb3JtRGVzaWduSWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczQuZm9ybURhdGFMaXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICBfdGhpczQuZm9ybURhdGFMaXN0MSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZSkgewogICAgICAgICAgICByZXR1cm4gaXRlLmlzUXVlcnkgPT0gMSAmJiBpdGUuaXNMaXN0UXVlcnkgPT0gMTsKICAgICAgICAgIH0pKSk7CiAgICAgICAgICBfdGhpczQuZm9ybURhdGFMaXN0MiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZSkgewogICAgICAgICAgICByZXR1cm4gaXRlLmlzU29ydCA9PSAxOwogICAgICAgICAgfSkpKTsKICAgICAgICAgIF90aGlzNC50YWJsZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi9yZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB2YXIgbGlzdCA9IHRoaXMubGlzdHM7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGxpc3RbaV0udmFsID0gbnVsbDsKICAgICAgICBpZiAobGlzdFtpXS5maWVsZFR5cGUgPT0gImNoZWNrYm94IikgewogICAgICAgICAgdGhpcy4kc2V0KGxpc3RbaV0sICJ2YWwiLCBbXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICAvLyBjb25zb2xlLmxvZyhzZWxlY3Rpb24pCiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkOwogICAgICB9KTsKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCAhPT0gMCAmJiBzZWxlY3Rpb25bMF0ucG1zX3N0YXRlICYmIHNlbGVjdGlvbi5sZW5ndGggPT0gMSkgewogICAgICAgIHRoaXMubXVsdGlwbGUgPSBzZWxlY3Rpb25bMF0ucG1zX3N0YXRlICE9PSAiMSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tdWx0aXBsZSA9IHNlbGVjdGlvbi5sZW5ndGggIT09IDE7CiAgICAgIH0KICAgICAgdGhpcy5zZWxlY3Rpb25Sb3cgPSBzZWxlY3Rpb247CiAgICB9LAogICAgcm93Q2xpY2s6IGZ1bmN0aW9uIHJvd0NsaWNrKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICB2YXIgcmVmc0VsVGFibGUgPSB0aGlzLiRyZWZzLm11bHRpcGxlVGFibGU7CiAgICAgIHZhciBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLnJvd0luZGV4ID09IHJvdy5yb3dJbmRleDsKICAgICAgfSk7CiAgICAgIC8vIGlmIChmaW5kUm93ICYmIHRoaXMuc2VsZWN0aW9uUm93Lmxlbmd0aCA9PSAxKSB7CiAgICAgIC8vICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOwogICAgICAvLyAgIHJldHVybjsKICAgICAgLy8gfQogICAgICByZWZzRWxUYWJsZS5jbGVhclNlbGVjdGlvbigpOwogICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93KTsKICAgIH0sCiAgICByb3dTdHlsZTogZnVuY3Rpb24gcm93U3R5bGUoX3JlZikgewogICAgICB2YXIgcm93ID0gX3JlZi5yb3csCiAgICAgICAgcm93SW5kZXggPSBfcmVmLnJvd0luZGV4OwogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm93LCAncm93SW5kZXgnLCB7CiAgICAgICAgdmFsdWU6IHJvd0luZGV4LAogICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICAgIH0pOwogICAgfSwKICAgIHJvd0NsYXNzTmFtZTogZnVuY3Rpb24gcm93Q2xhc3NOYW1lKF9yZWYyKSB7CiAgICAgIHZhciByb3cgPSBfcmVmMi5yb3csCiAgICAgICAgcm93SW5kZXggPSBfcmVmMi5yb3dJbmRleDsKICAgICAgdmFyIHJvd05hbWUgPSAiIiwKICAgICAgICBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMucm93SW5kZXggPT09IHJvdy5yb3dJbmRleDsKICAgICAgICB9KTsKICAgICAgaWYgKGZpbmRSb3cpIHsKICAgICAgICByb3dOYW1lID0gImN1cnJlbnQtcm93ICI7CiAgICAgIH0KICAgICAgcmV0dXJuIHJvd05hbWU7CiAgICB9LAogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqL2hhbmRsZUFkZDogZnVuY3Rpb24gaGFuZGxlQWRkKCkgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMuYWRkRWRpdElkID0gIiI7CiAgICAgIHRoaXMuaXNBZGQgPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gdGhpcy5mb3JtTmFtZSArICIt5re75YqgIjsKICAgIH0sCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovaGFuZGxlVXBkYXRlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB0aGlzLmlzQWRkID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdmFyIGlkID0gcm93LmlkIHx8IHRoaXMuaWRzOwogICAgICB0aGlzLmFkZEVkaXRJZCA9IHRoaXMuaWRzWzBdOwogICAgICB2YXIgZm9ybURlc2lnbklkID0gdGhpcy5mb3JtRGVzaWduSWQ7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMudGl0bGUgPSB0aGlzLmZvcm1OYW1lICsgIi3nvJbovpEiOwogICAgICAoMCwgX3V0aWxzLmdldEZvcm1EZXRhaWxzKShmb3JtRGVzaWduSWQsIGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBsaXN0cyA9IHJlc3BvbnNlLmRhdGEuZGF0YXM7CiAgICAgICAgX3RoaXM1LmZvcm0gPSB7CiAgICAgICAgICBsaXN0czI6IGxpc3RzCiAgICAgICAgfTsKICAgICAgICBfdGhpczUuaWRkID0gcmVzcG9uc2UuZGF0YS5pZDsKICAgICAgICB2YXIgbGlzdHMyTGVuZ3RoID0gX3RoaXM1LmZvcm0ubGlzdHMyLmZpbHRlcihmdW5jdGlvbiAoXykgewogICAgICAgICAgcmV0dXJuIF8uZmllbGROYW1lID09ICJkZXB0X3RyYWNrIjsKICAgICAgICB9KTsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZvcm0ubGlzdHMyLCdmb3JtLmxpc3RzMicpCiAgICAgICAgdmFyIF9sb29wMyA9IGZ1bmN0aW9uIF9sb29wMyhpKSB7CiAgICAgICAgICBfdGhpczUuJHNldChfdGhpczUuZm9ybS5saXN0czJbaV0sICJ2YWwiLCBfdGhpczUuZm9ybS5saXN0czJbaV0uZmllbGRWYWx1ZSk7CiAgICAgICAgICBpZiAoX3RoaXM1LmZvcm0ubGlzdHMyW2ldLmZpZWxkVHlwZSA9PSAic2VsZWN0IikgewogICAgICAgICAgICAvL+aMh+agh+ivpuaDheaVsOaNrgogICAgICAgICAgICBpZiAoX3RoaXM1LmZvcm0ubGlzdHMyW2ldLmZpZWxkTmFtZSA9PSAiY3NfdGFyZ2V0IikgewogICAgICAgICAgICAgIF90aGlzNS4kc2V0KF90aGlzNS5mb3JtLmxpc3RzMltpXSwgInZhbCIsIG51bGwpOwogICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICBpbmRleENvZGU6IF90aGlzNS5mb3JtLmxpc3RzMltpXS5pbmRleENvZGUsCiAgICAgICAgICAgICAgICBjb21wQ29kZTogX3RoaXM1LiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZCAvLyDlv4XkvKAKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAoMCwgX2RldGFpbC5saXN0RGV0YWlsKShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kc2V0KF90aGlzNS5mb3JtLmxpc3RzMltpXSwgIm9wdGlvbnMiLCByZXNwb25zZS5yb3dzKTsKICAgICAgICAgICAgICAgICAgdmFyIHRhcmdldFZhbHVlID0gcmVzcG9uc2Uucm93cy5maWx0ZXIoZnVuY3Rpb24gKF8pIHsKICAgICAgICAgICAgICAgICAgICBpZiAoXy5pZCA9PSBfdGhpczUuZm9ybS5saXN0czJbaV0uZmllbGRWYWx1ZSB8fCBfLmV2YUNvbnQgPT0gX3RoaXM1LmZvcm0ubGlzdHMyW2ldLmZpZWxkVmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBfOwogICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgICAgIF90aGlzNS4kc2V0KF90aGlzNS5mb3JtLmxpc3RzMltpXSwgInZhbCIsIHRhcmdldFZhbHVlWzBdLmV2YUNvbnQpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzNS5mb3JtLmxpc3RzMltpXS5maWVsZE5hbWUgPT0gImNzX2RlcHQiKSB7CiAgICAgICAgICAgICAgLy/pg6jpl6jor6bmg4XmlbDmja4KICAgICAgICAgICAgICB2YXIgX3BhcmFtczMgPSB7CiAgICAgICAgICAgICAgICBjb21wQ29kZTogX3RoaXM1LiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgKDAsIF9mb3JtRGVzaWduLmdldERlcHRJbmZvRm9yUG1zKShfcGFyYW1zMykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHNldChfdGhpczUuZm9ybS5saXN0czJbaV0sICJvcHRpb25zIiwgcmVzLmRhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzNS5nZXREaWN0cyhfdGhpczUuZm9ybS5saXN0czJbaV0uZGljdFR5cGUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczUuJHNldChfdGhpczUuZm9ybS5saXN0czJbaV0sICJvcHRpb25zIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczUuZm9ybS5saXN0czJbaV0uZmllbGRUeXBlID09ICJyYWRpbyIpIHsKICAgICAgICAgICAgX3RoaXM1LmZvcm0ubGlzdHMyW2ldLm9wdGlvbnMgPSBKU09OLnBhcnNlKF90aGlzNS5mb3JtLmxpc3RzMltpXS5vcHRpb25zKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczUuZm9ybS5saXN0czJbaV0uZmllbGRUeXBlID09ICJjaGVja2JveCIpIHsKICAgICAgICAgICAgX3RoaXM1LmZvcm0ubGlzdHMyW2ldLm9wdGlvbnMgPSBKU09OLnBhcnNlKF90aGlzNS5mb3JtLmxpc3RzMltpXS5vcHRpb25zKTsKICAgICAgICAgICAgdmFyIGFyciA9IF90aGlzNS5mb3JtLmxpc3RzMltpXS5maWVsZFZhbHVlLnNwbGl0KCcsJyk7CiAgICAgICAgICAgIF90aGlzNS4kc2V0KF90aGlzNS5mb3JtLmxpc3RzMltpXSwgInZhbCIsIGFycik7CiAgICAgICAgICB9CiAgICAgICAgICAvL+aYr+enkeWupOi3n+i4quaXti3nvJbovpHlop7liqDnirbmgIHliKTmlq0KICAgICAgICAgIGlmIChsaXN0czJMZW5ndGgubGVuZ3RoICE9IDApIHsKICAgICAgICAgICAgdmFyIGd1aWRhbmNlID0gX3RoaXM1LmZvcm0ubGlzdHMyLmZpbmQoZnVuY3Rpb24gKF8pIHsKICAgICAgICAgICAgICByZXR1cm4gXy5maWVsZE5hbWUgPT0gJ3Btc19ndWlkYW5jZSc7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgcmVzdWx0UG1zID0gX3RoaXM1LmZvcm0ubGlzdHMyLmZpbmQoZnVuY3Rpb24gKF8pIHsKICAgICAgICAgICAgICByZXR1cm4gXy5maWVsZE5hbWUgPT0gJ3Btc19yZXN1bHQnOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKF90aGlzNS5zZWxlY3Rpb25Sb3dbMF0ucG1zX3N0YXRlID09ICIxIikgewogICAgICAgICAgICAgIGd1aWRhbmNlLmlzRWRpdCA9ICIxIjsKICAgICAgICAgICAgICByZXN1bHRQbXMuaXNFZGl0ID0gIjAiOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzNS5zZWxlY3Rpb25Sb3dbMF0ucG1zX3N0YXRlID09ICIyIiB8fCBfdGhpczUuc2VsZWN0aW9uUm93WzBdLnBtc19zdGF0ZSA9PSAiMyIpIHsKICAgICAgICAgICAgICBndWlkYW5jZS5pc0VkaXQgPSAiMSI7CiAgICAgICAgICAgICAgcmVzdWx0UG1zLmlzRWRpdCA9ICIxIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBndWlkYW5jZS5pc0VkaXQgPSAiMCI7CiAgICAgICAgICAgICAgcmVzdWx0UG1zLmlzRWRpdCA9ICIwIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczUuZm9ybS5saXN0czIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIF9sb29wMyhpKTsKICAgICAgICB9CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZWxlY3Rpb25Sb3dbMF0sJ3JvdycpCiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtLmxpc3RzMiwnYmlhbmppJykKICAgICAgICBfdGhpczUub3BlbiA9IHRydWU7CiAgICAgICAgX3RoaXM1LnRpdGxlID0gIue8lui+kSIgKyBfdGhpczUuZm9ybU5hbWU7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi9zdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgbGlzdCA9IHRoaXMuZm9ybS5saXN0czI7CiAgICAgICAgLy8gcG1zX3N0YXRlCiAgICAgICAgLy8gY29uc29sZS5sb2cobGlzdCwnbGlzdCcpCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLmZvcm1bbGlzdFtpXS5maWVsZE5hbWVdID0gbGlzdFtpXS52YWw7CiAgICAgICAgfQogICAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0sICJmb3JtRGVzaWduSWQiLCB0aGlzLmZvcm1EZXNpZ25JZCk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybSwgImlkIiwgdGhpcy5pZGQpOwogICAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICB2YXIgZm9ybSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXM2LmZvcm0pKTsKICAgICAgICAgICAgZGVsZXRlIGZvcm0ubGlzdHMyOwogICAgICAgICAgICB2YXIgYm9vbCA9IGZvcm0uaGFzT3duUHJvcGVydHkoJ2RlcHRfdHJhY2snKTsKICAgICAgICAgICAgaWYgKGJvb2wgJiYgX3RoaXM2LmlzQWRkKSB7CiAgICAgICAgICAgICAgZm9ybS5wbXNfc3RhdGUgPSAiMSI7CiAgICAgICAgICAgICAgZm9ybS5wbXNfcmVzdWx0ID0gbnVsbDsKICAgICAgICAgICAgICBmb3JtLnBtc19ndWlkYW5jZSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHNhdmVMb2FkaW5nID0gX3RoaXM2LnNhdmVMb2FkaW5nKCk7CiAgICAgICAgICAgIGZvcm0uY3Nfc2NvcmUgPSBmb3JtLmNzX3Njb3JlID8gZm9ybS5jc19zY29yZSAqIDEgOiAwOwogICAgICAgICAgICBpZiAoX3RoaXM2LmZvcm0uaWQgIT0gbnVsbCkgewogICAgICAgICAgICAgIGlmIChmb3JtLnBtc19ndWlkYW5jZSkgewogICAgICAgICAgICAgICAgZm9ybS5wbXNfc3RhdGUgPSAiMiI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChmb3JtLnBtc19ndWlkYW5jZSAmJiBmb3JtLnBtc19yZXN1bHQpIHsKICAgICAgICAgICAgICAgIGZvcm0ucG1zX3N0YXRlID0gIjMiOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvL+aMh+agh+mHjeaWsOi1i+WAvOS4umlkCiAgICAgICAgICAgICAgdmFyIGZvcm1UYXJnZXQgPSBfdGhpczYudGFyZ2V0VmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgICAgICAgICBpZiAoXy5ldmFDb250ID09IGZvcm0uY3NfdGFyZ2V0IHx8IF8uaWQgPT0gZm9ybS5jc190YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF87CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgaWYgKGZvcm1UYXJnZXQgJiYgZm9ybVRhcmdldC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBmb3JtLmNzX3RhcmdldCA9IGZvcm1UYXJnZXRbMF0uaWQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICgwLCBfdXRpbHMuYWRkU2F2ZUZvcm0pKGZvcm0sIF90aGlzNi5mb3JtRGVzaWduSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2Lm1zZ1N1Y2Nlc3MoIue8lui+keaIkOWKnyIpOwogICAgICAgICAgICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgICBfdGhpczYub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGZvcm0uY29tcF9jb2RlID0gX3RoaXM2LiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZDsKICAgICAgICAgICAgICBmb3JtLmNzX3Njb3JlID0gZm9ybS5jc19zY29yZSArICIiOwogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZvcm0pCiAgICAgICAgICAgICAgKDAsIF91dGlscy5hZGRTYXZlRm9ybSkoZm9ybSwgX3RoaXM2LmZvcm1EZXNpZ25JZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczYubXNnU3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7CiAgICAgICAgICAgICAgICAgIHNhdmVMb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5vcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRoaXMuc2F2ZUxvYWRpbmcoKS5jbG9zZSgpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+WHuumUmeS6hu+8jOivt+iBlOezu+euoeeQhuWRmCcsCiAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgZHVyYXRpb246IDgwMAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy/mn6Xor6Lorr7nva7kv53lrZgKICAgIHN1Ym1pdEZvcm1TZWFyY2hTZXQ6IGZ1bmN0aW9uIHN1Ym1pdEZvcm1TZWFyY2hTZXQoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICB2YXIgZmRjTGlzdCA9IFtdOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZm9ybURhdGFMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHRlbXBBcnIxID0gdGhpcy5mb3JtRGF0YUxpc3RbaV07CiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmZvcm1EYXRhTGlzdDEubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIHZhciB0ZW1wQXJyMiA9IHRoaXMuZm9ybURhdGFMaXN0MVtqXTsKICAgICAgICAgIGlmICh0ZW1wQXJyMi5pZCA9PT0gdGVtcEFycjEuaWQpIHsKICAgICAgICAgICAgdGVtcEFycjEucXVlcnlUeXBlID0gdGVtcEFycjIucXVlcnlUeXBlOwogICAgICAgICAgICB0ZW1wQXJyMS5xdWVyeURlZmF1bHQgPSB0ZW1wQXJyMi5xdWVyeURlZmF1bHQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMuZm9ybURhdGFMaXN0Mi5sZW5ndGg7IGsrKykgewogICAgICAgICAgdmFyIF90ZW1wQXJyID0gdGhpcy5mb3JtRGF0YUxpc3QyW2tdOwogICAgICAgICAgaWYgKF90ZW1wQXJyLmlkID09PSB0ZW1wQXJyMS5pZCkgewogICAgICAgICAgICB0ZW1wQXJyMS5zb29ydFR5cGUgPSBfdGVtcEFyci5zb29ydFR5cGU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmZGNMaXN0LnB1c2godGVtcEFycjEpOwogICAgICB9CiAgICAgIHZhciBzYXZlTG9hZGluZyA9IHRoaXMuc2F2ZUxvYWRpbmcoKTsKICAgICAgKDAsIF9mb3JtRGVzaWduLmVkaXRBZGRGb3JtRGVzaWduKSh7CiAgICAgICAgZmRjTGlzdDogZmRjTGlzdAogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgIF90aGlzNy5tc2dTdWNjZXNzKCLkv53lrZjmiJDlip8iKTsKICAgICAgICAgIF90aGlzNy5jYW5jZWxTZWFyY2goKTsKICAgICAgICAgIHNhdmVMb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvL+afpeivouaMiemSruaTjeS9nAogICAgaGFuZGxlU2VhcmNoOiBmdW5jdGlvbiBoYW5kbGVTZWFyY2goKSB7CiAgICAgIHZhciBmb3JtRGVzaWduSWQgPSB0aGlzLmZvcm1EZXNpZ25JZDsKICAgICAgdGhpcy5nZXRGb3JtVGFibGVMaXN0KCk7CiAgICAgIHRoaXMuc2VhcmNoVGl0bGUgPSAi5Yqo5oCB6KGo5Y2VL+afpeivouiuvue9riI7CiAgICAgIHRoaXMub3Blbl9zZWFyY2ggPSB0cnVlOwogICAgfSwKICAgIC8v5YWz6Zet5p+l6K+i5qGGCiAgICBjYW5jZWxTZWFyY2g6IGZ1bmN0aW9uIGNhbmNlbFNlYXJjaCgpIHsKICAgICAgdGhpcy5vcGVuX3NlYXJjaCA9IGZhbHNlOwogICAgICB0aGlzLmdldFRhYmxlKCk7CiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqL2hhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgdmFyIGlkcyA9IHJvdy5pZCB8fCB0aGlzLmlkczsKICAgICAgdmFyIGZvcm1EZXNpZ25JZCA9IHRoaXMuZm9ybURlc2lnbklkOwogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaToh6rlrprkuYnooajljZXnvJblj7fkuLoiJyArIGlkcyArICci55qE5pWw5o2u6aG5PycsICLorablkYoiLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICByZXR1cm4gKDAsIF91dGlscy5kZWxGb3JtKShmb3JtRGVzaWduSWQsIGlkcyk7CiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzOC5nZXRUYWJsZSgpOwogICAgICAgIF90aGlzOC5tc2dTdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;;;;;;;AAukBA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;IACA;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACAC;MACA;MACAC;QACAC;QACAC;MACA;MACA;MACAC;QAAArB;MAAA;MACA;MACAsB;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;IACA;EACA;EACAC;EACAC;IAAA;IACAC;IACA;MACA;IACA;IACA;MACA;IACA;IAEAA;IACA;MACAA;MACA;MACA;MACAA;IAEA;IACAA;IACA;IACA;MACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAD;MACA;MACAE;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACAC;MACA;MACA;MACA;IAEA;IACAC;MACA;MACA;QACA;UACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACA,gBACAC;MAAA;MACA;MACA;QACA;QACA7C;MACA;MACAiC;MACA;QACA;QACA;QACA;QACA;UACArC;QACA;QAAA,2BACAkD;UACA;UACA;UACA;YACA;cACA;gBACAC;gBACAC;cACA;;cACA;gBACA;kBACA;kBACA;gBACA;cACA;YACA;cACA;gBACAA;cACA;cACA;gBACA;kBACA;gBACA;cACA;YACA;cACA;gBACA;cACA;YACA;UACA;UACA;YACA;UACA;UACA;YACA;YACA;UACA;UACA;YACA;UACA;QAAA;QAvCA;UAAA;QAwCA;QAAA,6BACAF;UACA;UACA;UACA;YACA;cACA;gBACAC;gBACAC;cACA;;cACA;gBACA;kBACA;gBACA;cACA;YACA;cACA;gBACAA;cACA;cACA;gBACA;kBACA;gBACA;cACA;YACA;cACA;gBACA;cACA;YACA;UACA;UACA;YACA;UACA;UACA;YACA;YACA;UACA;QAAA;QAnCA;UAAA;QAoCA;QACA;QACA;QACA;QACA;QACA;UACA;UACA;YACA;cACAC;cACAA;cACAA;cACAA;cACA;gBACAA;cACA;cACA;gBACAA;cACA;gBACAA;cACA;gBACAA;cACA;cACAC;YACA;UAEA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;QACA;QAEA;UACA;QACA;MAEA;MACA;QACA;UAAA;QAAA;QACA;UAAA;QAAA;QACAC;QACAC;QACAD;QACAC;MACA;MACA;MACA;IACA;IACA,aACAC;MACA;MACA;MACA;QACA;MACA;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;UACA;UACA;UACA;QACA;MAEA;IACA;IACA;IACAC;MAAA;MACA;MACA;QAAAzD;MAAA;QACA;UACA;UACA;YACA;UACA;UACA;YACA;UACA;UACA;QACA;MACA;IACA;IACA,aACA0D;MACA;MACA;QACA3D;QACA;UACA;QACA;MACA;MACA;IACA;IACA;IACA4D;MACA;MACA;QAAA;MAAA;MACA;MACA;QACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;MACA;MACA;MACA;MACAC;MACAA;IACA;IACAC,kCAGA;MAAA,IAFAC;QACAC;MAEAC;QACAC;QACAC;QACAC;MACA;IACA;IACAC,2CAGA;MAAA,IAFAN;QACAC;MAEA;QACAM;UAAA;QAAA;MACA;QACAC;MACA;MACA;IACA;IAEA,aACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACA,aACAC;MAAA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;UACA7E;QACA;QACA;QACA;UAAA;QAAA;QACA;QAAA,6BACAkD;UACA;UACA;YACA;YACA;cACA;cACA;gBACAC;gBACAC;cACA;;cACA;gBACA;kBACA;kBACA;oBACA;sBACA;oBACA;kBACA;kBACA;gBACA;cACA;YACA;cACA;cACA;gBACAA;cACA;cACA;gBACA;kBACA;gBACA;cACA;YACA;cACA;gBACA;cACA;YACA;UACA;UACA;YACA;UACA;UACA;YACA;YACA;YACA;UACA;UACA;UACA;YACA;cAAA;YAAA;YACA;cAAA;YAAA;YACA;cACAK;cACAC;YACA;cACAD;cACAC;YACA;cACAD;cACAC;YACA;UACA;QAAA;QA3DA;UAAA;QA4DA;QACA;QACA;QACA;QACA;MACA;IACA;IACA,WACAoB;MAAA;MACA;QACA;QACA;QACA;QACA;UACA;QACA;QACA;QACA;QACA;UACA;YACA;YACA;YACA;YACA;cACAzD;cACAA;cACAA;YACA;YACA;YACAA;YACA;cACA;gBACAA;cACA;cACA;gBACAA;cACA;cACA;cACA;gBACA;kBACA;gBACA;cACA;cACA;gBACAA;cACA;cACA;gBACA;kBACA;kBACA0D;kBACA;gBACA;cACA;YACA;cACA1D;cACAA;cACA;cACA;gBACA;kBACA;kBACA0D;kBACA;gBACA;cACA;YACA;UACA;QACA;MACA;QACA;QACA;UACAC;UACAC;UACAC;UACAC;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACA;QACA;UACA;UACA;YACAC;YACAA;YACA;UACA;QACA;QACA;UACA;UACA;YACAA;YACA;UACA;QACA;QACAC;MACA;MACA;MACA;QAAAA;MAAA;QACA;UACA;UACA;UACAP;QACA;MACA;IACA;IACA;IACAQ;MACA;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA,aACAC;MAAA;MACA;MACA;MACA;QACAC;QACAC;QACAT;MACA;QACA;MACA;QACA;QACA;MACA;IACA;EACA;AACA;AAAA","names":["data","tableHeight","isAdd","idd","addEditId","lists","lists2","cols","jsonData","list","formDesignId","formName","loading","exportLoading","ids","single","multiple","showSearch","total","formDesignList","title","searchTitle","open","open_search","queryParams","pageNum","pageSize","form","rules","selectionRow","tableLoading","formDataList","formDataList1","formDataList2","mbpxTypeOptions","queryTypeOptions","isPmsGuidance","isPmsResult","isAddShow","targetValue","itemAlign","components","created","console","window","computed","listData","watch","setTimeout","that","methods","handleClickTableName","resizeHandler","h","stateFormat","getList","i","indexCode","compCode","obj","arr","cancel","reset","guidance","resultPms","handleQuery","getTable","getFormTableList","resetQuery","handleSelectionChange","rowClick","refsElTable","rowStyle","row","rowIndex","Object","value","writable","enumerable","rowClassName","findRow","rowName","handleAdd","handleUpdate","submitForm","saveLoading","showClose","message","type","duration","submitFormSearchSet","tempArr1","fdcList","handleSearch","cancelSearch","handleDelete","confirmButtonText","cancelButtonText"],"sourceRoot":"src/views/tool/formProcess","sources":["index.vue"],"sourcesContent":["<template>\n\t<div class=\"app-container\">\n\t\t<div ref=\"searchs\">\n\t\t\t<el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\">\n\t\t\t\t<el-row>\n\t\t\t\t\t<template v-for=\"(item,i) in lists\">\n\t\t\t\t\t\t\t<template v-if=\"item.fieldType=='input'\">\n\t\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t\t\t<el-input\n\t\t\t\t\t\t\t\t\t\tclass=\"search_w220\"\n\t\t\t\t\t\t\t\t\t\tv-model=\"item.val\"\n\t\t\t\t\t\t\t\t\t\tclearable\n\t\t\t\t\t\t\t\t\t\t:maxlength=\"item.fieldLength\"\n\t\t\t\t\t\t\t\t\t\t@keyup.enter.native=\"handleQuery\"\n\t\t\t\t\t\t\t\t\t\tplaceholder=\"请输入\"\n\t\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t<template v-else-if=\"item.fieldType=='select'\">\n\t\t\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t\t\t\t<el-select class=\"search_w220\" filterable remote v-model=\"item.val\">\n\t\t\t\t\t\t\t\t\t\t\t\t<el-option\n\t\t\t\t\t\t\t\t\t\t\t\t\t:style=\"{width:'300px'}\"\n\t\t\t\t\t\t\t\t\t\t\t\t\tv-for=\"dict in item.options\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:key=\"dict.dictValue || dict.id\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:label=\"dict.dictLabel || dict.evaCont\"\n\t\t\t\t\t\t\t\t\t\t\t\t\t:value=\"dict.dictValue || dict.id\"\n\n\t\t\t\t\t\t\t\t\t\t\t\t>\n\t\t\t\t\t\t\t\t\t\t\t\t <el-tooltip :content=\"dict.dictLabel || dict.evaCont\" placement=\"top\"><span class=\"opt_tool_span\">{{dict.dictLabel || dict.evaCont}}</span></el-tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t</el-option>\n\t\t\t\t\t\t\t\t\t\t\t</el-select>\n\t\t\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"item.fieldType=='date'\">\n\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t\t<!-- <el-date-picker\n\t\t\t\t\t\t\t\t\tv-model=\"item.val\"\n\t\t\t\t\t\t\t\t\ttype=\"daterange\"\n\t\t\t\t\t\t\t\t\tclass=\"search_w220\"\n\t\t\t\t\t\t\t\t\trange-separator=\"至\"\n\t\t\t\t\t\t\t\t\tstart-placeholder=\"开始日期\"\n\t\t\t\t\t\t\t\t\tend-placeholder=\"结束日期\">\n\t\t\t\t\t\t\t\t</el-date-picker> -->\n\t\t\t\t\t\t\t\t<el-date-picker\n\t\t\t\t\t\t\t\t\t:type=\"item.queryType=='between'?'daterange':'date'\"\n\t\t\t\t\t\t\t\t\tclass=\"search_w220\"\n\t\t\t\t\t\t\t\t\tv-model=\"item.val\"\n\t\t\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd\"\n\t\t\t\t\t\t\t\t\tplaceholder=\"请选择\"\n\t\t\t\t\t\t\t\t></el-date-picker>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"item.fieldType=='time'\">\n\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t\t<el-date-picker\n\t\t\t\t\t\t\t\tclass=\"search_w220\"\n\t\t\t\t\t\t\t\tv-model=\"item.val\"\n\t\t\t\t\t\t\t\ttype=\"datetime\"\n\t\t\t\t\t\t\t\tvalue-format=\"yyyy-MM-dd HH:mm:ss\"\n\t\t\t\t\t\t\t></el-date-picker>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"item.fieldType=='textarea'\">\n\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t\t<el-input class=\"search_w220\" :maxlength=\"item.fieldLength\" type=\"textarea\" v-model=\"item.val\" placeholder=\"请输入\"></el-input>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"item.fieldType=='number'\">\n\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t\t<el-input-number class=\"search_w220\" v-model=\"item.val\" controls-position=\"right\" :min=\"item.minValue * 1\" :max=\"item.maxValue * 1\" :precision=\"item.decimlDigit *1\"></el-input-number>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"item.fieldType=='rate'\">\n\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t\t<el-rate v-model=\"item.val\"></el-rate>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"item.fieldType=='color'\">\n\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t\t<el-color-picker v-model=\"item.val\"></el-color-picker>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"item.fieldType=='switch'\">\n\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t\t<el-switch v-model=\"item.val\" active-value=\"打开\" inactive-value=\"关闭\"></el-switch>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"item.fieldType=='radio'\">\n\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t\t<el-radio-group v-model=\"item.val\">\n\t\t\t\t\t\t\t\t\t<template v-for=\"(ite,ii) in item.options\">\n\t\t\t\t\t\t\t\t<el-radio :label=\"ite.label\">{{ite.value}}</el-radio>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</el-radio-group>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else-if=\"item.fieldType=='checkbox'\">\n\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t<el-checkbox-group v-model=\"item.val\">\n\t\t\t\t\t\t\t\t<template v-for=\"(ite,ii) in item.options\">\n\t\t\t\t\t\t\t\t<el-checkbox :label=\"ite.value\"></el-checkbox>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</el-checkbox-group>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t\t<template v-else>\n\t\t\t\t\t\t\t<el-form-item :label=\"item.fieldDesc\" v-if=\"item.isQuery=='1'\" :prop=\"item.fieldName\">\n\t\t\t\t\t\t\t\t<el-input\n\t\t\t\t\t\t\t\t\tclass=\"search_w220\"\n\t\t\t\t\t\t\t\t\tv-model=\"item.val\"\n\t\t\t\t\t\t\t\t\tclearable\n\t\t\t\t\t\t\t\t\t:maxlength=\"item.fieldLength\"\n\t\t\t\t\t\t\t\t\t@keyup.enter.native=\"handleQuery\"\n\t\t\t\t\t\t\t\t/>\n\t\t\t\t\t\t\t</el-form-item>\n\t\t\t\t\t\t</template>\n\t\t\t\t\t</template>\n\t\t\t\t\t<el-form-item>\n\t\t\t\t\t\t<el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n\t\t\t\t\t\t<el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n\t\t\t\t\t</el-form-item>\n\t\t\t\t</el-row>\n\t\t\t</el-form>\n\t\t</div>\n\t\t<div ref=\"btns\">\n\t\t\t<el-row :gutter=\"10\" class=\"mb8\">\n\t\t\t\t<el-col :span=\"1.5\">\n\t\t\t\t\t<el-button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\ticon=\"el-icon-plus\"\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t@click=\"handleAdd\"\n\t\t\t\t\t>新增</el-button>\n\t\t\t\t</el-col>\n\t\t\t\t<el-col :span=\"1.5\">\n\t\t\t\t\t<el-button\n\t\t\t\t\t\ttype=\"success\"\n\t\t\t\t\t\ticon=\"el-icon-edit\"\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t:disabled=\"single\"\n\t\t\t\t\t\t@click=\"handleUpdate\"\n\t\t\t\t\t>修改</el-button>\n\t\t\t\t</el-col>\n\t\t\t\t<el-col :span=\"1.5\">\n\t\t\t\t\t<el-button\n\t\t\t\t\t\ttype=\"danger\"\n\t\t\t\t\t\ticon=\"el-icon-delete\"\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t:disabled=\"multiple\"\n\t\t\t\t\t\t@click=\"handleDelete\"\n\t\t\t\t\t>删除</el-button>\n\t\t\t\t</el-col>\n\t\t\t\t<el-col :span=\"1.5\">\n\t\t\t\t\t<el-button\n\t\t\t\t\t\ttype=\"primary\"\n\t\t\t\t\t\ticon=\"el-icon-plus\"\n\t\t\t\t\t\tsize=\"mini\"\n\t\t\t\t\t\t@click=\"handleSearch\"\n\t\t\t\t\t>查询设置</el-button>\n\t\t\t\t</el-col>\n      \t<right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n\t\t\t</el-row>\n\t\t</div>\n    <el-table border stripe v-loading=\"loading\" ref=\"multipleTable\"  :max-height=\"tableHeight\" :data=\"formDesignList\" @selection-change=\"handleSelectionChange\" @row-click=\"rowClick\" :row-style=\"rowStyle\" :row-class-name=\"rowClassName\" highlight-current-row >\n      \t<el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      \t<template v-for=\"item in cols\">\n      \t\t<template v-if=\"item.isList=='1'\">\n      \t\t\t<template v-if=\"item.fieldType=='select'\">\n      \t\t\t\t<el-table-column show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\" :formatter=\"stateFormat\" />\n      \t\t\t</template>\n      \t\t\t<template v-else>\n\t\t\t\t\t\t\t<el-table-column v-if=\"item.prop=='cs_date'\" show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\">\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t\t\t<el-link type=\"primary\" :underline=\"false\" v-html=\"scope.row.cs_date\" @click.stop=\"handleClickTableName(scope.row)\" class=\"displayBlock text-ellipsis \"></el-link>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</el-table-column>\n\t\t\t\t\t\t\t<el-table-column v-else-if=\"item.prop=='cs_score'\" show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\">\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\n\t\t\t\t\t\t\t\t\t<span>{{(scope.row.cs_score * 1).toFixed(item.decimlDigit * 1)}}</span>\n\t\t\t\t\t\t\t\t</template>\n\t\t\t\t\t\t\t</el-table-column>\n      \t\t\t\t<el-table-column v-else show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\">\n      \t\t\t\t</el-table-column>\n      \t\t\t</template>\n      \t\t</template>\n      \t</template>\n    </el-table>\n\n    <!-- <pagination\n\t\t\tstyle=\"position:fixed;top:90%;right:20px;width:100%\"\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    /> -->\n\n    <!-- 添加或修改自定义表单对话框 -->\n    <el-dialog :title=\"title\" custom-class=\"el-button--primary\" :visible.sync=\"open\" width=\"30%\" append-to-body @close=\"cancel\" :close-on-click-modal=\"false\">\n    \t<el-form :model=\"form\" ref=\"form\" label-width=\"110px\">\n      \t\t<el-row>\n\t    \t\t<template v-for=\"(item,i) in form.lists2\">\n\t\t      \t\t<template v-if=\"item.fieldType=='input'\">\n\t      \t\t\t\t<template v-if=\"item.isEdit=='1'\">\n\t      \t\t\t\t\t<template v-if=\"item.validType==null\">\n                    <el-col :span=\"item.span\">\n                      <el-form-item\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\n                      <el-input class=\"w80\" :maxlength=\"item.fieldLength\" v-model=\"item.val\" placeholder=\"请输入\"/>\n                    </el-form-item>\n                    <el-form-item\n                        :label=\"item.fieldDesc\"\n                        v-else-if=\"item.isNotNull!='1'\"\n                        :prop=\"'lists2.' + i + '.val'\"\n                        >\n                        <el-input class=\"w80\" :maxlength=\"item.fieldLength\" v-model=\"item.val\" placeholder=\"请输入\" />\n                      </el-form-item>\n                    </el-col>\n\t      \t\t\t\t\t</template>\n\t      \t\t\t\t\t<template v-else-if=\"item.validType=='email'\">\n                    <el-col :span=\"item.span\">\n                      <el-form-item\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      :rules=\"[\n                        { required: true, message: '请输入邮箱地址', trigger: 'blur' },\n                        { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change']}\n                      ]\"\n                  >\n                      <el-input class=\"w80\" v-model=\"item.val\" />\n                    </el-form-item>\n                    </el-col>\n\t\t\t\t      \t\t</template>\n\t\t\t      \t\t</template>\n\t\t      \t\t</template>\n\n\t\t      \t\t<template v-else-if=\"item.fieldType=='select'\">\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\n                  <el-col :span=\"item.span\">\n                    <el-form-item\n                      :label=\"item.fieldDesc\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\n                      <el-select v-model=\"item.val\" clearable filterable remote class=\"w80\" no-data-text>\n                        <el-option\n                            v-for=\"dict in item.options\"\n                            :key=\"dict.dictValue || dict.id\"\n                            :label=\"dict.dictLabel || dict.evaCont\"\n                            :value=\"dict.dictValue || dict.id\"\n                          >\n\t\t\t\t\t\t\t\t\t\t\t\t\t<el-tooltip :content=\"dict.dictLabel || dict.evaCont\" placement=\"top\"><span class=\"opt_tool_span\">{{dict.dictLabel || dict.evaCont}}</span></el-tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-option>\n                        </el-select>\n                    </el-form-item>\n                    <el-form-item\n                      v-else-if=\"item.isNotNull!='1'\"\n                      :label=\"item.fieldDesc\"\n                    :prop=\"'lists2.' + i + '.val'\"\n                      >\n\n                      <el-select clearable filterable remote v-model=\"item.val\" class=\"w80\" no-data-text>\n                        <el-option\n                            v-for=\"dict in item.options\"\n                            :key=\"dict.dictValue || dict.id\"\n                            :label=\"dict.dictLabel || dict.evaCont\"\n                            :value=\"dict.dictValue || dict.id\"\n                          >\n\t\t\t\t\t\t\t\t\t\t\t\t\t\t<el-tooltip :content=\"dict.dictLabel || dict.evaCont\" placement=\"top\"><span class=\"opt_tool_span\">{{dict.dictLabel || dict.evaCont}}</span></el-tooltip>\n\t\t\t\t\t\t\t\t\t\t\t\t\t</el-option>\n                        </el-select>\n\n                    </el-form-item>\n                  </el-col>\n\t\t\t      \t\t</template>\n\t\t\t      \t</template>\n\n\t\t\t      \t<template v-else-if=\"item.fieldType=='date'\">\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\n                  <el-col :span=\"item.span\">\n                    <el-form-item\n                      :label=\"item.fieldDesc\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\n                      <el-date-picker\n                        v-model=\"item.val\"\n                        class=\"w80\"\n                        value-format=\"yyyy-MM-dd\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请选择\"\n                      ></el-date-picker>\n                    </el-form-item>\n                    <el-form-item\n                      v-else\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\">\n                      <el-date-picker\n                        v-model=\"item.val\"\n                        class=\"w80\"\n                        value-format=\"yyyy-MM-dd\"\n\t\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请选择\"\n                      ></el-date-picker>\n                    </el-form-item>\n                  </el-col>\n\t\t\t      \t\t</template>\n\t\t\t      \t</template>\n\n\t\t\t      \t<template v-else-if=\"item.fieldType=='time'\">\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\n                  <el-col :span=\"item.span\">\n                    <el-form-item\n                      :label=\"item.fieldDesc\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\n                      <el-date-picker\n                      v-model=\"item.val\"\n                      class=\"w80\"\n                      type=\"datetime\"\n                      value-format=\"yyyy-MM-dd HH:mm:ss\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请选择\"\n                    ></el-date-picker>\n                    </el-form-item>\n                    <el-form-item\n                      v-else\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\">\n                      <el-date-picker\n                      v-model=\"item.val\"\n                      class=\"w80\"\n                      type=\"datetime\"\n                      value-format=\"yyyy-MM-dd HH:mm:ss\"\n\t\t\t\t\t\t\t\t\t\t\tplaceholder=\"请选择\"\n                    ></el-date-picker>\n                    </el-form-item>\n                  </el-col>\n\t\t\t      \t\t</template>\n\t\t\t      \t</template>\n\n\t\t\t      \t<template v-else-if=\"item.fieldType=='textarea'\">\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\n                  <el-col :span=\"item.span\">\n                    <el-form-item\n                      :label=\"item.fieldDesc\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\n                      <el-input class=\"w90\" :maxlength=\"item.fieldLength\" type=\"textarea\" :rows=\"item.textLines\" v-model=\"item.val\" show-word-limit placeholder=\"请输入\"></el-input>\n                    </el-form-item>\n                    <el-form-item\n                      v-else\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\">\n                      <el-input class=\"w90\" :maxlength=\"item.fieldLength\" type=\"textarea\" :rows=\"item.textLines\" v-model=\"item.val\" show-word-limit placeholder=\"请输入\"></el-input>\n                    </el-form-item>\n                  </el-col>\n\t\t\t      \t\t</template>\n\t\t\t      \t</template>\n\n\t\t\t      \t<template v-else-if=\"item.fieldType=='number'\">\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\n                  <el-col :span=\"item.span\">\n                    <el-form-item\n                      :label=\"item.fieldDesc\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\n                      <el-input-number class=\"w80\" controls-position=\"right\" :precision=\"item.decimlDigit *1\" :min=\"item.minValue * 1\" :max=\"item.maxValue * 1\" size=\"mini\" v-model=\"item.val\"></el-input-number>\n                    </el-form-item>\n                    <el-form-item\n                      v-else\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\">\n                      <el-input-number class=\"w80\" controls-position=\"right\" :precision=\"item.decimlDigit *1\" :min=\"item.minValue * 1\" :max=\"item.maxValue * 1\" size=\"mini\" v-model=\"item.val\"></el-input-number>\n                    </el-form-item>\n                  </el-col>\n\t\t\t      \t\t</template>\n\t\t\t      \t</template>\n\n\t\t\t      \t<template v-else-if=\"item.fieldType=='rate'\">\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\n                  <el-col :span=\"item.span\">\n                    <el-form-item\n                      :label=\"item.fieldDesc\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\n                      <el-rate v-model=\"item.val\" class=\"w80\"></el-rate>\n                    </el-form-item>\n                    <el-form-item\n                      v-else\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\">\n                      <el-rate v-model=\"item.val\" class=\"w80\"></el-rate>\n                    </el-form-item>\n                  </el-col>\n\t\t\t      \t\t</template>\n\t\t\t      \t</template>\n\n\t\t\t      \t<template v-else-if=\"item.fieldType=='color'\">\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\n                  <el-col :span=\"item.span\">\n                    <el-form-item\n                      :label=\"item.fieldDesc\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\n                      <el-color-picker class=\"w80\" v-model=\"item.val\"></el-color-picker>\n                    </el-form-item>\n                    <el-form-item\n                      v-else\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\">\n                      <el-color-picker class=\"w80\" v-model=\"item.val\"></el-color-picker>\n                    </el-form-item>\n                  </el-col>\n\t\t\t      \t\t</template>\n\t\t\t      \t</template>\n\n\t\t\t      \t<template v-else-if=\"item.fieldType=='switch'\">\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\n                  <el-col :span=\"item.span\">\n                    <el-form-item\n                      :label=\"item.fieldDesc\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\n                      <el-switch v-model=\"item.val\" active-value=\"打开\" inactive-value=\"关闭\"></el-switch>\n                    </el-form-item>\n                    <el-form-item\n                      v-else\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\">\n                      <el-switch v-model=\"item.val\" active-value=\"打开\" inactive-value=\"关闭\"></el-switch>\n                    </el-form-item>\n                  </el-col>\n\t\t\t      \t\t</template>\n\t\t\t      \t</template>\n\n\t\t\t      \t<template v-else-if=\"item.fieldType=='radio'\">\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\n                  <el-col :span=\"item.span\">\n                    <el-form-item\n                      :label=\"item.fieldDesc\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\n                      <el-radio-group v-model=\"item.val\">\n                        <template v-for=\"(ite,ii) in item.options\">\n                      <el-radio :label=\"ite.label\">{{ite.value}}</el-radio>\n                      </template>\n                    </el-radio-group>\n                    </el-form-item>\n                    <el-form-item\n                      v-else\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\">\n                      <el-radio-group v-model=\"item.val\">\n                        <template v-for=\"(ite,ii) in item.options\">\n                      <el-radio :label=\"ite.label\">{{ite.value}}</el-radio>\n                      </template>\n                    </el-radio-group>\n                    </el-form-item>\n                  </el-col>\n\t\t\t      \t\t</template>\n\t\t\t      \t</template>\n\n\t\t\t      \t<template v-else-if=\"item.fieldType=='checkbox'\">\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\n                  <el-col :span=\"item.span\">\n                    <el-form-item\n                      :label=\"item.fieldDesc\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\n                    <el-checkbox-group v-model=\"item.val\">\n                      <template v-for=\"(ite,ii) in item.options\">\n                      <el-checkbox :label=\"ite.value\"></el-checkbox>\n                      </template>\n                    </el-checkbox-group>\n                    </el-form-item>\n                    <el-form-item\n                      v-else\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\">\n                      <el-checkbox-group v-model=\"item.val\">\n                      <template v-for=\"(ite,ii) in item.options\">\n                      <el-checkbox :label=\"ite.value\"></el-checkbox>\n                      </template>\n                    </el-checkbox-group>\n                    </el-form-item>\n                  </el-col>\n\t\t\t      \t\t</template>\n\t\t\t      \t</template>\n\n\t\t\t      \t<template v-else>\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\n                  <el-col :span=\"item.span\">\n                    <el-form-item\n                      :label=\"item.fieldDesc\"\n                      :prop=\"'lists2.' + i + '.val'\"\n                      v-if=\"item.isNotNull=='1'\"\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\"\n                    >\n                      <el-input :maxlength=\"item.fieldLength\" v-model=\"item.val\" />\n                    </el-form-item>\n                    <el-form-item\n                        :label=\"item.fieldDesc\"\n                        v-else\n                      :prop=\"'lists2.' + i + '.val'\"\n                        >\n                        <el-input :maxlength=\"item.fieldLength\" v-model=\"item.val\" />\n                      </el-form-item>\n                  </el-col>\n\t\t\t      \t\t</template>\n\t\t\t      \t</template>\n\t      \t\t</template>\n    \t\t</el-row>\n\t\t  </el-form>\n      \t<div slot=\"footer\" class=\"dialog-footer\">\n        \t<el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        \t<el-button @click=\"cancel\">取 消</el-button>\n      \t</div>\n    </el-dialog>\n\t\t<!-- 查询设置对话框 -->\n\t\t<el-dialog :title=\"searchTitle\" custom-class=\"el-button--primary\" :visible.sync=\"open_search\" width=\"50%\" append-to-body :close-on-click-modal=\"false\">\n\t\t\t<el-row>\n\t\t\t\t<el-col :span=\"24\">\n\t\t\t\t\t\t<p class=\"lit-title\" >筛选条件</p>\n\t\t\t\t</el-col>\n\t\t\t\t<el-table stripe class=\"search_table\" border v-loading=\"tableLoading\" max-height=\"250px\" :data=\"formDataList1\">\n          <el-table-column label=\"字段名称\" align=\"center\" prop=\"fieldDesc\" />\n          <el-table-column label=\"条件\" align=\"center\" prop=\"queryType\" >\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.queryType\" clearable placeholder=\"请选择条件\" >\n                <el-option\n                v-for=\"dict in queryTypeOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"筛选值\" align=\"center\" prop=\"queryDefault\">\n            <template slot-scope=\"scope\">\n              <el-input v-model=\"scope.row.queryDefault\" controls-position=\"right\" />\n            </template>\n          </el-table-column>\n        </el-table>\n\t\t\t\t<el-col :span=\"24\">\n          <p class=\"lit-title\" >排序</p>\n        </el-col>\n\t\t\t\t <el-table stripe class=\"search_table\" border v-loading=\"tableLoading\" max-height=\"250px\" :data=\"formDataList2\" >\n          <el-table-column label=\"字段名称\" align=\"center\" prop=\"fieldDesc\" />\n          <el-table-column label=\"排序方式\" align=\"center\" prop=\"soortType\" >\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.soortType\" clearable placeholder=\"请选择排序方式\" >\n                <el-option\n                v-for=\"dict in mbpxTypeOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n        </el-table>\n\t\t\t</el-row>\n\n\t\t\t<div slot=\"footer\" class=\"dialog-footer\">\n        \t<el-button type=\"primary\" @click=\"submitFormSearchSet\">确 定</el-button>\n        \t<el-button @click=\"cancelSearch\">取 消</el-button>\n      </div>\n\t\t</el-dialog>\n  \t</div>\n</template>\n\n<script>\nimport { deployList,saveDesign,getForm,testForm,getFormDetails,addSaveForm,delForm} from '@/api/utils';\nimport {getDeptInfoForPms,getFormTableList,editAddFormDesign} from \"@/api/formDesign/formDesign\";\nimport { listDetail } from \"@/api/quality/detail\";\nimport moment from \"moment\";\nimport { getFormDesign } from '../../../api/formDesign/formDesign'\nexport default {\n\tdata(){\n        return{\n\t\t\t\t\ttableHeight:'auto',\n\t\t\t\t\tisAdd:false,\n        \tidd:null,\n        \t// 修改id\n      \t\taddEditId: \"\",\n        \tlists:[],\n        \tlists2:[],\n        \tcols:[],\n          \tjsonData:{\n          \t\tlist:[],\n          \t},\n          \tformDesignId:\"\",\n          \t// formDesignId:this.$route.name,\n          \tformName:\"\",\n           \t// 遮罩层\n\t      \tloading: false,\n\t      \t// 导出遮罩层\n\t      \texportLoading: false,\n\t      \t// 选中数组\n\t      \tids: [],\n\t      \t// 非单个禁用\n\t      \tsingle: true,\n\t      \t// 非多个禁用\n\t      \tmultiple: true,\n\t      \t// 显示搜索条件\n\t      \tshowSearch: true,\n\t      \t// 总条数\n\t      \ttotal: 0,\n\t      \t// 自定义表单表格数据\n\t      \tformDesignList: [],\n\t      \t// 弹出层标题\n\t      \ttitle: \"\",\n\t\t\t\t\tsearchTitle:\"\",\n\t      \t// 是否显示弹出层\n\t      \topen: false,\n\t\t\t\t\topen_search:false,\n\t      \t// 查询参数\n\t      \tqueryParams: {\n\t        \tpageNum: 1,\n\t\t\t\t\t\tpageSize: 30,\n\t      \t},\n\t      \t// 表单参数\n\t      \tform: {lists2:[]},\n\t      \t// 表单校验\n\t\t\t\t\trules: {},\n\t\t\t\t\tselectionRow:[],\n\t\t\t\t\ttableLoading:false,\n\t\t\t\t\tformDataList:[],\n\t\t\t\t\tformDataList1:[],\n\t\t\t\t\tformDataList2:[],\n\t\t\t\t\tmbpxTypeOptions:[],\n\t\t\t\t\tqueryTypeOptions:[],\n\t\t\t\t\tisPmsGuidance:false,\n\t\t\t\t\tisPmsResult:false,\n\t\t\t\t\tisAddShow:false,\n\t\t\t\t\ttargetValue:[],//指标数据\n\t\t\t\t\titemAlign:''\n        }\n    },\n    components:{},\n    created() {\n      console.log(\"进入信息\");\n\t\t\t\tthis.getDicts(\"pms_mbpx_type\").then(response => {\n\t\t\t\t\tthis.mbpxTypeOptions = response.data;\n\t\t\t\t});\n\t\t\t\tthis.getDicts(\"pms_mbsx_tj\").then(response => {\n\t\t\t\t\tthis.queryTypeOptions = response.data;\n\t\t\t\t});\n\n      console.log(\".$route.path=\"+this.$route.path);\n      getFormDesign(this.$route.name).then((response) =>{\n        console.log(\"修改前formDesignId=\"+this.formDesignId);\n        this.formDesignId = response.data.id;\n        this.formName = response.data.formName;\n        console.log(\"修改后formDesignId=\"+this.formDesignId);\n\n      })\n      console.log(\"created 中formDesignId=\"+this.formDesignId);\n\t\t\t\tthis.getList();\n\t\t\t\tthis.$nextTick(() => {\n\t\t\t\t\tthis.resizeHandler();\n\t\t\t\t\twindow.addEventListener(\"resize\", this.resizeHandler);\n\t\t\t\t});\n\t\t},\n\t\tcomputed: {\n\t\t\tlistData() {\n\t\t\t\treturn this.$store.state.app.sidebar.opened;\n\t\t\t}\n\t\t},\n\t\twatch: {\n\t\t\tlistData(val) {\n\t\t\t\tvar that = this;\n\t\t\t\tsetTimeout(function() {\n\t\t\t\t\tthat.resizeHandler();\n\t\t\t\t}, 300);\n\t\t\t}\n\t\t},\n    methods:{\n\t\t\thandleClickTableName(data) {\n        // 选中当前行\n        this.rowClick(data, false);\n        this.handleUpdate(data);\n      },\n\t\t\tresizeHandler() {\n\t\t\t\tlet a = this.$refs.btns.offsetHeight;\n\t\t\t\tlet b = this.$refs.searchs.offsetHeight;\n\t\t\t\tlet h =a + b + 18 + 45 + 84 + 36;\n\t\t\t\th = h ;\n\t\t\t\t// `calc(100vh - ${h})`;\n\t\t\t\tthis.tableHeight = document.documentElement.clientHeight - h + \"px\";\n\t\t\t\t// console.log(this.tableHeight)\n\n\t\t\t},\n    \tstateFormat(row, column, cellValue) {\n\t\t\t\tlet arr = this.lists;\n    \t\tfor(let i=0;i<arr.length;i++){\n    \t\t\tif(arr[i].fieldName==column.property){\n\t\t\t\t\t\tif(arr[i].fieldName==\"cs_target\"){\n\t\t\t\t\t\t\treturn this.selectDictIndexLabel(arr[i].options,cellValue)\n\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\treturn this.selectDictLabel(arr[i].options,cellValue);\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t}\n\t\t\t},\n    \t/** 查询自定义表单列表 */\n\t    getList() {\n\t      \t// this.loading = true;\n\t    \t\tlet data = {\n\t\t\t\t\t\t// formDesignId:this.formDesignId,\n\t\t\t\t\t\tformDesignId:this.$route.name,\n\t        }\n        console.log(\"list 中formDesignId=\"+this.formDesignId);\n\t        deployList(data).then(response => {\n\t        \t// console.log(response);\n\t        \tthis.lists = response.data;\n\t        \tthis.lists2 = JSON.parse(JSON.stringify(this.lists))\n\t        \tthis.form = {\n\t        \t\tlists2:this.lists2\n\t\t\t\t\t\t}\n\t        \tfor(let i=0;i<this.lists.length;i++){\n\t        \t\tthis.$set( this.lists[i], this.lists[i].fieldName, null )\n\t\t\t\t\t\t\tthis.$set( this.lists[i], \"val\", null )\n\t\t\t\t\t\t\tif(this.lists[i].fieldType==\"select\"){\n\t\t\t\t\t\t\t\tif(this.lists[i].fieldName==\"cs_target\"){\n\t\t\t\t\t\t\t\t\t\tlet params={\n\t\t\t\t\t\t\t\t\t\t\t\tindexCode:this.lists[i].indexCode,\n\t\t\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId  // 必传\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tlistDetail(params).then(response=>{\n\t\t\t\t\t\t\t\t\t\t\t\tif(response.code===200){\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\",response.rows );\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.targetValue=JSON.parse(JSON.stringify(response.rows))\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}else if(this.lists[i].fieldName==\"cs_dept\"){\n\t\t\t\t\t\t\t\t\tlet params= {\n\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tgetDeptInfoForPms(params).then(res=>{\n\t\t\t\t\t\t\t\t\t\t\tif(res.code===200){\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\",res.data )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tthis.getDicts(this.lists[i].dictType).then(response => {\n\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\", response.data )\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t        \t\tif(this.lists[i].fieldType==\"radio\"){\n\t        \t\t\tthis.lists[i].options = JSON.parse(this.lists[i].options)\n\t        \t\t}\n\t        \t\tif(this.lists[i].fieldType==\"checkbox\"){\n\t        \t\t\tthis.lists[i].options = JSON.parse(this.lists[i].options)\n\t        \t\t\tthis.$set( this.lists[i], \"val\", [])\n\t        \t\t}\n\t\t\t\t\tif(this.lists[i].fieldType==\"date\"&&this.lists[i].queryType==\"between\"){\n\t\t\t\t\t\tthis.$set( this.lists[i], \"val\", [moment().startOf('month').format('YYYY-MM-DD'),moment().endOf('month').format('YYYY-MM-DD')])\n\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t        \tfor(let i=0;i<this.lists2.length;i++){\n\t        \t\tthis.$set( this.lists2[i], this.lists2[i].fieldName, null );\n\t\t\t\t\t\t\tthis.$set( this.lists2[i], \"val\", this.lists2[i].defaultValue );\n\t        \t\tif(this.lists2[i].fieldType==\"select\"){\n\t\t\t\t\t\t\t\tif(this.lists2[i].fieldName==\"cs_target\"){\n\t\t\t\t\t\t\t\t\tlet params={\n\t\t\t\t\t\t\t\t\t\t\tindexCode:this.lists2[i].indexCode,\n\t\t\t\t\t\t\t\t\t\t  compCode:this.$store.state.user.userInfo.deptId   //必传\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tlistDetail(params).then(response=>{\n\t\t\t\t\t\t\t\t\t\t\tif(response.code===200){\n\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists2[i], \"options\",response.rows )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}else if(this.lists2[i].fieldName==\"cs_dept\"){\n\t\t\t\t\t\t\t\t\tlet params= {\n\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tgetDeptInfoForPms(params).then(res=>{\n\t\t\t\t\t\t\t\t\t\t\tif(res.code===200){\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists2[i], \"options\",res.data )\n\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\tthis.getDicts(this.lists2[i].dictType).then(response => {\n\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists2[i], \"options\", response.data )\n\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t        \t\tif(this.lists2[i].fieldType==\"radio\"){\n\t        \t\t\tthis.lists2[i].options = JSON.parse(this.lists2[i].options)\n\t        \t\t}\n\t        \t\tif(this.lists2[i].fieldType==\"checkbox\"){\n\t        \t\t\tthis.lists2[i].options = JSON.parse(this.lists2[i].options)\n\t        \t\t\tthis.$set( this.lists2[i], \"val\", [])\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// console.log(this.lists2,'this.lists2---')\n\t\t\t\t\t\tlet list = response.data;\n\t\t\t\t\t\t// console.log(list,'list')\n\t        \tlet arr = [];\n\t        \tfor(let i=0;i<list.length;i++){\n\t\t\t\t\t\t\tlet obj = {};\n\t\t\t\t\t\t\tif(list[i].fieldName!=\"pms_state\"){\n\t\t\t\t\t\t\t\tif(list[i].fieldName!=\"dept_track\"){\n\t\t\t\t\t\t\t\t\tobj.label = list[i].fieldDesc;\n\t\t\t\t\t\t\t\t\tobj.prop = list[i].fieldName;\n\t\t\t\t\t\t\t\t\tobj.isList = list[i].isList;\n\t\t\t\t\t\t\t\t\tobj.fieldType = list[i].fieldType;\n\t\t\t\t\t\t\t\t\tif(list[i].fieldName=='cs_score'){\n\t\t\t\t\t\t\t\t\t\tobj.decimlDigit = list[i].decimlDigit\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tif(obj.prop=='cs_date'){\n\t\t\t\t\t\t\t\t\t\tobj.align='center';\n\t\t\t\t\t\t\t\t\t}else if(obj.prop=='cs_score'){\n\t\t\t\t\t\t\t\t\t\tobj.align='right';\n\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\tobj.align='left';\n\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\tarr.push(obj)\n\t\t\t\t\t\t\t\t}\n\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t        \tthis.cols = arr;\n\t\t\t\tthis.handleQuery();\n\t        \t// this.$set( this.queryParams, \"formDesignId\", this.formDesignId )\n\t\t\t\t// \t\tthis.getTable();\n\t        })\n\t\t\t},\n\t    // 取消按钮\n\t    cancel() {\n\t      this.open = false;\n\t\t\t\tthis.reset();\n\t\t\t\tthis.getTable();\n\t    },\n\t    // 表单重置\n\t    reset() {\n\t\t\t\tthis.idd = null;\n\t\t\t\tlet lists2Length=this.form.lists2.filter(_=>{return _.fieldName==\"dept_track\"});\n    \t\tfor(let i=0;i<this.form.lists2.length;i++){\n\t\t\t\t\t\tthis.form.lists2[i].val = this.form.lists2[i].defaultValue;\n\n        \t\tif(this.form.lists2[i].fieldType==\"checkbox\"){\n        \t\t\tthis.$set(this.form.lists2[i], \"val\", [])\n\t\t\t\t\t\t}\n\n\t\t\t\t\t}\n\t\t\t\t\tif(lists2Length.length!=0){\n\t\t\t\t\t\t\tlet guidance=this.form.lists2.find((_=>{return _.fieldName=='pms_guidance'}));\n\t\t\t\t\t\t\tlet resultPms=this.form.lists2.find((_=>{return _.fieldName=='pms_result'}));\n\t\t\t\t\t\t\tguidance.isEdit=\"0\";\n\t\t\t\t\t\t\tresultPms.isEdit=\"0\";\n\t\t\t\t\t\t\tguidance.fieldValue=null;\n\t\t\t\t\t\t\tresultPms.fieldValue=null;\n\t\t\t\t\t}\n\t\t\t\t\t// console.log(this.form.lists2,'reset')\n    \t\tthis.resetForm(\"form\");\n\t    },\n\t    /** 搜索按钮操作 */\n\t    handleQuery() {\n\t    \tlet list = this.lists;\n\t    \tlet data = {};\n        \tfor(let i=0;i<list.length;i++){\n    \t\t\tthis.queryParams[list[i].fieldName] = list[i].val;\n        \t}\n        \tthis.$set( this.queryParams, \"formDesignId\", this.formDesignId )\n\t      \tthis.queryParams.pageNum = 1;\n        \tthis.queryParams.pageSize = 30;\n        \tthis.getTable();\n\t\t\t},\n\t\t\t//表格数据\n\t    getTable(){\n\t\t\t\tthis.loading = true;\n\t\t\t\t// this.$set( this.queryParams, \"formDesignId\", this.formDesignId );\n\t\t\t\tthis.$set( this.queryParams, \"formDesignId\", this.$route.name );\n\t\t\t\tthis.$set( this.queryParams, \"comp_code\", this.$store.state.user.userInfo.deptId );\n\t    \t// testForm(this.queryParams,this.formDesignId).then(response => {\n\t    \ttestForm(this.queryParams,this.$route.name).then(response => {\n\t\t\t\t\t\t// console.log(response,'res');\n\t\t\t\t\t\tif(response.code==200){\n\t\t\t\t\t\t\tthis.formDesignList = response.rows;\n        \t\t\tthis.total = response.total;\n\t\t\t\t\t\t\tthis.loading = false;\n\t\t\t\t\t\t}\n\n\t\t    });\n\t    },\n\t\t\t//查询设置-表格列表数据\n      getFormTableList(){\n        this.tableLoading=true;\n        getFormTableList({formDesignId:this.formDesignId}).then(response=>{\n          if(response.code===200){\n\t\t\t\t\t\tthis.formDataList=JSON.parse(JSON.stringify(response.data));\n\t\t\t\t\t\tthis.formDataList1=JSON.parse(JSON.stringify(response.data.filter((ite)=>{\n\t\t\t\t\t\t\treturn ite.isQuery==1 && ite.isListQuery==1\n\t\t\t\t\t\t})))\n           this.formDataList2=JSON.parse(JSON.stringify(response.data.filter((ite)=>{\n             return ite.isSort==1\n           })));\n           this.tableLoading=false;\n          }\n        })\n      },\n\t    /** 重置按钮操作 */\n\t    resetQuery() {\n\t    \tlet list = this.lists;\n        \tfor(let i=0;i<list.length;i++){\n        \t\tlist[i].val = null;\n        \t\tif(list[i].fieldType==\"checkbox\"){\n        \t\t\tthis.$set(list[i], \"val\", [])\n\t        \t}\n        \t}\n\t      \tthis.handleQuery();\n\t    },\n\t    // 多选框选中数据\n\t    handleSelectionChange(selection) {\n\t    \t// console.log(selection)\n\t      \tthis.ids = selection.map(item => item.id)\n\t\t\t\t\tthis.single = selection.length!==1\n\t\t\t\t\tif(selection.length!==0&&selection[0].pms_state && selection.length==1){\n\t\t\t\t\t\tthis.multiple = selection[0].pms_state!==\"1\"\n\t\t\t\t\t}else{\n\t\t\t\t\t\tthis.multiple = selection.length!==1\n\t\t\t\t\t}\n\t\t\t\t\tthis.selectionRow=selection\n\t\t\t},\n\t\t\trowClick(row, column, event) {\n        let refsElTable = this.$refs.multipleTable;\n        let findRow = this.selectionRow.find(c => c.rowIndex == row.rowIndex);\n        // if (findRow && this.selectionRow.length == 1) {\n        //   refsElTable.toggleRowSelection(row, false);\n        //   return;\n        // }\n        refsElTable.clearSelection();\n        refsElTable.toggleRowSelection(row);\n      },\n      rowStyle({\n\t\t\t\t\trow,\n\t\t\t\t\trowIndex\n\t\t\t\t}) {\n        Object.defineProperty(row, 'rowIndex', {\n          value: rowIndex,\n          writable: true,\n          enumerable: false\n        })\n      },\n      rowClassName({\n\t\t\t\t\trow,\n\t\t\t\t\trowIndex\n\t\t\t\t}) {\n        let rowName = \"\",\n          findRow = this.selectionRow.find(c => c.rowIndex === row.rowIndex);\n        if (findRow) {\n          rowName = \"current-row \";\n        }\n        return rowName;\n      },\n\n\t    /** 新增按钮操作 */\n\t    handleAdd() {\n\t\t\t\t\tthis.reset();\n\t      \tthis.open = true;\n\t\t\t\t\tthis.addEditId = \"\";\n\t\t\t\t\tthis.isAdd=true;\n\t\t\t\t\tthis.title = this.formName+\"-添加\";\n\t    },\n\t    /** 修改按钮操作 */\n\t    handleUpdate(row) {\n\t\t\t\t\tthis.isAdd=false;\n\t      \tthis.reset();\n\t      \tconst id = row.id || this.ids\n\t      \tthis.addEditId = this.ids[0];\n\t      \tlet formDesignId = this.formDesignId;\n      \t\tthis.open = true;\n\t      \tthis.title = this.formName+\"-编辑\";\n\t      \tgetFormDetails(formDesignId,id).then(response => {\n\t\t\t\t\t\tlet lists = response.data.datas;\n\t      \t\tthis.form = {\n\t        \t\tlists2:lists\n\t        \t}\n\t\t\t\t\t\tthis.idd = response.data.id;\n\t\t\t\t\t\tlet lists2Length=this.form.lists2.filter(_=>{return _.fieldName==\"dept_track\"});\n\t\t\t\t\t\t// console.log(this.form.lists2,'form.lists2')\n\t      \t\tfor(let i=0;i<this.form.lists2.length;i++){\n\t\t\t\t\t\t\tthis.$set(this.form.lists2[i],\"val\", this.form.lists2[i].fieldValue )\n  \t\t\t\t\tif(this.form.lists2[i].fieldType==\"select\"){\n\t\t\t\t\t\t\t//指标详情数据\n\t\t\t\t\t\t\tif(this.form.lists2[i].fieldName==\"cs_target\"){\n\t\t\t\t\t\t\t\t\tthis.$set(this.form.lists2[i],\"val\", null )\n\t\t\t\t\t\t\t\tlet params={\n\t\t\t\t\t\t\t\t\t\t\tindexCode:this.form.lists2[i].indexCode,\n\t\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId  // 必传\n\t\t\t\t\t\t\t\t};\n\t\t\t\t\t\t\t\tlistDetail(params).then(response=>{\n\t\t\t\t\t\t\t\t\t\tif(response.code===200){\n\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.form.lists2[i], \"options\",response.rows );\n\t\t\t\t\t\t\t\t\t\t\tlet\ttargetValue=response.rows.filter(_=>{\n\t\t\t\t\t\t\t\t\t\t\t\tif(_.id==this.form.lists2[i].fieldValue || _.evaCont==this.form.lists2[i].fieldValue){\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn _\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t\t});\n\t\t\t\t\t\t\t\t\t\t\tthis.$set(this.form.lists2[i],\"val\", targetValue[0].evaCont )\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}else if(this.form.lists2[i].fieldName==\"cs_dept\"){\n\t\t\t\t\t\t\t\t//部门详情数据\n\t\t\t\t\t\t\t\t\tlet params= {\n\t\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\tgetDeptInfoForPms(params).then(res=>{\n\t\t\t\t\t\t\t\t\t\t\t\tif(res.code===200){\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.form.lists2[i], \"options\",res.data )\n\t\t\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t\t\t\t})\n\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\tthis.getDicts(this.form.lists2[i].dictType).then(response => {\n\t\t\t        \t\tthis.$set(this.form.lists2[i], \"options\", response.data )\n\t\t\t\t      \t});\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n  \t\t\t\t\tif(this.form.lists2[i].fieldType==\"radio\"){\n\t        \t\t\tthis.form.lists2[i].options = JSON.parse(this.form.lists2[i].options)\n\t        \t\t}\n  \t\t\t\t\tif(this.form.lists2[i].fieldType==\"checkbox\"){\n\t        \t\t\tthis.form.lists2[i].options = JSON.parse(this.form.lists2[i].options)\n\t        \t\t\tlet arr = this.form.lists2[i].fieldValue.split(',');\n\t        \t\t\tthis.$set(this.form.lists2[i],\"val\",arr)\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t//是科室跟踪时-编辑增加状态判断\n\t\t\t\t\t\t\tif(lists2Length.length!=0){\n\t\t\t\t\t\t\t\t\tlet guidance=this.form.lists2.find((_=>{return _.fieldName=='pms_guidance'}));\n\t\t\t\t\t\t\t\t\tlet resultPms=this.form.lists2.find((_=>{return _.fieldName=='pms_result'}));\n\t\t\t\t\t\t\t\t\t\tif(this.selectionRow[0].pms_state==\"1\"){\n\t\t\t\t\t\t\t\t\t\t\t\tguidance.isEdit=\"1\";\n\t\t\t\t\t\t\t\t\t\t\t\tresultPms.isEdit=\"0\";\n\t\t\t\t\t\t\t\t\t\t}else if(this.selectionRow[0].pms_state==\"2\" || this.selectionRow[0].pms_state==\"3\"){\n\t\t\t\t\t\t\t\t\t\t\t\tguidance.isEdit=\"1\"\n\t\t\t\t\t\t\t\t\t\t\t\tresultPms.isEdit=\"1\"\n\t\t\t\t\t\t\t\t\t\t}else{\n\t\t\t\t\t\t\t\t\t\t\tguidance.isEdit=\"0\";\n\t\t\t\t\t\t\t\t\t\t\tresultPms.isEdit=\"0\"\n\t\t\t\t\t\t\t\t\t\t}\n\t\t\t\t\t\t\t}\n\t\t\t\t\t\t}\n\t\t\t\t\t\t// console.log(this.selectionRow[0],'row')\n\t\t\t\t\t\t// console.log(this.form.lists2,'bianji')\n\t        \tthis.open = true;\n\t        \tthis.title = \"编辑\"+this.formName;\n\t      \t});\n\t    },\n\t    /** 提交按钮 */\n\t    submitForm() {\n        try {\n          let list = this.form.lists2;\n          // pms_state\n          // console.log(list,'list')\n          for (let i = 0; i < list.length; i++) {\n            this.form[list[i].fieldName] = list[i].val;\n          }\n          this.$set(this.form, \"formDesignId\", this.formDesignId)\n          this.$set(this.form, \"id\", this.idd)\n          this.$refs[\"form\"].validate(valid => {\n            if (valid) {\n              let form = JSON.parse(JSON.stringify(this.form))\n              delete form.lists2;\n              let bool = form.hasOwnProperty('dept_track');\n              if (bool && this.isAdd) {\n                form.pms_state = \"1\";\n                form.pms_result = null;\n                form.pms_guidance = null;\n              }\n              let saveLoading = this.saveLoading()\n              form.cs_score = form.cs_score ? form.cs_score * 1 : 0;\n              if (this.form.id != null) {\n                if (form.pms_guidance) {\n                  form.pms_state = \"2\"\n                }\n                if (form.pms_guidance && form.pms_result) {\n                  form.pms_state = \"3\"\n                }\n                //指标重新赋值为id\n                let formTarget = this.targetValue.filter(_ => {\n                  if (_.evaCont == form.cs_target || _.id == form.cs_target) {\n                    return _\n                  }\n                })\n                if(formTarget && formTarget.length > 0){\n                  form.cs_target = formTarget[0].id;\n                }\n                addSaveForm(form, this.formDesignId).then(response => {\n                  if (response.code == 200) {\n                    this.msgSuccess(\"编辑成功\");\n                    saveLoading.close();\n                    this.open = false;\n                  }\n                });\n              } else {\n                form.comp_code = this.$store.state.user.userInfo.deptId;\n                form.cs_score = form.cs_score + \"\";\n                // console.log(form)\n                addSaveForm(form, this.formDesignId).then(response => {\n                  if (response.code == 200) {\n                    this.msgSuccess(\"新增成功\");\n                    saveLoading.close();\n                    this.open = false;\n                  }\n                });\n              }\n            }\n          });\n        } catch (e) {\n          this.saveLoading().close();\n          this.$message({\n            showClose: true,\n            message: '出错了，请联系管理员',\n            type: 'error',\n            duration: 800\n          });\n        }\n\t\t\t},\n\t\t\t//查询设置保存\n\t\t\tsubmitFormSearchSet(){\n\t\t\t\tlet fdcList=[];\n\t\t\t\tfor(let i = 0; i < this.formDataList.length; i++) {\n\t\t\t\t\tlet tempArr1 = this.formDataList[i]\n\t\t\t\t\tfor(let j = 0; j < this.formDataList1.length; j++) {\n\t\t\t\t\t\tlet tempArr2 = this.formDataList1[j];\n\t\t\t\t\t\tif(tempArr2.id === tempArr1.id){\n\t\t\t\t\t\t\ttempArr1.queryType=tempArr2.queryType;\n\t\t\t\t\t\t\ttempArr1.queryDefault=tempArr2.queryDefault;\n\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfor(let k=0;k<this.formDataList2.length;k++){\n\t\t\t\t\t\t\tlet tempArr2 = this.formDataList2[k];\n\t\t\t\t\t\t\tif(tempArr2.id === tempArr1.id){\n\t\t\t\t\t\t\t\ttempArr1.soortType=tempArr2.soortType;\n\t\t\t\t\t\t\t\tbreak;\n\t\t\t\t\t\t}\n\t\t\t\t\t}\n\t\t\t\t\tfdcList.push(tempArr1)\n\t\t\t\t}\n\t\t\t\tlet saveLoading=this.saveLoading()\n\t\t\t\t\teditAddFormDesign({fdcList:fdcList}).then(response => {\n\t\t\t\t\t\tif(response.code===200){\n\t\t\t\t\t\t\tthis.msgSuccess(\"保存成功\");\n\t\t\t\t\t\t\tthis.cancelSearch();\n\t\t\t\t\t\t\tsaveLoading.close();\n\t\t\t\t\t\t}\n\t\t\t\t  })\n\t\t\t},\n\t\t\t//查询按钮操作\n\t\t\thandleSearch(){\n\t      let formDesignId = this.formDesignId;\n\t\t\t\tthis.getFormTableList();\n\t\t\t\tthis.searchTitle=\"动态表单/查询设置\";\n\t\t\t\tthis.open_search=true;\n\t\t\t},\n\t\t\t//关闭查询框\n\t\t\tcancelSearch(){\n\t\t\t\tthis.open_search=false;\n\t\t\t\tthis.getTable();\n\t\t\t},\n\t    /** 删除按钮操作 */\n\t    handleDelete(row) {\n\t      const ids = row.id || this.ids;\n\t      let formDesignId = this.formDesignId;\n\t      this.$confirm('是否确认删除自定义表单编号为\"' + ids + '\"的数据项?', \"警告\", {\n\t        confirmButtonText: \"确定\",\n\t        cancelButtonText: \"取消\",\n\t        type: \"warning\"\n\t      }).then(function() {\n\t        return delForm(formDesignId,ids);\n\t      }).then(() => {\n\t        this.getTable();\n\t        this.msgSuccess(\"删除成功\");\n\t      }).catch(() => {});\n\t    },\n    },\n}\n</script>\n\n<style lang=\"scss\" scoped>\n.lit-title{\n    font-size: 16px;\n    padding-bottom: 8px;\n\t\tmargin:20px 0;\n    border-bottom: 1px dashed #cccccc;\n}\n::v-deep{\n\t.el-dialog {\n\t\tmax-height: 80%;\n\t\toverflow: hidden;\n\t\t.el-dialog__body {\n\t\t\theight: calc(100% - 100px);\n\t\t\toverflow: auto;\n\t\t}\n\t}\n\t.el-table{\n\t\toverflow: hidden;\n\t}\n\t .el-table.search_table{\n\t\t\toverflow: hidden;\n\t\t}\n}\n.opt_tool_span{\n\tdisplay: block;\n\tmax-width:360px;\n\t// padding-right: 20px;\n\toverflow: hidden;\n\ttext-overflow: ellipsis;\n\twhite-space: nowrap;\n}\n</style>\n"]}]}
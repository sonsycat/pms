{"remainingRequest":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\system\\message\\addEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\system\\message\\addEdit.vue","mtime":1693362206489},{"path":"F:\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJGOi9wbXNfVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKdmFyIF9tZXNzYWdlID0gcmVxdWlyZSgiQC9hcGkvc3lzdGVtL21lc3NhZ2UiKTsKdmFyIF9FZGl0b3IgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvY29tcG9uZW50cy9FZGl0b3IiKSk7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAiYWRkRWRpdCIsCiAgcHJvcHM6IHsKICAgIG9wZW46IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpZDogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAiIgogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGlkOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5yZXNldCgpOwogICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgIHRoaXMuaWQgPSB2YWw7CiAgICAgICAgICB0aGlzLnRpdGxlID0gIua2iOaBr+euoeeQhi3nvJbovpEiOwogICAgICAgICAgdGhpcy5nZXREZXRhaWxJbmZvKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaWQgPSAiIjsKICAgICAgICAgIHRoaXMudGl0bGUgPSAi5raI5oGv566h55CGLeaWsOWiniI7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBvcGVuOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5vcGVuRGlhbG9nID0gdmFsOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBFZGl0b3I6IF9FZGl0b3IuZGVmYXVsdAogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAi5raI5oGv566h55CGLeaWsOWiniIsCiAgICAgIG9wZW5EaWFsb2c6IHRoaXMub3BlbiwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHt9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGV0YWlsSW5mbzogZnVuY3Rpb24gZ2V0RGV0YWlsSW5mbygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgKDAsIF9tZXNzYWdlLmdldE1lc3NhZ2UpKHRoaXMuaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIF90aGlzLmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvKiog5p+l6K+i5raI5oGv566h55CG5YiX6KGoICovZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICgwLCBfbWVzc2FnZS5saXN0TWVzc2FnZSkodGhpcy5xdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczIubWVzc2FnZUxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgIF90aGlzMi50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOW8ueahhuWFs+mXrQogICAgaGFuZGxlRGlhbG9nQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZURpYWxvZ0Nsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCJjYW5jZWwiLCBmYWxzZSk7CiAgICB9LAogICAgLy8g5Y+W5raICiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2FuY2VsIiwgZmFsc2UpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgdGl0bGU6IG51bGwsCiAgICAgICAgY29udGVudDogbnVsbCwKICAgICAgICBtc2dVcmw6IG51bGwsCiAgICAgICAgcmVjZWl2ZVVzZXJJZDogbnVsbCwKICAgICAgICBzZW5kVXNlcklkOiBudWxsLAogICAgICAgIHNlbmRUaW1lOiBudWxsLAogICAgICAgIGlzUmVhZDogbnVsbCwKICAgICAgICBjcmVhdGVCeTogbnVsbCwKICAgICAgICBjcmVhdGVUaW1lOiBudWxsLAogICAgICAgIHVwZGF0ZUJ5OiBudWxsLAogICAgICAgIHVwZGF0ZVRpbWU6IG51bGwsCiAgICAgICAgZGVsRmxhZzogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi9zdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzMy5mb3JtLmlkICE9IG51bGwpIHsKICAgICAgICAgICAgKDAsIF9tZXNzYWdlLnVwZGF0ZU1lc3NhZ2UpKF90aGlzMy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzMy5tc2dTdWNjZXNzKCLkv67mlLnmiJDlip8iKTsKICAgICAgICAgICAgICBfdGhpczMuJGVtaXQoInN1Y2Nlc3MiLCBmYWxzZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgKDAsIF9tZXNzYWdlLmFkZE1lc3NhZ2UpKF90aGlzMy5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzMy5tc2dTdWNjZXNzKCLmlrDlop7miJDlip8iKTsKICAgICAgICAgICAgICBfdGhpczMuJGVtaXQoInN1Y2Nlc3MiLCBmYWxzZSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;AA4CA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAD;MACAE;QACA;QACA;UACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAP;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAE;IACAC;EACA;EACAC;IACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC,QACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC;QACA;MACA;IACA;IACA,eACAC;MAAA;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACAnB;QACAQ;QACAY;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;IACA,WACAC;MAAA;MACA;QACA;UACA;YACA;cACA;cACA;YACA;UACA;YACA;cACA;cACA;YACA;UACA;QACA;MACA;IACA;EACA;AAAA;AAAA","names":["name","props","open","type","default","id","watch","handler","deep","immediate","components","Editor","data","title","openDialog","form","rules","created","methods","getDetailInfo","console","getList","handleDialogClose","cancel","reset","content","msgUrl","receiveUserId","sendUserId","sendTime","isRead","createBy","createTime","updateBy","updateTime","delFlag","submitForm"],"sourceRoot":"src/views/system/message","sources":["addEdit.vue"],"sourcesContent":["<template>\n    <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"700px\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDialogClose\">\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n        <el-form-item label=\"主键\" prop=\"id\">\n          <el-input v-model=\"form.id\" placeholder=\"请输入主键\" />\n        </el-form-item>\n        <el-form-item label=\"消息标题\" prop=\"title\">\n          <el-input v-model=\"form.title\" type=\"textarea\" placeholder=\"请输入内容\" />\n        </el-form-item>\n        <el-form-item label=\"消息内容\">\n          <editor v-model=\"form.content\" :min-height=\"192\"/>\n        </el-form-item>\n        <el-form-item label=\"消息访问路径\" prop=\"msgUrl\">\n          <el-input v-model=\"form.msgUrl\" placeholder=\"请输入消息访问路径\" />\n        </el-form-item>\n        <el-form-item label=\"接收用户id\" prop=\"receiveUserId\">\n          <el-input v-model=\"form.receiveUserId\" placeholder=\"请输入接收用户id\" />\n        </el-form-item>\n        <el-form-item label=\"发送用户id\" prop=\"sendUserId\">\n          <el-input v-model=\"form.sendUserId\" placeholder=\"请输入发送用户id\" />\n        </el-form-item>\n        <el-form-item label=\"发送时间\" prop=\"sendTime\">\n          <el-date-picker clearable size=\"small\"\n            v-model=\"form.sendTime\"\n            type=\"date\"\n            value-format=\"yyyy-MM-dd\"\n            placeholder=\"选择发送时间\">\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item label=\"是否已读：1-已读,0-未读\" prop=\"isRead\">\n          <el-input v-model=\"form.isRead\" placeholder=\"请输入是否已读：1-已读,0-未读\" />\n        </el-form-item>\n        <el-form-item label=\"是否已读：1-已读,0-未读\" prop=\"delFlag\">\n          <el-input v-model=\"form.delFlag\" placeholder=\"请输入是否已读：1-已读,0-未读\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n</template>\n\n<script>\nimport { listMessage, getMessage, delMessage, addMessage, updateMessage, exportMessage } from \"@/api/system/message\";\nimport Editor from '@/components/Editor';\n\nexport default {\n  name: \"addEdit\",\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: [String, Number],\n      default: \"\"\n    }\n  },\n  watch: {\n    id: {\n      handler(val) {\n        this.reset();\n        if (val) {\n          this.id = val;\n          this.title = \"消息管理-编辑\";\n          this.getDetailInfo();\n        } else {\n          this.id = \"\";\n          this.title = \"消息管理-新增\";\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    open: {\n      handler(val) {\n        this.openDialog = val;\n      },\n      deep: true\n    }\n  },\n  components: {\n    Editor,\n  },\n  data() {\n    return {\n      title: \"消息管理-新增\",\n      openDialog: this.open,\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n      }\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n  \tgetDetailInfo() {\n      getMessage(this.id).then(response => {\n        console.log(response);\n        this.form = response.data;\n      });\n    },\n    /** 查询消息管理列表 */\n    getList() {\n      this.loading = true;\n      listMessage(this.queryParams).then(response => {\n        this.messageList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n    // 弹框关闭\n    handleDialogClose() {\n      this.$emit(\"cancel\", false);\n    },\n    // 取消\n    cancel() {\n      this.$emit(\"cancel\", false);\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        title: null,\n        content: null,\n        msgUrl: null,\n        receiveUserId: null,\n        sendUserId: null,\n        sendTime: null,\n        isRead: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        delFlag: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          if (this.form.id != null) {\n            updateMessage(this.form).then(response => {\n              this.msgSuccess(\"修改成功\");\n              this.$emit(\"success\", false);\n            });\n          } else {\n            addMessage(this.form).then(response => {\n              this.msgSuccess(\"新增成功\");\n              this.$emit(\"success\", false);\n            });\n          }\n        }\n      });\n    },\n}};\n</script>\n"]}]}
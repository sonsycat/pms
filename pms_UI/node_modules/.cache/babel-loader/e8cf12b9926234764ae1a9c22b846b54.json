{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\thread-loader\\dist\\cjs.js!D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\views\\tool\\formProcess\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\tool\\formProcess\\index.vue","mtime":1682043106577},{"path":"D:\\hrp\\zjry-pms-ui\\babel.config.js","mtime":1682043101067},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\thread-loader\\dist\\cjs.js","mtime":1682058377329},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCgppbXBvcnQgeyBkZXBsb3lMaXN0LCBzYXZlRGVzaWduLCBnZXRGb3JtLCB0ZXN0Rm9ybSwgZ2V0Rm9ybURldGFpbHMsIGFkZFNhdmVGb3JtLCBkZWxGb3JtIH0gZnJvbSAnQC9hcGkvdXRpbHMnOwppbXBvcnQgeyBnZXREZXB0SW5mb0ZvclBtcywgZ2V0Rm9ybVRhYmxlTGlzdCBhcyBfZ2V0Rm9ybVRhYmxlTGlzdCwgZWRpdEFkZEZvcm1EZXNpZ24gfSBmcm9tICJAL2FwaS9mb3JtRGVzaWduL2Zvcm1EZXNpZ24iOwppbXBvcnQgeyBsaXN0RGV0YWlsIH0gZnJvbSAiQC9hcGkvcXVhbGl0eS9kZXRhaWwiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVIZWlnaHQ6ICdhdXRvJywKICAgICAgaXNBZGQ6IGZhbHNlLAogICAgICBpZGQ6IG51bGwsCiAgICAgIC8vIOS/ruaUuWlkCiAgICAgIGFkZEVkaXRJZDogIiIsCiAgICAgIGxpc3RzOiBbXSwKICAgICAgbGlzdHMyOiBbXSwKICAgICAgY29sczogW10sCiAgICAgIGpzb25EYXRhOiB7CiAgICAgICAgbGlzdDogW10KICAgICAgfSwKICAgICAgZm9ybURlc2lnbklkOiAiIiwKICAgICAgZm9ybU5hbWU6ICIiLAogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOWvvOWHuumBrue9qeWxggogICAgICBleHBvcnRMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIGlkczogW10sCiAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICBzaW5nbGU6IHRydWUsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g6Ieq5a6a5LmJ6KGo5Y2V6KGo5qC85pWw5o2uCiAgICAgIGZvcm1EZXNpZ25MaXN0OiBbXSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAiIiwKICAgICAgc2VhcmNoVGl0bGU6ICIiLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIG9wZW5fc2VhcmNoOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMzAKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHsKICAgICAgICBsaXN0czI6IFtdCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczoge30sCiAgICAgIHNlbGVjdGlvblJvdzogW10sCiAgICAgIHRhYmxlTG9hZGluZzogZmFsc2UsCiAgICAgIGZvcm1EYXRhTGlzdDogW10sCiAgICAgIGZvcm1EYXRhTGlzdDE6IFtdLAogICAgICBmb3JtRGF0YUxpc3QyOiBbXSwKICAgICAgbWJweFR5cGVPcHRpb25zOiBbXSwKICAgICAgcXVlcnlUeXBlT3B0aW9uczogW10sCiAgICAgIGlzUG1zR3VpZGFuY2U6IGZhbHNlLAogICAgICBpc1Btc1Jlc3VsdDogZmFsc2UsCiAgICAgIGlzQWRkU2hvdzogZmFsc2UsCiAgICAgIHRhcmdldFZhbHVlOiBbXSwKICAgICAgLy/mjIfmoIfmlbDmja4KICAgICAgaXRlbUFsaWduOiAnJwogICAgfTsKICB9LAogIGNvbXBvbmVudHM6IHt9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdGhpcy5nZXREaWN0cygicG1zX21icHhfdHlwZSIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLm1icHhUeXBlT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuZ2V0RGljdHMoInBtc19tYnN4X3RqIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMucXVlcnlUeXBlT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuZm9ybURlc2lnbklkID0gdGhpcy4kcm91dGUucXVlcnkuZm9ybURlc2lnbklkOwogICAgdGhpcy5mb3JtTmFtZSA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmZvcm1OYW1lOwogICAgLy8gY29uc29sZS5sb2coImZvcm1EZXNpZ25JZF9fX18iK3RoaXMuZm9ybURlc2lnbklkKTsKICAgIC8vIGNvbnNvbGUubG9nKCJmb3JtTmFtZV9fX18iK3RoaXMuZm9ybU5hbWUpOwogICAgdGhpcy5nZXRMaXN0KCk7CiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnJlc2l6ZUhhbmRsZXIoKTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIF90aGlzLnJlc2l6ZUhhbmRsZXIpOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgbGlzdERhdGE6IGZ1bmN0aW9uIGxpc3REYXRhKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnNpZGViYXIub3BlbmVkOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGxpc3REYXRhOiBmdW5jdGlvbiBsaXN0RGF0YSh2YWwpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGF0LnJlc2l6ZUhhbmRsZXIoKTsKICAgICAgfSwgMzAwKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNsaWNrVGFibGVOYW1lOiBmdW5jdGlvbiBoYW5kbGVDbGlja1RhYmxlTmFtZShkYXRhKSB7CiAgICAgIC8vIOmAieS4reW9k+WJjeihjAogICAgICB0aGlzLnJvd0NsaWNrKGRhdGEsIGZhbHNlKTsKICAgICAgdGhpcy5oYW5kbGVVcGRhdGUoZGF0YSk7CiAgICB9LAogICAgcmVzaXplSGFuZGxlcjogZnVuY3Rpb24gcmVzaXplSGFuZGxlcigpIHsKICAgICAgdmFyIGEgPSB0aGlzLiRyZWZzLmJ0bnMub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgYiA9IHRoaXMuJHJlZnMuc2VhcmNocy5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciBoID0gYSArIGIgKyAxOCArIDQ1ICsgODQgKyAzNjsKICAgICAgaCA9IGg7CiAgICAgIC8vIGBjYWxjKDEwMHZoIC0gJHtofSlgOwogICAgICB0aGlzLnRhYmxlSGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIGggKyAicHgiOwogICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnRhYmxlSGVpZ2h0KQogICAgfSwKICAgIHN0YXRlRm9ybWF0OiBmdW5jdGlvbiBzdGF0ZUZvcm1hdChyb3csIGNvbHVtbiwgY2VsbFZhbHVlKSB7CiAgICAgIHZhciBhcnIgPSB0aGlzLmxpc3RzOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChhcnJbaV0uZmllbGROYW1lID09IGNvbHVtbi5wcm9wZXJ0eSkgewogICAgICAgICAgaWYgKGFycltpXS5maWVsZE5hbWUgPT0gImNzX3RhcmdldCIpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdEluZGV4TGFiZWwoYXJyW2ldLm9wdGlvbnMsIGNlbGxWYWx1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwoYXJyW2ldLm9wdGlvbnMsIGNlbGxWYWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgLyoqIOafpeivouiHquWumuS5ieihqOWNleWIl+ihqCAqL2dldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICAvLyB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgZGF0YSA9IHsKICAgICAgICBmb3JtRGVzaWduSWQ6IHRoaXMuZm9ybURlc2lnbklkCiAgICAgIH07CiAgICAgIGRlcGxveUxpc3QoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAvLyBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgX3RoaXMyLmxpc3RzID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpczIubGlzdHMyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczIubGlzdHMpKTsKICAgICAgICBfdGhpczIuZm9ybSA9IHsKICAgICAgICAgIGxpc3RzMjogX3RoaXMyLmxpc3RzMgogICAgICAgIH07CiAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkgewogICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzW2ldLCBfdGhpczIubGlzdHNbaV0uZmllbGROYW1lLCBudWxsKTsKICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgInZhbCIsIG51bGwpOwogICAgICAgICAgaWYgKF90aGlzMi5saXN0c1tpXS5maWVsZFR5cGUgPT0gInNlbGVjdCIpIHsKICAgICAgICAgICAgaWYgKF90aGlzMi5saXN0c1tpXS5maWVsZE5hbWUgPT0gImNzX3RhcmdldCIpIHsKICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgaW5kZXhDb2RlOiBfdGhpczIubGlzdHNbaV0uaW5kZXhDb2RlLAogICAgICAgICAgICAgICAgY29tcENvZGU6IF90aGlzMi4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQgLy8g5b+F5LygCiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgbGlzdERldGFpbChwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgIm9wdGlvbnMiLCByZXNwb25zZS5yb3dzKTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnRhcmdldFZhbHVlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5yb3dzKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkTmFtZSA9PSAiY3NfZGVwdCIpIHsKICAgICAgICAgICAgICB2YXIgX3BhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGNvbXBDb2RlOiBfdGhpczIuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBnZXREZXB0SW5mb0ZvclBtcyhfcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgIm9wdGlvbnMiLCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMyLmdldERpY3RzKF90aGlzMi5saXN0c1tpXS5kaWN0VHlwZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgIm9wdGlvbnMiLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKF90aGlzMi5saXN0c1tpXS5maWVsZFR5cGUgPT0gInJhZGlvIikgewogICAgICAgICAgICBfdGhpczIubGlzdHNbaV0ub3B0aW9ucyA9IEpTT04ucGFyc2UoX3RoaXMyLmxpc3RzW2ldLm9wdGlvbnMpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKF90aGlzMi5saXN0c1tpXS5maWVsZFR5cGUgPT0gImNoZWNrYm94IikgewogICAgICAgICAgICBfdGhpczIubGlzdHNbaV0ub3B0aW9ucyA9IEpTT04ucGFyc2UoX3RoaXMyLmxpc3RzW2ldLm9wdGlvbnMpOwogICAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubGlzdHNbaV0sICJ2YWwiLCBbXSk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkVHlwZSA9PSAiZGF0ZSIgJiYgX3RoaXMyLmxpc3RzW2ldLnF1ZXJ5VHlwZSA9PSAiYmV0d2VlbiIpIHsKICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzW2ldLCAidmFsIiwgW21vbWVudCgpLnN0YXJ0T2YoJ21vbnRoJykuZm9ybWF0KCdZWVlZLU1NLUREJyksIG1vbWVudCgpLmVuZE9mKCdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzMi5saXN0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgX2xvb3AoaSk7CiAgICAgICAgfQogICAgICAgIHZhciBfbG9vcDIgPSBmdW5jdGlvbiBfbG9vcDIoX2kpIHsKICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0czJbX2ldLCBfdGhpczIubGlzdHMyW19pXS5maWVsZE5hbWUsIG51bGwpOwogICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzMltfaV0sICJ2YWwiLCBfdGhpczIubGlzdHMyW19pXS5kZWZhdWx0VmFsdWUpOwogICAgICAgICAgaWYgKF90aGlzMi5saXN0czJbX2ldLmZpZWxkVHlwZSA9PSAic2VsZWN0IikgewogICAgICAgICAgICBpZiAoX3RoaXMyLmxpc3RzMltfaV0uZmllbGROYW1lID09ICJjc190YXJnZXQiKSB7CiAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGluZGV4Q29kZTogX3RoaXMyLmxpc3RzMltfaV0uaW5kZXhDb2RlLAogICAgICAgICAgICAgICAgY29tcENvZGU6IF90aGlzMi4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQgLy/lv4XkvKAKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBsaXN0RGV0YWlsKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzMltfaV0sICJvcHRpb25zIiwgcmVzcG9uc2Uucm93cyk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmxpc3RzMltfaV0uZmllbGROYW1lID09ICJjc19kZXB0IikgewogICAgICAgICAgICAgIHZhciBfcGFyYW1zMiA9IHsKICAgICAgICAgICAgICAgIGNvbXBDb2RlOiBfdGhpczIuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBnZXREZXB0SW5mb0ZvclBtcyhfcGFyYW1zMikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubGlzdHMyW19pXSwgIm9wdGlvbnMiLCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMyLmdldERpY3RzKF90aGlzMi5saXN0czJbX2ldLmRpY3RUeXBlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzMltfaV0sICJvcHRpb25zIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczIubGlzdHMyW19pXS5maWVsZFR5cGUgPT0gInJhZGlvIikgewogICAgICAgICAgICBfdGhpczIubGlzdHMyW19pXS5vcHRpb25zID0gSlNPTi5wYXJzZShfdGhpczIubGlzdHMyW19pXS5vcHRpb25zKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczIubGlzdHMyW19pXS5maWVsZFR5cGUgPT0gImNoZWNrYm94IikgewogICAgICAgICAgICBfdGhpczIubGlzdHMyW19pXS5vcHRpb25zID0gSlNPTi5wYXJzZShfdGhpczIubGlzdHMyW19pXS5vcHRpb25zKTsKICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzMltfaV0sICJ2YWwiLCBbXSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgX3RoaXMyLmxpc3RzMi5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgIF9sb29wMihfaSk7CiAgICAgICAgfQogICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMubGlzdHMyLCd0aGlzLmxpc3RzMi0tLScpCiAgICAgICAgdmFyIGxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgIC8vIGNvbnNvbGUubG9nKGxpc3QsJ2xpc3QnKQogICAgICAgIHZhciBhcnIgPSBbXTsKICAgICAgICBmb3IgKHZhciBfaTIgPSAwOyBfaTIgPCBsaXN0Lmxlbmd0aDsgX2kyKyspIHsKICAgICAgICAgIHZhciBvYmogPSB7fTsKICAgICAgICAgIGlmIChsaXN0W19pMl0uZmllbGROYW1lICE9ICJwbXNfc3RhdGUiKSB7CiAgICAgICAgICAgIGlmIChsaXN0W19pMl0uZmllbGROYW1lICE9ICJkZXB0X3RyYWNrIikgewogICAgICAgICAgICAgIG9iai5sYWJlbCA9IGxpc3RbX2kyXS5maWVsZERlc2M7CiAgICAgICAgICAgICAgb2JqLnByb3AgPSBsaXN0W19pMl0uZmllbGROYW1lOwogICAgICAgICAgICAgIG9iai5pc0xpc3QgPSBsaXN0W19pMl0uaXNMaXN0OwogICAgICAgICAgICAgIG9iai5maWVsZFR5cGUgPSBsaXN0W19pMl0uZmllbGRUeXBlOwogICAgICAgICAgICAgIGlmIChsaXN0W19pMl0uZmllbGROYW1lID09ICdjc19zY29yZScpIHsKICAgICAgICAgICAgICAgIG9iai5kZWNpbWxEaWdpdCA9IGxpc3RbX2kyXS5kZWNpbWxEaWdpdDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKG9iai5wcm9wID09ICdjc19kYXRlJykgewogICAgICAgICAgICAgICAgb2JqLmFsaWduID0gJ2NlbnRlcic7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChvYmoucHJvcCA9PSAnY3Nfc2NvcmUnKSB7CiAgICAgICAgICAgICAgICBvYmouYWxpZ24gPSAncmlnaHQnOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBvYmouYWxpZ24gPSAnbGVmdCc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGFyci5wdXNoKG9iaik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgX3RoaXMyLmNvbHMgPSBhcnI7CiAgICAgICAgX3RoaXMyLmhhbmRsZVF1ZXJ5KCk7CiAgICAgICAgLy8gdGhpcy4kc2V0KCB0aGlzLnF1ZXJ5UGFyYW1zLCAiZm9ybURlc2lnbklkIiwgdGhpcy5mb3JtRGVzaWduSWQgKQogICAgICAgIC8vIAkJdGhpcy5nZXRUYWJsZSgpOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLmdldFRhYmxlKCk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuaWRkID0gbnVsbDsKICAgICAgdmFyIGxpc3RzMkxlbmd0aCA9IHRoaXMuZm9ybS5saXN0czIuZmlsdGVyKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgcmV0dXJuIF8uZmllbGROYW1lID09ICJkZXB0X3RyYWNrIjsKICAgICAgfSk7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5mb3JtLmxpc3RzMi5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuZm9ybS5saXN0czJbaV0udmFsID0gdGhpcy5mb3JtLmxpc3RzMltpXS5kZWZhdWx0VmFsdWU7CiAgICAgICAgaWYgKHRoaXMuZm9ybS5saXN0czJbaV0uZmllbGRUeXBlID09ICJjaGVja2JveCIpIHsKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0ubGlzdHMyW2ldLCAidmFsIiwgW10pOwogICAgICAgIH0KICAgICAgfQogICAgICBpZiAobGlzdHMyTGVuZ3RoLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgdmFyIGd1aWRhbmNlID0gdGhpcy5mb3JtLmxpc3RzMi5maW5kKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgICByZXR1cm4gXy5maWVsZE5hbWUgPT0gJ3Btc19ndWlkYW5jZSc7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIHJlc3VsdFBtcyA9IHRoaXMuZm9ybS5saXN0czIuZmluZChmdW5jdGlvbiAoXykgewogICAgICAgICAgcmV0dXJuIF8uZmllbGROYW1lID09ICdwbXNfcmVzdWx0JzsKICAgICAgICB9KTsKICAgICAgICBndWlkYW5jZS5pc0VkaXQgPSAiMCI7CiAgICAgICAgcmVzdWx0UG1zLmlzRWRpdCA9ICIwIjsKICAgICAgICBndWlkYW5jZS5maWVsZFZhbHVlID0gbnVsbDsKICAgICAgICByZXN1bHRQbXMuZmllbGRWYWx1ZSA9IG51bGw7CiAgICAgIH0KICAgICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtLmxpc3RzMiwncmVzZXQnKQogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi9oYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHZhciBsaXN0ID0gdGhpcy5saXN0czsKICAgICAgdmFyIGRhdGEgPSB7fTsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtc1tsaXN0W2ldLmZpZWxkTmFtZV0gPSBsaXN0W2ldLnZhbDsKICAgICAgfQogICAgICB0aGlzLiRzZXQodGhpcy5xdWVyeVBhcmFtcywgImZvcm1EZXNpZ25JZCIsIHRoaXMuZm9ybURlc2lnbklkKTsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlU2l6ZSA9IDMwOwogICAgICB0aGlzLmdldFRhYmxlKCk7CiAgICB9LAogICAgLy/ooajmoLzmlbDmja4KICAgIGdldFRhYmxlOiBmdW5jdGlvbiBnZXRUYWJsZSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIHRoaXMuJHNldCh0aGlzLnF1ZXJ5UGFyYW1zLCAiZm9ybURlc2lnbklkIiwgdGhpcy5mb3JtRGVzaWduSWQpOwogICAgICB0aGlzLiRzZXQodGhpcy5xdWVyeVBhcmFtcywgImNvbXBfY29kZSIsIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkKTsKICAgICAgdGVzdEZvcm0odGhpcy5xdWVyeVBhcmFtcywgdGhpcy5mb3JtRGVzaWduSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgLy8gY29uc29sZS5sb2cocmVzcG9uc2UsJ3JlcycpOwogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgX3RoaXMzLmZvcm1EZXNpZ25MaXN0ID0gcmVzcG9uc2Uucm93czsKICAgICAgICAgIF90aGlzMy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v5p+l6K+i6K6+572uLeihqOagvOWIl+ihqOaVsOaNrgogICAgZ2V0Rm9ybVRhYmxlTGlzdDogZnVuY3Rpb24gZ2V0Rm9ybVRhYmxlTGlzdCgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMudGFibGVMb2FkaW5nID0gdHJ1ZTsKICAgICAgX2dldEZvcm1UYWJsZUxpc3QoewogICAgICAgIGZvcm1EZXNpZ25JZDogdGhpcy5mb3JtRGVzaWduSWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczQuZm9ybURhdGFMaXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICBfdGhpczQuZm9ybURhdGFMaXN0MSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZSkgewogICAgICAgICAgICByZXR1cm4gaXRlLmlzUXVlcnkgPT0gMSAmJiBpdGUuaXNMaXN0UXVlcnkgPT0gMTsKICAgICAgICAgIH0pKSk7CiAgICAgICAgICBfdGhpczQuZm9ybURhdGFMaXN0MiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5maWx0ZXIoZnVuY3Rpb24gKGl0ZSkgewogICAgICAgICAgICByZXR1cm4gaXRlLmlzU29ydCA9PSAxOwogICAgICAgICAgfSkpKTsKICAgICAgICAgIF90aGlzNC50YWJsZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi9yZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB2YXIgbGlzdCA9IHRoaXMubGlzdHM7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgIGxpc3RbaV0udmFsID0gbnVsbDsKICAgICAgICBpZiAobGlzdFtpXS5maWVsZFR5cGUgPT0gImNoZWNrYm94IikgewogICAgICAgICAgdGhpcy4kc2V0KGxpc3RbaV0sICJ2YWwiLCBbXSk7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICAvLyBjb25zb2xlLmxvZyhzZWxlY3Rpb24pCiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkOwogICAgICB9KTsKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCAhPT0gMCAmJiBzZWxlY3Rpb25bMF0ucG1zX3N0YXRlICYmIHNlbGVjdGlvbi5sZW5ndGggPT0gMSkgewogICAgICAgIHRoaXMubXVsdGlwbGUgPSBzZWxlY3Rpb25bMF0ucG1zX3N0YXRlICE9PSAiMSI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tdWx0aXBsZSA9IHNlbGVjdGlvbi5sZW5ndGggIT09IDE7CiAgICAgIH0KICAgICAgdGhpcy5zZWxlY3Rpb25Sb3cgPSBzZWxlY3Rpb247CiAgICB9LAogICAgcm93Q2xpY2s6IGZ1bmN0aW9uIHJvd0NsaWNrKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICB2YXIgcmVmc0VsVGFibGUgPSB0aGlzLiRyZWZzLm11bHRpcGxlVGFibGU7CiAgICAgIHZhciBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLnJvd0luZGV4ID09IHJvdy5yb3dJbmRleDsKICAgICAgfSk7CiAgICAgIC8vIGlmIChmaW5kUm93ICYmIHRoaXMuc2VsZWN0aW9uUm93Lmxlbmd0aCA9PSAxKSB7CiAgICAgIC8vICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOwogICAgICAvLyAgIHJldHVybjsKICAgICAgLy8gfQogICAgICByZWZzRWxUYWJsZS5jbGVhclNlbGVjdGlvbigpOwogICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93KTsKICAgIH0sCiAgICByb3dTdHlsZTogZnVuY3Rpb24gcm93U3R5bGUoX3JlZikgewogICAgICB2YXIgcm93ID0gX3JlZi5yb3csCiAgICAgICAgcm93SW5kZXggPSBfcmVmLnJvd0luZGV4OwogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm93LCAncm93SW5kZXgnLCB7CiAgICAgICAgdmFsdWU6IHJvd0luZGV4LAogICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICAgIH0pOwogICAgfSwKICAgIHJvd0NsYXNzTmFtZTogZnVuY3Rpb24gcm93Q2xhc3NOYW1lKF9yZWYyKSB7CiAgICAgIHZhciByb3cgPSBfcmVmMi5yb3csCiAgICAgICAgcm93SW5kZXggPSBfcmVmMi5yb3dJbmRleDsKICAgICAgdmFyIHJvd05hbWUgPSAiIiwKICAgICAgICBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMucm93SW5kZXggPT09IHJvdy5yb3dJbmRleDsKICAgICAgICB9KTsKICAgICAgaWYgKGZpbmRSb3cpIHsKICAgICAgICByb3dOYW1lID0gImN1cnJlbnQtcm93ICI7CiAgICAgIH0KICAgICAgcmV0dXJuIHJvd05hbWU7CiAgICB9LAogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqL2hhbmRsZUFkZDogZnVuY3Rpb24gaGFuZGxlQWRkKCkgewogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMuYWRkRWRpdElkID0gIiI7CiAgICAgIHRoaXMuaXNBZGQgPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gdGhpcy5mb3JtTmFtZSArICIt5re75YqgIjsKICAgIH0sCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovaGFuZGxlVXBkYXRlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB0aGlzLmlzQWRkID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgdmFyIGlkID0gcm93LmlkIHx8IHRoaXMuaWRzOwogICAgICB0aGlzLmFkZEVkaXRJZCA9IHRoaXMuaWRzWzBdOwogICAgICB2YXIgZm9ybURlc2lnbklkID0gdGhpcy5mb3JtRGVzaWduSWQ7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMudGl0bGUgPSB0aGlzLmZvcm1OYW1lICsgIi3nvJbovpEiOwogICAgICBnZXRGb3JtRGV0YWlscyhmb3JtRGVzaWduSWQsIGlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIHZhciBsaXN0cyA9IHJlc3BvbnNlLmRhdGEuZGF0YXM7CiAgICAgICAgX3RoaXM1LmZvcm0gPSB7CiAgICAgICAgICBsaXN0czI6IGxpc3RzCiAgICAgICAgfTsKICAgICAgICBfdGhpczUuaWRkID0gcmVzcG9uc2UuZGF0YS5pZDsKICAgICAgICB2YXIgbGlzdHMyTGVuZ3RoID0gX3RoaXM1LmZvcm0ubGlzdHMyLmZpbHRlcihmdW5jdGlvbiAoXykgewogICAgICAgICAgcmV0dXJuIF8uZmllbGROYW1lID09ICJkZXB0X3RyYWNrIjsKICAgICAgICB9KTsKICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLmZvcm0ubGlzdHMyLCdmb3JtLmxpc3RzMicpCiAgICAgICAgdmFyIF9sb29wMyA9IGZ1bmN0aW9uIF9sb29wMyhpKSB7CiAgICAgICAgICBfdGhpczUuJHNldChfdGhpczUuZm9ybS5saXN0czJbaV0sICJ2YWwiLCBfdGhpczUuZm9ybS5saXN0czJbaV0uZmllbGRWYWx1ZSk7CiAgICAgICAgICBpZiAoX3RoaXM1LmZvcm0ubGlzdHMyW2ldLmZpZWxkVHlwZSA9PSAic2VsZWN0IikgewogICAgICAgICAgICAvL+aMh+agh+ivpuaDheaVsOaNrgogICAgICAgICAgICBpZiAoX3RoaXM1LmZvcm0ubGlzdHMyW2ldLmZpZWxkTmFtZSA9PSAiY3NfdGFyZ2V0IikgewogICAgICAgICAgICAgIF90aGlzNS4kc2V0KF90aGlzNS5mb3JtLmxpc3RzMltpXSwgInZhbCIsIG51bGwpOwogICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICBpbmRleENvZGU6IF90aGlzNS5mb3JtLmxpc3RzMltpXS5pbmRleENvZGUsCiAgICAgICAgICAgICAgICBjb21wQ29kZTogX3RoaXM1LiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZCAvLyDlv4XkvKAKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICBsaXN0RGV0YWlsKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXM1LiRzZXQoX3RoaXM1LmZvcm0ubGlzdHMyW2ldLCAib3B0aW9ucyIsIHJlc3BvbnNlLnJvd3MpOwogICAgICAgICAgICAgICAgICB2YXIgdGFyZ2V0VmFsdWUgPSByZXNwb25zZS5yb3dzLmZpbHRlcihmdW5jdGlvbiAoXykgewogICAgICAgICAgICAgICAgICAgIGlmIChfLmlkID09IF90aGlzNS5mb3JtLmxpc3RzMltpXS5maWVsZFZhbHVlIHx8IF8uZXZhQ29udCA9PSBfdGhpczUuZm9ybS5saXN0czJbaV0uZmllbGRWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIF87CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICAgICAgX3RoaXM1LiRzZXQoX3RoaXM1LmZvcm0ubGlzdHMyW2ldLCAidmFsIiwgdGFyZ2V0VmFsdWVbMF0uZXZhQ29udCk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXM1LmZvcm0ubGlzdHMyW2ldLmZpZWxkTmFtZSA9PSAiY3NfZGVwdCIpIHsKICAgICAgICAgICAgICAvL+mDqOmXqOivpuaDheaVsOaNrgogICAgICAgICAgICAgIHZhciBfcGFyYW1zMyA9IHsKICAgICAgICAgICAgICAgIGNvbXBDb2RlOiBfdGhpczUuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICBnZXREZXB0SW5mb0ZvclBtcyhfcGFyYW1zMykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczUuJHNldChfdGhpczUuZm9ybS5saXN0czJbaV0sICJvcHRpb25zIiwgcmVzLmRhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzNS5nZXREaWN0cyhfdGhpczUuZm9ybS5saXN0czJbaV0uZGljdFR5cGUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczUuJHNldChfdGhpczUuZm9ybS5saXN0czJbaV0sICJvcHRpb25zIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczUuZm9ybS5saXN0czJbaV0uZmllbGRUeXBlID09ICJyYWRpbyIpIHsKICAgICAgICAgICAgX3RoaXM1LmZvcm0ubGlzdHMyW2ldLm9wdGlvbnMgPSBKU09OLnBhcnNlKF90aGlzNS5mb3JtLmxpc3RzMltpXS5vcHRpb25zKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczUuZm9ybS5saXN0czJbaV0uZmllbGRUeXBlID09ICJjaGVja2JveCIpIHsKICAgICAgICAgICAgX3RoaXM1LmZvcm0ubGlzdHMyW2ldLm9wdGlvbnMgPSBKU09OLnBhcnNlKF90aGlzNS5mb3JtLmxpc3RzMltpXS5vcHRpb25zKTsKICAgICAgICAgICAgdmFyIGFyciA9IF90aGlzNS5mb3JtLmxpc3RzMltpXS5maWVsZFZhbHVlLnNwbGl0KCcsJyk7CiAgICAgICAgICAgIF90aGlzNS4kc2V0KF90aGlzNS5mb3JtLmxpc3RzMltpXSwgInZhbCIsIGFycik7CiAgICAgICAgICB9CiAgICAgICAgICAvL+aYr+enkeWupOi3n+i4quaXti3nvJbovpHlop7liqDnirbmgIHliKTmlq0KICAgICAgICAgIGlmIChsaXN0czJMZW5ndGgubGVuZ3RoICE9IDApIHsKICAgICAgICAgICAgdmFyIGd1aWRhbmNlID0gX3RoaXM1LmZvcm0ubGlzdHMyLmZpbmQoZnVuY3Rpb24gKF8pIHsKICAgICAgICAgICAgICByZXR1cm4gXy5maWVsZE5hbWUgPT0gJ3Btc19ndWlkYW5jZSc7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICB2YXIgcmVzdWx0UG1zID0gX3RoaXM1LmZvcm0ubGlzdHMyLmZpbmQoZnVuY3Rpb24gKF8pIHsKICAgICAgICAgICAgICByZXR1cm4gXy5maWVsZE5hbWUgPT0gJ3Btc19yZXN1bHQnOwogICAgICAgICAgICB9KTsKICAgICAgICAgICAgaWYgKF90aGlzNS5zZWxlY3Rpb25Sb3dbMF0ucG1zX3N0YXRlID09ICIxIikgewogICAgICAgICAgICAgIGd1aWRhbmNlLmlzRWRpdCA9ICIxIjsKICAgICAgICAgICAgICByZXN1bHRQbXMuaXNFZGl0ID0gIjAiOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzNS5zZWxlY3Rpb25Sb3dbMF0ucG1zX3N0YXRlID09ICIyIiB8fCBfdGhpczUuc2VsZWN0aW9uUm93WzBdLnBtc19zdGF0ZSA9PSAiMyIpIHsKICAgICAgICAgICAgICBndWlkYW5jZS5pc0VkaXQgPSAiMSI7CiAgICAgICAgICAgICAgcmVzdWx0UG1zLmlzRWRpdCA9ICIxIjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBndWlkYW5jZS5pc0VkaXQgPSAiMCI7CiAgICAgICAgICAgICAgcmVzdWx0UG1zLmlzRWRpdCA9ICIwIjsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczUuZm9ybS5saXN0czIubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIF9sb29wMyhpKTsKICAgICAgICB9CiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5zZWxlY3Rpb25Sb3dbMF0sJ3JvdycpCiAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5mb3JtLmxpc3RzMiwnYmlhbmppJykKICAgICAgICBfdGhpczUub3BlbiA9IHRydWU7CiAgICAgICAgX3RoaXM1LnRpdGxlID0gIue8lui+kSIgKyBfdGhpczUuZm9ybU5hbWU7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi9zdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgdHJ5IHsKICAgICAgICB2YXIgbGlzdCA9IHRoaXMuZm9ybS5saXN0czI7CiAgICAgICAgLy8gcG1zX3N0YXRlCiAgICAgICAgLy8gY29uc29sZS5sb2cobGlzdCwnbGlzdCcpCiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICB0aGlzLmZvcm1bbGlzdFtpXS5maWVsZE5hbWVdID0gbGlzdFtpXS52YWw7CiAgICAgICAgfQogICAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0sICJmb3JtRGVzaWduSWQiLCB0aGlzLmZvcm1EZXNpZ25JZCk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybSwgImlkIiwgdGhpcy5pZGQpOwogICAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICB2YXIgZm9ybSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXM2LmZvcm0pKTsKICAgICAgICAgICAgZGVsZXRlIGZvcm0ubGlzdHMyOwogICAgICAgICAgICB2YXIgYm9vbCA9IGZvcm0uaGFzT3duUHJvcGVydHkoJ2RlcHRfdHJhY2snKTsKICAgICAgICAgICAgaWYgKGJvb2wgJiYgX3RoaXM2LmlzQWRkKSB7CiAgICAgICAgICAgICAgZm9ybS5wbXNfc3RhdGUgPSAiMSI7CiAgICAgICAgICAgICAgZm9ybS5wbXNfcmVzdWx0ID0gbnVsbDsKICAgICAgICAgICAgICBmb3JtLnBtc19ndWlkYW5jZSA9IG51bGw7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgdmFyIHNhdmVMb2FkaW5nID0gX3RoaXM2LnNhdmVMb2FkaW5nKCk7CiAgICAgICAgICAgIGZvcm0uY3Nfc2NvcmUgPSBmb3JtLmNzX3Njb3JlID8gZm9ybS5jc19zY29yZSAqIDEgOiAwOwogICAgICAgICAgICBpZiAoX3RoaXM2LmZvcm0uaWQgIT0gbnVsbCkgewogICAgICAgICAgICAgIGlmIChmb3JtLnBtc19ndWlkYW5jZSkgewogICAgICAgICAgICAgICAgZm9ybS5wbXNfc3RhdGUgPSAiMiI7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChmb3JtLnBtc19ndWlkYW5jZSAmJiBmb3JtLnBtc19yZXN1bHQpIHsKICAgICAgICAgICAgICAgIGZvcm0ucG1zX3N0YXRlID0gIjMiOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAvL+aMh+agh+mHjeaWsOi1i+WAvOS4umlkCiAgICAgICAgICAgICAgdmFyIGZvcm1UYXJnZXQgPSBfdGhpczYudGFyZ2V0VmFsdWUuZmlsdGVyKGZ1bmN0aW9uIChfKSB7CiAgICAgICAgICAgICAgICBpZiAoXy5ldmFDb250ID09IGZvcm0uY3NfdGFyZ2V0IHx8IF8uaWQgPT0gZm9ybS5jc190YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgcmV0dXJuIF87CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgaWYgKGZvcm1UYXJnZXQgJiYgZm9ybVRhcmdldC5sZW5ndGggPiAwKSB7CiAgICAgICAgICAgICAgICBmb3JtLmNzX3RhcmdldCA9IGZvcm1UYXJnZXRbMF0uaWQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGFkZFNhdmVGb3JtKGZvcm0sIF90aGlzNi5mb3JtRGVzaWduSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXM2Lm1zZ1N1Y2Nlc3MoIue8lui+keaIkOWKnyIpOwogICAgICAgICAgICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgICBfdGhpczYub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIGZvcm0uY29tcF9jb2RlID0gX3RoaXM2LiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZDsKICAgICAgICAgICAgICBmb3JtLmNzX3Njb3JlID0gZm9ybS5jc19zY29yZSArICIiOwogICAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGZvcm0pCiAgICAgICAgICAgICAgYWRkU2F2ZUZvcm0oZm9ybSwgX3RoaXM2LmZvcm1EZXNpZ25JZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczYubXNnU3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7CiAgICAgICAgICAgICAgICAgIHNhdmVMb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5vcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgIHRoaXMuc2F2ZUxvYWRpbmcoKS5jbG9zZSgpOwogICAgICAgIHRoaXMuJG1lc3NhZ2UoewogICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+WHuumUmeS6hu+8jOivt+iBlOezu+euoeeQhuWRmCcsCiAgICAgICAgICB0eXBlOiAnZXJyb3InLAogICAgICAgICAgZHVyYXRpb246IDgwMAogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy/mn6Xor6Lorr7nva7kv53lrZgKICAgIHN1Ym1pdEZvcm1TZWFyY2hTZXQ6IGZ1bmN0aW9uIHN1Ym1pdEZvcm1TZWFyY2hTZXQoKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICB2YXIgZmRjTGlzdCA9IFtdOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHRoaXMuZm9ybURhdGFMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIHRlbXBBcnIxID0gdGhpcy5mb3JtRGF0YUxpc3RbaV07CiAgICAgICAgZm9yICh2YXIgaiA9IDA7IGogPCB0aGlzLmZvcm1EYXRhTGlzdDEubGVuZ3RoOyBqKyspIHsKICAgICAgICAgIHZhciB0ZW1wQXJyMiA9IHRoaXMuZm9ybURhdGFMaXN0MVtqXTsKICAgICAgICAgIGlmICh0ZW1wQXJyMi5pZCA9PT0gdGVtcEFycjEuaWQpIHsKICAgICAgICAgICAgdGVtcEFycjEucXVlcnlUeXBlID0gdGVtcEFycjIucXVlcnlUeXBlOwogICAgICAgICAgICB0ZW1wQXJyMS5xdWVyeURlZmF1bHQgPSB0ZW1wQXJyMi5xdWVyeURlZmF1bHQ7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IHRoaXMuZm9ybURhdGFMaXN0Mi5sZW5ndGg7IGsrKykgewogICAgICAgICAgdmFyIF90ZW1wQXJyID0gdGhpcy5mb3JtRGF0YUxpc3QyW2tdOwogICAgICAgICAgaWYgKF90ZW1wQXJyLmlkID09PSB0ZW1wQXJyMS5pZCkgewogICAgICAgICAgICB0ZW1wQXJyMS5zb29ydFR5cGUgPSBfdGVtcEFyci5zb29ydFR5cGU7CiAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBmZGNMaXN0LnB1c2godGVtcEFycjEpOwogICAgICB9CiAgICAgIHZhciBzYXZlTG9hZGluZyA9IHRoaXMuc2F2ZUxvYWRpbmcoKTsKICAgICAgZWRpdEFkZEZvcm1EZXNpZ24oewogICAgICAgIGZkY0xpc3Q6IGZkY0xpc3QKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczcubXNnU3VjY2Vzcygi5L+d5a2Y5oiQ5YqfIik7CiAgICAgICAgICBfdGhpczcuY2FuY2VsU2VhcmNoKCk7CiAgICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy/mn6Xor6LmjInpkq7mk43kvZwKICAgIGhhbmRsZVNlYXJjaDogZnVuY3Rpb24gaGFuZGxlU2VhcmNoKCkgewogICAgICB2YXIgZm9ybURlc2lnbklkID0gdGhpcy5mb3JtRGVzaWduSWQ7CiAgICAgIHRoaXMuZ2V0Rm9ybVRhYmxlTGlzdCgpOwogICAgICB0aGlzLnNlYXJjaFRpdGxlID0gIuWKqOaAgeihqOWNlS/mn6Xor6Lorr7nva4iOwogICAgICB0aGlzLm9wZW5fc2VhcmNoID0gdHJ1ZTsKICAgIH0sCiAgICAvL+WFs+mXreafpeivouahhgogICAgY2FuY2VsU2VhcmNoOiBmdW5jdGlvbiBjYW5jZWxTZWFyY2goKSB7CiAgICAgIHRoaXMub3Blbl9zZWFyY2ggPSBmYWxzZTsKICAgICAgdGhpcy5nZXRUYWJsZSgpOwogICAgfSwKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi9oYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzOCA9IHRoaXM7CiAgICAgIHZhciBpZHMgPSByb3cuaWQgfHwgdGhpcy5pZHM7CiAgICAgIHZhciBmb3JtRGVzaWduSWQgPSB0aGlzLmZvcm1EZXNpZ25JZDsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk6Ieq5a6a5LmJ6KGo5Y2V57yW5Y+35Li6IicgKyBpZHMgKyAnIueahOaVsOaNrumhuT8nLCAi6K2m5ZGKIiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuIGRlbEZvcm0oZm9ybURlc2lnbklkLCBpZHMpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczguZ2V0VGFibGUoKTsKICAgICAgICBfdGhpczgubXNnU3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0KICB9Cn07"},null]}
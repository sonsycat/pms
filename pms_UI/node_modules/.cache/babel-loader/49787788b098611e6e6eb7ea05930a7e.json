{"remainingRequest":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\oracle_java\\pms (2)\\pms_UI\\src\\views\\workload\\workload\\addEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\src\\views\\workload\\workload\\addEdit.vue","mtime":1693362206000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\babel.config.js","mtime":1693361824000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9Xb3JrL29yYWNsZV9qYXZhL3BtcyAoMikvcG1zX1VJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLnRlc3QuanMiKTsKdmFyIF93b3JrbG9hZCA9IHJlcXVpcmUoIkAvYXBpL3dvcmtsb2FkL3dvcmtsb2FkIik7CnZhciBfdHlwZSA9IHJlcXVpcmUoIkAvYXBpL3dvcmtsb2FkL3R5cGUiKTsKdmFyIF9qc1BpbnlpbiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgianMtcGlueWluIikpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ2FkZEVkaXQnLAogIHByb3BzOiB7CiAgICBvcGVuOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaWQ6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgZGVmYXVsdDogJycKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBpZDogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICB0aGlzLmlkID0gdmFsOwogICAgICAgICAgdGhpcy50aXRsZSA9ICflt6XkvZzph4/nrqHnkIYt57yW6L6RJzsKICAgICAgICAgIHRoaXMuZ2V0RGV0YWlsSW5mbygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmlkID0gJyc7CiAgICAgICAgICB0aGlzLnRpdGxlID0gJ+W3peS9nOmHj+euoeeQhi3mlrDlop4nOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgb3BlbjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMub3BlbkRpYWxvZyA9IHZhbDsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgY29tcG9uZW50czoge30sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAn5bel5L2c6YeP566h55CGLeaWsOWinicsCiAgICAgIG9wZW5EaWFsb2c6IHRoaXMub3BlbiwKICAgICAgdHlwZUxpc3Q6IFtdLAogICAgICBzYXZlTG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgd29ya2xvYWREYXRlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5bm05pyIJywKICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgIH1dLAogICAgICAgIHByb2plY3RDb2RlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6aG555uu57yW56CBJywKICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgIH1dLAogICAgICAgIHByb2plY3ROYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6aG555uu5ZCN56ewJywKICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgIH1dLAogICAgICAgIHR5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfnsbvlnosnLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfV0sCiAgICAgICAgaG9zcGl0YWxQb2ludHM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfkvY/pmaLnp6/liIYnLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfV0sCiAgICAgICAgb3V0cGF0aWVudFBvaW50czogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+mXqOiviicsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9XQogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAoMCwgX3R5cGUubGlzdFR5cGUpKG51bGwpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnR5cGVMaXN0ID0gcmVzcG9uc2Uucm93czsKICAgIH0pOwogICAgdGhpcy5nZXRMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREZXRhaWxJbmZvOiBmdW5jdGlvbiBnZXREZXRhaWxJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgKDAsIF93b3JrbG9hZC5nZXRXb3JrbG9hZCkodGhpcy5pZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgX3RoaXMyLmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvKiog5p+l6K+i5bel5L2c6YeP5YiX6KGoICovZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICgwLCBfd29ya2xvYWQubGlzdFdvcmtsb2FkKSh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy53b3JrbG9hZExpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgIF90aGlzMy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgIF90aGlzMy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOW8ueahhuWFs+mXrQogICAgaGFuZGxlRGlhbG9nQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZURpYWxvZ0Nsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnLCBmYWxzZSk7CiAgICB9LAogICAgLy8g5Y+W5raICiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJywgZmFsc2UpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgY29tcENvZGU6IG51bGwsCiAgICAgICAgYWNjb3VudENvZGU6IG51bGwsCiAgICAgICAgcHJvamVjdENvZGU6IG51bGwsCiAgICAgICAgcHJvamVjdE5hbWU6IG51bGwsCiAgICAgICAgdHlwZTogbnVsbCwKICAgICAgICBzcGVsbDogbnVsbCwKICAgICAgICBob3NwaXRhbFBvaW50czogbnVsbCwKICAgICAgICBvdXRwYXRpZW50UG9pbnRzOiBudWxsLAogICAgICAgIGRlbEZsYWc6IG51bGwsCiAgICAgICAgY3JlYXRlQnk6IG51bGwsCiAgICAgICAgY3JlYXRlVGltZTogbnVsbCwKICAgICAgICB1cGRhdGVCeTogbnVsbCwKICAgICAgICB1cGRhdGVUaW1lOiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbCwKICAgICAgICB3b3JrbG9hZERhdGU6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oJ2Zvcm0nKTsKICAgIH0sCiAgICBnZXRQeW06IGZ1bmN0aW9uIGdldFB5bSgpIHsKICAgICAgLy8g5YWo5piv5a2X5q+N55qE5oOF5Ya15LiLLOaLvOmfs+eggeetieS6juaJgOacieWtl+avjQogICAgICBpZiAoL15bYS16QS1aXSokLy50ZXN0KHRoaXMuZm9ybS5wcm9qZWN0TmFtZSkpIHsKICAgICAgICB0aGlzLmZvcm0uc3BlbGwgPSB0aGlzLmZvcm0ucHJvamVjdE5hbWU7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIC8vIOacieaxieWtl+eahOaDheWGteS4iyzovazkuLrpppblrZfmr40KICAgICAgdmFyIGZ1bGxOYW1lID0gX2pzUGlueWluLmRlZmF1bHQuZ2V0Q2FtZWxDaGFycyh0aGlzLmZvcm0ucHJvamVjdE5hbWUpLnRvVXBwZXJDYXNlKCk7CiAgICAgIHZhciBweW0gPSAnJzsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBmdWxsTmFtZS5sZW5ndGg7IGkrKykgewogICAgICAgIHZhciBjID0gZnVsbE5hbWUuY2hhckF0KGkpOwogICAgICAgIGlmICgvXltBLVpdKyQvLnRlc3QoYykpIHsKICAgICAgICAgIHB5bSArPSBjOwogICAgICAgIH0KICAgICAgfQogICAgICB0aGlzLmZvcm0uc3BlbGwgPSBweW07CiAgICB9LAogICAgLyoqIOaPkOS6pOaMiemSriAqL3N1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWydmb3JtJ10udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBfdGhpczQuc2F2ZUxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgaWYgKF90aGlzNC5mb3JtLmlkICE9IG51bGwpIHsKICAgICAgICAgICAgKDAsIF93b3JrbG9hZC51cGRhdGVXb3JrbG9hZCkoX3RoaXM0LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgX3RoaXM0Lm1zZ1N1Y2Nlc3MoJ+S/ruaUueaIkOWKnycpOwogICAgICAgICAgICAgIF90aGlzNC4kZW1pdCgnc3VjY2VzcycsIGZhbHNlKTsKICAgICAgICAgICAgICBfdGhpczQuc2F2ZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgIF90aGlzNC5zYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICgwLCBfd29ya2xvYWQuYWRkV29ya2xvYWQpKF90aGlzNC5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzNC5tc2dTdWNjZXNzKCfmlrDlop7miJDlip8nKTsKICAgICAgICAgICAgICBfdGhpczQuJGVtaXQoJ3N1Y2Nlc3MnLCBmYWxzZSk7CiAgICAgICAgICAgICAgX3RoaXM0LnNhdmVMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICBfdGhpczQuc2F2ZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;;AA6DA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAD;MACAE;QACA;QACA;UACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAP;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAE;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;QACAC,eACA;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAC,cACA;UAAAH;UAAAC;UAAAC;QAAA,EACA;QACAE,cACA;UAAAJ;UAAAC;UAAAC;QAAA,EACA;QACAlB,OACA;UAAAgB;UAAAC;UAAAC;QAAA,EACA;QACAG,iBACA;UAAAL;UAAAC;UAAAC;QAAA,EACA;QACAI,mBACA;UAAAN;UAAAC;UAAAC;QAAA;MAEA;IACA;EACA;EACAK;IAAA;IAEA;MACA;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC;QACA;MACA;IACA;IACA,cACAC;MAAA;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACA5B;QACA6B;QACAC;QACAb;QACAC;QACApB;QACAiC;QACAZ;QACAC;QACAY;QACAC;QACAC;QACAC;QACAC;QACAC;QACAxB;MACA;MACA;IACA;IACAyB;MACA;MACA;QACA;QACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;UACAC;QACA;MACA;MACA;IACA;IACA,WACAC;MAAA;MACA;QACA;UACA;UACA;YACA;cACA;cACA;cACA;YACA;cACA;YACA;UACA;YACA;cACA;cACA;cACA;YACA;cACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","open","type","default","id","watch","handler","deep","immediate","components","data","title","openDialog","typeList","saveLoading","form","rules","workloadDate","required","message","trigger","projectCode","projectName","hospitalPoints","outpatientPoints","created","methods","getDetailInfo","console","getList","handleDialogClose","cancel","reset","compCode","accountCode","spell","delFlag","createBy","createTime","updateBy","updateTime","remark","getPym","pym","submitForm"],"sourceRoot":"src/views/workload/workload","sources":["addEdit.vue"],"sourcesContent":["<template>\n  <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"40%\" custom-class=\"el-button--primary\" append-to-body\n             :close-on-click-modal=\"false\" @close=\"handleDialogClose\"\n  >\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"年月\" prop=\"workloadDate\">\n            <el-date-picker clearable size=\"mini\"\n                            v-model=\"form.workloadDate\"\n                            type=\"month\"\n                            value-format=\"yyyy-MM-dd\"\n                            placeholder=\"选择年月\"\n            >\n            </el-date-picker>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"项目编码\" prop=\"projectCode\">\n            <el-input v-model=\"form.projectCode\" placeholder=\"请输入项目编码\" maxlength=\"50\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"项目名称\" prop=\"projectName\">\n            <el-input v-model=\"form.projectName\" placeholder=\"请输入项目名称\" maxlength=\"50\" show-word-limit @blur=\"getPym\"/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"类别\" prop=\"type\">\n            <el-select v-model=\"form.type\" placeholder=\"请选择类别\">\n              <el-option label=\"请选择字典生成\" :value=\"item.typeCode\" v-for=\"item in typeList\" :label=\"item.typeName\"/>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"拼音码\" prop=\"spell\">\n            <el-input v-model=\"form.spell\" placeholder=\"请输入拼音码\" disabled maxlength=\"50\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"住院积分\" prop=\"hospitalPoints\">\n            <el-input-number :precision=\"2\" :step=\"0.01\" :min=\"0\" controls-position=\"right\" v-model=\"form.hospitalPoints\"\n                             placeholder=\"请输入住院积分\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"门诊积分\" prop=\"outpatientPoints\">\n            <el-input-number :precision=\"2\" :step=\"0.01\" :min=\"0\" controls-position=\"right\" v-model=\"form.outpatientPoints\"\n                             placeholder=\"请输入门诊积分\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"submitForm\" :loading=\"saveLoading\">确 定</el-button>\n      <el-button @click=\"cancel\">取 消</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { addWorkload, getWorkload, listWorkload, updateWorkload } from '@/api/workload/workload'\nimport { listType } from '@/api/workload/type'\nimport pinyin from 'js-pinyin'\n\nexport default {\n  name: 'addEdit',\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  watch: {\n    id: {\n      handler(val) {\n        this.reset()\n        if (val) {\n          this.id = val\n          this.title = '工作量管理-编辑'\n          this.getDetailInfo()\n        } else {\n          this.id = ''\n          this.title = '工作量管理-新增'\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    open: {\n      handler(val) {\n        this.openDialog = val\n      },\n      deep: true\n    }\n  },\n  components: {},\n  data() {\n    return {\n      title: '工作量管理-新增',\n      openDialog: this.open,\n      typeList: [],\n      saveLoading: false,\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        workloadDate: [\n          { required: true, message: '年月', trigger: ['blur', 'change'] }\n        ],\n        projectCode: [\n          {required: true, message: '项目编码', trigger: ['blur', 'change'] }\n        ],\n        projectName: [\n          { required: true, message: '项目名称', trigger: ['blur', 'change'] }\n        ],\n        type: [\n          { required: true, message: '类型', trigger: ['blur', 'change'] }\n        ],\n        hospitalPoints: [\n          { required: true, message: '住院积分', trigger: ['blur', 'change'] }\n        ],\n        outpatientPoints: [\n          { required: true, message: '门诊', trigger: ['blur', 'change'] }\n        ]\n      }\n    }\n  },\n  created() {\n\n    listType(null).then(response => {\n      this.typeList = response.rows\n    })\n    this.getList()\n  },\n  methods: {\n    getDetailInfo() {\n      getWorkload(this.id).then(response => {\n        console.log(response)\n        this.form = response.data\n      })\n    },\n    /** 查询工作量列表 */\n    getList() {\n      this.loading = true\n      listWorkload(this.queryParams).then(response => {\n        this.workloadList = response.rows\n        this.total = response.total\n        this.loading = false\n      })\n    },\n    // 弹框关闭\n    handleDialogClose() {\n      this.$emit('cancel', false)\n    },\n    // 取消\n    cancel() {\n      this.$emit('cancel', false)\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: null,\n        accountCode: null,\n        projectCode: null,\n        projectName: null,\n        type: null,\n        spell: null,\n        hospitalPoints: null,\n        outpatientPoints: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null,\n        workloadDate: null\n      }\n      this.resetForm('form')\n    },\n    getPym() {\n      // 全是字母的情况下,拼音码等于所有字母\n      if (/^[a-zA-Z]*$/.test(this.form.projectName)) {\n        this.form.spell = this.form.projectName\n        return\n      }\n      // 有汉字的情况下,转为首字母\n      let fullName = pinyin.getCamelChars(this.form.projectName).toUpperCase()\n      let pym = ''\n      for (var i = 0; i < fullName.length; i++) {\n        var c = fullName.charAt(i)\n        if (/^[A-Z]+$/.test(c)) {\n          pym += c\n        }\n      }\n      this.form.spell = pym\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          this.saveLoading = true\n          if (this.form.id != null) {\n            updateWorkload(this.form).then(response => {\n              this.msgSuccess('修改成功')\n              this.$emit('success', false)\n              this.saveLoading = false\n            }).catch((err)=>{\n              this.saveLoading = false;\n            });\n          } else {\n            addWorkload(this.form).then(response => {\n              this.msgSuccess('新增成功')\n              this.$emit('success', false)\n              this.saveLoading = false\n            }).catch((err)=>{\n              this.saveLoading = false;\n            });\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .el-dialog {\n  min-height: 20%;\n  overflow: hidden;\n  .el-dialog__body {\n    height: calc(100% - 100px);\n    overflow: auto;\n    .el-input--mini,.el-input-number--mini,.el-select--mini,.el-date-picker--mini{\n      width: 100%;\n    }\n  }\n}\n</style>\n"]}]}
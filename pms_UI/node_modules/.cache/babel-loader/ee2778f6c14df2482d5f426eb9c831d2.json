{"remainingRequest":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\bonus\\deptBonus\\detail.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\bonus\\deptBonus\\detail.vue","mtime":1693362204687},{"path":"F:\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJGOi9wbXNfVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkY6L3Btc19VSS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyLmpzIikpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CnZhciBfZXZhbHVhdGVEYXRhRGVwdCA9IHJlcXVpcmUoIkAvYXBpL2V2YWx1YXRlRGF0YS9ldmFsdWF0ZURhdGFEZXB0Iik7CnZhciBfZGF0ZSA9IHJlcXVpcmUoIkAvdXRpbHMvZGF0ZSIpOwp2YXIgX2F1ZGl0ID0gcmVxdWlyZSgiQC9hcGkvYm9udXMvYXVkaXQiKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCnZhciBfc2VsZjsKdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICdEZXB0Qm9udXMnLAogIGRlcHRUeXBlOiB7CiAgICB0eXBlOiBbU3RyaW5nLCBTdHJpbmddLAogICAgZGVmYXVsdDogIiIKICB9LAogIGFjdERhdGU6IHsKICAgIHR5cGU6IFtTdHJpbmcsIFN0cmluZ10sCiAgICBkZWZhdWx0OiAiIgogIH0sCiAgZmlsdGVyczogewogICAgdHJhbnNUb1ZhbHVlOiBmdW5jdGlvbiB0cmFuc1RvVmFsdWUodmFsLCBpbmRleCkgewogICAgICByZXR1cm4gdmFsW2luZGV4XTsKICAgIH0sCiAgICB5ZXNPck5vRm9ybWF0OiBmdW5jdGlvbiB5ZXNPck5vRm9ybWF0KHZhbCkgewogICAgICByZXR1cm4gX3NlbGYuc2VsZWN0RGljdExhYmVsKF9zZWxmLnllc09yTm9PcHRpb25zLCB2YWwpOwogICAgfQogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIHN1bVRvdGFsOiBmdW5jdGlvbiBzdW1Ub3RhbCgpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChyb3cpIHsKICAgICAgICBjb25zb2xlLmxvZyhKU09OLnN0cmluZ2lmeShyb3cpKTsKICAgICAgICB2YXIgcmVzdWx0ID0gMDsKICAgICAgICB2YXIgX2l0ZXJhdG9yID0gKDAsIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMi5kZWZhdWx0KSh0aGlzLmRlcHRCb251c0luZGV4TGlzdCksCiAgICAgICAgICBfc3RlcDsKICAgICAgICB0cnkgewogICAgICAgICAgZm9yIChfaXRlcmF0b3IucygpOyAhKF9zdGVwID0gX2l0ZXJhdG9yLm4oKSkuZG9uZTspIHsKICAgICAgICAgICAgdmFyIHYgPSBfc3RlcC52YWx1ZTsKICAgICAgICAgICAgcmVzdWx0ICs9IHBhcnNlRmxvYXQodi5ndWlkZVZhbHVlUmVzdWx0KTsKICAgICAgICAgIH0KICAgICAgICB9IGNhdGNoIChlcnIpIHsKICAgICAgICAgIF9pdGVyYXRvci5lKGVycik7CiAgICAgICAgfSBmaW5hbGx5IHsKICAgICAgICAgIF9pdGVyYXRvci5mKCk7CiAgICAgICAgfQogICAgICAgIHJldHVybiByZXN1bHQudG9GaXhlZCgyKTsKICAgICAgICA7CiAgICAgIH07CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHRoaXMuJG5leHRUaWNrKGZ1bmN0aW9uICgpIHsKICAgICAgX3RoaXMucmVzaXplSGFuZGxlcigpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgX3RoaXMucmVzaXplSGFuZGxlcik7CiAgICB9KTsKICB9LAogIHdhdGNoOiB7CiAgICBsaXN0RGF0YTogZnVuY3Rpb24gbGlzdERhdGEodmFsKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5yZXNpemVIYW5kbGVyKCk7CiAgICAgIH0sIDMwMCk7CiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2F2ZUxvYWRpbmc6IGZhbHNlLAogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOWvvOWHuumBrue9qeWxggogICAgICBleHBvcnRMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIGlkczogW10sCiAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICBzaW5nbGU6IHRydWUsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g6YOo6Zeo5YiX6KGoCiAgICAgIGRlcHRSb29tTGlzdDogW10sCiAgICAgIC8vIOmDqOmXqOaMh+agh+WllumHkeWIl+ihqAogICAgICBkZXB0Qm9udXNJbmRleExpc3Q6IFtdLAogICAgICBzZWxlY3Rpb25Sb3c6IFtdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICcnLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIHRhYmxlSGVpZ2h0OiAiYXV0byIsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIGNvbXBDb2RlOiBudWxsLAogICAgICAgIGRlcHROYW1lOiBudWxsLAogICAgICAgIGFjY291bnRDb2RlOiBudWxsLAogICAgICAgIGd1aWRlQ29kZTogbnVsbCwKICAgICAgICBndWlkZVZhbHVlOiBudWxsLAogICAgICAgIGFjdERhdGU6ICgwLCBfZGF0ZS5nZXRZZWFyTW9udGgyKSgpICsgJy0wMScKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHt9LAogICAgICB5ZXNPck5vT3B0aW9uczogW10sCiAgICAgIGF1ZGl0U3RhdGVPcHRpb25zOiBbXSwKICAgICAgZHJhd2VyOiBmYWxzZSwKICAgICAgcHJvY2Vzc1NyYzogJycsCiAgICAgIHByb2Nlc3NJbnN0YW5jZUlkOiAnJwogICAgfTsKICB9LAogIGJlZm9yZUNyZWF0ZTogZnVuY3Rpb24gYmVmb3JlQ3JlYXRlKCkgewogICAgX3NlbGYgPSB0aGlzOwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgdGhpcy5nZXREaWN0cygieWVzX29yX25vIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMyLnllc09yTm9PcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogICAgdGhpcy5nZXREaWN0cygnYXNzZXRfYWR1aXRfc3RhdGUnKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpczIuYXVkaXRTdGF0ZU9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgfSk7CiAgICB0aGlzLmdldERlcHQoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6LmoLjnrpfnp5HlrqTmiJblubPlnYflpZbnp5HlrqTlr7nlupTlpZbph5HmjIfmoIcgKi9nZXREZXB0OiBmdW5jdGlvbiBnZXREZXB0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgKDAsIF9ldmFsdWF0ZURhdGFEZXB0LmRlcHRCb251c0RldGFpbCkodGhpcy5xdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAnMjAwJykgewogICAgICAgICAgX3RoaXMzLmRlcHRSb29tTGlzdCA9IHJlc3BvbnNlLmRhdGEuZGVwdFJvb21MaXN0OwogICAgICAgICAgX3RoaXMzLmRlcHRCb251c0luZGV4TGlzdCA9IHJlc3BvbnNlLmRhdGEuZGVwdEJvbnVzSW5kZXhMaXN0OwogICAgICAgIH0KICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgc3VjY2Vzc1N1Ym1pdDogZnVuY3Rpb24gc3VjY2Vzc1N1Ym1pdChmbGFnKSB7CiAgICAgIHRoaXMub3BlbiA9IGZsYWc7CiAgICAgIHRoaXMuZ2V0RGVwdCgpOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgY29tcENvZGU6IG51bGwsCiAgICAgICAgZGVwdE5hbWU6IG51bGwsCiAgICAgICAgYWNjb3VudENvZGU6IG51bGwsCiAgICAgICAgZ3VpZGVDb2RlOiBudWxsLAogICAgICAgIGd1aWRlVmFsdWU6IG51bGwsCiAgICAgICAgYWN0RGF0ZTogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybScpOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi9oYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMuZ2V0RGVwdCgpOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi9yZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgncXVlcnlGb3JtJyk7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCAhPT0gMTsKICAgICAgdGhpcy5tdWx0aXBsZSA9ICFzZWxlY3Rpb24ubGVuZ3RoOwogICAgICB0aGlzLnNlbGVjdGlvblJvdyA9IHNlbGVjdGlvbjsKICAgIH0sCiAgICByb3dDbGljazogZnVuY3Rpb24gcm93Q2xpY2socm93LCBjb2x1bW4sIGV2ZW50KSB7CiAgICAgIHZhciByZWZzRWxUYWJsZSA9IHRoaXMuJHJlZnMubXVsdGlwbGVUYWJsZTsKICAgICAgdmFyIGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvdy5maW5kKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMucm93SW5kZXggPT0gcm93LnJvd0luZGV4OwogICAgICB9KTsKICAgICAgaWYgKGZpbmRSb3cgJiYgdGhpcy5zZWxlY3Rpb25Sb3cubGVuZ3RoID09IDEpIHsKICAgICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93LCBmYWxzZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHJlZnNFbFRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3cpOwogICAgfSwKICAgIHJvd1N0eWxlOiBmdW5jdGlvbiByb3dTdHlsZShfcmVmKSB7CiAgICAgIHZhciByb3cgPSBfcmVmLnJvdywKICAgICAgICByb3dJbmRleCA9IF9yZWYucm93SW5kZXg7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3csICdyb3dJbmRleCcsIHsKICAgICAgICB2YWx1ZTogcm93SW5kZXgsCiAgICAgICAgd3JpdGFibGU6IHRydWUsCiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgICAgfSk7CiAgICB9LAogICAgcm93Q2xhc3NOYW1lOiBmdW5jdGlvbiByb3dDbGFzc05hbWUoX3JlZjIpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYyLnJvdywKICAgICAgICByb3dJbmRleCA9IF9yZWYyLnJvd0luZGV4OwogICAgICB2YXIgcm93TmFtZSA9ICcnLAogICAgICAgIGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvdy5maW5kKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICByZXR1cm4gYy5yb3dJbmRleCA9PT0gcm93LnJvd0luZGV4OwogICAgICAgIH0pOwogICAgICBpZiAoZmluZFJvdykgewogICAgICAgIHJvd05hbWUgPSAnY3VycmVudC1yb3cgJzsKICAgICAgfQogICAgICByZXR1cm4gcm93TmFtZTsKICAgIH0sCiAgICAvKiog6Lez6L2s56eR5a6k5a+55bqU5Lq65ZGY5aWW6YeR6K+m5oOF6aG1ICovc2hvd0RldGFpbDogZnVuY3Rpb24gc2hvd0RldGFpbChkZXB0Q29kZSkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgidGFnc1ZpZXcvZGVsVmlldyIsIHRoaXMuJHJvdXRlKTsKICAgICAgdGhpcy4kcm91dGVyLnB1c2goIi9wZXJzb25Cb251cy9pbmRleC8iICsgZGVwdENvZGUgKyAiLyIgKyB0aGlzLnF1ZXJ5UGFyYW1zLmFjdERhdGUpOwogICAgfSwKICAgIHJlc2l6ZUhhbmRsZXI6IGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKSB7CiAgICAgIHZhciBhID0gdGhpcy4kcmVmcy5zZWFyY2gub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgaCA9IGEgKyAxOCArIDQ1ICsgODQgKyAzNTsKICAgICAgaCA9IGggKyAicHgiOwogICAgICB0aGlzLnRhYmxlSGVpZ2h0ID0gImNhbGMoMTAwdmggLSAiLmNvbmNhdChoLCAiKSIpOwogICAgfSwKICAgIC8vIOWuoeaguOeKtuaAgeWtl+WFuOe/u+ivkQogICAgYXVkaXRTdGF0ZUZvcm1hdDogZnVuY3Rpb24gYXVkaXRTdGF0ZUZvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy5hdWRpdFN0YXRlT3B0aW9ucywgcm93LmF1ZGl0U3RhdGUpOwogICAgfSwKICAgIC8vIOWPguaVsOezu+e7n+WGhee9ruWtl+WFuOe/u+ivkQogICAgeWVzT3JOb0Zvcm1hdDogZnVuY3Rpb24geWVzT3JOb0Zvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy55ZXNPck5vT3B0aW9ucywgcm93LmFyY2hpdmVTdGF0ZSk7CiAgICB9LAogICAgLyoqIOa1gei9rOWOhuWPsuaMiemSruaTjeS9nCAqL3Byb2Nlc3NSZWNvcmQ6IGZ1bmN0aW9uIHByb2Nlc3NSZWNvcmQoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICB2YXIgcGFyYW0gPSB7CiAgICAgICAgZGVwdENvZGU6IHRoaXMuZGVwdFJvb21MaXN0WzBdLmRlcHRSb29tSWQsCiAgICAgICAgbm93RGF0ZTogdGhpcy5xdWVyeVBhcmFtcy5hY3REYXRlCiAgICAgIH07CiAgICAgICgwLCBfYXVkaXQuZ2V0UHJvY2Vzc0lkKShwYXJhbSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuZGF0YSkgewogICAgICAgICAgX3RoaXM0LnByb2Nlc3NJbnN0YW5jZUlkID0gcmVzcG9uc2UuZGF0YS5wcm9jZWR1cmVJZDsKICAgICAgICAgIGlmICghX3RoaXM0LnByb2Nlc3NJbnN0YW5jZUlkKSB7CiAgICAgICAgICAgIF90aGlzNC5tc2dFcnJvcign5rKh5pyJ5rWB6L2s5Y6G5Y+y5pWw5o2u77yBJyk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpczQucHJvY2Vzc1NyYyA9ICIiLmNvbmNhdChfdGhpczQucHJvY2Vzc1VybCwgIi9hcGkvd2YvcHJvY2Vzc0hpc3RvcmljP3Byb2NJbnNJZD0iKS5jb25jYXQoX3RoaXM0LnByb2Nlc3NJbnN0YW5jZUlkKTsKICAgICAgICAgICAgX3RoaXM0LmRyYXdlciA9IHRydWU7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzNC5tc2dFcnJvcign5rKh5pyJ5rWB6L2s5Y6G5Y+y5pWw5o2u77yBJyk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;AAsEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACA;AAAA,eACA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACAF;IACAC;EACA;EACAE;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;QACAC;QACA;QAAA,yDACA;UAAA;QAAA;UAAA;YAAA;YACAC;UACA;QAAA;UAAA;QAAA;UAAA;QAAA;QACA;QAAA;MACA;IACA;EAEA;EACAC;IAAA;IACA;MACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;MACAC;QACAC;MACA;IACA;EACA;EACAC;IACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAlC;MACA;MACA;MACAmC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;EACA;EACAC;IAAA;IACA;MACA;IACA;IACA;MACA;IACA;IACA;EACA;EACAC;IACA,yBACAC;MAAA;MACA;MACA;QACA;UACA;UACA;QACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACAC;QACApB;QACAC;QACAC;QACAC;QACAC;QACAlC;MACA;MACA;IACA;IACA,aACAmD;MACA;IACA;IACA,aACAC;MACA;MACA;IACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;QACAC;QACA;MACA;MACAA;MACAA;IACA;IACAC;MAAA;QAAAC;MACAC;QACAC;QACAC;QACAC;MACA;IACA;IACAC;MAAA;QAAAL;MACA;QACAM;UAAA;QAAA;MACA;QACAC;MACA;MACA;IACA;IACA,oBACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAjE;MACA;IACA;IACA,eACAkE;MAAA;MACA;QAAAC;QAAAC;MAAA;MACA;QACA;UACA;UACA;YACA;UACA;YACA;YACA;UACA;QACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA","names":["name","deptType","type","default","actDate","filters","transToValue","yesOrNoFormat","computed","sumTotal","console","result","mounted","window","watch","listData","setTimeout","that","data","saveLoading","loading","exportLoading","ids","single","multiple","showSearch","total","deptRoomList","deptBonusIndexList","selectionRow","title","open","tableHeight","queryParams","compCode","deptName","accountCode","guideCode","guideValue","form","rules","yesOrNoOptions","auditStateOptions","drawer","processSrc","processInstanceId","beforeCreate","_self","created","methods","getDept","successSubmit","cancel","reset","id","handleQuery","resetQuery","handleSelectionChange","rowClick","refsElTable","rowStyle","rowIndex","Object","value","writable","enumerable","rowClassName","findRow","rowName","showDetail","resizeHandler","h","auditStateFormat","processRecord","deptCode","nowDate"],"sourceRoot":"src/views/bonus/deptBonusNew","sources":["detail.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div ref=\"search\">\n      <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n        <el-form-item label=\"年月\" prop=\"actDate\">\n          <el-date-picker :clearable=\"false\" :editable=\"false\" label=\"奖金年月\" size=\"small\"\n                          v-model=\"queryParams.actDate\"\n                          type=\"month\"\n                          value-format=\"yyyy-MM-dd\"\n                          placeholder=\"选择年月\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n\n    <el-table border stripe v-loading=\"loading\" :data=\"deptRoomList\" :height=\"tableHeight\" @selection-change=\"handleSelectionChange\"\n              ref=\"multipleTable\" @row-click=\"rowClick\" :row-style=\"rowStyle\" :row-class-name=\"rowClassName\" >\n      <el-table-column sortable label=\"科室名称\" align=\"left\" prop=\"deptRoomName\" fixed>\n        <template slot-scope=\"scope\" >\n          <el-link type=\"primary\" :underline=\"false\" @click=\"showDetail(scope.row.deptRoomId)\"\n                   class=\"displayBlock text-ellipsis \">{{scope.row.deptRoomName}}</el-link>\n        </template>\n      </el-table-column>\n\n      <el-table-column\n        v-for=\"(item,index) in deptBonusIndexList\"\n        :key=\"index\"\n        :label=\"item.indexName\"\n        :prop=\"item.guideCode\"\n        align=\"right\"\n      >{{item.guideValueResult}}\n      </el-table-column>\n      <el-table-column sortable label=\"合计\" align=\"right\" prop=\"total\" fixed=\"right\" width=\"100\">\n        <template slot-scope=\"scope\">\n          <span>{{ sumTotal(scope.row) }}</span>\n        </template>\n      </el-table-column>\n      <el-table-column sortable label=\"审核状态\" align=\"center\" prop=\"auditState\" :formatter=\"auditStateFormat\" fixed=\"right\" width=\"100\"></el-table-column>\n      <el-table-column sortable label=\"是否归档\" align=\"center\" prop=\"archiveState\" :formatter=\"yesOrNoFormat\" fixed=\"right\" width=\"100\">\n        <template slot-scope=\"scope\" v-if=\"scope.row.archiveState != null\">\n          <el-tag :type=\"scope.row.archiveState === '0' ? 'success' : 'warning'\"\n                  close-transition>{{scope.row.archiveState | yesOrNoFormat}}</el-tag>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"流传历史\" align=\"center\" fixed=\"right\" width=\"80\">\n        <template slot-scope=\"scope\">\n<!--          <el-button @click=\"handleClick(scope.row)\" type=\"text\" size=\"small\"><i class=\"el-icon-view\"></i></el-button>-->\n          <el-button @click=\"processRecord\" type=\"text\" size=\"small\"><i class=\"el-icon-view\"></i></el-button>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <el-drawer\n      title=\"流转历史\"\n      :visible.sync=\"drawer\"\n      :with-header=\"true\" size=\"50%\">\n      <div>\n        <div v-loading=\"loading\" :style=\"'height:calc(100vh - 100px)'\">\n          <iframe :src=\"processSrc\" frameborder=\"no\" style=\"width: 100%;height: 100%\" scrolling=\"auto\"/>\n        </div>\n      </div>\n    </el-drawer>\n  </div>\n</template>\n\n<script>\nimport {deptBonusDetail} from '@/api/evaluateData/evaluateDataDept'\nimport { getYearMonth2 } from '@/utils/date'\nimport {getProcessId} from \"@/api/bonus/audit\";\nvar _self;\nexport default {\n  name: 'DeptBonus',\n  deptType: {\n    type: [String, String],\n    default: \"\"\n  },\n  actDate:{\n    type: [String, String],\n    default: \"\"\n  },\n  filters: {\n    transToValue(val, index) {\n      return val[index]\n    },\n    yesOrNoFormat(val){\n      return _self.selectDictLabel(_self.yesOrNoOptions, val);\n    }\n  },\n  computed: {\n    sumTotal() {\n      return function (row) {\n        console.log(JSON.stringify(row))\n        let result = 0;\n        for(let v of this.deptBonusIndexList){\n          result += parseFloat(v.guideValueResult);\n        }\n        return result.toFixed(2);;\n      };\n    }\n\n  },\n  mounted(){\n    this.$nextTick(() => {\n      this.resizeHandler();\n      window.addEventListener(\"resize\", this.resizeHandler);\n    });\n  },\n  watch: {\n    listData(val) {\n      let that = this;\n      setTimeout(function () {\n        that.resizeHandler();\n      }, 300);\n    }\n  },\n  data() {\n    return {\n      saveLoading: false,\n      // 遮罩层\n      loading: false,\n      // 导出遮罩层\n      exportLoading: false,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 部门列表\n      deptRoomList: [],\n      // 部门指标奖金列表\n      deptBonusIndexList: [],\n      selectionRow: [],\n      // 弹出层标题\n      title: '',\n      // 是否显示弹出层\n      open: false,\n      tableHeight: \"auto\",\n      // 查询参数\n      queryParams: {\n        compCode: null,\n        deptName: null,\n        accountCode: null,\n        guideCode: null,\n        guideValue: null,\n        actDate: getYearMonth2() + '-01'\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {},\n      yesOrNoOptions: [],\n      auditStateOptions: [],\n      drawer: false,\n      processSrc: '',\n      processInstanceId: ''\n    }\n  },\n  beforeCreate() {\n    _self = this;\n  },\n  created() {\n    this.getDicts(\"yes_or_no\").then(response => {\n      this.yesOrNoOptions = response.data;\n    });\n    this.getDicts('asset_aduit_state').then(response => {\n      this.auditStateOptions = response.data\n    })\n    this.getDept()\n  },\n  methods: {\n    /** 查询核算科室或平均奖科室对应奖金指标 */\n    getDept() {\n      this.loading = true;\n      deptBonusDetail(this.queryParams).then(response => {\n        if(response.code == '200'){\n          this.deptRoomList = response.data.deptRoomList;\n          this.deptBonusIndexList = response.data.deptBonusIndexList;\n        }\n        this.loading = false;\n      }).catch(err => {\n        this.loading = false;\n      });\n    },\n    successSubmit(flag) {\n      this.open = flag\n      this.getDept()\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: null,\n        deptName: null,\n        accountCode: null,\n        guideCode: null,\n        guideValue: null,\n        actDate: null\n      }\n      this.resetForm('form')\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.getDept()\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm('queryForm')\n      this.handleQuery()\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.id)\n      this.single = selection.length !== 1\n      this.multiple = !selection.length\n      this.selectionRow = selection\n    },\n    rowClick(row, column, event) {\n      let refsElTable = this.$refs.multipleTable\n      let findRow = this.selectionRow.find(c => c.rowIndex == row.rowIndex)\n      if (findRow && this.selectionRow.length == 1) {\n        refsElTable.toggleRowSelection(row, false)\n        return\n      }\n      refsElTable.clearSelection()\n      refsElTable.toggleRowSelection(row)\n    },\n    rowStyle({row, rowIndex}) {\n      Object.defineProperty(row, 'rowIndex', {\n        value: rowIndex,\n        writable: true,\n        enumerable: false\n      })\n    },\n    rowClassName({row, rowIndex}) {\n      let rowName = '',\n        findRow = this.selectionRow.find(c => c.rowIndex === row.rowIndex)\n      if (findRow) {\n        rowName = 'current-row '\n      }\n      return rowName\n    },\n    /** 跳转科室对应人员奖金详情页 */\n    showDetail(deptCode) {\n      this.$store.dispatch(\"tagsView/delView\",this.$route);\n      this.$router.push(\"/personBonus/index/\" + deptCode + \"/\" + this.queryParams.actDate);\n    },\n    resizeHandler() {\n      let a = this.$refs.search.offsetHeight;\n      let h = a + 18 + 45 + 84 + 35;\n      h = h + \"px\";\n      this.tableHeight = `calc(100vh - ${h})`;\n    },\n    // 审核状态字典翻译\n    auditStateFormat(row, column) {\n      return this.selectDictLabel(this.auditStateOptions, row.auditState)\n    },\n    // 参数系统内置字典翻译\n    yesOrNoFormat(row, column) {\n      return this.selectDictLabel(this.yesOrNoOptions, row.archiveState);\n    },\n    /** 流转历史按钮操作 */\n    processRecord() {\n      let param = {deptCode: this.deptRoomList[0].deptRoomId, nowDate: this.queryParams.actDate};\n      getProcessId(param).then(response => {\n        if(response.data){\n          this.processInstanceId = response.data.procedureId;\n          if (!this.processInstanceId) {\n            this.msgError('没有流转历史数据！');\n          } else {\n            this.processSrc = `${this.processUrl}/api/wf/processHistoric?procInsId=${this.processInstanceId}`;\n            this.drawer = true;\n          }\n        }else{\n          this.msgError('没有流转历史数据！');\n        }\n      });\n    }\n  }\n}\n</script>\n\n\n"]}]}
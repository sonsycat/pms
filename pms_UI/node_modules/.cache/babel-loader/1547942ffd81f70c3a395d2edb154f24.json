{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\views\\apport\\apport\\addEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\apport\\apport\\addEdit.vue","mtime":1682043107887},{"path":"D:\\hrp\\zjry-pms-ui\\babel.config.js","mtime":1682043101067},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKdmFyIF9kYXRhID0gcmVxdWlyZSgiQC9hcGkvc3lzdGVtL2RpY3QvZGF0YSIpOwp2YXIgX3ZhbGlkYXRlID0gcmVxdWlyZSgiQC91dGlscy92YWxpZGF0ZSIpOwp2YXIgX2FwcG9ydCA9IHJlcXVpcmUoIkAvYXBpL2FwcG9ydC9hcHBvcnQiKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICJhZGRFZGl0IiwKICBwcm9wczogewogICAgb3BlbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGlkOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgaWYgKHZhbCkgewogICAgICAgICAgdGhpcy5pZCA9IHZhbDsKICAgICAgICAgIHRoaXMudGl0bGUgPSAi5oiQ5pys5YiG5pGKIC8g5YiG5pGK6K6h566XIjsKICAgICAgICAgIHRoaXMuZ2V0RGV0YWlsSW5mbygpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLmZvcm0uYXBwb3J0VHlwZSA9ICcxJzsKICAgICAgICAgIHRoaXMuaWQgPSAiIjsKICAgICAgICAgIHRoaXMudGl0bGUgPSAi5oiQ5pys5YiG5pGKIC8g5YiG5pGK6K6h566XIjsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIG9wZW46IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLm9wZW5EaWFsb2cgPSB2YWw7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIuWIhuaRiuiuoeeul+euoeeQhi3mlrDlop4iLAogICAgICBvcGVuRGlhbG9nOiB0aGlzLm9wZW4sCiAgICAgIHNhdmVMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICBhcHBvcnRUeXBlT3B0aW9uczogW10sCiAgICAgIGNoZWNrRGF0YTogW10sCiAgICAgIHByb2dyZXNzU2hvdzogZmFsc2UsCiAgICAgIGFjdGl2aXRpZXM6IFtdLAogICAgICBwZXJjZW50YWdlOiAwLAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBub3dEYXRlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5YiG5pGK5bm05pyI5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dLAogICAgICAgIGFwcG9ydFR5cGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLliIbmkYrnuqfliKvkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICAgIHRoaXMuZ2V0RGljdHMoImNvc3RfYXBwb3J0X3R5cGUiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkge30pOwogICAgdGhpcy5nZXRDb3N0QXBwb3J0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvL+WIhuaRiuiuoeeul+W8ueahhuW5tOaciOmZkOWItgogICAgZ2V0Q29zdEFwcG9ydDogZnVuY3Rpb24gZ2V0Q29zdEFwcG9ydCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgKDAsIF9kYXRhLmdldENvc3RBcHBvcnQpKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudEluZm8uZGVwdElkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGlmIChyZXNwb25zZS5kYXRhKSB7CiAgICAgICAgICBfdGhpcy5mb3JtLm5vd0RhdGUgPSByZXNwb25zZS5kYXRhOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy5mb3JtLm5vd0RhdGUgPSBnZXRZZWFyKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBnZXREZXRhaWxJbmZvOiBmdW5jdGlvbiBnZXREZXRhaWxJbmZvKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgKDAsIF9hcHBvcnQuZ2V0QXBwb3J0KSh0aGlzLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBfdGhpczIuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmn6Xor6LliIbmkYrorqHnrpfliJfooaggKi9nZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgKDAsIF9hcHBvcnQubGlzdEFwcG9ydCkodGhpcy5xdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMuYXBwb3J0TGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgX3RoaXMzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5YiG5pGK57qn5YirKOS/neWtmOacgOWQjueahOe6p+WIqynlrZflhbjnv7vor5EKICAgIGFwcG9ydFR5cGVGb3JtYXQ6IGZ1bmN0aW9uIGFwcG9ydFR5cGVGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMuYXBwb3J0VHlwZU9wdGlvbnMsIHJvdy5hcHBvcnRUeXBlKTsKICAgIH0sCiAgICAvL+WIhuaRiuiuoeeul+eahOWkmumAieWFs+iBlAogICAgaGFuZGxlckNoYW5nZTogZnVuY3Rpb24gaGFuZGxlckNoYW5nZShlLCBlbCkgewogICAgICB2YXIgYXJyID0gW107CiAgICAgIHRoaXMuYXBwb3J0VHlwZU9wdGlvbnMuZm9yRWFjaChmdW5jdGlvbiAoaXRlLCBpKSB7CiAgICAgICAgaWYgKGVsLnRhcmdldC5jaGVja2VkKSB7CiAgICAgICAgICBpZiAoaXRlLmRpY3RWYWx1ZSA8PSBlbC50YXJnZXQudmFsdWUpIHsKICAgICAgICAgICAgYXJyLnB1c2goaXRlLmRpY3RWYWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGlmIChpdGUuZGljdFZhbHVlIDwgZWwudGFyZ2V0LnZhbHVlKSB7CiAgICAgICAgICAgIGFyci5wdXNoKGl0ZS5kaWN0VmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHRoaXMuZm9ybS5hcHBvcnRUeXBlID0gYXJyOwogICAgfSwKICAgIC8vIOW8ueahhuWFs+mXrQogICAgaGFuZGxlRGlhbG9nQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZURpYWxvZ0Nsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCJzdWNjZXNzIiwgZmFsc2UpOwogICAgICB0aGlzLiRlbWl0KCJjYW5jZWwiLCBmYWxzZSk7CiAgICB9LAogICAgLy8g5Y+W5raICiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kZW1pdCgic3VjY2VzcyIsIGZhbHNlKTsKICAgICAgdGhpcy4kZW1pdCgiY2FuY2VsIiwgZmFsc2UpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgY29tcENvZGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkLAogICAgICAgIGFjY291bnRDb2RlOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmFjY291bnRJbmZvLmFjY291bnRDb2RlLAogICAgICAgIGFwcG9ydENvZGU6IG51bGwsCiAgICAgICAgbm93RGF0ZTogbnVsbCwKICAgICAgICBhcHBvcnRUeXBlOiBbXSwKICAgICAgICBmb3J3YXJkOiBudWxsLAogICAgICAgIGJhY2s6IG51bGwsCiAgICAgICAgYXBwb3J0VGltZTogbnVsbCwKICAgICAgICBkZWxGbGFnOiBudWxsLAogICAgICAgIGNyZWF0ZUJ5OiBudWxsLAogICAgICAgIGNyZWF0ZVRpbWU6IG51bGwsCiAgICAgICAgdXBkYXRlQnk6IG51bGwsCiAgICAgICAgdXBkYXRlVGltZTogbnVsbCwKICAgICAgICByZW1hcms6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oImZvcm0iKTsKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzNC5zYXZlTG9hZGluZyA9IHRydWU7CiAgICAgICAgICBfdGhpczQuYWN0aXZpdGllcyA9IFtdOwogICAgICAgICAgX3RoaXM0LnByb2dyZXNzU2hvdyA9IHRydWU7CiAgICAgICAgICAvLyB0aGlzLmZvcm0uYXBwb3J0VHlwZT10aGlzLmZvcm0uYXBwb3J0VHlwZS5zb3J0KChhLGIpPT57cmV0dXJuIGItYX0pWzBdCgogICAgICAgICAgX3RoaXM0LnNhdmVTdGVwT25lMShfdGhpczQuZm9ybSkudGhlbihmdW5jdGlvbiAoKSB7fSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgICAgIHJldHVybiBfdGhpczQuc2F2ZVN0ZXBPbmUyKF90aGlzNC5mb3JtKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICByZXR1cm4gX3RoaXM0LnNhdmVTdGVwT25lMyhfdGhpczQuZm9ybSk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuIF90aGlzNC5zYXZlU3RlcFRvdyhfdGhpczQuZm9ybSk7CiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgX3RoaXM0LnNhdmVMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgIF90aGlzNC5zYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBzYXZlU3RlcE9uZTogZnVuY3Rpb24gc2F2ZVN0ZXBPbmUoZGF0YSkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNsb3ZlLCByZWplY3QpIHsKICAgICAgICAoMCwgX2FwcG9ydC5hZGRWZXJpZmljYXRpb24xKShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzNS5wZXJjZW50YWdlID0gMTU7CiAgICAgICAgICAgIF90aGlzNS5hY3Rpdml0aWVzLnB1c2goewogICAgICAgICAgICAgIGNvbnRlbnQ6ICfpqozor4Hnp5HlrqTlv6vnhacnLAogICAgICAgICAgICAgIHRpbWVzdGFtcDogJ29rJywKICAgICAgICAgICAgICBzaXplOiAnbGFyZ2UnLAogICAgICAgICAgICAgIHR5cGU6ICdzdWNjZXNzJywKICAgICAgICAgICAgICBpY29uOiAnZWwtaWNvbi1jaGVjaycsCiAgICAgICAgICAgICAgZmxhZzogdHJ1ZQogICAgICAgICAgICB9KTsKICAgICAgICAgICAgcmVzbG92ZSgpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmVqZWN0KHJlc3BvbnNlKTsKICAgICAgICAgIH0KICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICBfdGhpczUucGVyY2VudGFnZSA9IDEwOwogICAgICAgICAgX3RoaXM1LmFjdGl2aXRpZXMucHVzaCh7CiAgICAgICAgICAgIGNvbnRlbnQ6ICfpqozor4Hnp5HlrqTlv6vnhacnLAogICAgICAgICAgICB0aW1lc3RhbXA6ICdFcnJvcicsCiAgICAgICAgICAgIHNpemU6ICdsYXJnZScsCiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLAogICAgICAgICAgICBjb2xvcjogInJlZCIsCiAgICAgICAgICAgIGljb246ICdlbC1pY29uLWNsb3NlJywKICAgICAgICAgICAgZmxhZzogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgICAgcmVqZWN0KHJlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVTdGVwT25lMTogZnVuY3Rpb24gc2F2ZVN0ZXBPbmUxKGRhdGEpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzbG92ZSwgcmVqZWN0KSB7CiAgICAgICAgKDAsIF9hcHBvcnQuYWRkVmVyaWZpY2F0aW9uMikoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICBfdGhpczYucGVyY2VudGFnZSA9IDMwOwogICAgICAgICAgICBfdGhpczYuYWN0aXZpdGllcy5wdXNoKHsKICAgICAgICAgICAgICBjb250ZW50OiAn6aqM6K+B5YiG5pGK5pa55qGIJywKICAgICAgICAgICAgICB0aW1lc3RhbXA6ICdvaycsCiAgICAgICAgICAgICAgc2l6ZTogJ2xhcmdlJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgaWNvbjogJ2VsLWljb24tY2hlY2snLAogICAgICAgICAgICAgIGZsYWc6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJlc2xvdmUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXM2LnBlcmNlbnRhZ2UgPSAyMDsKICAgICAgICAgIF90aGlzNi5hY3Rpdml0aWVzLnB1c2goewogICAgICAgICAgICBjb250ZW50OiAn6aqM6K+B5YiG5pGK5pa55qGIJywKICAgICAgICAgICAgdGltZXN0YW1wOiAnRXJyb3InLAogICAgICAgICAgICBzaXplOiAnbGFyZ2UnLAogICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJywKICAgICAgICAgICAgY29sb3I6ICJyZWQiLAogICAgICAgICAgICBpY29uOiAnZWwtaWNvbi1jbG9zZScsCiAgICAgICAgICAgIGZsYWc6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICAgIHJlamVjdChyZXMpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlU3RlcE9uZTI6IGZ1bmN0aW9uIHNhdmVTdGVwT25lMihkYXRhKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc2xvdmUsIHJlamVjdCkgewogICAgICAgICgwLCBfYXBwb3J0LmFkZFZlcmlmaWNhdGlvbjMpKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgX3RoaXM3LnBlcmNlbnRhZ2UgPSA0NTsKICAgICAgICAgICAgX3RoaXM3LmFjdGl2aXRpZXMucHVzaCh7CiAgICAgICAgICAgICAgY29udGVudDogJ+mqjOivgeWIhuaRiuavlOS+iycsCiAgICAgICAgICAgICAgdGltZXN0YW1wOiAnb2snLAogICAgICAgICAgICAgIHNpemU6ICdsYXJnZScsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGljb246ICdlbC1pY29uLWNoZWNrJywKICAgICAgICAgICAgICBmbGFnOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXNsb3ZlKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzNy5wZXJjZW50YWdlID0gMzA7CiAgICAgICAgICBfdGhpczcuYWN0aXZpdGllcy5wdXNoKHsKICAgICAgICAgICAgY29udGVudDogJ+mqjOivgeWIhuaRiuavlOS+iycsCiAgICAgICAgICAgIHRpbWVzdGFtcDogJ0Vycm9yJywKICAgICAgICAgICAgc2l6ZTogJ2xhcmdlJywKICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsCiAgICAgICAgICAgIGNvbG9yOiAicmVkIiwKICAgICAgICAgICAgaWNvbjogJ2VsLWljb24tY2xvc2UnLAogICAgICAgICAgICBmbGFnOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgICByZWplY3QocmVzKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZVN0ZXBPbmUzOiBmdW5jdGlvbiBzYXZlU3RlcE9uZTMoZGF0YSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNsb3ZlLCByZWplY3QpIHsKICAgICAgICAoMCwgX2FwcG9ydC5hZGRWZXJpZmljYXRpb24pKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgX3RoaXM4LnBlcmNlbnRhZ2UgPSA2MDsKICAgICAgICAgICAgX3RoaXM4LmFjdGl2aXRpZXMucHVzaCh7CiAgICAgICAgICAgICAgY29udGVudDogJ+mqjOivgeaIkOacrOaVsOaNricsCiAgICAgICAgICAgICAgdGltZXN0YW1wOiAnb2snLAogICAgICAgICAgICAgIHNpemU6ICdsYXJnZScsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGljb246ICdlbC1pY29uLWNoZWNrJywKICAgICAgICAgICAgICBmbGFnOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXNsb3ZlKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzOC5wZXJjZW50YWdlID0gNDA7CiAgICAgICAgICBfdGhpczguYWN0aXZpdGllcy5wdXNoKHsKICAgICAgICAgICAgY29udGVudDogJ+mqjOivgeaIkOacrOaVsOaNricsCiAgICAgICAgICAgIHRpbWVzdGFtcDogJ0Vycm9yJywKICAgICAgICAgICAgc2l6ZTogJ2xhcmdlJywKICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsCiAgICAgICAgICAgIGNvbG9yOiAicmVkIiwKICAgICAgICAgICAgaWNvbjogJ2VsLWljb24tY2xvc2UnLAogICAgICAgICAgICBmbGFnOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgICByZWplY3QocmVzKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZVN0ZXBUb3c6IGZ1bmN0aW9uIHNhdmVTdGVwVG93KGRhdGEpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzbG92ZSwgcmVqZWN0KSB7CiAgICAgICAgKDAsIF9hcHBvcnQuYWRkQXBwb3J0RnRqcykoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzOS5mb3JtID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICBfdGhpczkucGVyY2VudGFnZSA9IDEwMDsKICAgICAgICAgICAgX3RoaXM5LmFjdGl2aXRpZXMucHVzaCh7CiAgICAgICAgICAgICAgY29udGVudDogJ+W8gOWni+iuoeeul+iuoeWFpeaIkOacrOWIhuaRiuaVsOaNricsCiAgICAgICAgICAgICAgdGltZXN0YW1wOiAnb2snLAogICAgICAgICAgICAgIHNpemU6ICdsYXJnZScsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGljb246ICdlbC1pY29uLWNoZWNrJywKICAgICAgICAgICAgICBmbGFnOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXNsb3ZlKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzOS5wZXJjZW50YWdlID0gNTA7CiAgICAgICAgICBfdGhpczkuYWN0aXZpdGllcy5wdXNoKHsKICAgICAgICAgICAgY29udGVudDogJ+W8gOWni+iuoeeul+iuoeWFpeaIkOacrOWIhuaRiuaVsOaNricsCiAgICAgICAgICAgIHRpbWVzdGFtcDogJ0Vycm9yJywKICAgICAgICAgICAgc2l6ZTogJ2xhcmdlJywKICAgICAgICAgICAgdHlwZTogJ2RhbmdlcicsCiAgICAgICAgICAgIGNvbG9yOiAicmVkIiwKICAgICAgICAgICAgaWNvbjogJ2VsLWljb24tY2xvc2UnLAogICAgICAgICAgICBmbGFnOiBmYWxzZQogICAgICAgICAgfSk7CiAgICAgICAgICByZWplY3QocmVzKTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZVN0ZXBUb3cxOiBmdW5jdGlvbiBzYXZlU3RlcFRvdzEoZGF0YSkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CiAgICAgIHJldHVybiBuZXcgUHJvbWlzZShmdW5jdGlvbiAocmVzbG92ZSwgcmVqZWN0KSB7CiAgICAgICAgKDAsIF9hcHBvcnQuYWRkQXBwb3J0WWpmdGpzKShkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgX3RoaXMxMC5mb3JtID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICBfdGhpczEwLnBlcmNlbnRhZ2UgPSA4MDsKICAgICAgICAgICAgX3RoaXMxMC5hY3Rpdml0aWVzLnB1c2goewogICAgICAgICAgICAgIGNvbnRlbnQ6ICflvIDlp4vorqHnrpfkuIDnuqfliIbmkYrmlbDmja4nLAogICAgICAgICAgICAgIHRpbWVzdGFtcDogJ29rJywKICAgICAgICAgICAgICBpZGVhMTogJ+S4gOe6p+WIhuaRiuaVsOaNruiuoeeul+WujOaIkCcsCiAgICAgICAgICAgICAgaWRlYTI6ICfliIbmkYrliY3ph5Hpop0nICsgX3RoaXMxMC5mb3JtLmZvcndhcmQsCiAgICAgICAgICAgICAgaWRlYTM6ICfliIbmkYrlkI7ph5Hpop0nICsgX3RoaXMxMC5mb3JtLmJhY2ssCiAgICAgICAgICAgICAgc2l6ZTogJ2xhcmdlJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgaWNvbjogJ2VsLWljb24tY2hlY2snLAogICAgICAgICAgICAgIGZsYWc6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJlc2xvdmUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMxMC5wZXJjZW50YWdlID0gNjA7CiAgICAgICAgICBfdGhpczEwLmFjdGl2aXRpZXMucHVzaCh7CiAgICAgICAgICAgIGNvbnRlbnQ6ICflvIDlp4vorqHnrpfkuIDnuqfliIbmkYrmlbDmja4nLAogICAgICAgICAgICB0aW1lc3RhbXA6ICdFcnJvcicsCiAgICAgICAgICAgIHNpemU6ICdsYXJnZScsCiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLAogICAgICAgICAgICBjb2xvcjogInJlZCIsCiAgICAgICAgICAgIGljb246ICdlbC1pY29uLWNsb3NlJywKICAgICAgICAgICAgZmxhZzogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgICAgcmVqZWN0KHJlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHNhdmVTdGVwVG93MjogZnVuY3Rpb24gc2F2ZVN0ZXBUb3cyKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMTEgPSB0aGlzOwogICAgICByZXR1cm4gbmV3IFByb21pc2UoZnVuY3Rpb24gKHJlc2xvdmUsIHJlamVjdCkgewogICAgICAgICgwLCBfYXBwb3J0LmFkZEFwcG9ydEVqZnRqcykoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIF90aGlzMTEuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMxMS5wZXJjZW50YWdlID0gOTA7CiAgICAgICAgICAgIF90aGlzMTEuYWN0aXZpdGllcy5wdXNoKHsKICAgICAgICAgICAgICBjb250ZW50OiAn5byA5aeL6K6h566X5LqM57qn5YiG5pGK5pWw5o2uJywKICAgICAgICAgICAgICB0aW1lc3RhbXA6ICdvaycsCiAgICAgICAgICAgICAgaWRlYTE6ICfkuoznuqfliIbmkYrmlbDmja7orqHnrpflrozmiJAnLAogICAgICAgICAgICAgIGlkZWEyOiAn5YiG5pGK5YmN6YeR6aKdJyArIF90aGlzMTEuZm9ybS5mb3J3YXJkLAogICAgICAgICAgICAgIGlkZWEzOiAn5YiG5pGK5ZCO6YeR6aKdJyArIF90aGlzMTEuZm9ybS5iYWNrLAogICAgICAgICAgICAgIHNpemU6ICdsYXJnZScsCiAgICAgICAgICAgICAgdHlwZTogJ3N1Y2Nlc3MnLAogICAgICAgICAgICAgIGljb246ICdlbC1pY29uLWNoZWNrJywKICAgICAgICAgICAgICBmbGFnOiB0cnVlCiAgICAgICAgICAgIH0pOwogICAgICAgICAgICByZXNsb3ZlKCk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZWplY3QocmVzcG9uc2UpOwogICAgICAgICAgfQogICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIF90aGlzMTEucGVyY2VudGFnZSA9IDcwOwogICAgICAgICAgX3RoaXMxMS5hY3Rpdml0aWVzLnB1c2goewogICAgICAgICAgICBjb250ZW50OiAn5byA5aeL6K6h566X5LqM57qn5YiG5pGK5pWw5o2uJywKICAgICAgICAgICAgdGltZXN0YW1wOiAnRXJyb3InLAogICAgICAgICAgICBzaXplOiAnbGFyZ2UnLAogICAgICAgICAgICB0eXBlOiAnZGFuZ2VyJywKICAgICAgICAgICAgY29sb3I6ICJyZWQiLAogICAgICAgICAgICBpY29uOiAnZWwtaWNvbi1jbG9zZScsCiAgICAgICAgICAgIGZsYWc6IGZhbHNlCiAgICAgICAgICB9KTsKICAgICAgICAgIHJlamVjdChyZXMpOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICBzYXZlU3RlcFRvdzM6IGZ1bmN0aW9uIHNhdmVTdGVwVG93MyhkYXRhKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKICAgICAgcmV0dXJuIG5ldyBQcm9taXNlKGZ1bmN0aW9uIChyZXNsb3ZlLCByZWplY3QpIHsKICAgICAgICAoMCwgX2FwcG9ydC5hZGRBcHBvcnRTamZ0anMpKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczEyLmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzMTIucGVyY2VudGFnZSA9IDEwMDsKICAgICAgICAgICAgX3RoaXMxMi5hY3Rpdml0aWVzLnB1c2goewogICAgICAgICAgICAgIGNvbnRlbnQ6ICflvIDlp4vorqHnrpfkuInnuqfliIbmkYrmlbDmja4nLAogICAgICAgICAgICAgIHRpbWVzdGFtcDogJ29rJywKICAgICAgICAgICAgICBpZGVhMTogJ+S4iee6p+WIhuaRiuaVsOaNruiuoeeul+WujOaIkCcsCiAgICAgICAgICAgICAgaWRlYTI6ICfliIbmkYrliY3ph5Hpop0nICsgX3RoaXMxMi5mb3JtLmZvcndhcmQsCiAgICAgICAgICAgICAgaWRlYTM6ICfliIbmkYrlkI7ph5Hpop0nICsgX3RoaXMxMi5mb3JtLmJhY2ssCiAgICAgICAgICAgICAgc2l6ZTogJ2xhcmdlJywKICAgICAgICAgICAgICB0eXBlOiAnc3VjY2VzcycsCiAgICAgICAgICAgICAgaWNvbjogJ2VsLWljb24tY2hlY2snLAogICAgICAgICAgICAgIGZsYWc6IHRydWUKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHJlc2xvdmUoKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJlamVjdChyZXNwb25zZSk7CiAgICAgICAgICB9CiAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgX3RoaXMxMi5wZXJjZW50YWdlID0gODA7CiAgICAgICAgICBfdGhpczEyLmFjdGl2aXRpZXMucHVzaCh7CiAgICAgICAgICAgIGNvbnRlbnQ6ICflvIDlp4vorqHnrpfkuInnuqfliIbmkYrmlbDmja4nLAogICAgICAgICAgICB0aW1lc3RhbXA6ICdFcnJvcicsCiAgICAgICAgICAgIHNpemU6ICdsYXJnZScsCiAgICAgICAgICAgIHR5cGU6ICdkYW5nZXInLAogICAgICAgICAgICBjb2xvcjogInJlZCIsCiAgICAgICAgICAgIGljb246ICdlbC1pY29uLWNsb3NlJywKICAgICAgICAgICAgZmxhZzogZmFsc2UKICAgICAgICAgIH0pOwogICAgICAgICAgcmVqZWN0KHJlcyk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;;;AAqDA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAD;MACAE;QACA;QACA;UACA;UACA;UACA;QACA;UACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAP;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAE,aACA;EACAC;IACA;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;QACAC,UACA;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAC,aACA;UAAAH;UAAAC;UAAAC;QAAA;MAEA;IACA;EACA;EACAE;IACA;IACA,4DACA;IACA;EACA;EACAC;IACA;IACAC;MAAA;MACA;QACA;UACA;QACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACAC;QACA;MACA;IACA;IACA,eACAC;MAAA;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;QACA;UACA;YACAC;UACA;QACA;UACA;YACAA;UACA;QACA;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;QACAjC;QACAkC;QACAC;QACAC;QACAnB;QACAI;QACAgB;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;IACA,WACAC;MAAA;MACA;QACA;UACA;UACA;UACA;UACA;;UAEA,mDACA;YACA;UACA;YACA;UACA;YACA;UACA;YACA;UACA;YACA;UACA;QAEA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;YACA;YACA;cACAC;cACAC;cACAC;cACApD;cACAqD;cACAC;YACA;YACAC;UACA;YACAC;UACA;QACA;UACA;UACA;YACAN;YACAC;YACAC;YACApD;YACAyD;YACAJ;YACAC;UACA;UACAE;QACA;MACA;IACA;IACAE;MAAA;MACA;QACA;UACA;YACA;YACA;cACAR;cACAC;cACAC;cACApD;cACAqD;cACAC;YACA;YACAC;UACA;YACAC;UACA;QACA;UACA;UACA;YACAN;YACAC;YACAC;YACApD;YACAyD;YACAJ;YACAC;UACA;UACAE;QACA;MACA;IACA;IACAG;MAAA;MACA;QACA;UACA;YACA;YACA;cACAT;cACAC;cACAC;cACApD;cACAqD;cACAC;YACA;YACAC;UACA;YACAC;UACA;QACA;UACA;UACA;YACAN;YACAC;YACAC;YACApD;YACAyD;YACAJ;YACAC;UACA;UACAE;QACA;MACA;IACA;IACAI;MAAA;MACA;QACA;UACA;YACA;YACA;cACAV;cACAC;cACAC;cACApD;cACAqD;cACAC;YACA;YACAC;UACA;YACAC;UACA;QACA;UACA;UACA;YACAN;YACAC;YACAC;YACApD;YACAyD;YACAJ;YACAC;UACA;UACAE;QACA;MACA;IACA;IACAK;MAAA;MACA;QACA;UACA;UACA;YACA;YACA;cACAX;cACAC;cACAC;cACApD;cACAqD;cACAC;YACA;YACAC;UACA;YACAC;UACA;QACA;UACA;UACA;YACAN;YACAC;YACAC;YACApD;YACAyD;YACAJ;YACAC;UACA;UACAE;QACA;MACA;IACA;IACAM;MAAA;MACA;QACA;UACA;UACA;YACA;YACA;cACAZ;cACAC;cACAY;cACAC;cACAC;cACAb;cACApD;cACAqD;cACAC;YACA;YACAC;UACA;YACAC;UACA;QACA;UACA;UACA;YACAN;YACAC;YACAC;YACApD;YACAyD;YACAJ;YACAC;UACA;UACAE;QACA;MACA;IACA;IACAU;MAAA;MACA;QACA;UACA;UACA;YACA;YACA;cACAhB;cACAC;cACAY;cACAC;cACAC;cACAb;cACApD;cACAqD;cACAC;YACA;YACAC;UACA;YACAC;UACA;QACA;UACA;UACA;YACAN;YACAC;YACAC;YACApD;YACAyD;YACAJ;YACAC;UACA;UACAE;QACA;MACA;IACA;IACAW;MAAA;MACA;QACA;UACA;UACA;YACA;YACA;cACAjB;cACAC;cACAY;cACAC;cACAC;cACAb;cACApD;cACAqD;cACAC;YACA;YACAC;UACA;YACAC;UACA;QACA;UACA;UACA;YACAN;YACAC;YACAC;YACApD;YACAyD;YACAJ;YACAC;UACA;UACAE;QACA;MACA;IACA;EACA;AAAA;AAAA","names":["name","props","open","type","default","id","watch","handler","deep","immediate","components","data","title","openDialog","saveLoading","form","apportTypeOptions","checkData","progressShow","activities","percentage","rules","nowDate","required","message","trigger","apportType","created","methods","getCostApport","getDetailInfo","console","getList","apportTypeFormat","handlerChange","arr","handleDialogClose","cancel","reset","compCode","accountCode","apportCode","forward","back","apportTime","delFlag","createBy","createTime","updateBy","updateTime","remark","submitForm","saveStepOne","content","timestamp","size","icon","flag","reslove","reject","color","saveStepOne1","saveStepOne2","saveStepOne3","saveStepTow","saveStepTow1","idea1","idea2","idea3","saveStepTow2","saveStepTow3"],"sourceRoot":"src/views/apport/apport","sources":["addEdit.vue"],"sourcesContent":["<template>\n    <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"40%\" custom-class=\"el-button--primary\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDialogClose\">\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"110px\">\n        <el-col :span=\"12\">\n          <el-form-item label=\"分摊编码\" prop=\"apportCode\">\n            <el-input v-model=\"form.apportCode\" placeholder=\"请输入分摊编码\"  maxlength=\"50\" show-word-limit disabled />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"分摊年月\" prop=\"nowDate\">\n            <el-date-picker disabled class=\"w100\"\n              v-model=\"form.nowDate\"\n              type=\"month\"\n              value-format=\"yyyy-MM\"\n              placeholder=\"选择年月\">\n            </el-date-picker>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\">\n          <div shadow=\"always\" >\n            <el-button type=\"success\" style=\"float:right\" @click=\"submitForm\" :loading=\"saveLoading\">开始计算</el-button>\n          </div>\n        </el-col>\n          <el-col :span=\"24\" class=\"mb20\" style=\"margin:10px 0 0\">\n            <el-progress v-if=\"progressShow\" :text-inside=\"true\" :stroke-width=\"20\" :percentage=\"percentage\"></el-progress>\n          </el-col>\n          <el-col :span=\"24\" style=\"max-height:450px;overflow:auto;padding:10px 0\">\n            <el-timeline>\n              <el-timeline-item\n                v-for=\"(activity, index) in activities\"\n                :key=\"index\"\n                :icon=\"activity.icon\"\n                :type=\"activity.type\"\n                :size=\"activity.size\"\n              >\n                <!-- :timestamp=\"activity.timestamp\" -->\n                {{activity.content}}\n                <div v-if=\"!activity.flag\" class=\"errorStyle\">{{activity.timestamp}}</div>\n                <div v-if=\"activity.flag\" class=\"successStyle\">{{activity.timestamp}}</div>\n                <div v-if=\"activity.flag\" class=\"successStyle\">{{activity.idea1}}</div>\n                <div v-if=\"activity.flag\" class=\"successStyle\">{{activity.idea2}}</div>\n                <div v-if=\"activity.flag\" class=\"successStyle\">{{activity.idea3}}</div>\n              </el-timeline-item>\n            </el-timeline>\n          </el-col>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n</template>\n\n<script>\nimport { getCostApport } from \"@/api/system/dict/data\"\nimport { validEmail } from'@/utils/validate'\nimport { listApport, getApport, addApportFtjs,addApportYjftjs,addApportEjftjs,addApportSjftjs, addVerification1,addVerification2,addVerification3,addVerification } from \"@/api/apport/apport\";\n\nexport default {\n  name: \"addEdit\",\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: [String, Number],\n      default: \"\"\n    }\n  },\n  watch: {\n    id: {\n      handler(val) {\n        this.reset();\n        if (val) {\n          this.id = val;\n          this.title = \"成本分摊 / 分摊计算\";\n          this.getDetailInfo();\n        } else {\n          this.form.apportType='1';\n          this.id = \"\";\n          this.title = \"成本分摊 / 分摊计算\";\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    open: {\n      handler(val) {\n        this.openDialog = val;\n      },\n      deep: true\n    }\n  },\n  components: {\n  },\n  data() {\n    return {\n      title: \"分摊计算管理-新增\",\n      openDialog: this.open,\n      saveLoading: false,\n      // 表单参数\n      form: {},\n      apportTypeOptions: [],\n      checkData:[],\n      progressShow:false,\n      activities: [],\n      percentage:0,\n\t  \t// 表单校验\n      rules: {\n        nowDate: [\n          { required: true, message: \"分摊年月不能为空\", trigger: \"blur\" }\n        ],\n        apportType: [\n          { required: true, message: \"分摊级别不能为空\", trigger: \"blur\" }\n        ],\n      }\n    };\n  },\n  created() {\n    this.getList();\n    this.getDicts(\"cost_apport_type\").then(response => {\n    });\n    this.getCostApport()\n  },\n  methods: {\n    //分摊计算弹框年月限制\n    getCostApport() {\n      getCostApport(this.$store.state.user.accountInfo.deptId).then(response => {\n        if (response.data) {\n          this.form.nowDate = response.data;\n        } else {\n          this.form.nowDate = getYear();\n        }\n      });\n    },\n  \tgetDetailInfo() {\n      getApport(this.id).then(response => {\n        console.log(response);\n        this.form = response.data;\n      });\n    },\n    /** 查询分摊计算列表 */\n    getList() {\n      this.loading = true;\n      listApport(this.queryParams).then(response => {\n        this.apportList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n    // 分摊级别(保存最后的级别)字典翻译\n    apportTypeFormat(row, column) {\n      return this.selectDictLabel(this.apportTypeOptions, row.apportType);\n    },\n    //分摊计算的多选关联\n    handlerChange(e,el){\n      let arr=[]\n      this.apportTypeOptions.forEach((ite,i)=>{\n        if(el.target.checked){\n          if(ite.dictValue<=el.target.value){\n            arr.push(ite.dictValue)\n          }\n        }else{\n          if(ite.dictValue<el.target.value){\n            arr.push(ite.dictValue)\n          }\n        }\n      })\n      this.form.apportType=arr\n    },\n    // 弹框关闭\n    handleDialogClose() {\n      this.$emit(\"success\", false);\n      this.$emit(\"cancel\", false);\n    },\n    // 取消\n    cancel() {\n      this.$emit(\"success\", false);\n      this.$emit(\"cancel\", false);\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: this.$store.state.user.userInfo.deptId,\n        accountCode: this.$store.state.user.accountInfo.accountCode,\n        apportCode: null,\n        nowDate: null,\n        apportType: [],\n        forward: null,\n        back: null,\n        apportTime: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          this.saveLoading = true;\n          this.activities = []\n          this.progressShow = true\n         // this.form.apportType=this.form.apportType.sort((a,b)=>{return b-a})[0]\n\n            this.saveStepOne1(this.form).then(()=>{\n            }).then(()=>{\n              return this.saveStepOne2(this.form)\n            }).then(()=>{\n              return this.saveStepOne3(this.form)\n            }).then(()=>{\n              return this.saveStepTow(this.form)\n            }).then(()=>{\n              this.saveLoading = false;\n            }).catch((res)=>{\n              this.saveLoading = false;\n            })\n\n        }\n      });\n    },\n    saveStepOne(data){\n      return new Promise((reslove,reject)=>{\n        addVerification1(data).then(response =>{\n          if(response.code == 200){\n            this.percentage = 15\n            this.activities.push({\n              content: '验证科室快照',\n              timestamp: 'ok',\n              size: 'large',\n              type: 'success',\n              icon: 'el-icon-check',\n              flag:true\n            })\n            reslove()\n          }else{\n            reject(response)\n          }\n        }).catch((res)=>{\n          this.percentage = 10\n          this.activities.push({\n            content: '验证科室快照',\n            timestamp: 'Error',\n            size: 'large',\n            type: 'danger',\n            color:\"red\",\n            icon: 'el-icon-close',\n            flag:false\n          })\n          reject(res)\n        })\n      })\n    },\n    saveStepOne1(data){\n      return new Promise((reslove,reject)=>{\n        addVerification2(data).then(response =>{\n          if(response.code == 200){\n            this.percentage = 30\n            this.activities.push({\n              content: '验证分摊方案',\n              timestamp: 'ok',\n              size: 'large',\n              type: 'success',\n              icon: 'el-icon-check',\n              flag:true\n            })\n            reslove()\n          }else{\n            reject(response)\n          }\n        }).catch((res)=>{\n          this.percentage = 20\n          this.activities.push({\n            content: '验证分摊方案',\n            timestamp: 'Error',\n            size: 'large',\n            type: 'danger',\n            color:\"red\",\n            icon: 'el-icon-close',\n            flag:false\n          })\n          reject(res)\n        })\n      })\n    },\n    saveStepOne2(data){\n      return new Promise((reslove,reject)=>{\n        addVerification3(data).then(response =>{\n          if(response.code == 200){\n            this.percentage = 45\n            this.activities.push({\n              content: '验证分摊比例',\n              timestamp: 'ok',\n              size: 'large',\n              type: 'success',\n              icon: 'el-icon-check',\n              flag:true\n            })\n            reslove()\n          }else{\n            reject(response)\n          }\n        }).catch((res)=>{\n          this.percentage = 30\n          this.activities.push({\n            content: '验证分摊比例',\n            timestamp: 'Error',\n            size: 'large',\n            type: 'danger',\n            color:\"red\",\n            icon: 'el-icon-close',\n            flag:false\n          })\n          reject(res)\n        })\n      })\n    },\n    saveStepOne3(data){\n      return new Promise((reslove,reject)=>{\n        addVerification(data).then(response =>{\n          if(response.code == 200){\n            this.percentage = 60\n            this.activities.push({\n              content: '验证成本数据',\n              timestamp: 'ok',\n              size: 'large',\n              type: 'success',\n              icon: 'el-icon-check',\n              flag:true\n            })\n            reslove()\n          }else{\n            reject(response)\n          }\n        }).catch((res)=>{\n          this.percentage = 40\n          this.activities.push({\n            content: '验证成本数据',\n            timestamp: 'Error',\n            size: 'large',\n            type: 'danger',\n            color:\"red\",\n            icon: 'el-icon-close',\n            flag:false\n          })\n          reject(res)\n        })\n      })\n    },\n    saveStepTow(data){\n      return new Promise((reslove,reject)=>{\n        addApportFtjs(data).then(response =>{\n          this.form = response.data;\n          if(response.code == 200){\n            this.percentage = 100\n            this.activities.push({\n              content: '开始计算计入成本分摊数据',\n              timestamp: 'ok',\n              size: 'large',\n              type: 'success',\n              icon: 'el-icon-check',\n              flag:true\n            })\n            reslove()\n          }else{\n            reject(response)\n          }\n        }).catch((res)=>{\n          this.percentage = 50\n          this.activities.push({\n            content: '开始计算计入成本分摊数据',\n            timestamp: 'Error',\n            size: 'large',\n            type: 'danger',\n            color:\"red\",\n            icon: 'el-icon-close',\n            flag:false\n          })\n          reject(res)\n        })\n      })\n    },\n    saveStepTow1(data){\n      return new Promise((reslove,reject)=>{\n        addApportYjftjs(data).then(response =>{\n          this.form = response.data;\n          if(response.code == 200){\n            this.percentage = 80\n            this.activities.push({\n              content: '开始计算一级分摊数据',\n              timestamp: 'ok',\n              idea1: '一级分摊数据计算完成',\n              idea2: '分摊前金额'+this.form.forward,\n              idea3: '分摊后金额'+this.form.back,\n              size: 'large',\n              type: 'success',\n              icon: 'el-icon-check',\n              flag:true\n            })\n            reslove()\n          }else{\n            reject(response)\n          }\n        }).catch((res)=>{\n          this.percentage = 60\n          this.activities.push({\n            content: '开始计算一级分摊数据',\n            timestamp: 'Error',\n            size: 'large',\n            type: 'danger',\n            color:\"red\",\n            icon: 'el-icon-close',\n            flag:false\n          })\n          reject(res)\n        })\n      })\n    },\n    saveStepTow2(data){\n      return new Promise((reslove,reject)=>{\n        addApportEjftjs(data).then(response =>{\n          this.form = response.data;\n          if(response.code == 200){\n            this.percentage = 90\n            this.activities.push({\n              content: '开始计算二级分摊数据',\n              timestamp: 'ok',\n              idea1: '二级分摊数据计算完成',\n              idea2: '分摊前金额'+this.form.forward,\n              idea3: '分摊后金额'+this.form.back,\n              size: 'large',\n              type: 'success',\n              icon: 'el-icon-check',\n              flag:true\n            })\n            reslove()\n          }else{\n            reject(response)\n          }\n        }).catch((res)=>{\n          this.percentage = 70\n          this.activities.push({\n            content: '开始计算二级分摊数据',\n            timestamp: 'Error',\n            size: 'large',\n            type: 'danger',\n            color:\"red\",\n            icon: 'el-icon-close',\n            flag:false\n          })\n          reject(res)\n        })\n      })\n    },\n    saveStepTow3(data){\n      return new Promise((reslove,reject)=>{\n        addApportSjftjs(data).then(response =>{\n          this.form = response.data;\n          if(response.code == 200){\n            this.percentage = 100\n            this.activities.push({\n              content: '开始计算三级分摊数据',\n              timestamp: 'ok',\n              idea1: '三级分摊数据计算完成',\n              idea2: '分摊前金额'+this.form.forward,\n              idea3: '分摊后金额'+this.form.back,\n              size: 'large',\n              type: 'success',\n              icon: 'el-icon-check',\n              flag:true\n            })\n            reslove()\n          }else{\n            reject(response)\n          }\n        }).catch((res)=>{\n          this.percentage = 80\n          this.activities.push({\n            content: '开始计算三级分摊数据',\n            timestamp: 'Error',\n            size: 'large',\n            type: 'danger',\n            color:\"red\",\n            icon: 'el-icon-close',\n            flag:false\n          })\n          reject(res)\n        })\n      })\n    },\n}};\n</script>\n<style lang=\"scss\" scoped>\n  ::v-deep .el-dialog {\n    min-height: 20%;\n    overflow: hidden;\n    .el-dialog__body {\n      height: calc(100% - 100px);\n      overflow: auto;\n      padding: 30px 20px 0 !important;\n    }\n  }\n</style>\n"]}]}
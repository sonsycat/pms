{"remainingRequest":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\report\\report\\lcfwqcb.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\report\\report\\lcfwqcb.vue","mtime":1693362205825},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAiVXJlcG9ydERpc3BsYXkiLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzcmM6ICIiLAogICAgICBoZWlnaHQ6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSAyMTAgKyAicHg7IiwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHR5cGVPcHRpb25zOiBbXSwKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICB0eXBlOiAnMScsCiAgICAgICAgbW9udGg6IG51bGwsCiAgICAgICAgeWVhcjogbnVsbAogICAgICB9LAogICAgICBydWxlczogewogICAgICAgIHllYXI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLlubTkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogWyJibHVyIiwgImNoYW5nZSJdCiAgICAgICAgfV0sCiAgICAgICAgbW9udGg6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLlubTmnIjkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogWyJibHVyIiwgImNoYW5nZSJdCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgdGhpcy5nZXREaWN0cygiY29zdF9yZXBvcnRfdHlwZSIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnR5cGVPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzMi5sb2FkaW5nID0gZmFsc2U7CiAgICB9LCAyMzApOwogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gdGVtcCgpIHsKICAgICAgdGhhdC5oZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gOTQuNSArICJweDsiOwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi9yZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnllYXIgPSBudWxsOwogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLm1vbnRoID0gbnVsbDsKICAgIH0sCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovaGFuZGxlUXVlcnk6IGZ1bmN0aW9uIGhhbmRsZVF1ZXJ5KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1sicXVlcnlGb3JtIl0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgZnhiID0gIuWMu+mZouS4tOW6iuacjeWKoeexu+enkeWupOWFqOaIkOacrC51cmVwb3J0LnhtbCI7CiAgICAgICAgICB2YXIgZnhiMSA9ICLljLvpmaLkuLTluormnI3liqHnsbvnp5HlrqTlhajmiJDmnKwxLnVyZXBvcnQueG1sIjsKICAgICAgICAgIHZhciBzdHI7CiAgICAgICAgICBpZiAoX3RoaXMzLnF1ZXJ5UGFyYW1zLnR5cGUgPT0gJzEnKSB7CiAgICAgICAgICAgIF90aGlzMy5zcmMgPSAiL3VyZXBvcnQvcHJldmlldz9fdT1teXNxbDoiICsgZnhiICsgIiZkYXRlU3RyPSIgKyBfdGhpczMucXVlcnlQYXJhbXMueWVhciArICImZGF0ZT0iICsgX3RoaXMzLnF1ZXJ5UGFyYW1zLnllYXIgKyAiJmNvbXBDb2RlPSIgKyBfdGhpczMuJHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudEluZm8uZGVwdElkICsgIiZjb21wTmFtZT0iICsgX3RoaXMzLiRzdG9yZS5zdGF0ZS51c2VyLmFjY291bnRJbmZvLmRlcHROYW1lOwogICAgICAgICAgfSBlbHNlIGlmIChfdGhpczMucXVlcnlQYXJhbXMudHlwZSA9PSAnMicpIHsKICAgICAgICAgICAgX3RoaXMzLnNyYyA9ICIvdXJlcG9ydC9wcmV2aWV3P191PW15c3FsOiIgKyBmeGIxICsgIiZkYXRlU3RyPSIgKyBfdGhpczMucXVlcnlQYXJhbXMubW9udGggKyAiJmRhdGU9IiArIF90aGlzMy5xdWVyeVBhcmFtcy5tb250aCArICImY29tcENvZGU9IiArIF90aGlzMy4kc3RvcmUuc3RhdGUudXNlci5hY2NvdW50SW5mby5kZXB0SWQgKyAiJmNvbXBOYW1lPSIgKyBfdGhpczMuJHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudEluZm8uZGVwdE5hbWU7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eA4CA;EACAA;EACAC,aACA;EACAC;IACA;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;QACAC;QACAC;QACAC;MACA;MACAC;QACAD,OACA;UACAE;UACAC;UACAC;QACA,EACA;QACAL,QACA;UACAG;UACAC;UACAC;QACA;MAEA;IAEA;EACA;EACAC;IAAA;IACA;MACA;IACA;EACA;EACAC;IAAA;IACAC;MACA;IACA;IACA;IACAC;MACAC;IACA;EACA;EACAC;IACA,aACAC;MACA;MACA;IACA;IACA,aACAC;MAAA;MACA;QACA;UACA;UACA;UACA;UACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;EAEA;AACA;AAAA","names":["name","components","data","src","height","loading","typeOptions","queryParams","type","month","year","rules","required","message","trigger","created","mounted","setTimeout","window","that","methods","resetQuery","handleQuery"],"sourceRoot":"src/views/report/report","sources":["lcfwqcb.vue"],"sourcesContent":["<template>\n  <!--全院固定资产折旧汇总表  -->\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" :rules=\"rules\" label-width=\"80px\">\n      <el-form-item label=\"报表类型\" prop=\"type\">\n        <el-select v-model=\"queryParams.type\" placeholder=\"请选择分摊级别\" clearable size=\"small\">\n          <el-option\n            v-for=\"dict in typeOptions\"\n            :key=\"dict.dictValue\"\n            :label=\"dict.dictLabel\"\n            :value=\"dict.dictValue\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"年月\" v-if=\"queryParams.type=='2'\" prop=\"month\">\n        <el-date-picker clearable size=\"small\"\n                        v-model=\"queryParams.month\"\n                        type=\"month\"\n                        value-format=\"yyyy-MM\"\n                        placeholder=\"请输入年月\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item label=\"年\" v-if=\"queryParams.type=='1'\" prop=\"year\">\n        <el-date-picker clearable size=\"small\"\n                        v-model=\"queryParams.year\"\n                        type=\"year\"\n                        value-format=\"yyyy\"\n                        placeholder=\"请输入年\">\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    <div v-loading=\"loading\" :style=\"'height:'+ height\">\n      <iframe :src=\"src\" frameborder=\"no\" style=\"width: 100%;height: 100%\" scrolling=\"auto\" />\n    </div>\n  </div>\n</template>\n\n<script>\n\n\n  export default {\n    name: \"UreportDisplay\",\n    components: {\n    },\n    data() {\n      return {\n        src: \"\",\n        height: document.documentElement.clientHeight - 210 + \"px;\",\n        loading: true,\n        // 查询参数\n        typeOptions :[],\n        queryParams: {\n          type : '1',\n          month : null,\n          year : null\n        },\n        rules: {\n          year: [\n            {\n              required: true,\n              message: \"年不能为空\",\n              trigger: [\"blur\", \"change\"]\n            }\n          ],\n          month: [\n            {\n              required: true,\n              message: \"年月不能为空\",\n              trigger: [\"blur\", \"change\"]\n            }\n          ],\n        },\n\n      };\n    },\n    created() {\n      this.getDicts(\"cost_report_type\").then(response => {\n        this.typeOptions = response.data;\n      });\n    },\n    mounted: function() {\n      setTimeout(() => {\n        this.loading = false;\n      }, 230);\n      const that = this;\n      window.onresize = function temp() {\n        that.height = document.documentElement.clientHeight - 94.5 + \"px;\";\n      };\n    },\n    methods:{\n      /** 重置按钮操作 */\n      resetQuery() {\n        this.queryParams.year = null\n        this.queryParams.month = null\n      },\n      /** 搜索按钮操作 */\n      handleQuery() {\n        this.$refs[\"queryForm\"].validate(valid => {\n          if (valid) {\n            var fxb = \"医院临床服务类科室全成本.ureport.xml\";\n            var fxb1 = \"医院临床服务类科室全成本1.ureport.xml\";\n            var str;\n            if(this.queryParams.type=='1'){\n              this.src = \"/ureport/preview?_u=mysql:\"+fxb+\"&dateStr=\"+this.queryParams.year+\"&date=\"+this.queryParams.year+\"&compCode=\"+this.$store.state.user.accountInfo.deptId+\"&compName=\"+this.$store.state.user.accountInfo.deptName;\n            }else if(this.queryParams.type=='2'){\n              this.src = \"/ureport/preview?_u=mysql:\"+fxb1+\"&dateStr=\"+this.queryParams.month+\"&date=\"+this.queryParams.month+\"&compCode=\"+this.$store.state.user.accountInfo.deptId+\"&compName=\"+this.$store.state.user.accountInfo.deptName;\n            }\n          }\n        });\n      }\n\n    }\n  }\n</script>\n"]}]}
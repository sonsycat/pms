{"remainingRequest":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\workload\\workload\\addEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\workload\\workload\\addEdit.vue","mtime":1682043106834},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\babel.config.js","mtime":1682043101067},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi95cytqeC95cytqeC96anJ5LXBtcy11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci5jb25zdHJ1Y3Rvci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC50ZXN0LmpzIik7CnZhciBfd29ya2xvYWQgPSByZXF1aXJlKCJAL2FwaS93b3JrbG9hZC93b3JrbG9hZCIpOwp2YXIgX3R5cGUgPSByZXF1aXJlKCJAL2FwaS93b3JrbG9hZC90eXBlIik7CnZhciBfanNQaW55aW4gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoImpzLXBpbnlpbiIpKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICdhZGRFZGl0JywKICBwcm9wczogewogICAgb3BlbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGlkOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgaWYgKHZhbCkgewogICAgICAgICAgdGhpcy5pZCA9IHZhbDsKICAgICAgICAgIHRoaXMudGl0bGUgPSAn5bel5L2c6YeP566h55CGLee8lui+kSc7CiAgICAgICAgICB0aGlzLmdldERldGFpbEluZm8oKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pZCA9ICcnOwogICAgICAgICAgdGhpcy50aXRsZSA9ICflt6XkvZzph4/nrqHnkIYt5paw5aKeJzsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIG9wZW46IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLm9wZW5EaWFsb2cgPSB2YWw7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogJ+W3peS9nOmHj+euoeeQhi3mlrDlop4nLAogICAgICBvcGVuRGlhbG9nOiB0aGlzLm9wZW4sCiAgICAgIHR5cGVMaXN0OiBbXSwKICAgICAgc2F2ZUxvYWRpbmc6IGZhbHNlLAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybToge30sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczogewogICAgICAgIHdvcmtsb2FkRGF0ZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+W5tOaciCcsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9XSwKICAgICAgICBwcm9qZWN0Q29kZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+mhueebrue8lueggScsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9XSwKICAgICAgICBwcm9qZWN0TmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+mhueebruWQjeensCcsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9XSwKICAgICAgICB0eXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn57G75Z6LJywKICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgIH1dLAogICAgICAgIGhvc3BpdGFsUG9pbnRzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5L2P6Zmi56ev5YiGJywKICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgIH1dLAogICAgICAgIG91dHBhdGllbnRQb2ludHM6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfpl6jor4onLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfV0KICAgICAgfQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgKDAsIF90eXBlLmxpc3RUeXBlKShudWxsKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy50eXBlTGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICB9KTsKICAgIHRoaXMuZ2V0TGlzdCgpOwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0RGV0YWlsSW5mbzogZnVuY3Rpb24gZ2V0RGV0YWlsSW5mbygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgICgwLCBfd29ya2xvYWQuZ2V0V29ya2xvYWQpKHRoaXMuaWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UpOwogICAgICAgIF90aGlzMi5mb3JtID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOafpeivouW3peS9nOmHj+WIl+ihqCAqL2dldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAoMCwgX3dvcmtsb2FkLmxpc3RXb3JrbG9hZCkodGhpcy5xdWVyeVBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMud29ya2xvYWRMaXN0ID0gcmVzcG9uc2Uucm93czsKICAgICAgICBfdGhpczMudG90YWwgPSByZXNwb25zZS50b3RhbDsKICAgICAgICBfdGhpczMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlvLnmoYblhbPpl60KICAgIGhhbmRsZURpYWxvZ0Nsb3NlOiBmdW5jdGlvbiBoYW5kbGVEaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJywgZmFsc2UpOwogICAgfSwKICAgIC8vIOWPlua2iAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcsIGZhbHNlKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGlkOiBudWxsLAogICAgICAgIGNvbXBDb2RlOiBudWxsLAogICAgICAgIGFjY291bnRDb2RlOiBudWxsLAogICAgICAgIHByb2plY3RDb2RlOiBudWxsLAogICAgICAgIHByb2plY3ROYW1lOiBudWxsLAogICAgICAgIHR5cGU6IG51bGwsCiAgICAgICAgc3BlbGw6IG51bGwsCiAgICAgICAgaG9zcGl0YWxQb2ludHM6IG51bGwsCiAgICAgICAgb3V0cGF0aWVudFBvaW50czogbnVsbCwKICAgICAgICBkZWxGbGFnOiBudWxsLAogICAgICAgIGNyZWF0ZUJ5OiBudWxsLAogICAgICAgIGNyZWF0ZVRpbWU6IG51bGwsCiAgICAgICAgdXBkYXRlQnk6IG51bGwsCiAgICAgICAgdXBkYXRlVGltZTogbnVsbCwKICAgICAgICByZW1hcms6IG51bGwsCiAgICAgICAgd29ya2xvYWREYXRlOiBudWxsCiAgICAgIH07CiAgICAgIHRoaXMucmVzZXRGb3JtKCdmb3JtJyk7CiAgICB9LAogICAgZ2V0UHltOiBmdW5jdGlvbiBnZXRQeW0oKSB7CiAgICAgIC8vIOWFqOaYr+Wtl+avjeeahOaDheWGteS4iyzmi7zpn7PnoIHnrYnkuo7miYDmnInlrZfmr40KICAgICAgaWYgKC9eW2EtekEtWl0qJC8udGVzdCh0aGlzLmZvcm0ucHJvamVjdE5hbWUpKSB7CiAgICAgICAgdGhpcy5mb3JtLnNwZWxsID0gdGhpcy5mb3JtLnByb2plY3ROYW1lOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICAvLyDmnInmsYnlrZfnmoTmg4XlhrXkuIss6L2s5Li66aaW5a2X5q+NCiAgICAgIHZhciBmdWxsTmFtZSA9IF9qc1Bpbnlpbi5kZWZhdWx0LmdldENhbWVsQ2hhcnModGhpcy5mb3JtLnByb2plY3ROYW1lKS50b1VwcGVyQ2FzZSgpOwogICAgICB2YXIgcHltID0gJyc7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgZnVsbE5hbWUubGVuZ3RoOyBpKyspIHsKICAgICAgICB2YXIgYyA9IGZ1bGxOYW1lLmNoYXJBdChpKTsKICAgICAgICBpZiAoL15bQS1aXSskLy50ZXN0KGMpKSB7CiAgICAgICAgICBweW0gKz0gYzsKICAgICAgICB9CiAgICAgIH0KICAgICAgdGhpcy5mb3JtLnNwZWxsID0gcHltOwogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi9zdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1snZm9ybSddLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgX3RoaXM0LnNhdmVMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgIGlmIChfdGhpczQuZm9ybS5pZCAhPSBudWxsKSB7CiAgICAgICAgICAgICgwLCBfd29ya2xvYWQudXBkYXRlV29ya2xvYWQpKF90aGlzNC5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzNC5tc2dTdWNjZXNzKCfkv67mlLnmiJDlip8nKTsKICAgICAgICAgICAgICBfdGhpczQuJGVtaXQoJ3N1Y2Nlc3MnLCBmYWxzZSk7CiAgICAgICAgICAgICAgX3RoaXM0LnNhdmVMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uIChlcnIpIHsKICAgICAgICAgICAgICBfdGhpczQuc2F2ZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAoMCwgX3dvcmtsb2FkLmFkZFdvcmtsb2FkKShfdGhpczQuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBfdGhpczQubXNnU3VjY2Vzcygn5paw5aKe5oiQ5YqfJyk7CiAgICAgICAgICAgICAgX3RoaXM0LiRlbWl0KCdzdWNjZXNzJywgZmFsc2UpOwogICAgICAgICAgICAgIF90aGlzNC5zYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgX3RoaXM0LnNhdmVMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;;AA6DA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAD;MACAE;QACA;QACA;UACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAP;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAE;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;QACAC,eACA;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAC,cACA;UAAAH;UAAAC;UAAAC;QAAA,EACA;QACAE,cACA;UAAAJ;UAAAC;UAAAC;QAAA,EACA;QACAlB,OACA;UAAAgB;UAAAC;UAAAC;QAAA,EACA;QACAG,iBACA;UAAAL;UAAAC;UAAAC;QAAA,EACA;QACAI,mBACA;UAAAN;UAAAC;UAAAC;QAAA;MAEA;IACA;EACA;EACAK;IAAA;IAEA;MACA;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC;QACA;MACA;IACA;IACA,cACAC;MAAA;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACA5B;QACA6B;QACAC;QACAb;QACAC;QACApB;QACAiC;QACAZ;QACAC;QACAY;QACAC;QACAC;QACAC;QACAC;QACAC;QACAxB;MACA;MACA;IACA;IACAyB;MACA;MACA;QACA;QACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;UACAC;QACA;MACA;MACA;IACA;IACA,WACAC;MAAA;MACA;QACA;UACA;UACA;YACA;cACA;cACA;cACA;YACA;cACA;YACA;UACA;YACA;cACA;cACA;cACA;YACA;cACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","open","type","default","id","watch","handler","deep","immediate","components","data","title","openDialog","typeList","saveLoading","form","rules","workloadDate","required","message","trigger","projectCode","projectName","hospitalPoints","outpatientPoints","created","methods","getDetailInfo","console","getList","handleDialogClose","cancel","reset","compCode","accountCode","spell","delFlag","createBy","createTime","updateBy","updateTime","remark","getPym","pym","submitForm"],"sourceRoot":"src/views/workload/workload","sources":["addEdit.vue"],"sourcesContent":["<template>\n  <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"40%\" custom-class=\"el-button--primary\" append-to-body\n             :close-on-click-modal=\"false\" @close=\"handleDialogClose\"\n  >\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"年月\" prop=\"workloadDate\">\n            <el-date-picker clearable size=\"mini\"\n                            v-model=\"form.workloadDate\"\n                            type=\"month\"\n                            value-format=\"yyyy-MM-dd\"\n                            placeholder=\"选择年月\"\n            >\n            </el-date-picker>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"项目编码\" prop=\"projectCode\">\n            <el-input v-model=\"form.projectCode\" placeholder=\"请输入项目编码\" maxlength=\"50\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"项目名称\" prop=\"projectName\">\n            <el-input v-model=\"form.projectName\" placeholder=\"请输入项目名称\" maxlength=\"50\" show-word-limit @blur=\"getPym\"/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"类别\" prop=\"type\">\n            <el-select v-model=\"form.type\" placeholder=\"请选择类别\">\n              <el-option label=\"请选择字典生成\" :value=\"item.typeCode\" v-for=\"item in typeList\" :label=\"item.typeName\"/>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"拼音码\" prop=\"spell\">\n            <el-input v-model=\"form.spell\" placeholder=\"请输入拼音码\" disabled maxlength=\"50\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"住院积分\" prop=\"hospitalPoints\">\n            <el-input-number :precision=\"2\" :step=\"0.01\" :min=\"0\" controls-position=\"right\" v-model=\"form.hospitalPoints\"\n                             placeholder=\"请输入住院积分\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"门诊积分\" prop=\"outpatientPoints\">\n            <el-input-number :precision=\"2\" :step=\"0.01\" :min=\"0\" controls-position=\"right\" v-model=\"form.outpatientPoints\"\n                             placeholder=\"请输入门诊积分\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"submitForm\" :loading=\"saveLoading\">确 定</el-button>\n      <el-button @click=\"cancel\">取 消</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { addWorkload, getWorkload, listWorkload, updateWorkload } from '@/api/workload/workload'\nimport { listType } from '@/api/workload/type'\nimport pinyin from 'js-pinyin'\n\nexport default {\n  name: 'addEdit',\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  watch: {\n    id: {\n      handler(val) {\n        this.reset()\n        if (val) {\n          this.id = val\n          this.title = '工作量管理-编辑'\n          this.getDetailInfo()\n        } else {\n          this.id = ''\n          this.title = '工作量管理-新增'\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    open: {\n      handler(val) {\n        this.openDialog = val\n      },\n      deep: true\n    }\n  },\n  components: {},\n  data() {\n    return {\n      title: '工作量管理-新增',\n      openDialog: this.open,\n      typeList: [],\n      saveLoading: false,\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        workloadDate: [\n          { required: true, message: '年月', trigger: ['blur', 'change'] }\n        ],\n        projectCode: [\n          {required: true, message: '项目编码', trigger: ['blur', 'change'] }\n        ],\n        projectName: [\n          { required: true, message: '项目名称', trigger: ['blur', 'change'] }\n        ],\n        type: [\n          { required: true, message: '类型', trigger: ['blur', 'change'] }\n        ],\n        hospitalPoints: [\n          { required: true, message: '住院积分', trigger: ['blur', 'change'] }\n        ],\n        outpatientPoints: [\n          { required: true, message: '门诊', trigger: ['blur', 'change'] }\n        ]\n      }\n    }\n  },\n  created() {\n\n    listType(null).then(response => {\n      this.typeList = response.rows\n    })\n    this.getList()\n  },\n  methods: {\n    getDetailInfo() {\n      getWorkload(this.id).then(response => {\n        console.log(response)\n        this.form = response.data\n      })\n    },\n    /** 查询工作量列表 */\n    getList() {\n      this.loading = true\n      listWorkload(this.queryParams).then(response => {\n        this.workloadList = response.rows\n        this.total = response.total\n        this.loading = false\n      })\n    },\n    // 弹框关闭\n    handleDialogClose() {\n      this.$emit('cancel', false)\n    },\n    // 取消\n    cancel() {\n      this.$emit('cancel', false)\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: null,\n        accountCode: null,\n        projectCode: null,\n        projectName: null,\n        type: null,\n        spell: null,\n        hospitalPoints: null,\n        outpatientPoints: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null,\n        workloadDate: null\n      }\n      this.resetForm('form')\n    },\n    getPym() {\n      // 全是字母的情况下,拼音码等于所有字母\n      if (/^[a-zA-Z]*$/.test(this.form.projectName)) {\n        this.form.spell = this.form.projectName\n        return\n      }\n      // 有汉字的情况下,转为首字母\n      let fullName = pinyin.getCamelChars(this.form.projectName).toUpperCase()\n      let pym = ''\n      for (var i = 0; i < fullName.length; i++) {\n        var c = fullName.charAt(i)\n        if (/^[A-Z]+$/.test(c)) {\n          pym += c\n        }\n      }\n      this.form.spell = pym\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          this.saveLoading = true\n          if (this.form.id != null) {\n            updateWorkload(this.form).then(response => {\n              this.msgSuccess('修改成功')\n              this.$emit('success', false)\n              this.saveLoading = false\n            }).catch((err)=>{\n              this.saveLoading = false;\n            });\n          } else {\n            addWorkload(this.form).then(response => {\n              this.msgSuccess('新增成功')\n              this.$emit('success', false)\n              this.saveLoading = false\n            }).catch((err)=>{\n              this.saveLoading = false;\n            });\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .el-dialog {\n  min-height: 20%;\n  overflow: hidden;\n  .el-dialog__body {\n    height: calc(100% - 100px);\n    overflow: auto;\n    .el-input--mini,.el-input-number--mini,.el-select--mini,.el-date-picker--mini{\n      width: 100%;\n    }\n  }\n}\n</style>\n"]}]}
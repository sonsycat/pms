{"remainingRequest":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\oracle_java\\pms (2)\\pms_UI\\src\\views\\quality\\quality\\detailEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\src\\views\\quality\\quality\\detailEdit.vue","mtime":1693362205000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\babel.config.js","mtime":1693361824000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9Xb3JrL29yYWNsZV9qYXZhL3BtcyAoMikvcG1zX1VJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwp2YXIgX3ZhbGlkYXRlID0gcmVxdWlyZSgiQC91dGlscy92YWxpZGF0ZSIpOwp2YXIgX3F1YWxpdHkgPSByZXF1aXJlKCJAL2FwaS9xdWFsaXR5L3F1YWxpdHkiKTsKdmFyIF91dGlscyA9IHJlcXVpcmUoIkAvYXBpL3V0aWxzIik7CnZhciBfZGV0YWlsID0gcmVxdWlyZSgiQC9hcGkvcXVhbGl0eS9kZXRhaWwiKTsKdmFyIF9mb3JtRGVzaWduID0gcmVxdWlyZSgiQC9hcGkvZm9ybURlc2lnbi9mb3JtRGVzaWduIik7CnZhciBfZGV0YWlsSW5mbyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9kZXRhaWxJbmZvIikpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogImFkZEVkaXQiLAogIHByb3BzOiB7CiAgICBvcGVuOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZGF0YXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBudWxsCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgZGF0YXM6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgaWYgKHZhbCkgewogICAgICAgICAgdGhpcy5wYXJhbXNEYXRhID0gdmFsOwogICAgICAgICAgdGhpcy50aXRsZSA9ICLmn6XnnIvor6bmg4UgLyDotKjph4/lvpfliIYiOwogICAgICAgICAgdGhpcy5nZXREZXRhaWxJbmZvKCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBvcGVuOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5vcGVuRGlhbG9nID0gdmFsOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBkZXRhaWxJbmZvOiBfZGV0YWlsSW5mby5kZWZhdWx0CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREZXRhaWxJbmZvKCk7CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICLmn6XnnIvor6bmg4UgLyDotKjph4/lvpfliIYiLAogICAgICBvcGVuRGlhbG9nOiB0aGlzLm9wZW4sCiAgICAgIHBhcmFtc0RhdGE6IG51bGwsCiAgICAgIGRldGFpbFRpdGxlOiAi5p+l55yL6K+m5oOFIC8g6LSo6YeP5b6X5YiGIC8g5b6X5YiG5piO57uGIiwKICAgICAgb3BlbkRldGFpbERpYWxvZzogZmFsc2UsCiAgICAgIHNhdmVMb2FkaW5nOiBmYWxzZSwKICAgICAgb3BlbkluZm86IGZhbHNlLAogICAgICBzaW5nbGU6IHRydWUsCiAgICAgIHNpbmdsZUl0ZW06IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybToge30sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczoge30sCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMzAKICAgICAgfSwKICAgICAgcXVhbGl0eUxpc3Q6IFtdLAogICAgICB0b3RhbDogMCwKICAgICAgcXVhbGl0eUxpc3QxOiBbXSwKICAgICAgdG90YWwxOiAwLAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbG9hZGluZzE6IGZhbHNlLAogICAgICBzZWxlY3Rpb25Sb3c6IFtdLAogICAgICBzZWxlY3Rpb25Sb3dJdGVtOiBbXSwKICAgICAgY29sczogW10sCiAgICAgIGxpc3RzOiBbXSwKICAgICAgZm9ybURlc2lnbklkOiAnJywKICAgICAgaWRzOiAnJywKICAgICAgaWRzSW5mbzogJycKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDbGlja1RhYmxlTmFtZTogZnVuY3Rpb24gaGFuZGxlQ2xpY2tUYWJsZU5hbWUoZGF0YSkgewogICAgICAvLyDpgInkuK3lvZPliY3ooYwKICAgICAgdGhpcy5yb3dDbGljayhkYXRhLCBmYWxzZSk7CiAgICAgIHRoaXMuaGFuZGxlRGV0YWlsKCk7CiAgICB9LAogICAgaGFuZGxlQ2xpY2tUYWJsZU5hbWVEZXRhaWw6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrVGFibGVOYW1lRGV0YWlsKGRhdGEpIHsKICAgICAgdGhpcy5yb3dDbGljazEoZGF0YSwgZmFsc2UpOwogICAgICB0aGlzLmhhbmRsZURldGFpbEl0ZW0oZGF0YSk7CiAgICB9LAogICAgZ2V0RGV0YWlsSW5mbzogZnVuY3Rpb24gZ2V0RGV0YWlsSW5mbygpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgaWYgKHRoaXMuZGF0YXMpIHsKICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgZGVwdENvZGU6IHRoaXMuZGF0YXMuZGVwdENvZGUsCiAgICAgICAgICBjb21wQ29kZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQsCiAgICAgICAgICBxVGltZTogdGhpcy5kYXRhcy5vY2NUaW1lICsgJy0wMScKICAgICAgICB9OwogICAgICAgIC8vIGNvbnNvbGUubG9nKHBhcmFtcykKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAgICgwLCBfcXVhbGl0eS5nZXRRdWFsaXR5KShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMucXVhbGl0eUxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgICAgICAvLyBjb25zb2xlLmxvZyh0aGlzLnF1YWxpdHlMaXN0KQogICAgICAgICAgICBfdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgICAgICBfdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICBzdGF0ZUZvcm1hdDogZnVuY3Rpb24gc3RhdGVGb3JtYXQocm93LCBjb2x1bW4sIGNlbGxWYWx1ZSkgewogICAgICB2YXIgYXJyID0gdGhpcy5saXN0czsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBhcnIubGVuZ3RoOyBpKyspIHsKICAgICAgICBpZiAoYXJyW2ldLmZpZWxkTmFtZSA9PSBjb2x1bW4ucHJvcGVydHkpIHsKICAgICAgICAgIGlmIChhcnJbaV0uZmllbGROYW1lID09ICJjc190YXJnZXQiKSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdERpY3RJbmRleExhYmVsKGFycltpXS5vcHRpb25zLCBjZWxsVmFsdWUpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKGFycltpXS5vcHRpb25zLCBjZWxsVmFsdWUpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGdldFF1YWxpdHlEZXRhaWw6IGZ1bmN0aW9uIGdldFF1YWxpdHlEZXRhaWwoZGF0YSkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy5mb3JtRGVzaWduSWQgPSBkYXRhLnRlbXBDb2RlOwogICAgICB2YXIgb2JqID0gewogICAgICAgIGZvcm1EZXNpZ25JZDogZGF0YS50ZW1wQ29kZQogICAgICB9OwogICAgICAoMCwgX3V0aWxzLmRlcGxveUxpc3QpKG9iaikudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmxpc3RzID0gcmVzLmRhdGE7CiAgICAgICAgdmFyIF9sb29wID0gZnVuY3Rpb24gX2xvb3AoaSkgewogICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzW2ldLCBfdGhpczIubGlzdHNbaV0uZmllbGROYW1lLCBudWxsKTsKICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgInZhbCIsIG51bGwpOwogICAgICAgICAgaWYgKF90aGlzMi5saXN0c1tpXS5maWVsZFR5cGUgPT0gInNlbGVjdCIpIHsKICAgICAgICAgICAgaWYgKF90aGlzMi5saXN0c1tpXS5maWVsZE5hbWUgPT0gImNzX3RhcmdldCIpIHsKICAgICAgICAgICAgICB2YXIgcGFyYW1zID0gewogICAgICAgICAgICAgICAgaW5kZXhDb2RlOiBfdGhpczIubGlzdHNbaV0uaW5kZXhDb2RlLAogICAgICAgICAgICAgICAgY29tcENvZGU6IF90aGlzMi4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQgLy8g5b+F5LygCiAgICAgICAgICAgICAgfTsKCiAgICAgICAgICAgICAgKDAsIF9kZXRhaWwubGlzdERldGFpbCkocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubGlzdHNbaV0sICJvcHRpb25zIiwgcmVzcG9uc2Uucm93cyk7CiAgICAgICAgICAgICAgICAgIF90aGlzMi50YXJnZXRWYWx1ZSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2Uucm93cykpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzMi5saXN0c1tpXS5maWVsZE5hbWUgPT0gImNzX2RlcHQiKSB7CiAgICAgICAgICAgICAgdmFyIF9wYXJhbXMgPSB7CiAgICAgICAgICAgICAgICBjb21wQ29kZTogX3RoaXMyLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZAogICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgKDAsIF9mb3JtRGVzaWduLmdldERlcHRJbmZvRm9yUG1zKShfcGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgICAgICAgIGlmIChyZXMuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgIm9wdGlvbnMiLCByZXMuZGF0YSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXMyLmdldERpY3RzKF90aGlzMi5saXN0c1tpXS5kaWN0VHlwZSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgIm9wdGlvbnMiLCByZXNwb25zZS5kYXRhKTsKICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgICAgaWYgKF90aGlzMi5saXN0c1tpXS5maWVsZFR5cGUgPT0gInJhZGlvIikgewogICAgICAgICAgICBfdGhpczIubGlzdHNbaV0ub3B0aW9ucyA9IEpTT04ucGFyc2UoX3RoaXMyLmxpc3RzW2ldLm9wdGlvbnMpOwogICAgICAgICAgfQogICAgICAgICAgaWYgKF90aGlzMi5saXN0c1tpXS5maWVsZFR5cGUgPT0gImNoZWNrYm94IikgewogICAgICAgICAgICBfdGhpczIubGlzdHNbaV0ub3B0aW9ucyA9IEpTT04ucGFyc2UoX3RoaXMyLmxpc3RzW2ldLm9wdGlvbnMpOwogICAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubGlzdHNbaV0sICJ2YWwiLCBbXSk7CiAgICAgICAgICB9CiAgICAgICAgfTsKICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IF90aGlzMi5saXN0cy5sZW5ndGg7IGkrKykgewogICAgICAgICAgX2xvb3AoaSk7CiAgICAgICAgfQogICAgICAgIHZhciBsaXN0ID0gcmVzLmRhdGE7CiAgICAgICAgLy8gY29uc29sZS5sb2cobGlzdCwnbGlzdCcpCiAgICAgICAgdmFyIGFyciA9IFtdOwogICAgICAgIGZvciAodmFyIF9pID0gMDsgX2kgPCBsaXN0Lmxlbmd0aDsgX2krKykgewogICAgICAgICAgdmFyIF9vYmogPSB7fTsKICAgICAgICAgIGlmIChsaXN0W19pXS5maWVsZE5hbWUgIT0gInBtc19zdGF0ZSIpIHsKICAgICAgICAgICAgaWYgKGxpc3RbX2ldLmZpZWxkTmFtZSAhPSAiZGVwdF90cmFjayIpIHsKICAgICAgICAgICAgICBfb2JqLmxhYmVsID0gbGlzdFtfaV0uZmllbGREZXNjOwogICAgICAgICAgICAgIF9vYmoucHJvcCA9IGxpc3RbX2ldLmZpZWxkTmFtZTsKICAgICAgICAgICAgICBfb2JqLmlzTGlzdCA9IGxpc3RbX2ldLmlzTGlzdDsKICAgICAgICAgICAgICBfb2JqLmZpZWxkVHlwZSA9IGxpc3RbX2ldLmZpZWxkVHlwZTsKICAgICAgICAgICAgICBpZiAobGlzdFtfaV0uZmllbGROYW1lID09ICdjc19zY29yZScpIHsKICAgICAgICAgICAgICAgIF9vYmouZGVjaW1sRGlnaXQgPSBsaXN0W19pXS5kZWNpbWxEaWdpdDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgaWYgKF9vYmoucHJvcCA9PSAnY3NfZGF0ZScpIHsKICAgICAgICAgICAgICAgIF9vYmouYWxpZ24gPSAnY2VudGVyJzsKICAgICAgICAgICAgICB9IGVsc2UgaWYgKF9vYmoucHJvcCA9PSAnY3Nfc2NvcmUnKSB7CiAgICAgICAgICAgICAgICBfb2JqLmFsaWduID0gJ3JpZ2h0JzsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX29iai5hbGlnbiA9ICdsZWZ0JzsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgYXJyLnB1c2goX29iaik7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgX3RoaXMyLmNvbHMgPSBhcnI7CiAgICAgICAgX3RoaXMyLmdldFRhYmxlKGRhdGEpOwogICAgICB9KTsKICAgIH0sCiAgICAvL+ihqOagvOaVsOaNrgogICAgZ2V0VGFibGU6IGZ1bmN0aW9uIGdldFRhYmxlKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgZm9ybURlc2lnbklkOiBkYXRhLnRlbXBDb2RlLAogICAgICAgIGRlcHRDb2RlOiBkYXRhLmRlcHRDb2RlLAogICAgICAgIHFEYXRlOiB0aGlzLmRhdGFzLm9jY1RpbWUgKyAnLTAxJwogICAgICB9OwogICAgICAoMCwgX3F1YWxpdHkuZ2V0UXVhbGl0eURldGFpbCkocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMy5xdWFsaXR5TGlzdDEgPSByZXNwb25zZS5yb3dzOwogICAgICAgIF90aGlzMy50b3RhbDEgPSByZXNwb25zZS50b3RhbDsKICAgICAgfSk7CiAgICB9LAogICAgLy/mn6XnnIvor6bmg4UKICAgIGhhbmRsZURldGFpbDogZnVuY3Rpb24gaGFuZGxlRGV0YWlsKCkgewogICAgICB0aGlzLmdldFF1YWxpdHlEZXRhaWwodGhpcy5zZWxlY3Rpb25Sb3dbMF0pOwogICAgICB0aGlzLm9wZW5EZXRhaWxEaWFsb2cgPSB0cnVlOwogICAgfSwKICAgIC8v5p+l55yL6K+m57uG5L+h5oGvCiAgICBoYW5kbGVEZXRhaWxJdGVtOiBmdW5jdGlvbiBoYW5kbGVEZXRhaWxJdGVtKGRhdGEpIHsKICAgICAgdGhpcy5pZHNJbmZvID0gdGhpcy5zZWxlY3Rpb25Sb3dJdGVtWzBdLmlkOwogICAgICB0aGlzLm9wZW5JbmZvID0gdHJ1ZTsKICAgIH0sCiAgICBjYW5jZWxEZXRhaWxJbmZvOiBmdW5jdGlvbiBjYW5jZWxEZXRhaWxJbmZvKCkgewogICAgICB0aGlzLm9wZW5JbmZvID0gZmFsc2U7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQ7CiAgICAgIH0pOwogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGggIT09IDE7CiAgICAgIHRoaXMuc2VsZWN0aW9uUm93ID0gc2VsZWN0aW9uOwogICAgfSwKICAgIHJvd0NsaWNrOiBmdW5jdGlvbiByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgdmFyIHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlOwogICAgICB2YXIgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93LmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5yb3dJbmRleCA9PSByb3cucm93SW5kZXg7CiAgICAgIH0pOwogICAgICAvLyBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvdy5sZW5ndGggPT0gMSkgewogICAgICAvLyAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIGZhbHNlKTsKICAgICAgLy8gICByZXR1cm47CiAgICAgIC8vIH0KICAgICAgcmVmc0VsVGFibGUuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UxOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2UxKHNlbGVjdGlvbikgewogICAgICAvLyB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLmlkKQogICAgICB0aGlzLnNpbmdsZUl0ZW0gPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICB0aGlzLnNlbGVjdGlvblJvd0l0ZW0gPSBzZWxlY3Rpb247CiAgICB9LAogICAgcm93Q2xpY2sxOiBmdW5jdGlvbiByb3dDbGljazEocm93LCBjb2x1bW4sIGV2ZW50KSB7CiAgICAgIHZhciByZWZzRWxUYWJsZSA9IHRoaXMuJHJlZnMubXVsdGlwbGVUYWJsZTE7CiAgICAgIHZhciBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3dJdGVtLmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5yb3dJbmRleCA9PSByb3cucm93SW5kZXg7CiAgICAgIH0pOwogICAgICAvLyBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvd0l0ZW0ubGVuZ3RoID09IDEpIHsKICAgICAgLy8gICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93LCBmYWxzZSk7CiAgICAgIC8vICAgcmV0dXJuOwogICAgICAvLyB9CiAgICAgIHJlZnNFbFRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3cpOwogICAgfSwKICAgIHJvd1N0eWxlOiBmdW5jdGlvbiByb3dTdHlsZShfcmVmKSB7CiAgICAgIHZhciByb3cgPSBfcmVmLnJvdywKICAgICAgICByb3dJbmRleCA9IF9yZWYucm93SW5kZXg7CiAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3csICdyb3dJbmRleCcsIHsKICAgICAgICB2YWx1ZTogcm93SW5kZXgsCiAgICAgICAgd3JpdGFibGU6IHRydWUsCiAgICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgICAgfSk7CiAgICB9LAogICAgLy/or6bmg4XlvLnmoYblhbPpl60KICAgIGhhbmRsZURldGFpbERpYWxvZ0Nsb3NlOiBmdW5jdGlvbiBoYW5kbGVEZXRhaWxEaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy5vcGVuRGV0YWlsRGlhbG9nID0gZmFsc2U7CiAgICB9LAogICAgZGV0YWlsQ2FuY2VsOiBmdW5jdGlvbiBkZXRhaWxDYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbkRldGFpbERpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOW8ueahhuWFs+mXrQogICAgaGFuZGxlRGlhbG9nQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZURpYWxvZ0Nsb3NlKCkgewogICAgICB0aGlzLiRlbWl0KCJjYW5jZWwiLCBmYWxzZSk7CiAgICB9LAogICAgLy8g5Y+W5raICiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2FuY2VsIiwgZmFsc2UpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgY29tcENvZGU6IG51bGwsCiAgICAgICAgYWNjb3VudENvZGU6IG51bGwsCiAgICAgICAgZGVwdENvZGU6IG51bGwsCiAgICAgICAgaW5kZXhDb2RlOiBudWxsLAogICAgICAgIHRlbXBDb2RlOiBudWxsLAogICAgICAgIGluZGV4U2NvcmU6IG51bGwsCiAgICAgICAgb2NjdXJlVGltZTogbnVsbCwKICAgICAgICBhY3R1YWxTY29yZTogbnVsbCwKICAgICAgICBkZWxGbGFnOiBudWxsLAogICAgICAgIGNyZWF0ZUJ5OiBudWxsLAogICAgICAgIGNyZWF0ZVRpbWU6IG51bGwsCiAgICAgICAgdXBkYXRlQnk6IG51bGwsCiAgICAgICAgdXBkYXRlVGltZTogbnVsbCwKICAgICAgICByZW1hcms6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oImZvcm0iKTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAD;MACAE;QACA;QACA;UACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAP;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAE;IACAC;EACA;EACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC,QACA;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACAC;UACAC;UACAC;QACA;QACA;QACA;QACA;UACA;YACA;YACA;YACA;YACA;UACA;QACA;MACA;IAEA;IACAC;MACA;MACA;QACA;UACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACAX;MACA;MACA;QACA;QAAA,2BACAY;UACA;UACA;UACA;YACA;cACA;gBACAC;gBACAL;cACA;;cACA;gBACA;kBACA;kBACA;gBACA;cACA;YACA;cACA;gBACAA;cACA;cACA;gBACA;kBACA;gBACA;cACA;YACA;cACA;gBACA;cACA;YACA;UACA;UACA;YACA;UACA;UACA;YACA;YACA;UACA;QAAA;QApCA;UAAA;QAqCA;QACA;QACA;QACA;QACA;UACA;UACA;YACA;cACAM;cACAA;cACAA;cACAA;cACA;gBACAA;cACA;cACA;gBACAA;cACA;gBACAA;cACA;gBACAA;cACA;cACAC;YACA;UAEA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAhB;QACAO;QACAU;MACA;MACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;MACA;MACA;MACA;MACAC;MACAA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;MACA;MACA;MACA;MACAF;MACAA;IACA;IACAG,kCAGA;MAAA,IAFAC;QACAC;MAEAC;QACAC;QACAC;QACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACAC;QACA9B;QACA+B;QACAhC;QACAM;QACA2B;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","open","type","default","datas","watch","handler","deep","immediate","components","detailInfo","created","data","title","openDialog","paramsData","detailTitle","openDetailDialog","saveLoading","openInfo","single","singleItem","showSearch","form","rules","queryParams","pageNum","pageSize","qualityList","total","qualityList1","total1","loading","loading1","selectionRow","selectionRowItem","cols","lists","formDesignId","ids","idsInfo","methods","handleClickTableName","handleClickTableNameDetail","getDetailInfo","deptCode","compCode","qTime","stateFormat","getQualityDetail","i","indexCode","obj","arr","getTable","qDate","handleDetail","handleDetailItem","cancelDetailInfo","handleSelectionChange","rowClick","refsElTable","handleSelectionChange1","rowClick1","rowStyle","row","rowIndex","Object","value","writable","enumerable","handleDetailDialogClose","detailCancel","handleDialogClose","cancel","reset","id","accountCode","tempCode","indexScore","occureTime","actualScore","delFlag","createBy","createTime","updateBy","updateTime","remark"],"sourceRoot":"src/views/quality/quality","sources":["detailEdit.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"50%\" custom-class=\"el-button--primary\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDialogClose\">\r\n        <div ref=\"btns\">\r\n          <el-row :gutter=\"10\" class=\"mb8\">\r\n            <el-col :span=\"1.5\">\r\n              <el-button\r\n                type=\"primary\"\r\n                icon=\"el-icon-search\"\r\n                size=\"mini\"\r\n                :disabled=\"single\"\r\n                @click=\"handleDetail\"\r\n                v-hasPermi=\"['quality:quality:edit']\"\r\n              >查看</el-button>\r\n            </el-col>\r\n            </el-col>\r\n            <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getDetailInfo\"></right-toolbar>\r\n          </el-row>\r\n        </div>\r\n        <el-table border stripe v-loading=\"loading\" height=\"93%\" :data=\"qualityList\" @selection-change=\"handleSelectionChange\" ref=\"multipleTable\" @row-click=\"rowClick\" :row-style=\"rowStyle\">\r\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n          <el-table-column label=\"质量名称(模板名称)\" align=\"center\" prop=\"tempName\">\r\n            <template slot-scope=\"scope\">\r\n              <el-link type=\"primary\" :underline=\"false\" v-html=\"scope.row.tempName\" @click.stop=\"handleClickTableName(scope.row)\" class=\"displayBlock text-ellipsis \"></el-link>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"项目分值\" align=\"center\" prop=\"indexScore\" />\r\n          <el-table-column label=\"本月得分\" align=\"center\" prop=\"actualScore\" />\r\n        </el-table>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"cancel\">关 闭</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <!-- 得分明细 -->\r\n      <el-dialog :title=\"detailTitle\" :visible.sync=\"openDetailDialog\" width=\"50%\" custom-class=\"el-button--primary\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDetailDialogClose\">\r\n        <div ref=\"btns\">\r\n          <el-row :gutter=\"10\" class=\"mb8\">\r\n            <el-col :span=\"1.5\">\r\n              <el-button\r\n                type=\"success\"\r\n                icon=\"el-icon-search\"\r\n                size=\"mini\"\r\n                :disabled=\"singleItem\"\r\n                @click=\"handleDetailItem\"\r\n                v-hasPermi=\"['quality:quality:edit']\"\r\n              >详情</el-button>\r\n            </el-col>\r\n            </el-col>\r\n            <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getQualityDetail\"></right-toolbar>\r\n          </el-row>\r\n        </div>\r\n        <el-table border stripe v-loading=\"loading1\" height=\"86%\" :data=\"qualityList1\" @selection-change=\"handleSelectionChange1\" ref=\"multipleTable1\" @row-click=\"rowClick1\" :row-style=\"rowStyle\">\r\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n          <template v-for=\"item in cols\">\r\n      \t\t<template v-if=\"item.isList=='1'\">\r\n      \t\t\t<template v-if=\"item.fieldType=='select'\">\r\n      \t\t\t\t<el-table-column show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\" :formatter=\"stateFormat\" />\r\n      \t\t\t</template>\r\n      \t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<el-table-column v-if=\"item.prop=='cs_date'\" show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\" width=\"150px\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<el-link type=\"primary\" :underline=\"false\" v-html=\"scope.row.cs_date\" @click.stop=\"handleClickTableNameDetail(scope.row)\" class=\"displayBlock text-ellipsis \"></el-link>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column v-else-if=\"item.prop=='cs_score'\" show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\" width=\"150px\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<span>{{(scope.row.cs_score * 1).toFixed(item.decimlDigit * 1)}}</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n      \t\t\t\t<el-table-column v-else show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\">\r\n      \t\t\t\t</el-table-column>\r\n      \t\t\t</template>\r\n      \t\t</template>\r\n      \t</template>\r\n        </el-table>\r\n        <pagination\r\n          v-show=\"total1>0\"\r\n          :total=\"total1\"\r\n          :page.sync=\"queryParams.pageNum\"\r\n          :limit.sync=\"queryParams.pageSize\"\r\n          @pagination=\"getQualityDetail\"\r\n        />\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"detailCancel\">关 闭</el-button>\r\n        </div>\r\n      </el-dialog>\r\n      \r\n      <detailInfo v-if=\"openInfo\" :open=\"openInfo\" :id=\"formDesignId\" :ids=\"idsInfo\" @cancel=\"cancelDetailInfo\"></detailInfo>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { validEmail } from'@/utils/validate'\r\nimport { getQuality,getQualityDetail } from \"@/api/quality/quality\";\r\nimport { deployList} from '@/api/utils';\r\nimport { listDetail } from \"@/api/quality/detail\";\r\nimport {getDeptInfoForPms} from \"@/api/formDesign/formDesign\";\r\nimport detailInfo from './detailInfo';\r\n\r\nexport default {\r\n  name: \"addEdit\",\r\n  props: {\r\n    open: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    datas: {\r\n      type: Object,\r\n      default: null,\r\n    }\r\n  },\r\n  watch: {\r\n    datas: {\r\n      handler(val) {\r\n        this.reset();\r\n        if (val) {\r\n          this.paramsData = val;\r\n          this.title = \"查看详情 / 质量得分\";\r\n          this.getDetailInfo();\r\n        } \r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    open: {\r\n      handler(val) {\r\n        this.openDialog = val;\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  components: {\r\n    detailInfo\r\n  },\r\n  created() {\r\n    this.getDetailInfo();\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"查看详情 / 质量得分\",\r\n      openDialog: this.open,\r\n      paramsData:null,\r\n      detailTitle:\"查看详情 / 质量得分 / 得分明细\",\r\n      openDetailDialog:false,\r\n      saveLoading: false,\r\n      openInfo:false,\r\n      single:true,\r\n      singleItem:true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 表单参数\r\n      form: {},\r\n      // 表单校验\r\n      rules: {\r\n      },\r\n      queryParams:{\r\n        pageNum:1,\r\n        pageSize:30,\r\n      },\r\n      qualityList:[],\r\n      total:0,\r\n      qualityList1:[],\r\n      total1:0,\r\n      loading:false,\r\n      loading1:false,\r\n      selectionRow:[],\r\n      selectionRowItem:[],\r\n      cols:[],\r\n      lists:[],\r\n      formDesignId:'',\r\n      ids:'',\r\n      idsInfo:'',\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handleClickTableName(data){\r\n      // 选中当前行\r\n        this.rowClick(data, false);\r\n        this.handleDetail();\r\n    },\r\n    handleClickTableNameDetail(data){\r\n      this.rowClick1(data, false);\r\n      this.handleDetailItem(data)\r\n    },\r\n  \tgetDetailInfo() {\r\n      if(this.datas){\r\n        let params={\r\n        deptCode:this.datas.deptCode,\r\n        compCode:this.$store.state.user.userInfo.deptId,\r\n        qTime:this.datas.occTime + '-01'\r\n      }\r\n      // console.log(params)\r\n      this.loading=true;\r\n      getQuality(params).then(response => {\r\n        if(response.code==200){\r\n          this.qualityList=response.rows;\r\n          // console.log(this.qualityList)\r\n          this.total=response.total;\r\n          this.loading=false;\r\n        }\r\n      });\r\n      }\r\n      \r\n    },\r\n    stateFormat(row, column, cellValue) {\r\n\t\t\t\tlet arr = this.lists;\r\n    \t\tfor(let i=0;i<arr.length;i++){\r\n    \t\t\tif(arr[i].fieldName==column.property){\r\n\t\t\t\t\t\tif(arr[i].fieldName==\"cs_target\"){\r\n\t\t\t\t\t\t\treturn this.selectDictIndexLabel(arr[i].options,cellValue)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn this.selectDictLabel(arr[i].options,cellValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n    getQualityDetail(data){\r\n      this.formDesignId=data.tempCode\r\n      let obj={\r\n        formDesignId:data.tempCode,\r\n      }\r\n      deployList(obj).then(res=>{\r\n        this.lists = res.data;\r\n        for(let i=0;i<this.lists.length;i++){\r\n\t        \t\tthis.$set( this.lists[i], this.lists[i].fieldName, null )\r\n\t\t\t\t\t\t\tthis.$set( this.lists[i], \"val\", null )\r\n\t\t\t\t\t\t\tif(this.lists[i].fieldType==\"select\"){\r\n\t\t\t\t\t\t\t\tif(this.lists[i].fieldName==\"cs_target\"){\r\n\t\t\t\t\t\t\t\t\t\tlet params={\r\n\t\t\t\t\t\t\t\t\t\t\t\tindexCode:this.lists[i].indexCode,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId  // 必传\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlistDetail(params).then(response=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(response.code===200){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\",response.rows );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.targetValue=JSON.parse(JSON.stringify(response.rows))\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}else if(this.lists[i].fieldName==\"cs_dept\"){\r\n\t\t\t\t\t\t\t\t\tlet params= {\r\n\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tgetDeptInfoForPms(params).then(res=>{\r\n\t\t\t\t\t\t\t\t\t\t\tif(res.code===200){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\",res.data )\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.getDicts(this.lists[i].dictType).then(response => {\r\n\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\", response.data )\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t        \t\tif(this.lists[i].fieldType==\"radio\"){\r\n\t        \t\t\tthis.lists[i].options = JSON.parse(this.lists[i].options)\r\n\t        \t\t}\r\n\t        \t\tif(this.lists[i].fieldType==\"checkbox\"){\r\n\t        \t\t\tthis.lists[i].options = JSON.parse(this.lists[i].options)\r\n\t        \t\t\tthis.$set( this.lists[i], \"val\", [])\r\n\t        \t\t}\r\n\t\t\t\t\t\t}\r\n         let list = res.data;\r\n\t\t\t\t\t\t// console.log(list,'list')\r\n\t        \tlet arr = [];\r\n\t        \tfor(let i=0;i<list.length;i++){\r\n\t\t\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\t\t\tif(list[i].fieldName!=\"pms_state\"){\r\n\t\t\t\t\t\t\t\tif(list[i].fieldName!=\"dept_track\"){\r\n\t\t\t\t\t\t\t\t\tobj.label = list[i].fieldDesc;\r\n\t\t\t\t\t\t\t\t\tobj.prop = list[i].fieldName;\r\n\t\t\t\t\t\t\t\t\tobj.isList = list[i].isList;\r\n\t\t\t\t\t\t\t\t\tobj.fieldType = list[i].fieldType;\r\n\t\t\t\t\t\t\t\t\tif(list[i].fieldName=='cs_score'){\r\n\t\t\t\t\t\t\t\t\t\tobj.decimlDigit = list[i].decimlDigit\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(obj.prop=='cs_date'){\r\n\t\t\t\t\t\t\t\t\t\tobj.align='center';\r\n\t\t\t\t\t\t\t\t\t}else if(obj.prop=='cs_score'){\r\n\t\t\t\t\t\t\t\t\t\tobj.align='right';\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tobj.align='left';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tarr.push(obj)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n            this.cols = arr;\r\n            this.getTable(data)\r\n      })\r\n    },\r\n    //表格数据\r\n    getTable(data){\r\n      let params={\r\n        formDesignId:data.tempCode, \r\n        deptCode:data.deptCode, \r\n        qDate:this.datas.occTime + '-01',\r\n      };\r\n      getQualityDetail(params).then(response=>{\r\n        this.qualityList1=response.rows;\r\n        this.total1=response.total;\r\n      })\r\n    },\r\n   \r\n    //查看详情\r\n    handleDetail(){ \r\n      this.getQualityDetail(this.selectionRow[0]);        \r\n      this.openDetailDialog=true;\r\n    },\r\n    //查看详细信息\r\n    handleDetailItem(data){\r\n      this.idsInfo=this.selectionRowItem[0].id;\r\n      this.openInfo=true;\r\n    },\r\n    cancelDetailInfo(){\r\n      this.openInfo=false;\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange(selection) {\r\n      this.ids = selection.map(item => item.id)\r\n      this.single = selection.length!==1\r\n      this.selectionRow=selection;\r\n    },\r\n    rowClick(row, column, event) {\r\n      let refsElTable = this.$refs.multipleTable;\r\n      let findRow = this.selectionRow.find(c => c.rowIndex == row.rowIndex);\r\n      // if (findRow && this.selectionRow.length == 1) {\r\n      //   refsElTable.toggleRowSelection(row, false);\r\n      //   return;\r\n      // }\r\n      refsElTable.clearSelection();\r\n      refsElTable.toggleRowSelection(row);\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange1(selection) {\r\n      // this.ids = selection.map(item => item.id)\r\n      this.singleItem = selection.length!==1\r\n      this.selectionRowItem=selection\r\n    },\r\n    rowClick1(row, column, event) {\r\n      let refsElTable = this.$refs.multipleTable1;\r\n      let findRow = this.selectionRowItem.find(c => c.rowIndex == row.rowIndex);\r\n      // if (findRow && this.selectionRowItem.length == 1) {\r\n      //   refsElTable.toggleRowSelection(row, false);\r\n      //   return;\r\n      // }\r\n      refsElTable.clearSelection();\r\n      refsElTable.toggleRowSelection(row);\r\n    },\r\n    rowStyle({\r\n      row,\r\n      rowIndex\r\n    }) {\r\n      Object.defineProperty(row, 'rowIndex', {\r\n        value: rowIndex,\r\n        writable: true,\r\n        enumerable: false\r\n      })\r\n    },\r\n    //详情弹框关闭\r\n    handleDetailDialogClose(){\r\n      this.openDetailDialog=false;\r\n    },\r\n    detailCancel(){\r\n      this.openDetailDialog=false;\r\n    },\r\n    // 弹框关闭\r\n    handleDialogClose() {\r\n      this.$emit(\"cancel\", false);\r\n    },\r\n    // 取消\r\n    cancel() {\r\n      this.$emit(\"cancel\", false);\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.form = {\r\n        id: null,\r\n        compCode: null,\r\n        accountCode: null,\r\n        deptCode: null,\r\n        indexCode: null,\r\n        tempCode: null,\r\n        indexScore: null,\r\n        occureTime: null,\r\n        actualScore: null,\r\n        delFlag: null,\r\n        createBy: null,\r\n        createTime: null,\r\n        updateBy: null,\r\n        updateTime: null,\r\n        remark: null\r\n      };\r\n      this.resetForm(\"form\");\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  ::v-deep .el-dialog {\r\n    height: 80%;\r\n    overflow: hidden;\r\n    .el-dialog__body {\r\n      height: calc(100% - 100px);\r\n      overflow: auto;\r\n    }\r\n  }\r\n</style>"]}]}
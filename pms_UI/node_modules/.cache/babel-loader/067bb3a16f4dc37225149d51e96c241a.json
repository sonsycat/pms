{"remainingRequest":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\tool\\formDesign\\editModel.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\tool\\formDesign\\editModel.vue","mtime":1718082706450},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi9IUlBfSkFWQV9wbXMvcG1zX1VJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuanNvbi5zdHJpbmdpZnkuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbHRlci5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy93ZWIuZG9tLWNvbGxlY3Rpb25zLmZvci1lYWNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLWluZGV4LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zcGxpY2UuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiKTsKdmFyIF91dGlscyA9IHJlcXVpcmUoIkAvYXBpL3V0aWxzIik7CnZhciBfZm9ybURlc2lnbiA9IHJlcXVpcmUoIkAvYXBpL2Zvcm1EZXNpZ24vZm9ybURlc2lnbiIpOwp2YXIgX2Zvcm1EZXNpZ25BZGQgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvdmlld3MvY29tcG9uZW50cy9mb3JtRGVzaWduQWRkIikpOwp2YXIgX2VkaXRGb3JtSXRlbSA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiLi9lZGl0Rm9ybUl0ZW0iKSk7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vIGltcG9ydCB7IG9wdGlvbnNlbGVjdCBhcyBnZXREaWN0T3B0aW9uc2VsZWN0IH0gZnJvbSAnQC9hcGkvc3lzdGVtL2RpY3QvdHlwZSc7CnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAiRWRpdE1vZGVsIiwKICBjb21wb25lbnRzOiB7CiAgICBhZGRGb3JtOiBfZm9ybURlc2lnbkFkZC5kZWZhdWx0LAogICAgZWRpdEZvcm1JdGVtOiBfZWRpdEZvcm1JdGVtLmRlZmF1bHQKICB9LAogIHByb3BzOiB7CiAgICBvcGVuOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZm9ybURlc2lnbklkOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIiIKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBmb3JtRGVzaWduSWQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICB0aGlzLmZvcm1EZXNpZ25JZCA9IHZhbDsKICAgICAgICAgIHRoaXMudGl0bGUgPSAi5qih5p2/566h55CGLee8lui+keaooeadvyI7CiAgICAgICAgICB0aGlzLmdldERldGFpbEZvcm0oKTsKICAgICAgICAgIHRoaXMuZ2V0Rm9ybVRhYmxlTGlzdCgpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgb3BlbjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMub3BlbkRpYWxvZyA9IHZhbDsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3BlbkZvcm1NYXJraW5nOiBmYWxzZSwKICAgICAgb3BlbkVkaXRGb3JtOiBmYWxzZSwKICAgICAgaXRlbUlEOiAiIiwKICAgICAgLy8g5a2X5YW45L+h5oGvCiAgICAgIGRpY3RPcHRpb25zOiBbXSwKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICAvLyDlr7zlh7rpga7nvanlsYIKICAgICAgZXhwb3J0TG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOiHquWumuS5ieihqOWNleihqOagvOaVsOaNrgogICAgICBmb3JtRGVzaWduTGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIuaooeadv+euoeeQhi3nvJbovpHmqKHmnb8iLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbkRpYWxvZzogZmFsc2UsCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgcnVsZXM6IHsKICAgICAgICBmb3JtTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuaooeadv+WQjeensOS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICB0aXRsZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuagh+mimOS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBwYWdlTnVtOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5q+P6aG15pi+56S65p2h5pWw5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0sCiAgICAgIGVkaXRUYWJsZUJvb2w6IGZhbHNlLAogICAgICB0YWJsZUxvYWRpbmc6IGZhbHNlLAogICAgICBzdWIxQm9vbDogZmFsc2UsCiAgICAgIHN1YjJCb29sOiBmYWxzZSwKICAgICAgYWxsRGF0YUxpc3Q6IFtdLAogICAgICBhbGxEYXRhTGlzdDE6IFtdLAogICAgICBmb3JtRGF0YUxpc3Q6IFtdLAogICAgICBmb3JtRGF0YUxpc3QxOiBbXSwKICAgICAgZm9ybURhdGFMaXN0MjogW10sCiAgICAgIGZvcm1EYXRhTGlzdDM6IFtdLAogICAgICBtYnB4VHlwZU9wdGlvbnM6IFtdLAogICAgICBzZWxlY3Rpb25Sb3c6IFtdLAogICAgICBlZGl0Rm9ybUl0ZW1EYXRhOiB7fSwKICAgICAgcXVlcnlUeXBlT3B0aW9uczogW10sCiAgICAgIG1iaHpTek9wdGlvbnM6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICB0aGlzLmdldERpY3RzKCJwbXNfbWJweF90eXBlIikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMubWJweFR5cGVPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogICAgdGhpcy5nZXREaWN0cygicG1zX21ic3hfdGoiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5xdWVyeVR5cGVPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogICAgdGhpcy5nZXREaWN0cygicG1zX21iaHpfc3oiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5tYmh6U3pPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5o6S5bqP57G75Z6L5a2X5YW457+76K+RCiAgICBtYnB4VHlwZUZvcm1hdDogZnVuY3Rpb24gbWJweFR5cGVGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMubWJweFR5cGVPcHRpb25zLCByb3cuYXBwb3J0VHlwZSk7CiAgICB9LAogICAgLy/nvJbovpHooajljZXmmI7nu4YKICAgIGdldERldGFpbEZvcm06IGZ1bmN0aW9uIGdldERldGFpbEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICAoMCwgX2Zvcm1EZXNpZ24uZ2V0Rm9ybURlc2lnbikodGhpcy5mb3JtRGVzaWduSWQpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMyLmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgX3RoaXMyLmZvcm0ucGFnZU51bSA9ICFyZXNwb25zZS5kYXRhLnBhZ2VOdW0gPyAzMCA6IHJlc3BvbnNlLmRhdGEucGFnZU51bTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8v57yW6L6R6KGo5qC85YiX6KGo5pWw5o2uCiAgICBnZXRGb3JtVGFibGVMaXN0OiBmdW5jdGlvbiBnZXRGb3JtVGFibGVMaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy50YWJsZUxvYWRpbmcgPSB0cnVlOwogICAgICAoMCwgX2Zvcm1EZXNpZ24uZ2V0Rm9ybVRhYmxlTGlzdCkoewogICAgICAgIGZvcm1EZXNpZ25JZDogdGhpcy5mb3JtRGVzaWduSWQKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICBfdGhpczMuYWxsRGF0YUxpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmZpZWxkTmFtZSA9PSAncG1zX2d1aWRhbmNlJyB8fCBpdGVtLmZpZWxkTmFtZSA9PSAncG1zX3Jlc3VsdCcpIHsKICAgICAgICAgICAgICBpdGVtLmlzRWRpdCA9ICcwJzsKICAgICAgICAgICAgICBpdGVtLmlzUXVlcnkgPSAnMCc7CiAgICAgICAgICAgICAgaXRlbS5pc0xpc3QgPSAnMSc7CiAgICAgICAgICAgICAgaXRlbS5pc0xpc3RRdWVyeSA9ICcwJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXRlbS5maWVsZE5hbWUgPT0gJ3Btc19zdGF0ZScgfHwgaXRlbS5maWVsZE5hbWUgPT0gJ2RlcHRfdHJhY2snIHx8IGl0ZW0uZmllbGROYW1lID09ICJjb21wX2NvZGUiKSB7CiAgICAgICAgICAgICAgaXRlbS5pc0VkaXQgPSAnMCc7CiAgICAgICAgICAgICAgaXRlbS5pc1F1ZXJ5ID0gJzAnOwogICAgICAgICAgICAgIGl0ZW0uaXNMaXN0ID0gJzAnOwogICAgICAgICAgICAgIGl0ZW0uaXNMaXN0UXVlcnkgPSAnMCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGl0ZW0uaXNRdWVyeSA9PSAxICYmIGl0ZW0uaXNMaXN0UXVlcnkgIT0gMTsKICAgICAgICAgIH0pKSk7CiAgICAgICAgICBfdGhpczMuYWxsRGF0YUxpc3QxID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhKSk7CiAgICAgICAgICBfdGhpczMuZm9ybURhdGFMaXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICBpdGVtLnNwYW4gPSAyNDsKICAgICAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgICAgICB9KSkpOwogICAgICAgICAgX3RoaXMzLmZvcm1EYXRhTGlzdDEgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIGlmIChpdGVtLmZpZWxkTmFtZSA9PSAncG1zX2d1aWRhbmNlJyB8fCBpdGVtLmZpZWxkTmFtZSA9PSAncG1zX3Jlc3VsdCcpIHsKICAgICAgICAgICAgICBpdGVtLmlzRWRpdCA9ICcwJzsKICAgICAgICAgICAgICBpdGVtLmlzUXVlcnkgPSAnMCc7CiAgICAgICAgICAgICAgaXRlbS5pc0xpc3QgPSAnMSc7CiAgICAgICAgICAgICAgaXRlbS5pc0xpc3RRdWVyeSA9ICcwJzsKICAgICAgICAgICAgfQogICAgICAgICAgICBpZiAoaXRlbS5maWVsZE5hbWUgPT0gJ3Btc19zdGF0ZScgfHwgaXRlbS5maWVsZE5hbWUgPT0gJ2RlcHRfdHJhY2snIHx8IGl0ZW0uZmllbGROYW1lID09ICJjb21wX2NvZGUiKSB7CiAgICAgICAgICAgICAgaXRlbS5pc0VkaXQgPSAnMCc7CiAgICAgICAgICAgICAgaXRlbS5pc1F1ZXJ5ID0gJzAnOwogICAgICAgICAgICAgIGl0ZW0uaXNMaXN0ID0gJzAnOwogICAgICAgICAgICAgIGl0ZW0uaXNMaXN0UXVlcnkgPSAnMCc7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgcmV0dXJuIGl0ZW07CiAgICAgICAgICB9KSkpOwogICAgICAgICAgX3RoaXMzLmZvcm1EYXRhTGlzdDIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgIHJldHVybiBpdGVtLmlzTGlzdFF1ZXJ5ID09IDE7CiAgICAgICAgICB9KSkpOwogICAgICAgICAgX3RoaXMzLmZvcm1EYXRhTGlzdDMgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEuZmlsdGVyKGZ1bmN0aW9uIChpdGUpIHsKICAgICAgICAgICAgcmV0dXJuIGl0ZS5pc1N1bSA9PSAxOwogICAgICAgICAgfSkpKTsKICAgICAgICAgIF90aGlzMy50YWJsZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIHNlbGVjdEZpZWxkRGVzYzogZnVuY3Rpb24gc2VsZWN0RmllbGREZXNjKHZhbCkgewogICAgICBpZiAodmFsLmlzUXVlcnkgPT0gIjAiKSB7CiAgICAgICAgdmFsLmlzTGlzdFF1ZXJ5ID0gIjAiOwogICAgICB9CiAgICAgIHRoaXMuYWxsRGF0YUxpc3QgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybURhdGFMaXN0MS5maWx0ZXIoZnVuY3Rpb24gKGl0ZSkgewogICAgICAgIHJldHVybiBpdGUuaXNRdWVyeSA9PSAxICYmIGl0ZS5pc0xpc3RRdWVyeSAhPSAxOwogICAgICB9KSkpOwogICAgICB0aGlzLmZvcm1EYXRhTGlzdDIgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybURhdGFMaXN0MS5maWx0ZXIoZnVuY3Rpb24gKGl0ZSkgewogICAgICAgIHJldHVybiBpdGUuaXNRdWVyeSA9PSAxICYmIGl0ZS5pc0xpc3RRdWVyeSA9PSAxOwogICAgICB9KSkpOwogICAgfSwKICAgIHNlbGVjdEZpZWxkRGVzY1RhYmxlOiBmdW5jdGlvbiBzZWxlY3RGaWVsZERlc2NUYWJsZSh2YWwpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHZhbC5mb3JFYWNoKGZ1bmN0aW9uIChpdGUpIHsKICAgICAgICBfdGhpczQuYWxsRGF0YUxpc3QuZm9yRWFjaChmdW5jdGlvbiAoXywgaW5kKSB7CiAgICAgICAgICBpZiAoaXRlID09IF8uZmllbGROYW1lKSB7CiAgICAgICAgICAgIF8uaXNMaXN0UXVlcnkgPSAxOwogICAgICAgICAgICBpZiAoX3RoaXM0LmZvcm1EYXRhTGlzdDIuZmluZEluZGV4KGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgICAgICAgcmV0dXJuIF8uZmllbGROYW1lID09IGl0ZW0uZmllbGROYW1lOwogICAgICAgICAgICB9KSA9PSAtMSkgewogICAgICAgICAgICAgIF90aGlzNC5mb3JtRGF0YUxpc3QyLnB1c2goXyk7CiAgICAgICAgICAgICAgX3RoaXM0LmFsbERhdGFMaXN0LnNwbGljZShpbmQsIDEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIHJlbW92ZUZ1bjogZnVuY3Rpb24gcmVtb3ZlRnVuKHZhbCkgewogICAgICB2YXIgX3RoaXM1ID0gdGhpczsKICAgICAgdGhpcy5mb3JtRGF0YUxpc3QyLmZvckVhY2goZnVuY3Rpb24gKF8sIGluZCkgewogICAgICAgIGlmICh2YWwgPT0gXy5maWVsZE5hbWUpIHsKICAgICAgICAgIF90aGlzNS5hbGxEYXRhTGlzdC5wdXNoKF8pOwogICAgICAgICAgX3RoaXM1LmZvcm1EYXRhTGlzdDIuc3BsaWNlKGluZCwgMSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICBjbGVhclNlbGVjdEl0ZW06IGZ1bmN0aW9uIGNsZWFyU2VsZWN0SXRlbSgpIHsKICAgICAgdGhpcy5hbGxEYXRhTGlzdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtRGF0YUxpc3QxLmZpbHRlcihmdW5jdGlvbiAoaXRlKSB7CiAgICAgICAgcmV0dXJuIGl0ZS5pc1F1ZXJ5ID09IDEgJiYgaXRlLmlzTGlzdFF1ZXJ5ICE9IDE7CiAgICAgIH0pKSk7CiAgICAgIHRoaXMuZm9ybURhdGFMaXN0MiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5mb3JtRGF0YUxpc3QxLmZpbHRlcihmdW5jdGlvbiAoaXRlKSB7CiAgICAgICAgcmV0dXJuIGl0ZS5pc1F1ZXJ5ID09IDEgJiYgaXRlLmlzTGlzdFF1ZXJ5ID09IDE7CiAgICAgIH0pKSk7CiAgICB9LAogICAgLy8gc2VsZWN0RmllbGREZXNjU3VtCiAgICBzZWxlY3RGaWVsZERlc2NTdW06IGZ1bmN0aW9uIHNlbGVjdEZpZWxkRGVzY1N1bSh2YWwpIHsKICAgICAgdmFyIF90aGlzNiA9IHRoaXM7CiAgICAgIHZhciBhcnIgPSBbXTsKICAgICAgdmFsLmZvckVhY2goZnVuY3Rpb24gKGl0ZSkgewogICAgICAgIF90aGlzNi5hbGxEYXRhTGlzdDEuZm9yRWFjaChmdW5jdGlvbiAoXykgewogICAgICAgICAgaWYgKGl0ZSA9PSBfLmZpZWxkTmFtZSkgewogICAgICAgICAgICBpZiAoYXJyLmZpbmRJbmRleChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgICAgIHJldHVybiBfLmZpZWxkTmFtZSA9PSBpdGVtLmZpZWxkTmFtZTsKICAgICAgICAgICAgfSkgPT0gLTEpIHsKICAgICAgICAgICAgICBhcnIucHVzaChfKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgICAgdGhpcy5mb3JtRGF0YUxpc3QzID0gYXJyOwogICAgfSwKICAgIC8qKiDmlrDlop7mk43kvZzmiZPlvIDooajljZXorr7orqHpobXpnaIgKi9mb3JtRGVzaWduOiBmdW5jdGlvbiBmb3JtRGVzaWduKCkgewogICAgICB0aGlzLml0ZW1JRCA9IHRoaXMuZm9ybURlc2lnbklkOwogICAgICB0aGlzLm9wZW5Gb3JtTWFya2luZyA9IHRydWU7CiAgICB9LAogICAgY2FuY2VsRm9ybU1hcmtpbmc6IGZ1bmN0aW9uIGNhbmNlbEZvcm1NYXJraW5nKCkgewogICAgICB0aGlzLm9wZW5Gb3JtTWFya2luZyA9IGZhbHNlOwogICAgICB0aGlzLmdldEZvcm1UYWJsZUxpc3QoKTsKICAgIH0sCiAgICBjYW5jZWxFZGl0Rm9ybTogZnVuY3Rpb24gY2FuY2VsRWRpdEZvcm0oKSB7CiAgICAgIHRoaXMub3BlbkVkaXRGb3JtID0gZmFsc2U7CiAgICAgIHRoaXMuZ2V0Rm9ybVRhYmxlTGlzdCgpOwogICAgfSwKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi9oYW5kbGVVcGRhdGU6IGZ1bmN0aW9uIGhhbmRsZVVwZGF0ZSgpIHsKICAgICAgdGhpcy5lZGl0Rm9ybUl0ZW1EYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnNlbGVjdGlvblJvd1swXSkpOwogICAgICB0aGlzLm9wZW5FZGl0Rm9ybSA9IHRydWU7CiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgLy8gaGFuZGxlRGVsZXRlKHJvdykgewogICAgLy8gICBjb25zdCBpZHMgPSByb3cuaWQgfHwgdGhpcy5pZHM7CiAgICAvLyAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOWIhuaRiuaYjue7hue8luWPt+S4uiInICsgaWRzICsgJyLnmoTmlbDmja7pobk/JywgIuitpuWRiiIsIHsKICAgIC8vICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgIC8vICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgLy8gICAgICAgdHlwZTogIndhcm5pbmciCiAgICAvLyAgICAgfSkudGhlbihmdW5jdGlvbigpIHsKICAgIC8vICAgICAgIC8vIHJldHVybiBkZWxBcHBvcnREZXRhaWwoaWRzKTsKICAgIC8vICAgICB9KS50aGVuKCgpID0+IHsKICAgIC8vICAgICAgIC8vIHRoaXMuZ2V0RGV0YWlsTGlzdCgpOwogICAgLy8gICAgICAgdGhpcy5tc2dTdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgIC8vICAgICB9KS5jYXRjaCgoKSA9PiB7fSk7CiAgICAvLyB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQ7CiAgICAgIH0pOwogICAgICBpZiAoc2VsZWN0aW9uWzBdICYmIHNlbGVjdGlvblswXS5maWVsZE5hbWUgPT0gJ2NvbXBfY29kZScpIHsKICAgICAgICB0aGlzLnNpbmdsZSA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aDsKICAgICAgICB0aGlzLnNlbGVjdGlvblJvdyA9IHNlbGVjdGlvbjsKICAgICAgfQogICAgfSwKICAgIHJvd0NsaWNrOiBmdW5jdGlvbiByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgdmFyIHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlOwogICAgICB2YXIgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93LmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5yb3dJbmRleCA9PSByb3cucm93SW5kZXg7CiAgICAgIH0pOwogICAgICBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvdy5sZW5ndGggPT0gMSkgewogICAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIGZhbHNlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgcmVmc0VsVGFibGUuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7CiAgICB9LAogICAgcm93U3R5bGU6IGZ1bmN0aW9uIHJvd1N0eWxlKF9yZWYpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYucm93LAogICAgICAgIHJvd0luZGV4ID0gX3JlZi5yb3dJbmRleDsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdywgJ3Jvd0luZGV4JywgewogICAgICAgIHZhbHVlOiByb3dJbmRleCwKICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgICB9KTsKICAgIH0sCiAgICByb3dDbGFzc05hbWU6IGZ1bmN0aW9uIHJvd0NsYXNzTmFtZShfcmVmMikgewogICAgICB2YXIgcm93ID0gX3JlZjIucm93LAogICAgICAgIHJvd0luZGV4ID0gX3JlZjIucm93SW5kZXg7CiAgICAgIHZhciByb3dOYW1lID0gIiIsCiAgICAgICAgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93LmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHJldHVybiBjLnJvd0luZGV4ID09PSByb3cucm93SW5kZXg7CiAgICAgICAgfSk7CiAgICAgIGlmIChmaW5kUm93KSB7CiAgICAgICAgcm93TmFtZSA9ICJjdXJyZW50LXJvdyAiOwogICAgICB9CiAgICAgIHJldHVybiByb3dOYW1lOwogICAgfSwKICAgIGNoYWNrZWRTdWJEYXRhOiBmdW5jdGlvbiBjaGFja2VkU3ViRGF0YShkYXRhKSB7CiAgICAgIGlmIChkYXRhLmxlbmd0aCAhPSAwKSB7CiAgICAgICAgdmFyIGRhdGExID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKF8pIHsKICAgICAgICAgIHJldHVybiBfLmZpZWxkTmFtZSA9PSAiY3NfZGVwdCI7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGRhdGEyID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKF8pIHsKICAgICAgICAgIHJldHVybiBfLmZpZWxkTmFtZSA9PSAiY3NfZGF0ZSI7CiAgICAgICAgfSk7CiAgICAgICAgdmFyIGRhdGEzID0gZGF0YS5maWx0ZXIoZnVuY3Rpb24gKF8pIHsKICAgICAgICAgIHJldHVybiBfLmZpZWxkTmFtZSA9PSAiY3NfdGFyZ2V0IjsKICAgICAgICB9KTsKICAgICAgICB2YXIgZGF0YTQgPSBkYXRhLmZpbHRlcihmdW5jdGlvbiAoXykgewogICAgICAgICAgcmV0dXJuIF8uZmllbGROYW1lID09ICJjc19zY29yZSI7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGRhdGExLmxlbmd0aCAhPT0gMCAmJiBkYXRhMi5sZW5ndGggIT09IDAgJiYgZGF0YTMubGVuZ3RoICE9PSAwICYmIGRhdGE0Lmxlbmd0aCAhPT0gMCkgewogICAgICAgICAgdGhpcy5zdWIyQm9vbCA9IHRydWU7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuc3ViMkJvb2wgPSBmYWxzZTsKICAgICAgICAgIHRoaXMubXNnRXJyb3IoIuWtl+auteWQjeensOW/hemhu+WMheWQqyDml6XmnJ/vvIzpg6jpl6jvvIzmjIfmoIfvvIzliIblgLwiKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5tc2dFcnJvcigi6K+35YWI6YWN572u5pWw5o2uIik7CiAgICAgIH0KICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSh0eXBlKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWyJmb3JtIl0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgZmRjTGlzdCA9IFtdLAogICAgICAgICAgICBjb3VudCA9IDA7CiAgICAgICAgICB2YXIgcGFnZURhdGEgPSB7CiAgICAgICAgICAgIGlkOiBfdGhpczcuZm9ybURlc2lnbklkLAogICAgICAgICAgICBwYWdlTnVtOiBfdGhpczcuZm9ybS5wYWdlTnVtCiAgICAgICAgICB9OwogICAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczcuZm9ybURhdGFMaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHZhciB0ZW1wQXJyMSA9IF90aGlzNy5mb3JtRGF0YUxpc3RbaV07CiAgICAgICAgICAgIGZvciAodmFyIGogPSAwOyBqIDwgX3RoaXM3LmZvcm1EYXRhTGlzdDEubGVuZ3RoOyBqKyspIHsKICAgICAgICAgICAgICB2YXIgdGVtcEFycjIgPSBfdGhpczcuZm9ybURhdGFMaXN0MVtqXTsKICAgICAgICAgICAgICBpZiAodGVtcEFycjIuaWQgPT09IHRlbXBBcnIxLmlkKSB7CiAgICAgICAgICAgICAgICB0ZW1wQXJyMS5pc0xpc3QgPSB0ZW1wQXJyMi5pc0xpc3Q7CiAgICAgICAgICAgICAgICB0ZW1wQXJyMS5pc0VkaXQgPSB0ZW1wQXJyMi5pc0VkaXQ7CiAgICAgICAgICAgICAgICB0ZW1wQXJyMS5pc1F1ZXJ5ID0gdGVtcEFycjIuaXNRdWVyeTsKICAgICAgICAgICAgICAgIHRlbXBBcnIxLnNvcnRObyA9IHRlbXBBcnIyLnNvcnRObzsKICAgICAgICAgICAgICAgIHRlbXBBcnIxLmlzU29ydCA9IHRlbXBBcnIyLmlzU29ydDsKICAgICAgICAgICAgICAgIHRlbXBBcnIxLnNvb3J0VHlwZSA9IHRlbXBBcnIyLnNvb3J0VHlwZTsKICAgICAgICAgICAgICAgIGJyZWFrOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgICBmb3IgKHZhciBrID0gMDsgayA8IF90aGlzNy5mb3JtRGF0YUxpc3QyLmxlbmd0aDsgaysrKSB7CiAgICAgICAgICAgICAgdmFyIF90ZW1wQXJyID0gX3RoaXM3LmZvcm1EYXRhTGlzdDJba107CiAgICAgICAgICAgICAgaWYgKF90ZW1wQXJyLmlkID09PSB0ZW1wQXJyMS5pZCkgewogICAgICAgICAgICAgICAgdGVtcEFycjEucXVlcnlUeXBlID0gX3RlbXBBcnIucXVlcnlUeXBlOwogICAgICAgICAgICAgICAgdGVtcEFycjEucXVlcnlEZWZhdWx0ID0gX3RlbXBBcnIucXVlcnlEZWZhdWx0OwogICAgICAgICAgICAgICAgdGVtcEFycjEuaXNMaXN0UXVlcnkgPSAxOwogICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9CiAgICAgICAgICAgIGZvciAodmFyIF9rID0gMDsgX2sgPCBfdGhpczcuZm9ybURhdGFMaXN0My5sZW5ndGg7IF9rKyspIHsKICAgICAgICAgICAgICB2YXIgX3RlbXBBcnIyID0gX3RoaXM3LmZvcm1EYXRhTGlzdDNbX2tdOwogICAgICAgICAgICAgIGlmIChfdGVtcEFycjIuaWQgPT09IHRlbXBBcnIxLmlkKSB7CiAgICAgICAgICAgICAgICB0ZW1wQXJyMS5zdW1UeXBlID0gX3RlbXBBcnIyLnN1bVR5cGU7CiAgICAgICAgICAgICAgICB0ZW1wQXJyMS5pc1N1bSA9IDE7CiAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgICAgZmRjTGlzdC5wdXNoKHRlbXBBcnIxKTsKICAgICAgICAgIH0KICAgICAgICAgIC8v5Yik5pat5b+F5aGr5a2X5q61CiAgICAgICAgICBfdGhpczcuY2hhY2tlZFN1YkRhdGEoZmRjTGlzdCk7CiAgICAgICAgICBmZGNMaXN0LmZvckVhY2goZnVuY3Rpb24gKF8pIHsKICAgICAgICAgICAgaWYgKF8uaXNTb3J0ID09ICIxIikgewogICAgICAgICAgICAgIGNvdW50Kys7CiAgICAgICAgICAgIH0KICAgICAgICAgICAgaWYgKGNvdW50ID4gMikgewogICAgICAgICAgICAgIF90aGlzNy5zdWIxQm9vbCA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzNy5zdWIxQm9vbCA9IHRydWU7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgICAgaWYgKCFfdGhpczcuc3ViMUJvb2wgJiYgZmRjTGlzdC5sZW5ndGggIT0gMCkgewogICAgICAgICAgICBfdGhpczcubXNnRXJyb3IoIuS7heaUr+aMgeS4pOS4quaOkuW6j+Wtl+autSIpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoX3RoaXM3LnN1YjFCb29sICYmIF90aGlzNy5zdWIyQm9vbCkgewogICAgICAgICAgICB2YXIgc2F2ZUxvYWRpbmcgPSBfdGhpczcuc2F2ZUxvYWRpbmcoKTsKICAgICAgICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgICAgICAgZmRjTGlzdDogZmRjTGlzdCwKICAgICAgICAgICAgICBpZDogX3RoaXM3LmZvcm1EZXNpZ25JZCwKICAgICAgICAgICAgICBzb3J0Tm86IF90aGlzNy5mb3JtLnNvcnRObywKICAgICAgICAgICAgICByZW1hcmtzOiBfdGhpczcuZm9ybS5yZW1hcmtzCiAgICAgICAgICAgIH07CiAgICAgICAgICAgICgwLCBfZm9ybURlc2lnbi5lZGl0QWRkRm9ybURlc2lnbikoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAoMCwgX2Zvcm1EZXNpZ24uc2V0UGFnZU5vKShwYWdlRGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIF90aGlzNy5tc2dTdWNjZXNzKCLkv53lrZjmiJDlip8iKTsKICAgICAgICAgICAgICAgICAgICBfdGhpczcuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBmb3JtTmFtZTogbnVsbCwKICAgICAgICB0aXRsZTogbnVsbCwKICAgICAgICBmb3JtSnNvbjogbnVsbCwKICAgICAgICBjcmVhdGVCeTogbnVsbCwKICAgICAgICBjcmVhdGVEYXRlOiBudWxsLAogICAgICAgIHVwZGF0ZUJ5OiBudWxsLAogICAgICAgIHVwZGF0ZURhdGU6IG51bGwsCiAgICAgICAgcmVtYXJrczogbnVsbCwKICAgICAgICByZW1hcms6IG51bGwsCiAgICAgICAgcGFnZU51bTogMzAsCiAgICAgICAgZGVsRmxhZzogbnVsbCwKICAgICAgICBmb3JtQ29kZTogbnVsbCwKICAgICAgICBnZW5UYWJsZU5hbWU6IG51bGwsCiAgICAgICAgZm9ybVVybDogbnVsbCwKICAgICAgICBmb3JtVHlwZTogbnVsbCwKICAgICAgICBpc1N1bTogbnVsbCwKICAgICAgICBzb3J0Tm86IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oImZvcm0iKTsKICAgIH0sCiAgICAvLyDlvLnmoYblhbPpl60KICAgIGhhbmRsZURpYWxvZ0Nsb3NlOiBmdW5jdGlvbiBoYW5kbGVEaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2FuY2VsIiwgZmFsc2UpOwogICAgfSwKICAgIC8qKiDlhbPpl63mjInpkq4gKi9jbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNhbmNlbCIsIGZhbHNlKTsKICAgIH0gLy8gLy/liKnnlKjljZXlhYPmoLznmoQgY2xhc3NOYW1lIOeahOWbnuiwg+aWueazle+8jOe7meihjOWIl+e0ouW8lei1i+WAvAogICAgLy8gdGFibGVDZWxsQ2xhc3NOYW1lKHsgcm93LCBjb2x1bW4sIHJvd0luZGV4LCBjb2x1bW5JbmRleCB9KSB7Ly/ms6jmhI/ov5nph4zmmK/op6PmnoQKICAgIC8vICAgcm93LmluZGV4ID0gcm93SW5kZXgKICAgIC8vICAgY29sdW1uLmluZGV4ID0gY29sdW1uSW5kZXgKICAgIC8vIH0sCiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;;;;;;;AA6MA;AACA;AAEA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAFA;AAAA,eAIA;EACAA;EACAC;IACAC;IACAC;EACA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAD;MACAE;QACA;UACA;UACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAP;MACAK;QACA;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;QACAC,WACA;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAP,QACA;UAAAK;UAAAC;UAAAC;QAAA,EACA;QACAC,UACA;UAAAH;UAAAC;UAAAC;QAAA;MAEA;MACAE;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAAA;IACA;MACA;IACA;IACA;MACA;IACA;IACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;UACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QAAA9C;MAAA;QACA;UACA;YACA;cACA+C;cACAA;cACAA;cACAA;YACA;YACA;cACAA;cACAA;cACAA;cACAA;YACA;YACA;UACA;UACA;UACA;YACAA;YACA;UACA;UACA;YACA;cACAA;cACAA;cACAA;cACAA;YACA;YACA;cACAA;cACAA;cACAA;cACAA;YACA;YACA;UACA;UACA;YACA;UACA;UACA;YACA;UACA;UACA;QACA;MACA;IACA;IAEAC;MACA;QACAC;MACA;MACA;QACA;MACA;MACA;QACA;MACA;IAEA;IACAC;MAAA;MACAD;QACA;UACA;YACAE;YACA;cAAA;YAAA;cACA;cACA;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;UACA;QACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACAL;QACA;UACA;YACA;cAAA;YAAA;cACAM;YACA;UACA;QACA;MACA;MACA;IACA;IACA,mBACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA,aACAC;MACA;MACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;QACA;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;QACAC;QACA;MACA;MACAA;MACAA;IACA;IACAC,kCAGA;MAAA,IAFAC;QACAC;MAEAC;QACAC;QACAC;QACAC;MACA;IACA;IACAC,2CAGA;MAAA,IAFAN;QACAC;MAEA;QACAM;UAAA;QAAA;MACA;QACAC;MACA;MACA;IACA;IACAC;MACA;QACA;UAAA;QAAA;QACA;UAAA;QAAA;QACA;UAAA;QAAA;QACA;UAAA;QAAA;QACA;UACA;QACA;UACA;UACA;UACA;QACA;MACA;QACA;MACA;IACA;IACA,WACAC;MAAA;MACA;QACA;UACA;YAAAC;UACA;YACAC;YACAlD;UACA;UACA;YACA;YACA;cACA;cACA;gBACAmD;gBACAA;gBACAA;gBACAA;gBACAA;gBACAA;gBACA;cACA;YACA;YACA;cACA;cACA;gBACAA;gBACAA;gBACAA;gBACA;cACA;YACA;YACA;cACA;cACA;gBACAA;gBACAA;gBACA;cACA;YACA;YACAC;UACA;UACA;UACA;UACAA;YACA;cACAH;YACA;YACA;cACA;YACA;cACA;YACA;UACA;UACA;YACA;YACA;UACA;UACA;YACA;YACA;cAAAG;cAAAF;cAAAG;cAAAC;YAAA;YACA;cACA;gBACA;kBACA;oBACA;oBACA;oBACAC;kBACA;gBACA;cACA;YACA;UACA;QACA;MACA;IAEA;IACA;IACAC;MACA;QACAN;QACAtD;QACAJ;QACAiE;QACAC;QACAC;QACAC;QACAC;QACAP;QACAQ;QACA9D;QACA+D;QACAC;QACAC;QACAC;QACAC;QACAC;QACAf;MACA;MACA;IACA;IAEA;IACAgB;MACA;IACA;IACA,WACAC;MACA;IACA,EACA;IACA;IACA;IACA;IACA;EACA;AACA;AAAA","names":["name","components","addForm","editFormItem","props","open","type","default","formDesignId","watch","handler","deep","immediate","data","openFormMarking","openEditForm","itemID","dictOptions","loading","exportLoading","ids","single","multiple","showSearch","total","formDesignList","title","openDialog","form","rules","formName","required","message","trigger","pageNum","editTableBool","tableLoading","sub1Bool","sub2Bool","allDataList","allDataList1","formDataList","formDataList1","formDataList2","formDataList3","mbpxTypeOptions","selectionRow","editFormItemData","queryTypeOptions","mbhzSzOptions","created","methods","mbpxTypeFormat","getDetailForm","getFormTableList","item","selectFieldDesc","val","selectFieldDescTable","_","removeFun","clearSelectItem","selectFieldDescSum","arr","formDesign","cancelFormMarking","cancelEditForm","handleUpdate","handleSelectionChange","rowClick","refsElTable","rowStyle","row","rowIndex","Object","value","writable","enumerable","rowClassName","findRow","rowName","chackedSubData","submitForm","count","id","tempArr1","fdcList","sortNo","remarks","saveLoading","reset","formJson","createBy","createDate","updateBy","updateDate","remark","delFlag","formCode","genTableName","formUrl","formType","isSum","handleDialogClose","close"],"sourceRoot":"src/views/tool/formDesign","sources":["editModel.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"60%\" custom-class=\"el-button--primary\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDialogClose\">\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" class=\"edit_form\">\n        <el-row>\n          <el-col :span=\"24\">\n            <p class=\"lit-title\" >基础信息</p>\n          </el-col>\n          <el-col :span=\"12\" style=\"margin-left:20%\">\n            <el-form-item label=\"模板名称：\" prop=\"formName\">\n              <el-input v-model=\"form.formName\" placeholder=\"请输入模板名称\"  disabled/>\n            </el-form-item>\n            <el-form-item label=\"标题：\" prop=\"title\">\n              <el-input v-model=\"form.title\" placeholder=\"请输入标题\" disabled/>\n            </el-form-item>\n            <el-form-item label=\"显示顺序：\" prop=\"sortNo\">\n              <el-input-number controls-position=\"right\" v-model=\"form.sortNo\" placeholder=\"请输入显示顺序\"/>\n            </el-form-item>\n            <el-form-item label=\"生成汇总数据：\" prop=\"isSum\">\n              <el-radio-group v-model=\"form.isSum\" disabled>\n                <el-radio label=\"0\">是</el-radio>\n                <el-radio label=\"1\">否</el-radio>\n              </el-radio-group>\n            </el-form-item>\n            <el-form-item label=\"说明：\" prop=\"remark\">\n              <el-input v-model=\"form.remark\" type=\"textarea\" rows=\"4\" placeholder=\"请输入说明\" disabled/>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <p class=\"lit-title\" >模板字段</p>\n          </el-col>\n        </el-row>\n              <!-- v-hasPermi=\"['formDesign:formDesign:add']\"   v-hasPermi=\"['formDesign:formDesign:edit']\"-->\n        <el-row :gutter=\"10\" class=\"mb8\">\n          <el-col :span=\"1.5\">\n            <el-button\n              type=\"primary\"\n              icon=\"el-icon-plus\"\n              size=\"mini\"\n              @click=\"formDesign\"\n            >新 增</el-button>\n          </el-col>\n          <el-col :span=\"1.5\">\n            <el-button\n              type=\"success\"\n              icon=\"el-icon-edit\"\n              size=\"mini\"\n              :disabled=\"single\"\n              @click=\"handleUpdate\"\n            >编 辑</el-button>\n          </el-col>\n        </el-row>\n        <el-table border v-loading=\"tableLoading\" max-height=\"300px\" :data=\"formDataList\" @selection-change=\"handleSelectionChange\" ref=\"multipleTable\" @row-click=\"rowClick\" :row-style=\"rowStyle\" :row-class-name=\"rowClassName\">\n          <el-table-column type=\"selection\" width=\"50\" align=\"center\" />\n          <el-table-column label=\"字段名称\" align=\"center\" prop=\"fieldDesc\" />\n          <el-table-column label=\"字段类型\" align=\"center\" prop=\"dbType\" />\n          <el-table-column label=\"字段属性\" align=\"center\" prop=\"fieldType\" />\n          <el-table-column label=\"字段布局\" align=\"center\" prop=\"span\">\n            <div slot-scope=\"scope\">\n              <el-input-number v-model=\"scope.row.span\" controls-position=\"right\" :min=\"0\" :precision=\"1\" />\n            </div>\n          </el-table-column>\n        </el-table>\n        <el-col :span=\"24\">\n          <p class=\"lit-title\" >模板视图</p>\n        </el-col>\n\n        <el-table border v-loading=\"tableLoading\" max-height=\"300px\" :data=\"formDataList1\" >\n          <el-table-column label=\"字段名称\" align=\"center\" prop=\"fieldDesc\" />\n          <el-table-column label=\"是否在列表显示\" align=\"center\" prop=\"isList\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.isList\" clearable placeholder=\"请选择是否显示\" >\n                <el-option label=\"是\" value=\"1\">是</el-option>\n                <el-option label=\"否\" value=\"0\">否</el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"是否在编辑页显示\" align=\"center\" prop=\"isEdit\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.isEdit\" clearable placeholder=\"请选择是否显示\" >\n                <el-option label=\"是\" value=\"1\">是</el-option>\n                <el-option label=\"否\" value=\"0\">否</el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"是否查询列\" align=\"center\" prop=\"isQuery\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.isQuery\" clearable placeholder=\"请选择是否查询列\" @change=\"selectFieldDesc(scope.row)\">\n                <el-option label=\"是\" value=\"1\">是</el-option>\n                <el-option label=\"否\" value=\"0\">否</el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"显示位置\" align=\"center\" prop=\"sortNo\">\n            <template slot-scope=\"scope\">\n              <el-input-number v-model=\"scope.row.sortNo\" controls-position=\"right\" />\n            </template>\n          </el-table-column>\n          <el-table-column label=\"是否排序\" align=\"center\" prop=\"isSort\" >\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.isSort\" clearable placeholder=\"请选择是否排序\" >\n                <el-option label=\"是\" value=\"1\">是</el-option>\n                <el-option label=\"否\" value=\"0\">否</el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"排序方式\" align=\"center\" prop=\"soortType\" >\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.soortType\" clearable placeholder=\"请选择排序方式\" >\n                <el-option\n                v-for=\"dict in mbpxTypeOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n        </el-table>\n        <el-col :span=\"14\" style=\"margin-left:16%;margin-top:10px\">\n          <el-form-item label=\"列表筛选条件\" prop=\"fieldDesc\">\n              <el-select class=\"w100\" multiple clearable v-model=\"form.fieldDesc\" placeholder=\"请选择列表筛选条件\" @change=\"selectFieldDescTable\" @remove-tag=\"removeFun\" @clear=\"clearSelectItem\">\n                <el-option v-for=\"dict in allDataList\"\n                :key=\"dict.fieldName\"\n                :label=\"dict.fieldDesc\"\n                :value=\"dict.fieldName\"></el-option>\n              </el-select>\n          </el-form-item>\n        </el-col>\n\n        <el-table border v-loading=\"tableLoading\" max-height=\"300px\" :data=\"formDataList2\">\n          <el-table-column label=\"字段名称\" align=\"center\" prop=\"fieldDesc\" />\n          <el-table-column label=\"条件\" align=\"center\" prop=\"queryType\" >\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.queryType\" clearable placeholder=\"请选择条件\" >\n                <el-option\n                v-for=\"dict in queryTypeOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n          <el-table-column label=\"筛选值\" align=\"center\" prop=\"queryDefault\">\n            <template slot-scope=\"scope\">\n              <el-input-number controls-position=\"right\" v-if=\"scope.row.fieldName=='cs_score'\" v-model=\"scope.row.queryDefault\"/>\n              <el-input v-else v-model=\"scope.row.queryDefault\" />\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <el-col :span=\"24\">\n          <p class=\"lit-title\" >汇总设置</p>\n        </el-col>\n\n        <el-col :span=\"14\" style=\"margin-left:16%;margin-top:10px\">\n          <el-form-item label=\"选择汇总字段\" prop=\"fieldDesc1\">\n             <el-select class=\"w100\" multiple v-model=\"form.fieldDesc1\" clearable placeholder=\"请选择汇总字段\" @change=\"selectFieldDescSum\">\n                <el-option v-for=\"dict in allDataList1\"\n                :key=\"dict.fieldName\"\n                :label=\"dict.fieldDesc\"\n                :value=\"dict.fieldName\"></el-option>\n              </el-select>\n          </el-form-item>\n        </el-col>\n\n        <el-table border v-loading=\"tableLoading\" max-height=\"300px\" :data=\"formDataList3\">\n          <el-table-column label=\"字段名称\" align=\"center\" prop=\"fieldDesc\" />\n          <el-table-column label=\"汇总设置\" align=\"center\" prop=\"sumType\">\n            <template slot-scope=\"scope\">\n              <el-select v-model=\"scope.row.sumType\" clearable placeholder=\"请选择条件\" >\n                <el-option\n                v-for=\"dict in mbhzSzOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n              </el-select>\n            </template>\n          </el-table-column>\n        </el-table>\n\n        <el-col :span=\"24\">\n          <p class=\"lit-title\" >页面设置</p>\n        </el-col>\n\n        <el-col :span=\"8\"  style=\"margin-left:30%;margin-top:10px\">\n          <el-form-item label=\"每页显示条数\" prop=\"pageNum\" >\n              <el-input-number v-model=\"form.pageNum\" controls-position=\"right\" :min=\"1\" />\n          </el-form-item>\n        </el-col>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm(true)\">保 存</el-button>\n        <el-button @click=\"close()\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n    <addForm v-if=\"openFormMarking\" :open=\"openFormMarking\" :formMarkingId=\"itemID\" @cancel=\"cancelFormMarking\"></addForm>\n    <editFormItem v-if=\"openEditForm\" :open=\"openEditForm\" :queryParams=\"editFormItemData\" @cancel=\"cancelEditForm\"></editFormItem>\n  </div>\n</template>\n\n<script>\nimport { deployList ,saveDeployList} from '@/api/utils';\nimport {getFormDesign,getFormTableList,editAddFormDesign,setPageNo} from \"@/api/formDesign/formDesign\";\n// import { optionselect as getDictOptionselect } from '@/api/system/dict/type';\nimport addForm from '@/views/components/formDesignAdd';\nimport editFormItem from './editFormItem';\n\nexport default {\n  name: \"EditModel\",\n  components:{\n    addForm,\n    editFormItem\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    formDesignId: {\n      type: String,\n      default: \"\"\n    },\n  },\n  watch: {\n    formDesignId: {\n      handler(val) {\n        if (val) {\n          this.formDesignId = val;\n          this.title = \"模板管理-编辑模板\";\n          this.getDetailForm();\n          this.getFormTableList();\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    open: {\n      handler(val) {\n        this.openDialog = val;\n      },\n      deep: true,\n      immediate: true\n    },\n  },\n\tdata(){\n        return{\n          openFormMarking:false,\n          openEditForm:false,\n          itemID:\"\",\n        \t// 字典信息\n        \tdictOptions: [],\n           \t// 遮罩层\n\t      \tloading: false,\n\t      \t// 导出遮罩层\n\t      \texportLoading: false,\n\t      \t// 选中数组\n\t      \tids: [],\n\t      \t// 非单个禁用\n\t      \tsingle: true,\n\t      \t// 非多个禁用\n\t      \tmultiple: true,\n\t      \t// 显示搜索条件\n\t      \tshowSearch: true,\n\t      \t// 总条数\n\t      \ttotal: 0,\n\t      \t// 自定义表单表格数据\n\t      \tformDesignList: [],\n\t      \t// 弹出层标题\n\t      \ttitle: \"模板管理-编辑模板\",\n\t      \t// 是否显示弹出层\n          openDialog: false,\n\t      \t// 表单参数\n\t      \tform: {},\n          rules:{\n            formName: [\n              { required: true, message: \"模板名称不能为空\", trigger: \"blur\" }\n            ],\n            title: [\n              { required: true, message: \"标题不能为空\", trigger: \"blur\" }\n            ],\n            pageNum:[\n               { required: true, message: \"每页显示条数不能为空\", trigger: \"blur\"}\n            ],\n          },\n          editTableBool:false,\n          tableLoading:false,\n          sub1Bool:false,\n          sub2Bool:false,\n          allDataList:[],\n          allDataList1:[],\n          formDataList:[],\n          formDataList1:[],\n          formDataList2:[],\n          formDataList3:[],\n          mbpxTypeOptions:[],\n          selectionRow:[],\n          editFormItemData:{},\n          queryTypeOptions:[],\n          mbhzSzOptions:[],\n        }\n    },\n    created() {\n      this.getDicts(\"pms_mbpx_type\").then(response => {\n        this.mbpxTypeOptions = response.data;\n      });\n      this.getDicts(\"pms_mbsx_tj\").then(response => {\n        this.queryTypeOptions = response.data;\n      });\n      this.getDicts(\"pms_mbhz_sz\").then(response => {\n        this.mbhzSzOptions = response.data;\n      });\n    },\n    methods:{\n      // 排序类型字典翻译\n      mbpxTypeFormat(row, column) {\n        return this.selectDictLabel(this.mbpxTypeOptions, row.apportType);\n      },\n      //编辑表单明细\n      getDetailForm(){\n        getFormDesign(this.formDesignId).then(response=>{\n          if(response.code===200){\n            this.form=response.data;\n            this.form.pageNum=!response.data.pageNum?30:response.data.pageNum;\n          }\n        })\n      },\n      //编辑表格列表数据\n      getFormTableList(){\n        this.tableLoading=true;\n        getFormTableList({formDesignId:this.formDesignId}).then(response=>{\n          if(response.code===200){\n           this.allDataList=JSON.parse(JSON.stringify(response.data.filter((item)=>{\n             if(item.fieldName=='pms_guidance' || item.fieldName=='pms_result'){\n               item.isEdit='0';\n               item.isQuery='0';\n               item.isList='1'\n               item.isListQuery='0'\n             }\n             if(item.fieldName=='pms_state' || item.fieldName=='dept_track' || item.fieldName==\"comp_code\"){\n               item.isEdit='0';\n               item.isQuery='0';\n               item.isList='0'\n               item.isListQuery='0'\n             }\n             return item.isQuery==1 && item.isListQuery!=1\n           })));\n           this.allDataList1=JSON.parse(JSON.stringify(response.data));\n           this.formDataList=JSON.parse(JSON.stringify(response.data.map(item=>{\n             item.span=24;\n             return item\n           })));\n           this.formDataList1=JSON.parse(JSON.stringify(response.data.map(item=>{\n             if(item.fieldName=='pms_guidance' || item.fieldName=='pms_result'){\n               item.isEdit='0';\n               item.isQuery='0';\n               item.isList='1'\n               item.isListQuery='0'\n             }\n             if(item.fieldName=='pms_state' || item.fieldName=='dept_track' || item.fieldName==\"comp_code\"){\n               item.isEdit='0';\n               item.isQuery='0';\n               item.isList='0'\n               item.isListQuery='0'\n             }\n             return item\n           })));\n           this.formDataList2=JSON.parse(JSON.stringify(response.data.filter((item)=>{\n             return item.isListQuery==1\n           })));\n           this.formDataList3=JSON.parse(JSON.stringify(response.data.filter((ite)=>{\n             return ite.isSum==1\n           })));\n           this.tableLoading=false;\n          }\n        })\n      },\n\n      selectFieldDesc(val){\n        if(val.isQuery==\"0\"){\n          val.isListQuery=\"0\";\n        }\n        this.allDataList=JSON.parse(JSON.stringify(this.formDataList1.filter((ite)=>{\n             return ite.isQuery==1 && ite.isListQuery!=1\n        })));\n        this.formDataList2=JSON.parse(JSON.stringify(this.formDataList1.filter((ite)=>{\n          return ite.isQuery==1 && ite.isListQuery==1\n        })))\n\n      },\n      selectFieldDescTable(val){\n        val.forEach(ite=>{\n          this.allDataList.forEach((_,ind)=>{\n            if(ite==_.fieldName){\n              _.isListQuery=1;\n              if(this.formDataList2.findIndex((item=>_.fieldName==item.fieldName))==-1){\n                this.formDataList2.push(_);\n                this.allDataList.splice(ind,1)\n              }\n            }\n          })\n        })\n      },\n      removeFun(val){\n          this.formDataList2.forEach((_,ind)=>{\n            if(val==_.fieldName){\n                this.allDataList.push(_);\n                this.formDataList2.splice(ind,1)\n            }\n          })\n      },\n      clearSelectItem(){\n        this.allDataList=JSON.parse(JSON.stringify(this.formDataList1.filter((ite)=>{\n             return ite.isQuery==1 && ite.isListQuery!=1\n        })));\n        this.formDataList2=JSON.parse(JSON.stringify(this.formDataList1.filter((ite)=>{\n          return ite.isQuery==1 && ite.isListQuery==1\n        })))\n      },\n      // selectFieldDescSum\n      selectFieldDescSum(val){\n        let arr=[]\n        val.forEach(ite=>{\n          this.allDataList1.forEach(_=>{\n            if(ite==_.fieldName){\n              if(arr.findIndex((item=>_.fieldName==item.fieldName))==-1){\n                arr.push(_)\n              }\n            }\n          })\n        })\n        this.formDataList3=arr\n      },\n      /** 新增操作打开表单设计页面 */\n      formDesign() {\n        this.itemID= this.formDesignId;\n        this.openFormMarking=true;\n      },\n      cancelFormMarking(){\n        this.openFormMarking=false;\n        this.getFormTableList();\n      },\n      cancelEditForm(){\n        this.openEditForm=false;\n        this.getFormTableList();\n      },\n       /** 修改按钮操作 */\n      handleUpdate() {\n        this.editFormItemData=JSON.parse(JSON.stringify(this.selectionRow[0]));\n        this.openEditForm=true;\n      },\n      /** 删除按钮操作 */\n      // handleDelete(row) {\n      //   const ids = row.id || this.ids;\n      //   this.$confirm('是否确认删除分摊明细编号为\"' + ids + '\"的数据项?', \"警告\", {\n      //       confirmButtonText: \"确定\",\n      //       cancelButtonText: \"取消\",\n      //       type: \"warning\"\n      //     }).then(function() {\n      //       // return delApportDetail(ids);\n      //     }).then(() => {\n      //       // this.getDetailList();\n      //       this.msgSuccess(\"删除成功\");\n      //     }).catch(() => {});\n      // },\n       // 多选框选中数据\n      handleSelectionChange(selection) {\n        this.ids = selection.map(item => item.id)\n        if(selection[0]&&selection[0].fieldName=='comp_code'){\n          this.single=true;\n        }else{\n          this.single = selection.length!==1\n          this.multiple = !selection.length\n          this.selectionRow=selection;\n        }\n      },\n      rowClick(row, column, event) {\n        let refsElTable = this.$refs.multipleTable;\n        let findRow = this.selectionRow.find(c => c.rowIndex == row.rowIndex);\n        if (findRow && this.selectionRow.length == 1) {\n          refsElTable.toggleRowSelection(row, false);\n          return;\n        }\n        refsElTable.clearSelection();\n        refsElTable.toggleRowSelection(row);\n      },\n      rowStyle({\n        row,\n        rowIndex\n      }) {\n        Object.defineProperty(row, 'rowIndex', {\n          value: rowIndex,\n          writable: true,\n          enumerable: false\n        })\n      },\n      rowClassName({\n        row,\n        rowIndex\n      }) {\n        let rowName = \"\",\n          findRow = this.selectionRow.find(c => c.rowIndex === row.rowIndex);\n        if (findRow) {\n          rowName = \"current-row \";\n        }\n        return rowName;\n      },\n      chackedSubData(data){\n        if(data.length!=0){\n          let data1=data.filter(_=>_.fieldName==\"cs_dept\");\n          let data2=data.filter(_=>_.fieldName==\"cs_date\");\n          let data3=data.filter(_=>_.fieldName==\"cs_target\");\n          let data4=data.filter(_=>_.fieldName==\"cs_score\");\n          if(data1.length!==0 && data2.length!==0 && data3.length!==0 && data4.length!==0){\n            this.sub2Bool=true;\n          }else{\n            this.sub2Bool=false;\n            this.msgError(\"字段名称必须包含 日期，部门，指标，分值\");\n            return\n          }\n        }else{\n          this.msgError(\"请先配置数据\")\n        }\n      },\n\t    /** 提交按钮 */\n      submitForm(type) {\n        this.$refs[\"form\"].validate(valid => {\n          if (valid) {\n            let fdcList=[],count=0;\n            let pageData={\n              id:this.formDesignId,\n              pageNum:this.form.pageNum\n            }\n            for(let i = 0; i < this.formDataList.length; i++) {\n                let tempArr1 = this.formDataList[i]\n                for(let j = 0; j < this.formDataList1.length; j++) {\n                  let tempArr2 = this.formDataList1[j];\n                  if(tempArr2.id === tempArr1.id){\n                    tempArr1.isList=tempArr2.isList;\n                    tempArr1.isEdit=tempArr2.isEdit;\n                    tempArr1.isQuery=tempArr2.isQuery;\n                    tempArr1.sortNo=tempArr2.sortNo;\n                    tempArr1.isSort=tempArr2.isSort;\n                    tempArr1.soortType=tempArr2.soortType;\n                    break;\n                  }\n                }\n                for(let k=0;k<this.formDataList2.length;k++){\n                    let tempArr2 = this.formDataList2[k];\n                    if(tempArr2.id === tempArr1.id){\n                      tempArr1.queryType=tempArr2.queryType;\n                      tempArr1.queryDefault=tempArr2.queryDefault;\n                      tempArr1.isListQuery=1;\n                      break;\n                  }\n                }\n                for(let k=0;k<this.formDataList3.length;k++){\n                    let tempArr2 = this.formDataList3[k];\n                    if(tempArr2.id === tempArr1.id){\n                      tempArr1.sumType=tempArr2.sumType;\n                      tempArr1.isSum=1;\n                      break;\n                  }\n                }\n                fdcList.push(tempArr1)\n            }\n            //判断必填字段\n            this.chackedSubData(fdcList);\n            fdcList.forEach(_=>{\n                if(_.isSort==\"1\"){\n                  count++;\n                }\n                if(count>2){\n                  this.sub1Bool=false;\n                }else{\n                  this.sub1Bool=true;\n                }\n            })\n            if(!this.sub1Bool && fdcList.length!=0){\n                this.msgError(\"仅支持两个排序字段\");\n                return\n            }\n            if(this.sub1Bool && this.sub2Bool){\n              let saveLoading=this.saveLoading()\n              let data = {fdcList:fdcList, id:this.formDesignId, sortNo:this.form.sortNo, remarks:this.form.remarks}\n              editAddFormDesign(data).then(response => {\n                if(response.code===200){\n                  setPageNo(pageData).then(response=>{\n                    if(response.code===200){\n                      this.msgSuccess(\"保存成功\");\n                      this.close();\n                      saveLoading.close();\n                    }\n                  })\n                }\n              })\n            }\n          }\n        })\n\n      },\n      // 表单重置\n      reset() {\n        this.form = {\n          id: null,\n          formName: null,\n          title:null,\n          formJson: null,\n          createBy: null,\n          createDate: null,\n          updateBy: null,\n          updateDate: null,\n          remarks: null,\n          remark:null,\n          pageNum:30,\n          delFlag: null,\n          formCode: null,\n          genTableName: null,\n          formUrl: null,\n          formType: null,\n          isSum:null,\n          sortNo:null,\n        };\n        this.resetForm(\"form\");\n      },\n\n      // 弹框关闭\n      handleDialogClose() {\n        this.$emit(\"cancel\", false);\n      },\n      /** 关闭按钮 */\n      close() {\n        this.$emit(\"cancel\", false);\n      },\n      // //利用单元格的 className 的回调方法，给行列索引赋值\n      // tableCellClassName({ row, column, rowIndex, columnIndex }) {//注意这里是解构\n      //   row.index = rowIndex\n      //   column.index = columnIndex\n      // },\n    },\n}\n\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .el-dialog{\n  min-height: 10%;\n  overflow: hidden;\n  .el-dialog__body {\n    max-height: 700px;\n    overflow: auto;\n    &::-webkit-scrollbar {\n      width: 8px;\n      height: 8px\n    }\n    &::-webkit-scrollbar-thumb  {\n      background-color: #cccccc;\n      border-radius: 8px;\n    }\n    .lit-title{\n      font-size: 16px;\n      padding-bottom: 8px;\n      margin: 20px 0;\n      border-bottom: 1px dashed #cccccc;\n    }\n    .edit_form{\n        .el-input-number--mini{\n          width: 100%;\n        }\n        .el-form-item__label{\n          width: 140px !important;\n        }\n        .el-form-item__content{\n          margin-left: 140px !important;\n        }\n    }\n  }\n  .el-table{\n    max-height: 300px;\n    overflow: hidden;\n  }\n}\n\n</style>\n"]}]}
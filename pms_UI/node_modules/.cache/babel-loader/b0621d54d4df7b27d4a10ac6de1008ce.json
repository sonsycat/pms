{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\views\\components\\orgSearch\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\components\\orgSearch\\index.vue","mtime":1682043105579},{"path":"D:\\hrp\\zjry-pms-ui\\babel.config.js","mtime":1682043101067},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maWx0ZXIuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKdmFyIF91bnRpbCA9IHJlcXVpcmUoIkAvYXBpL3VudGlsIik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAiaW5kZXgiLAogIHByb3BzOiB7CiAgICBxdWVyeVBhcmFtczogT2JqZWN0LAogICAgbGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAi5Y2V5L2NIgogICAgfSwKICAgIHNpemU6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAibWluaSIKICAgIH0sCiAgICByZWFkb25seTogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGNvbXBDb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImNvbXBDb2RlIgogICAgfSwKICAgIGNvbXBOYW1lOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImNvbXBOYW1lIgogICAgfSwKICAgIC8vIOmcgOimgea4heepuuexu+S8vCDnp5HlrqTnmoTlgLwKICAgIGRlcHRDb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImRlcHRDb2RlIgogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIC8v5a6a5LmJ54K55Ye75qyh5pWwLOm7mOiupDDmrKEKICAgICAgdHJlZUNsaWNrQ291bnQ6IDAsCiAgICAgIGRlcHRQYXJhbXM6IHRoaXMucXVlcnlQYXJhbXMsCiAgICAgIGRlcHRTZWFyY2hGb3JtRGlhbG9nOiBmYWxzZSwKICAgICAgZGVwdE5hbWVGb3JtOiB1bmRlZmluZWQsCiAgICAgIGRlcHRPcHRpb25zOiB1bmRlZmluZWQsCiAgICAgIGRlZmF1bHRQcm9wczogewogICAgICAgIGNoaWxkcmVuOiAiY2hpbGRyZW4iLAogICAgICAgIGxhYmVsOiAibGFiZWwiCiAgICAgIH0sCiAgICAgIGRlcHRMaXN0OiBbXSwKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOm7mOiupOS4jeWxleW8gOaJgOacieiKgueCuQogICAgICBkZWZhdWx0RXhwYW5kOiBmYWxzZQogICAgfTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyB0aGlzLmdldFRyZWVTZWxlY3QoKTsKICB9LAogIHdhdGNoOiB7CiAgICAvLyDmoLnmja7lkI3np7DnrZvpgInpg6jpl6jmoJEKICAgIGRlcHROYW1lRm9ybTogZnVuY3Rpb24gZGVwdE5hbWVGb3JtKHZhbCkgewogICAgICB0aGlzLiRyZWZzLnRyZWVGb3JtLmZpbHRlcih2YWwpOwogICAgfSwKICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5kZXB0UGFyYW1zID0gdmFsOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICAvLyBmb3Jt6KGo5Y2V5Litc2VhcmNo6IqC54K55Y2V5Ye75LqL5Lu2CiAgICBoYW5kbGVGb3JtTm9kZUNsaWNrOiBmdW5jdGlvbiBoYW5kbGVGb3JtTm9kZUNsaWNrKGRhdGEpIHsKICAgICAgaWYgKHRoaXMuY29tcENvZGUgPT0gImNvbXBDb2RlIikgewogICAgICAgIHRoaXMucXVlcnlQYXJhbXMuZGVwdENvZGUgPSBudWxsOwogICAgICB9CiAgICAgIHRoaXMuZGVwdFBhcmFtc1t0aGlzLmNvbXBDb2RlXSA9IGRhdGEuaWQ7CiAgICAgIHRoaXMuZGVwdFBhcmFtc1t0aGlzLmNvbXBOYW1lXSA9IGRhdGEubGFiZWw7CiAgICAgIHRoaXMuZGVwdFNlYXJjaEZvcm1EaWFsb2cgPSBmYWxzZTsKICAgICAgdGhpcy4kZW1pdCgiY2xpY2siLCB0aGlzLmRlcHRQYXJhbXMpOwogICAgICB0aGlzLiRlbWl0KCJpbnB1dCIsIHRoaXMuZGVwdFBhcmFtcyk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICAvLyDngrnlh7tpbnB1dAogICAgaGFuZGxlQ2xpY2tJbnB1dDogZnVuY3Rpb24gaGFuZGxlQ2xpY2tJbnB1dCgpIHsKICAgICAgaWYgKCF0aGlzLnJlYWRvbmx5KSB7CiAgICAgICAgdGhpcy5kZXB0U2VhcmNoRm9ybURpYWxvZyA9IHRydWU7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgLy8gdGhpcy5tc2dFcnJvcign56aB5q2i57yW6L6RJykKICAgICAgfQogICAgfSwKICAgIGdldERlcHREYXRhczogZnVuY3Rpb24gZ2V0RGVwdERhdGFzKG5vZGUsIHJlc29sdmUpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdmFyIHBJZCA9ICIiOwogICAgICBpZiAobm9kZS5sZXZlbCA9PT0gMCkgewogICAgICAgIHBJZCA9ICIiOwogICAgICB9IGVsc2UgewogICAgICAgIHBJZCA9IG5vZGUuZGF0YS5pZDsKICAgICAgfQogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAoMCwgX3VudGlsLnRyZWVzZWxlY3QpKHsKICAgICAgICAgIHBhcmVudElkOiBwSWQKICAgICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICAgIGlmIChyZXNvbHZlKSB7CiAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMuZGVwdE9wdGlvbnMgPSByZXMuZGF0YTsKICAgICAgICAgIH0KICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSwgMTAwKTsKICAgIH0sCiAgICAvL+iOt+WPluWNleS9jeagkQogICAgZ2V0VHJlZVNlbGVjdDogZnVuY3Rpb24gZ2V0VHJlZVNlbGVjdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICgwLCBfdW50aWwudHJlZXNlbGVjdCkoKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5kZXB0T3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8gZm9ybeihqOWNleS4rXNlYXJjaOiKgueCueWNleWHu+S6i+S7tgogICAgaGFuZGxlRm9ybU5vZGVDbGljazogZnVuY3Rpb24gaGFuZGxlRm9ybU5vZGVDbGljayhkYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICAvL+iusOW9leeCueWHu+asoeaVsAogICAgICB0aGlzLnRyZWVDbGlja0NvdW50Kys7CiAgICAgIC8v5Y2V5qyh54K55Ye75qyh5pWw6LaF6L+HMuasoeS4jeS9nOWkhOeQhiznm7TmjqXov5Tlm54s5Lmf5Y+v5Lul5ouT5bGV5oiQ5aSa5Ye75LqL5Lu2CiAgICAgIGlmICh0aGlzLnRyZWVDbGlja0NvdW50ID49IDIpIHsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy/orqHml7blmags6K6h566XMzAw5q+r56eS5Li65Y2V5L2NLOWPr+iHquihjOS/ruaUuQogICAgICB0aGlzLnRpbWVyID0gd2luZG93LnNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICAgIGlmIChfdGhpczMudHJlZUNsaWNrQ291bnQgPT0gMSkgewogICAgICAgICAgLy/miormrKHmlbDlvZLpm7YKICAgICAgICAgIF90aGlzMy50cmVlQ2xpY2tDb3VudCA9IDA7CiAgICAgICAgICAvL+WNleWHu+S6i+S7tuWkhOeQhgogICAgICAgICAgLy8JCQkJCWNvbnNvbGUubG9nKCLljZXlh7vkuovku7YiKTsKICAgICAgICB9IGVsc2UgaWYgKF90aGlzMy50cmVlQ2xpY2tDb3VudCA+IDEpIHsKICAgICAgICAgIC8v5oqK5qyh5pWw5b2S6Zu2CiAgICAgICAgICBfdGhpczMudHJlZUNsaWNrQ291bnQgPSAwOwogICAgICAgICAgLy/lj4zlh7vkuovku7YKICAgICAgICAgIF90aGlzMy5xdWVyeVBhcmFtc1tfdGhpczMuZGVwdENvZGVdID0gbnVsbDsKICAgICAgICAgIF90aGlzMy5kZXB0UGFyYW1zW190aGlzMy5jb21wQ29kZV0gPSBkYXRhLmlkOwogICAgICAgICAgX3RoaXMzLmRlcHRQYXJhbXNbX3RoaXMzLmNvbXBOYW1lXSA9IGRhdGEubGFiZWw7CiAgICAgICAgICBfdGhpczMuZGVwdFNlYXJjaEZvcm1EaWFsb2cgPSBmYWxzZTsKICAgICAgICAgIF90aGlzMy4kZW1pdCgiaW5wdXQiLCBfdGhpczMuZGVwdFBhcmFtcyk7CiAgICAgICAgICBfdGhpczMuJGVtaXQoImNsaWNrIiwgX3RoaXMzLmRlcHRQYXJhbXMpOwogICAgICAgIH0KICAgICAgfSwgMzAwKTsKICAgIH0sCiAgICAvLyBzZWFyY2jnrZvpgInoioLngrkKICAgIGZpbHRlck5vZGU6IGZ1bmN0aW9uIGZpbHRlck5vZGUodmFsdWUsIGRhdGEpIHsKICAgICAgaWYgKCF2YWx1ZSkgcmV0dXJuIHRydWU7CiAgICAgIHJldHVybiBkYXRhLmxhYmVsLmluZGV4T2YodmFsdWUpICE9PSAtMTsKICAgIH0sCiAgICBoYW5kbGVDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZUNoYW5nZSh2YWx1ZSkgewogICAgICBpZiAoIXZhbHVlKSB7CiAgICAgICAgdGhpcy5kZXB0UGFyYW1zW3RoaXMuY29tcENvZGVdID0gIiI7CiAgICAgICAgdGhpcy4kZW1pdCgiaW5wdXQiLCB0aGlzLmRlcHRQYXJhbXMpOwogICAgICB9CiAgICB9LAogICAgLy8g5Yi35paw5qCR6IqC54K5CiAgICBoYW5kbGVSZWZyZXNoOiBmdW5jdGlvbiBoYW5kbGVSZWZyZXNoKCkgewogICAgICAvLyB0aGlzLmdldFRyZWVTZWxlY3QoKTsKICAgICAgdGhpcy5nZXREZXB0RGF0YXMoKTsKICAgIH0sCiAgICAvLyDlsZXlvIDmlLbnvKnmoJHnu5PngrkKICAgIGhhbmRsZUV4cGFuZDogZnVuY3Rpb24gaGFuZGxlRXhwYW5kKGZsYWcpIHsKICAgICAgLy8g5bCG5rKh5pyJ6L2s5o2i5oiQ5qCR55qE5Y6f5pWw5o2uCiAgICAgIHZhciB0cmVlTGlzdCA9IHRoaXMuZGVwdE9wdGlvbnM7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdHJlZUxpc3QubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLiRyZWZzLnRyZWVGb3JtLnN0b3JlLm5vZGVzTWFwW3RyZWVMaXN0W2ldLmlkXS5leHBhbmRlZCA9IGZsYWc7CiAgICAgIH0KICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;AAmEA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;EACAC;IACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACAI;MACAL;MACAC;IACA;IACA;IACAK;MACAN;MACAC;IACA;EACA;EACAM;IACA;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAf;MACA;MACAgB;MACAC;MACAC;MACA;MACAC;IACA;EACA;EAEAC;IACA;EACA;EACAC;IACA;IACAT;MACA;IACA;IACAb;MACAuB;QACA;MACA;MACAC;MACAC;IACA;IACA;IACAC;MACA;QACA;MACA;MACA;MACA;MACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;MACA;QACAA;MACA;MACAC;QACA;QACA;UAAAC;QAAA;UACA;YACAC;UACA;YACA;UACA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACA;QACA;MACA;IACA;IACA;IACAR;MAAA;MACA;MACA;MACA;MACA;QACA;MACA;MACA;MACA;QACA;UACA;UACA;UACA;UACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;QACA;MACA;IACA;IACA;IACAS;MACA;MACA;IACA;IACAC;MACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;MACA;QACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","queryParams","label","type","default","size","readonly","compCode","compName","deptCode","data","treeClickCount","deptParams","deptSearchFormDialog","deptNameForm","deptOptions","defaultProps","children","deptList","open","loading","defaultExpand","mounted","watch","handler","deep","immediate","handleFormNodeClick","methods","handleClickInput","getDeptDatas","pId","setTimeout","parentId","resolve","getTreeSelect","filterNode","handleChange","handleRefresh","handleExpand"],"sourceRoot":"src/views/components/orgSearch","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"deptSearch el-form-item\" >\n    <el-form-item :label=\"label\" :prop=\"compName\">\n      <el-input :size=\"size\" :readonly=\"readonly\" :clearable=\"!readonly\" @keyup.enter.native=\"handleQuery\" v-on:click.native=\"handleClickInput\" :placeholder=\"`请选择${label}`\" v-model=\"deptParams[compName]\" @change=\"handleChange\" style=\"width:100%\"/>\n    </el-form-item>\n    <el-form-item label=\"\" :prop=\"compCode\" style=\"display:none\">\n      <el-input type=\"text\" v-model=\"deptParams[compCode]\" @keyup.enter.native=\"handleQuery\"/>\n    </el-form-item>\n    <el-dialog custom-class=\"el-button--primary\" :visible.sync=\"deptSearchFormDialog\" id=\"deptDialog\" :close-on-click-modal=\"false\" :title=\"`选择${label}`\" append-to-body\n               width=\"500px\" >\n      <div>\n        <div class=\"head-container\">\n          <el-row>\n            <el-col :span=\"16\" class=\"pr5\">\n              <el-input\n                v-model=\"deptNameForm\"\n                placeholder=\"请输入编码名称\"\n                clearable\n                size=\"small\"\n                prefix-icon=\"el-icon-search\"\n                style=\"margin-bottom: 20px;\"\n              />\n            </el-col>\n            <el-col :span=\"8\">\n              <el-button\n                size=\"mini\"\n                type=\"text\"\n                icon=\"el-icon-refresh\"\n                @click=\"handleRefresh\"\n              >刷新</el-button>\n              <el-button\n                size=\"mini\"\n                type=\"text\"\n                icon=\"el-icon-arrow-down\"\n                @click=\"handleExpand(true)\"\n              >展开</el-button>\n              <el-button\n                size=\"mini\"\n                type=\"text\"\n                icon=\"el-icon-arrow-up\"\n                @click=\"handleExpand(false)\"\n              >折叠</el-button>\n            </el-col>\n          </el-row>\n\n\n        </div>\n        <div class=\"head-container\">\n          <el-tree\n            lazy\n            v-loading=\"loading\"\n            node-key=\"id\"\n            :data=\"deptOptions\"\n            :load=\"getDeptDatas\"\n            :props=\"defaultProps\"\n            :filter-node-method=\"filterNode\"\n            :default-expand-all=\"defaultExpand\"\n            ref=\"treeForm\"\n            @node-click=\"handleFormNodeClick\"\n          />\n        </div>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { treeselect, treeRoom } from \"@/api/until\";\nexport default {\n  name: \"index\",\n  props: {\n    queryParams: Object,\n    label: {\n      type: String,\n      default: \"单位\"\n    },\n    size: {\n      type: String,\n      default: \"mini\"\n    },\n    readonly: {\n      type: Boolean,\n      default: false\n    },\n    compCode: {\n      type: String,\n      default: \"compCode\"\n    },\n    compName: {\n      type: String,\n      default: \"compName\"\n    },\n    // 需要清空类似 科室的值\n    deptCode: {\n      type: String,\n      default: \"deptCode\"\n    }\n  },\n  data() {\n    return {\n      //定义点击次数,默认0次\n      treeClickCount: 0,\n      deptParams: this.queryParams,\n      deptSearchFormDialog: false,\n      deptNameForm: undefined,\n      deptOptions: undefined,\n      defaultProps: {\n        children: \"children\",\n        label: \"label\"\n      },\n      deptList: [],\n      open: false,\n      loading: true,\n      // 默认不展开所有节点\n      defaultExpand: false\n    };\n  },\n\n  mounted() {\n    // this.getTreeSelect();\n  },\n  watch: {\n    // 根据名称筛选部门树\n    deptNameForm(val) {\n      this.$refs.treeForm.filter(val);\n    },\n    queryParams: {\n      handler(val) {\n        this.deptParams = val;\n      },\n      deep: true,\n      immediate: true\n    },\n    // form表单中search节点单击事件\n    handleFormNodeClick(data) {\n      if (this.compCode == \"compCode\") {\n        this.queryParams.deptCode = null;\n      }\n      this.deptParams[this.compCode] = data.id;\n      this.deptParams[this.compName] = data.label;\n      this.deptSearchFormDialog = false;\n      this.$emit(\"click\",this.deptParams)\n      this.$emit(\"input\", this.deptParams);\n    }\n  },\n  methods: {\n    // 点击input\n    handleClickInput() {\n      if (!this.readonly) {\n        this.deptSearchFormDialog = true;\n      } else {\n        // this.msgError('禁止编辑')\n      }\n    },\n    getDeptDatas(node, resolve) {\n      var pId = \"\";\n      if (node.level === 0) {\n        pId = \"\";\n      } else {\n        pId = node.data.id;\n      }\n      setTimeout(() => {\n        this.loading = true;\n        treeselect({ parentId: pId }).then(res => {\n          if (resolve) {\n            resolve(res.data);\n          } else {\n            this.deptOptions = res.data;\n          }\n          this.loading = false;\n        });\n      }, 100);\n    },\n    //获取单位树\n    getTreeSelect() {\n      this.loading = true;\n      treeselect().then(response => {\n        this.deptOptions = response.data;\n        this.loading = false;\n      });\n    },\n    // form表单中search节点单击事件\n    handleFormNodeClick(data) {\n      //记录点击次数\n      this.treeClickCount++;\n      //单次点击次数超过2次不作处理,直接返回,也可以拓展成多击事件\n      if (this.treeClickCount >= 2) {\n        return;\n      }\n      //计时器,计算300毫秒为单位,可自行修改\n      this.timer = window.setTimeout(() => {\n        if (this.treeClickCount == 1) {\n          //把次数归零\n          this.treeClickCount = 0;\n          //单击事件处理\n          //\t\t\t\t\tconsole.log(\"单击事件\");\n        } else if (this.treeClickCount > 1) {\n          //把次数归零\n          this.treeClickCount = 0;\n          //双击事件\n          this.queryParams[this.deptCode] = null;\n          this.deptParams[this.compCode] = data.id;\n          this.deptParams[this.compName] = data.label;\n          this.deptSearchFormDialog = false;\n          this.$emit(\"input\", this.deptParams);\n          this.$emit(\"click\",this.deptParams)\n        }\n      }, 300);\n    },\n    // search筛选节点\n    filterNode(value, data) {\n      if (!value) return true;\n      return data.label.indexOf(value) !== -1;\n    },\n    handleChange(value) {\n      if (!value) {\n        this.deptParams[this.compCode] = \"\";\n        this.$emit(\"input\", this.deptParams);\n      }\n    },\n    // 刷新树节点\n    handleRefresh() {\n      // this.getTreeSelect();\n      this.getDeptDatas();\n    },\n    // 展开收缩树结点\n    handleExpand(flag) {\n      // 将没有转换成树的原数据\n      let treeList = this.deptOptions;\n      for (let i = 0; i < treeList.length; i++) {\n        this.$refs.treeForm.store.nodesMap[treeList[i].id].expanded = flag;\n      }\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.deptSearch {\n  margin-bottom: 0 !important;\n}\n// 单位弹框样式更改\n#deptDialog {\n  ::v-deep .el-dialog {\n    height: 80%;\n    overflow: hidden;\n    .el-dialog__body {\n      height: calc(100% - 54px);\n      overflow: hidden;\n      > div {\n        height: 100%;\n        .head-container:last-of-type {\n          height: calc(100% - 54px);\n          overflow-y: auto;\n        }\n      }\n    }\n  }\n}\n</style>\n"]}]}
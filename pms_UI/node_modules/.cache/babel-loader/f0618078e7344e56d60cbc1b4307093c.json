{"remainingRequest":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\basic\\rule\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\basic\\rule\\index.vue","mtime":1693362204466},{"path":"F:\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcucGFkLXN0YXJ0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc2VhcmNoLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKdmFyIF9ydWxlID0gcmVxdWlyZSgiQC9hcGkvZW5jb2RlL3J1bGUiKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICJSdWxlIiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVIZWlnaHQ6ICJhdXRvIiwKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOWvvOWHuumBrue9qeWxggogICAgICBleHBvcnRMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIGlkczogW10sCiAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICBzaW5nbGU6IHRydWUsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g57yW56CB6KeE5YiZ6KGo5qC85pWw5o2uCiAgICAgIHJ1bGVMaXN0OiBbXSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAiIiwKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICAvLyDop4TliJnlhoXlrrnnrKzkuozpg6jliIblrZflhbgKICAgICAgcnVsZVNlY29uZE9wdGlvbnM6IFtdLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5wYWdlU2l6ZSwKICAgICAgICBydWxlTmFtZTogbnVsbCwKICAgICAgICBydWxlRGI6IG51bGwKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBydWxlTmFtZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuinhOWImeWQjeensOS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBydWxlRGI6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLop4TliJnmlbDmja7lupPooajkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcnVsZUNvbHVtbjogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuinhOWImeaVsOaNruW6k+WvueW6lOWtl+auteS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBydWxlQ29udGVudDogW3sKICAgICAgICAgIHJlcXVpcmVkOiBmYWxzZSwKICAgICAgICAgIG1lc3NhZ2U6ICIiLAogICAgICAgICAgdHJpZ2dlcjogIiIKICAgICAgICB9XSwKICAgICAgICBydWxlRmlyc3Q6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICLop4TliJnlhoXlrrnnrKzkuIDpg6jliIbkuI3og73kuLrnqboiLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiCiAgICAgICAgfV0sCiAgICAgICAgcnVsZVNlY29uZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuinhOWImeWGheWuueesrOS6jOmDqOWIhuS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiY2hhbmdlIgogICAgICAgIH1dLAogICAgICAgIHJ1bGVUaGlyZDogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuinhOWImeWGheWuueesrOS4iemDqOWIhuS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XQogICAgICB9LAogICAgICBkZWZhdWx0U29ydDogewogICAgICAgIHByb3A6ICJjcmVhdGVUaW1lIiwKICAgICAgICBvcmRlcjogImRlc2NlbmRpbmciCiAgICAgIH0sCiAgICAgIHNlbGVjdGlvblJvdzogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgdGhpcy5nZXREaWN0cygiaHJfZW5jb2RlX3J1bGVfZGF0ZSIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgIF90aGlzLnJ1bGVTZWNvbmRPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogICAgdGhpcy4kbmV4dFRpY2soZnVuY3Rpb24gKCkgewogICAgICBfdGhpcy5yZXNpemVIYW5kbGVyKCk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCBfdGhpcy5yZXNpemVIYW5kbGVyKTsKICAgIH0pOwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxpc3REYXRhOiBmdW5jdGlvbiBsaXN0RGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5zaWRlYmFyLm9wZW5lZDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBsaXN0RGF0YTogZnVuY3Rpb24gbGlzdERhdGEodmFsKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbiAoKSB7CiAgICAgICAgdGhhdC5yZXNpemVIYW5kbGVyKCk7CiAgICAgIH0sIDMwMCk7CiAgICB9CiAgfSwKICBtZXRob2RzOiB7CiAgICBoYW5kbGVDbGlja1RhYmxlTmFtZTogZnVuY3Rpb24gaGFuZGxlQ2xpY2tUYWJsZU5hbWUoZGF0YSkgewogICAgICAvLyDpgInkuK3lvZPliY3ooYwKICAgICAgdGhpcy5oYW5kbGVSb3dDbGljayhkYXRhLCBmYWxzZSk7CiAgICAgIHRoaXMuaGFuZGxlVXBkYXRlKGRhdGEpOwogICAgfSwKICAgIC8vIOinhOWImeekuuS+iwogICAgaGFuZGxlUnVsZUNvbnRlbnQ6IGZ1bmN0aW9uIGhhbmRsZVJ1bGVDb250ZW50KCkgewogICAgICB2YXIgcnVsZUZpcnN0ID0gdGhpcy5mb3JtLnJ1bGVGaXJzdCwKICAgICAgICBydWxlU2Vjb25kID0gdGhpcy5mb3JtLnJ1bGVTZWNvbmQsCiAgICAgICAgcnVsZVRoaXJkID0gdGhpcy5mb3JtLnJ1bGVUaGlyZDsKICAgICAgaWYgKHJ1bGVGaXJzdCAmJiBydWxlU2Vjb25kICYmIHJ1bGVUaGlyZCkgewogICAgICAgIHJ1bGVUaGlyZCA9ICIwIi5wYWRTdGFydChydWxlVGhpcmQsICIwIik7CiAgICAgICAgdmFyIHN0ciA9ICIiLmNvbmNhdChydWxlRmlyc3QsICItIikuY29uY2F0KHJ1bGVTZWNvbmQsICItIikuY29uY2F0KHJ1bGVUaGlyZCk7CiAgICAgICAgdGhpcy4kc2V0KHRoaXMuZm9ybSwgInJ1bGVDb250ZW50Iiwgc3RyKTsKICAgICAgfQogICAgfSwKICAgIHJlc2l6ZUhhbmRsZXI6IGZ1bmN0aW9uIHJlc2l6ZUhhbmRsZXIoKSB7CiAgICAgIHZhciBhID0gdGhpcy4kcmVmcy5zZWFyY2gub2Zmc2V0SGVpZ2h0OwogICAgICB2YXIgYiA9IHRoaXMuJHJlZnMuYnRucy5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciBoID0gYSArIGIgKyAxOCArIDQ1ICsgODQgKyA0MCArIDIwOwogICAgICBoID0gaCArICJweCI7CiAgICAgIHRoaXMudGFibGVIZWlnaHQgPSAiY2FsYygxMDB2aCAtICIuY29uY2F0KGgsICIpIik7CiAgICB9LAogICAgLyoqIOafpeivoue8lueggeinhOWImeWIl+ihqCAqL2dldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAoMCwgX3J1bGUubGlzdFJ1bGUpKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICBfdGhpczIucnVsZUxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgICAgX3RoaXMyLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIF90aGlzMi5tc2dFcnJvcihyZXNwb25zZS5tc2cpOwogICAgICAgIH0KICAgICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDop4TliJnlhoXlrrnnrKzkuozpg6jliIblrZflhbjnv7vor5EKICAgIHJ1bGVTZWNvbmRGb3JtYXQ6IGZ1bmN0aW9uIHJ1bGVTZWNvbmRGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMucnVsZVNlY29uZE9wdGlvbnMsIHJvdy5ydWxlU2Vjb25kKTsKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgcnVsZU5hbWU6IG51bGwsCiAgICAgICAgcnVsZURiOiBudWxsLAogICAgICAgIHJ1bGVDb2x1bW46IG51bGwsCiAgICAgICAgcnVsZUNvbnRlbnQ6IG51bGwsCiAgICAgICAgcnVsZUZpcnN0OiBudWxsLAogICAgICAgIHJ1bGVTZWNvbmQ6IG51bGwsCiAgICAgICAgcnVsZVRoaXJkOiBudWxsLAogICAgICAgIGRlbEZsYWc6IG51bGwsCiAgICAgICAgY3JlYXRlQnk6IG51bGwsCiAgICAgICAgY3JlYXRlVGltZTogbnVsbCwKICAgICAgICB1cGRhdGVCeTogbnVsbCwKICAgICAgICB1cGRhdGVUaW1lOiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi9oYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi9yZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtIik7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICBoYW5kbGVTb3J0Q2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTb3J0Q2hhbmdlKGNvbHVtbiwgcHJvcCwgb3JkZXIpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5vcmRlckJ5Q29sdW1uID0gY29sdW1uLnByb3A7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMuaXNBc2MgPSBjb2x1bW4ub3JkZXI7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOeCueWHu+ihjAogICAgaGFuZGxlUm93Q2xpY2s6IGZ1bmN0aW9uIGhhbmRsZVJvd0NsaWNrKHJvdykgewogICAgICB2YXIgZmxhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICAgICAgdmFyIHJ1bGVMaXN0VGFibGUgPSB0aGlzLiRyZWZzLnJ1bGVMaXN0VGFibGU7CiAgICAgIGlmIChmbGFnKSB7CiAgICAgICAgdmFyIGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvdy5maW5kKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgICByZXR1cm4gYy5pZCA9PSByb3cuaWQ7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGZpbmRSb3cpIHsKICAgICAgICAgIHJ1bGVMaXN0VGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgICBydWxlTGlzdFRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7IC8v5riF56m65YiX6KGo55qE6YCJ5LitCiAgICAgIH0KCiAgICAgIHJ1bGVMaXN0VGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgdHJ1ZSk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24sIHJvdykgewogICAgICB2YXIgcnVsZUxpc3RUYWJsZSA9IHRoaXMuJHJlZnMucnVsZUxpc3RUYWJsZTsKICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPiAxKSB7CiAgICAgICAgcnVsZUxpc3RUYWJsZS5jbGVhclNlbGVjdGlvbigpOyAvL+a4heepuuWIl+ihqOeahOmAieS4rQogICAgICAgIHJ1bGVMaXN0VGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHNlbGVjdGlvbltzZWxlY3Rpb24ubGVuZ3RoIC0gMV0sIHRydWUpOyAvL+WPquaYvuekuumAieS4reacgOWQjuS4gOS4qiDov5nml7ZzZWxlY3Rpb27ov5jmmK/lpJrpgInnmoTliJfooago5bCx5piv5L2g6YCJ5Lit55qE5Yeg5Liq5pWw5o2uKQogICAgICAgIHNlbGVjdGlvbiA9IEFycmF5KHNlbGVjdGlvbltzZWxlY3Rpb24ubGVuZ3RoIC0gMV0pOwogICAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHsKICAgICAgICBzZWxlY3Rpb24gPSBBcnJheShzZWxlY3Rpb25bc2VsZWN0aW9uLmxlbmd0aCAtIDFdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWxlY3Rpb24gPSBbXTsKICAgICAgfQogICAgICAvLyDmlrnkvr/ngrnlh7vooYzlj5bmtojpgInkuK0KICAgICAgdGhpcy5zZWxlY3Rpb25Sb3cgPSBzZWxlY3Rpb247CiAgICAgIC8vIOiuvue9ruihjOmrmOS6rgogICAgICBydWxlTGlzdFRhYmxlLnNldEN1cnJlbnRSb3coc2VsZWN0aW9uWzBdKTsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGZ1bmN0aW9uIChpdGVtKSB7CiAgICAgICAgcmV0dXJuIGl0ZW0uaWQ7CiAgICAgIH0pOwogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGggIT09IDE7CiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aDsKICAgIH0sCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovaGFuZGxlQWRkOiBmdW5jdGlvbiBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMuJHJlZnMucnVsZUxpc3RUYWJsZS5jbGVhclNlbGVjdGlvbigpOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHRoaXMub3BlbiA9IHRydWU7CiAgICAgIHRoaXMudGl0bGUgPSAi57yW56CB6KeE5YiZIC8g5paw5aKeIjsKICAgIH0sCiAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovaGFuZGxlVXBkYXRlOiBmdW5jdGlvbiBoYW5kbGVVcGRhdGUocm93KSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICAgIHZhciBpZCA9IHJvdy5pZCB8fCB0aGlzLmlkczsKICAgICAgdmFyIGxvYWRpbmcgPSB0aGlzLmRhdGFMb2FkaW5nKCk7CiAgICAgICgwLCBfcnVsZS5nZXRSdWxlKShpZCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgIF90aGlzMy5mb3JtID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICAgIF90aGlzMy5vcGVuID0gdHJ1ZTsKICAgICAgICAgIF90aGlzMy50aXRsZSA9ICLnvJbnoIHop4TliJkgLyDkv67mlLkiOwogICAgICAgICAgbG9hZGluZy5jbG9zZSgpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczMubXNnRXJyb3IocmVzcG9uc2UubXNnKTsKICAgICAgICB9CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHsKICAgICAgICBsb2FkaW5nLmNsb3NlKCk7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi9zdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgaWYgKF90aGlzNC5mb3JtLmlkICE9IG51bGwpIHsKICAgICAgICAgICAgKDAsIF9ydWxlLnVwZGF0ZVJ1bGUpKF90aGlzNC5mb3JtKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgX3RoaXM0Lm1zZ1N1Y2Nlc3MoIuS/ruaUueaIkOWKnyIpOwogICAgICAgICAgICAgICAgX3RoaXM0Lm9wZW4gPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzNC5nZXRMaXN0KCk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF90aGlzNC5tc2dFcnJvcihyZXNwb25zZS5tc2cpOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAoMCwgX3J1bGUuYWRkUnVsZSkoX3RoaXM0LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICBfdGhpczQubXNnU3VjY2Vzcygi5paw5aKe5oiQ5YqfIik7CiAgICAgICAgICAgICAgICBfdGhpczQub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXM0LmdldExpc3QoKTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgX3RoaXM0Lm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi9oYW5kbGVEZWxldGU6IGZ1bmN0aW9uIGhhbmRsZURlbGV0ZShyb3cpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHZhciBpZHMgPSByb3cuaWQgfHwgdGhpcy5pZHM7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOe8lueggeinhOWImee8luWPt+S4uiInICsgaWRzICsgJyLnmoTmlbDmja7pobk/JywgIuitpuWRiiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIHJldHVybiAoMCwgX3J1bGUuZGVsUnVsZSkoaWRzKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXM1LmdldExpc3QoKTsKICAgICAgICBfdGhpczUubXNnU3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgIH0sCiAgICAvKiog5a+85Ye65oyJ6ZKu5pON5L2cICovaGFuZGxlRXhwb3J0OiBmdW5jdGlvbiBoYW5kbGVFeHBvcnQoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICB2YXIgcXVlcnlQYXJhbXMgPSB0aGlzLnF1ZXJ5UGFyYW1zOwogICAgICB0aGlzLiRjb25maXJtKCLmmK/lkKbnoa7orqTlr7zlh7rmiYDmnInnvJbnoIHop4TliJnmlbDmja7pobk/IiwgIuitpuWRiiIsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgIF90aGlzNi5leHBvcnRMb2FkaW5nID0gdHJ1ZTsKICAgICAgICByZXR1cm4gKDAsIF9ydWxlLmV4cG9ydFJ1bGUpKHF1ZXJ5UGFyYW1zKTsKICAgICAgfSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgIF90aGlzNi5kb3dubG9hZChyZXNwb25zZS5tc2cpOwogICAgICAgICAgX3RoaXM2LmV4cG9ydExvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgX3RoaXM2Lm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgfQogICAgICB9KS5jYXRjaChmdW5jdGlvbiAoKSB7fSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;;;;;AA6JA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eASA;EACAA;EACAC;EACAC;IACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;MACA;MACAC;QACAH,WACA;UAAAI;UAAAC;UAAAC;QAAA,EACA;QACAL,SACA;UAAAG;UAAAC;UAAAC;QAAA,EACA;QACAC,aACA;UACAH;UACAC;UACAC;QACA,EACA;QACAE;UAAAJ;UAAAC;UAAAC;QAAA;QACAG,YACA;UACAL;UACAC;UACAC;QACA,EACA;QACAI,aACA;UACAN;UACAC;UACAC;QACA,EACA;QACAK,YACA;UACAP;UACAC;UACAC;QACA;MAEA;MACAM;QAAAC;QAAAC;MAAA;MACAC;IACA;EACA;EACAC;IAAA;IACA;IACA;MACA;IACA;IACA;MACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAD;MACA;MACAE;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MACA;QACAf;QACAC;MACA;QACAA;QACA;QACA;MACA;IACA;IACAe;MACA;MACA;MACA;MACAC;MACA;IACA;IACA,eACAC;MAAA;MACA;MACA;QACA;UACA;UACA;QACA;UACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;QACAC;QACAhC;QACAC;QACAM;QACAC;QACAC;QACAC;QACAC;QACAsB;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;IACA,aACAC;MACA;MACA;IACA;IACA,aACAC;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACA;UAAA;QAAA;QACA;UACAC;UACA;QACA;QACAA;MACA;;MACAA;IACA;IACA;IACAC;MACA;MACA;QACAD;QACAA;QACAE;MACA;QACAA;MACA;QACAA;MACA;MACA;MACA;MACA;MACAF;MACA;QAAA;MAAA;MACA;MACA;IACA;IACA,aACAG;MACA;MACA;MACA;MACA;IACA;IACA,aACAC;MAAA;MACA;MACA;MACA;MACA;QACA;UACA;UACA;UACA;UACA7D;QACA;UACA;QACA;MACA;QACAA;MACA;IACA;IACA,WACA8D;MAAA;MACA;QACA;UACA;YACA;cACA;gBACA;gBACA;gBACA;cACA;gBACA;cACA;YACA;UACA;YACA;cACA;gBACA;gBACA;gBACA;cACA;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;IACA,aACAC;MAAA;MACA;MACA,cACA,mCACA,MACA;QACAC;QACAC;QACAC;MACA,EACA,CACAC;QACA;MACA,GACAA;QACA;QACA;MACA,GACAC;IACA;IACA,aACAC;MAAA;MACA;MACA;QACAL;QACAC;QACAC;MACA,GACAC;QACA;QACA;MACA,GACAA;QACA;UACA;UACA;QACA;UACA;QACA;MACA,GACAC;IACA;EACA;AACA;AAAA","names":["name","components","data","tableHeight","loading","exportLoading","ids","single","multiple","showSearch","total","ruleList","title","open","ruleSecondOptions","queryParams","pageNum","pageSize","ruleName","ruleDb","form","rules","required","message","trigger","ruleColumn","ruleContent","ruleFirst","ruleSecond","ruleThird","defaultSort","prop","order","selectionRow","created","window","computed","listData","watch","setTimeout","that","methods","handleClickTableName","handleRuleContent","resizeHandler","h","getList","ruleSecondFormat","cancel","reset","id","delFlag","createBy","createTime","updateBy","updateTime","remark","handleQuery","resetQuery","handleSortChange","handleRowClick","ruleListTable","handleSelectionChange","selection","handleAdd","handleUpdate","submitForm","handleDelete","confirmButtonText","cancelButtonText","type","then","catch","handleExport"],"sourceRoot":"src/views/basic/rule","sources":["index.vue"],"sourcesContent":["<template>\n    <!-- 基础信息 - 非树级规则管理 -->\n  <div class=\"app-container\">\n    <div ref=\"search\">\n      <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\">\n        <el-form-item label=\"规则名称\" prop=\"ruleName\">\n          <el-input\n            class=\"search_w220\"\n            v-model=\"queryParams.ruleName\"\n            placeholder=\"请输入规则名称\"\n            clearable\n            @keyup.enter.native=\"handleQuery\"\n          />\n        </el-form-item>\n        <el-form-item label=\"表名\" prop=\"ruleDb\">\n          <el-input\n            class=\"search_w220\"\n            v-model=\"queryParams.ruleDb\"\n            placeholder=\"请输入规则数据库表\"\n            clearable\n            @keyup.enter.native=\"handleQuery\"\n          />\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n          <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div ref=\"btns\">\n      <el-row :gutter=\"10\" class=\"mb8\">\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"primary\"\n\n            icon=\"el-icon-plus\"\n            size=\"mini\"\n            @click=\"handleAdd\"\n            v-hasPermi=\"['encode:rule:add']\"\n          >新增</el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"success\"\n\n            icon=\"el-icon-edit\"\n            size=\"mini\"\n            :disabled=\"single\"\n            @click=\"handleUpdate\"\n            v-hasPermi=\"['encode:rule:edit']\"\n          >修改</el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"danger\"\n\n            icon=\"el-icon-delete\"\n            size=\"mini\"\n            :disabled=\"multiple\"\n            @click=\"handleDelete\"\n            v-hasPermi=\"['encode:rule:remove']\"\n          >删除</el-button>\n        </el-col>\n        <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n      </el-row>\n    </div>\n    <el-table :height=\"tableHeight\" ref=\"ruleListTable\" v-loading=\"loading\" :data=\"ruleList\" @selection-change=\"handleSelectionChange\" :default-sort=\"defaultSort\" @sort-change=\"handleSortChange\"  highlight-current-row @row-click=\"handleRowClick\" >\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column label=\"规则名称\" align=\"left\" prop=\"ruleName\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\" show-overflow-tooltip>\n        <template slot-scope=\"scope\">\n           <el-link type=\"primary\" :underline=\"false\" v-html=\"scope.row.ruleName\" @click.stop=\"handleClickTableName(scope.row)\" class=\"displayBlock text-ellipsis \"></el-link>\n        </template>\n      </el-table-column>\n      <el-table-column label=\"规则数据库表\" align=\"left\" prop=\"ruleDb\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\" show-overflow-tooltip/>\n      <el-table-column label=\"规则数据库对应字段\" align=\"left\" prop=\"ruleColumn\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\" show-overflow-tooltip/>\n      <el-table-column label=\"规则内容\" align=\"left\" prop=\"ruleContent\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\" show-overflow-tooltip/>\n    </el-table>\n\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n\n    <!-- 添加或修改编码规则对话框 -->\n    <el-dialog :title=\"title\" :visible.sync=\"open\" width=\"50%\" append-to-body :close-on-click-modal=\"false\" custom-class=\"el-button--primary\">\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n        <el-row :gutter=\"36\">\n          <el-col :span=\"12\">\n            <el-form-item label=\"规则名称\" prop=\"ruleName\">\n              <el-input v-model=\"form.ruleName\" placeholder=\"请输入规则名称\" />\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"规则数据库表\" prop=\"ruleDb\">\n              <el-input v-model=\"form.ruleDb\" placeholder=\"请输入规则数据库表\" />\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"12\">\n            <el-form-item label=\"对应字段\" prop=\"ruleColumn\">\n              <el-input v-model=\"form.ruleColumn\" placeholder=\"请输入规则数据库对应字段\" />\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"12\">\n            <el-form-item label=\"规则内容一\" prop=\"ruleFirst\">\n              <el-input v-model=\"form.ruleFirst\" placeholder=\"请输入规则内容第一部分\" @blur=\"handleRuleContent\"/>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\">\n            <el-form-item label=\"规则内容二\" prop=\"ruleSecond\">\n              <el-select v-model=\"form.ruleSecond\" placeholder=\"请选择规则内容第二部分\" class=\"w100\" @change=\"handleRuleContent\">\n                <el-option\n                  v-for=\"dict in ruleSecondOptions\"\n                  :key=\"dict.dictValue\"\n                  :label=\"dict.dictLabel\"\n                  :value=\"dict.dictValue\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"12\">\n            <el-form-item label=\"规则内容三\" prop=\"ruleThird\">\n              <el-input v-model=\"form.ruleThird\" placeholder=\"请输入规则内容第三部分\" @blur=\"handleRuleContent\"/>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"24\">\n            <el-form-item label=\"规则示例\" prop=\"ruleContent\">\n              <el-input v-model=\"form.ruleContent\" placeholder=\"系统自动生成\" readonly/>\n            </el-form-item>\n          </el-col>\n          <el-col :span=\"12\" style=\"display: none\">\n            <el-form-item label=\"删除标记\" prop=\"delFlag\">\n              <el-input v-model=\"form.delFlag\" placeholder=\"请输入删除标记\" />\n            </el-form-item>\n          </el-col>\n\n          <el-col :span=\"24\">\n            <el-form-item label=\"备注\" prop=\"remark\">\n              <el-input v-model=\"form.remark\" type=\"textarea\" placeholder=\"请输入内容\"  maxlength=\"100\" show-word-limit rows=\"3\" resize=\"none\"/> \n            </el-form-item>\n          </el-col>\n        </el-row>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">保 存</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport {\n  listRule,\n  getRule,\n  delRule,\n  addRule,\n  updateRule,\n  exportRule\n} from \"@/api/encode/rule\";\n\nexport default {\n  name: \"Rule\",\n  components: {},\n  data() {\n    return {\n      tableHeight: \"auto\",\n      // 遮罩层\n      loading: true,\n      // 导出遮罩层\n      exportLoading: false,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 编码规则表格数据\n      ruleList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 规则内容第二部分字典\n      ruleSecondOptions: [],\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        ruleName: null,\n        ruleDb: null\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        ruleName: [\n          { required: true, message: \"规则名称不能为空\", trigger: \"blur\" }\n        ],\n        ruleDb: [\n          { required: true, message: \"规则数据库表不能为空\", trigger: \"blur\" }\n        ],\n        ruleColumn: [\n          {\n            required: true,\n            message: \"规则数据库对应字段不能为空\",\n            trigger: \"blur\"\n          }\n        ],\n        ruleContent: [{ required: false, message: \"\", trigger: \"\" }],\n        ruleFirst: [\n          {\n            required: true,\n            message: \"规则内容第一部分不能为空\",\n            trigger: \"blur\"\n          }\n        ],\n        ruleSecond: [\n          {\n            required: true,\n            message: \"规则内容第二部分不能为空\",\n            trigger: \"change\"\n          }\n        ],\n        ruleThird: [\n          {\n            required: true,\n            message: \"规则内容第三部分不能为空\",\n            trigger: \"blur\"\n          }\n        ]\n      },\n      defaultSort: { prop: \"createTime\", order: \"descending\" },\n      selectionRow: []\n    };\n  },\n  created() {\n    this.getList();\n    this.getDicts(\"hr_encode_rule_date\").then(response => {\n      this.ruleSecondOptions = response.data;\n    });\n    this.$nextTick(() => {\n        this.resizeHandler();\n        window.addEventListener(\"resize\", this.resizeHandler);\n    });\n  },\n  computed: {\n    listData() {\n      return this.$store.state.app.sidebar.opened;\n    }\n  },\n  watch: {\n    listData(val) {\n      var that = this;\n      setTimeout(function() {\n        that.resizeHandler();\n      }, 300);\n    }\n  },\n  methods: {\n    handleClickTableName(data) {\n      // 选中当前行\n      this.handleRowClick(data, false);\n      this.handleUpdate(data);\n    },\n    // 规则示例\n    handleRuleContent() {\n      let ruleFirst = this.form.ruleFirst,\n        ruleSecond = this.form.ruleSecond,\n        ruleThird = this.form.ruleThird;\n      if (ruleFirst && ruleSecond && ruleThird) {\n        ruleThird = \"0\".padStart(ruleThird, \"0\");\n        let str = `${ruleFirst}-${ruleSecond}-${ruleThird}`;\n        this.$set(this.form, \"ruleContent\", str);\n      }\n    },\n    resizeHandler() {\n      let a = this.$refs.search.offsetHeight;\n      let b = this.$refs.btns.offsetHeight;\n      let h = a + b + 18 + 45 + 84 + 40 + 20;\n      h = h + \"px\";\n      this.tableHeight = `calc(100vh - ${h})`;\n    },\n    /** 查询编码规则列表 */\n    getList() {\n      this.loading = true;\n      listRule(this.queryParams).then(response => {\n        if (response.code == 200) {\n          this.ruleList = response.rows;\n          this.total = response.total;\n        } else {\n          this.msgError(response.msg);\n        }\n        this.loading = false;\n      });\n    },\n    // 规则内容第二部分字典翻译\n    ruleSecondFormat(row, column) {\n      return this.selectDictLabel(this.ruleSecondOptions, row.ruleSecond);\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        ruleName: null,\n        ruleDb: null,\n        ruleColumn: null,\n        ruleContent: null,\n        ruleFirst: null,\n        ruleSecond: null,\n        ruleThird: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    handleSortChange(column, prop, order) {\n      this.queryParams.orderByColumn = column.prop;\n      this.queryParams.isAsc = column.order;\n      this.getList();\n    },\n    // 点击行\n    handleRowClick(row, flag = true) {\n      let ruleListTable = this.$refs.ruleListTable;\n      if (flag) {\n        let findRow = this.selectionRow.find(c => c.id == row.id);\n        if (findRow) {\n          ruleListTable.toggleRowSelection(row, false);\n          return;\n        }\n        ruleListTable.clearSelection(); //清空列表的选中\n      }\n      ruleListTable.toggleRowSelection(row, true);\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection, row) {\n      let ruleListTable = this.$refs.ruleListTable;\n      if (selection.length > 1) {\n        ruleListTable.clearSelection(); //清空列表的选中\n        ruleListTable.toggleRowSelection(selection[selection.length - 1], true); //只显示选中最后一个 这时selection还是多选的列表(就是你选中的几个数据)\n        selection = Array(selection[selection.length - 1]);\n      } else if (selection.length === 1) {\n        selection = Array(selection[selection.length - 1]);\n      } else {\n        selection = [];\n      }\n      // 方便点击行取消选中\n      this.selectionRow = selection;\n      // 设置行高亮\n      ruleListTable.setCurrentRow(selection[0]);\n      this.ids = selection.map(item => item.id);\n      this.single = selection.length !== 1;\n      this.multiple = !selection.length;\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.$refs.ruleListTable.clearSelection();\n      this.reset();\n      this.open = true;\n      this.title = \"编码规则 / 新增\";\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.reset();\n      const id = row.id || this.ids;\n      const loading = this.dataLoading()                   \n      getRule(id).then(response => {\n        if (response.code == 200) {\n          this.form = response.data;\n          this.open = true;\n          this.title = \"编码规则 / 修改\";\n          loading.close()                          \n        } else {\n          this.msgError(response.msg);\n        }\n      }).catch(()=>{\n        loading.close();            \n      })\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          if (this.form.id != null) {\n            updateRule(this.form).then(response => {\n              if (response.code == 200) {\n                this.msgSuccess(\"修改成功\");\n                this.open = false;\n                this.getList();\n              } else {\n                this.msgError(response.msg);\n              }\n            });\n          } else {\n            addRule(this.form).then(response => {\n              if (response.code == 200) {\n                this.msgSuccess(\"新增成功\");\n                this.open = false;\n                this.getList();\n              } else {\n                this.msgError(response.msg);\n              }\n            });\n          }\n        }\n      });\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const ids = row.id || this.ids;\n      this.$confirm(\n        '是否确认删除编码规则编号为\"' + ids + '\"的数据项?',\n        \"警告\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }\n      )\n        .then(function() {\n          return delRule(ids);\n        })\n        .then(() => {\n          this.getList();\n          this.msgSuccess(\"删除成功\");\n        })\n        .catch(() => {});\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      const queryParams = this.queryParams;\n      this.$confirm(\"是否确认导出所有编码规则数据项?\", \"警告\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          this.exportLoading = true;\n          return exportRule(queryParams);\n        })\n        .then(response => {\n          if (response.code == 200) {\n            this.download(response.msg);\n            this.exportLoading = false;\n          } else {\n            this.msgError(response.msg);\n          }\n        })\n        .catch(() => {});\n    }\n  }\n};\n</script>\n"]}]}
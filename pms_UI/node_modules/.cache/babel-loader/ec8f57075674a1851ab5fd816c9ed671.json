{"remainingRequest":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\workload\\workload\\addEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\workload\\workload\\addEdit.vue","mtime":1693362206945},{"path":"F:\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJGOi9wbXNfVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLnJlZ2V4cC5leGVjLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudGVzdC5qcyIpOwp2YXIgX3dvcmtsb2FkID0gcmVxdWlyZSgiQC9hcGkvd29ya2xvYWQvd29ya2xvYWQiKTsKdmFyIF90eXBlID0gcmVxdWlyZSgiQC9hcGkvd29ya2xvYWQvdHlwZSIpOwp2YXIgX2pzUGlueWluID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJqcy1waW55aW4iKSk7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAnYWRkRWRpdCcsCiAgcHJvcHM6IHsKICAgIG9wZW46IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpZDogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGlkOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5yZXNldCgpOwogICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgIHRoaXMuaWQgPSB2YWw7CiAgICAgICAgICB0aGlzLnRpdGxlID0gJ+W3peS9nOmHj+euoeeQhi3nvJbovpEnOwogICAgICAgICAgdGhpcy5nZXREZXRhaWxJbmZvKCk7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMuaWQgPSAnJzsKICAgICAgICAgIHRoaXMudGl0bGUgPSAn5bel5L2c6YeP566h55CGLeaWsOWinic7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBvcGVuOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5vcGVuRGlhbG9nID0gdmFsOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9CiAgfSwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGl0bGU6ICflt6XkvZzph4/nrqHnkIYt5paw5aKeJywKICAgICAgb3BlbkRpYWxvZzogdGhpcy5vcGVuLAogICAgICB0eXBlTGlzdDogW10sCiAgICAgIHNhdmVMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICB3b3JrbG9hZERhdGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICflubTmnIgnLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfV0sCiAgICAgICAgcHJvamVjdENvZGU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfpobnnm67nvJbnoIEnLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfV0sCiAgICAgICAgcHJvamVjdE5hbWU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfpobnnm67lkI3np7AnLAogICAgICAgICAgdHJpZ2dlcjogWydibHVyJywgJ2NoYW5nZSddCiAgICAgICAgfV0sCiAgICAgICAgdHlwZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+exu+WeiycsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9XSwKICAgICAgICBob3NwaXRhbFBvaW50czogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogJ+S9j+mZouenr+WIhicsCiAgICAgICAgICB0cmlnZ2VyOiBbJ2JsdXInLCAnY2hhbmdlJ10KICAgICAgICB9XSwKICAgICAgICBvdXRwYXRpZW50UG9pbnRzOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn6Zeo6K+KJywKICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgICgwLCBfdHlwZS5saXN0VHlwZSkobnVsbCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgX3RoaXMudHlwZUxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgfSk7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERldGFpbEluZm86IGZ1bmN0aW9uIGdldERldGFpbEluZm8oKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICAoMCwgX3dvcmtsb2FkLmdldFdvcmtsb2FkKSh0aGlzLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKICAgICAgICBfdGhpczIuZm9ybSA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmn6Xor6Llt6XkvZzph4/liJfooaggKi9nZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgKDAsIF93b3JrbG9hZC5saXN0V29ya2xvYWQpKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLndvcmtsb2FkTGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgX3RoaXMzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgX3RoaXMzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5by55qGG5YWz6ZetCiAgICBoYW5kbGVEaWFsb2dDbG9zZTogZnVuY3Rpb24gaGFuZGxlRGlhbG9nQ2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcsIGZhbHNlKTsKICAgIH0sCiAgICAvLyDlj5bmtogKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLiRlbWl0KCdjYW5jZWwnLCBmYWxzZSk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBjb21wQ29kZTogbnVsbCwKICAgICAgICBhY2NvdW50Q29kZTogbnVsbCwKICAgICAgICBwcm9qZWN0Q29kZTogbnVsbCwKICAgICAgICBwcm9qZWN0TmFtZTogbnVsbCwKICAgICAgICB0eXBlOiBudWxsLAogICAgICAgIHNwZWxsOiBudWxsLAogICAgICAgIGhvc3BpdGFsUG9pbnRzOiBudWxsLAogICAgICAgIG91dHBhdGllbnRQb2ludHM6IG51bGwsCiAgICAgICAgZGVsRmxhZzogbnVsbCwKICAgICAgICBjcmVhdGVCeTogbnVsbCwKICAgICAgICBjcmVhdGVUaW1lOiBudWxsLAogICAgICAgIHVwZGF0ZUJ5OiBudWxsLAogICAgICAgIHVwZGF0ZVRpbWU6IG51bGwsCiAgICAgICAgcmVtYXJrOiBudWxsLAogICAgICAgIHdvcmtsb2FkRGF0ZTogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybScpOwogICAgfSwKICAgIGdldFB5bTogZnVuY3Rpb24gZ2V0UHltKCkgewogICAgICAvLyDlhajmmK/lrZfmr43nmoTmg4XlhrXkuIss5ou86Z+z56CB562J5LqO5omA5pyJ5a2X5q+NCiAgICAgIGlmICgvXlthLXpBLVpdKiQvLnRlc3QodGhpcy5mb3JtLnByb2plY3ROYW1lKSkgewogICAgICAgIHRoaXMuZm9ybS5zcGVsbCA9IHRoaXMuZm9ybS5wcm9qZWN0TmFtZTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgLy8g5pyJ5rGJ5a2X55qE5oOF5Ya15LiLLOi9rOS4uummluWtl+avjQogICAgICB2YXIgZnVsbE5hbWUgPSBfanNQaW55aW4uZGVmYXVsdC5nZXRDYW1lbENoYXJzKHRoaXMuZm9ybS5wcm9qZWN0TmFtZSkudG9VcHBlckNhc2UoKTsKICAgICAgdmFyIHB5bSA9ICcnOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGZ1bGxOYW1lLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgdmFyIGMgPSBmdWxsTmFtZS5jaGFyQXQoaSk7CiAgICAgICAgaWYgKC9eW0EtWl0rJC8udGVzdChjKSkgewogICAgICAgICAgcHltICs9IGM7CiAgICAgICAgfQogICAgICB9CiAgICAgIHRoaXMuZm9ybS5zcGVsbCA9IHB5bTsKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovc3VibWl0Rm9ybTogZnVuY3Rpb24gc3VibWl0Rm9ybSgpIHsKICAgICAgdmFyIF90aGlzNCA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzNC5zYXZlTG9hZGluZyA9IHRydWU7CiAgICAgICAgICBpZiAoX3RoaXM0LmZvcm0uaWQgIT0gbnVsbCkgewogICAgICAgICAgICAoMCwgX3dvcmtsb2FkLnVwZGF0ZVdvcmtsb2FkKShfdGhpczQuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICBfdGhpczQubXNnU3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgICAgICAgX3RoaXM0LiRlbWl0KCdzdWNjZXNzJywgZmFsc2UpOwogICAgICAgICAgICAgIF90aGlzNC5zYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KS5jYXRjaChmdW5jdGlvbiAoZXJyKSB7CiAgICAgICAgICAgICAgX3RoaXM0LnNhdmVMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgKDAsIF93b3JrbG9hZC5hZGRXb3JrbG9hZCkoX3RoaXM0LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgX3RoaXM0Lm1zZ1N1Y2Nlc3MoJ+aWsOWinuaIkOWKnycpOwogICAgICAgICAgICAgIF90aGlzNC4kZW1pdCgnc3VjY2VzcycsIGZhbHNlKTsKICAgICAgICAgICAgICBfdGhpczQuc2F2ZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKGVycikgewogICAgICAgICAgICAgIF90aGlzNC5zYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;;;;AA6DA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAD;MACAE;QACA;QACA;UACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAP;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAE;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;QACAC,eACA;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAC,cACA;UAAAH;UAAAC;UAAAC;QAAA,EACA;QACAE,cACA;UAAAJ;UAAAC;UAAAC;QAAA,EACA;QACAlB,OACA;UAAAgB;UAAAC;UAAAC;QAAA,EACA;QACAG,iBACA;UAAAL;UAAAC;UAAAC;QAAA,EACA;QACAI,mBACA;UAAAN;UAAAC;UAAAC;QAAA;MAEA;IACA;EACA;EACAK;IAAA;IAEA;MACA;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACAC;QACA;MACA;IACA;IACA,cACAC;MAAA;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACA5B;QACA6B;QACAC;QACAb;QACAC;QACApB;QACAiC;QACAZ;QACAC;QACAY;QACAC;QACAC;QACAC;QACAC;QACAC;QACAxB;MACA;MACA;IACA;IACAyB;MACA;MACA;QACA;QACA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;UACAC;QACA;MACA;MACA;IACA;IACA,WACAC;MAAA;MACA;QACA;UACA;UACA;YACA;cACA;cACA;cACA;YACA;cACA;YACA;UACA;YACA;cACA;cACA;cACA;YACA;cACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","open","type","default","id","watch","handler","deep","immediate","components","data","title","openDialog","typeList","saveLoading","form","rules","workloadDate","required","message","trigger","projectCode","projectName","hospitalPoints","outpatientPoints","created","methods","getDetailInfo","console","getList","handleDialogClose","cancel","reset","compCode","accountCode","spell","delFlag","createBy","createTime","updateBy","updateTime","remark","getPym","pym","submitForm"],"sourceRoot":"src/views/workload/workload","sources":["addEdit.vue"],"sourcesContent":["<template>\n  <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"40%\" custom-class=\"el-button--primary\" append-to-body\n             :close-on-click-modal=\"false\" @close=\"handleDialogClose\"\n  >\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"100px\">\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"年月\" prop=\"workloadDate\">\n            <el-date-picker clearable size=\"mini\"\n                            v-model=\"form.workloadDate\"\n                            type=\"month\"\n                            value-format=\"yyyy-MM-dd\"\n                            placeholder=\"选择年月\"\n            >\n            </el-date-picker>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"项目编码\" prop=\"projectCode\">\n            <el-input v-model=\"form.projectCode\" placeholder=\"请输入项目编码\" maxlength=\"50\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"项目名称\" prop=\"projectName\">\n            <el-input v-model=\"form.projectName\" placeholder=\"请输入项目名称\" maxlength=\"50\" show-word-limit @blur=\"getPym\"/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"类别\" prop=\"type\">\n            <el-select v-model=\"form.type\" placeholder=\"请选择类别\">\n              <el-option label=\"请选择字典生成\" :value=\"item.typeCode\" v-for=\"item in typeList\" :label=\"item.typeName\"/>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"拼音码\" prop=\"spell\">\n            <el-input v-model=\"form.spell\" placeholder=\"请输入拼音码\" disabled maxlength=\"50\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"住院积分\" prop=\"hospitalPoints\">\n            <el-input-number :precision=\"2\" :step=\"0.01\" :min=\"0\" controls-position=\"right\" v-model=\"form.hospitalPoints\"\n                             placeholder=\"请输入住院积分\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"门诊积分\" prop=\"outpatientPoints\">\n            <el-input-number :precision=\"2\" :step=\"0.01\" :min=\"0\" controls-position=\"right\" v-model=\"form.outpatientPoints\"\n                             placeholder=\"请输入门诊积分\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"submitForm\" :loading=\"saveLoading\">确 定</el-button>\n      <el-button @click=\"cancel\">取 消</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { addWorkload, getWorkload, listWorkload, updateWorkload } from '@/api/workload/workload'\nimport { listType } from '@/api/workload/type'\nimport pinyin from 'js-pinyin'\n\nexport default {\n  name: 'addEdit',\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  watch: {\n    id: {\n      handler(val) {\n        this.reset()\n        if (val) {\n          this.id = val\n          this.title = '工作量管理-编辑'\n          this.getDetailInfo()\n        } else {\n          this.id = ''\n          this.title = '工作量管理-新增'\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    open: {\n      handler(val) {\n        this.openDialog = val\n      },\n      deep: true\n    }\n  },\n  components: {},\n  data() {\n    return {\n      title: '工作量管理-新增',\n      openDialog: this.open,\n      typeList: [],\n      saveLoading: false,\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        workloadDate: [\n          { required: true, message: '年月', trigger: ['blur', 'change'] }\n        ],\n        projectCode: [\n          {required: true, message: '项目编码', trigger: ['blur', 'change'] }\n        ],\n        projectName: [\n          { required: true, message: '项目名称', trigger: ['blur', 'change'] }\n        ],\n        type: [\n          { required: true, message: '类型', trigger: ['blur', 'change'] }\n        ],\n        hospitalPoints: [\n          { required: true, message: '住院积分', trigger: ['blur', 'change'] }\n        ],\n        outpatientPoints: [\n          { required: true, message: '门诊', trigger: ['blur', 'change'] }\n        ]\n      }\n    }\n  },\n  created() {\n\n    listType(null).then(response => {\n      this.typeList = response.rows\n    })\n    this.getList()\n  },\n  methods: {\n    getDetailInfo() {\n      getWorkload(this.id).then(response => {\n        console.log(response)\n        this.form = response.data\n      })\n    },\n    /** 查询工作量列表 */\n    getList() {\n      this.loading = true\n      listWorkload(this.queryParams).then(response => {\n        this.workloadList = response.rows\n        this.total = response.total\n        this.loading = false\n      })\n    },\n    // 弹框关闭\n    handleDialogClose() {\n      this.$emit('cancel', false)\n    },\n    // 取消\n    cancel() {\n      this.$emit('cancel', false)\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: null,\n        accountCode: null,\n        projectCode: null,\n        projectName: null,\n        type: null,\n        spell: null,\n        hospitalPoints: null,\n        outpatientPoints: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null,\n        workloadDate: null\n      }\n      this.resetForm('form')\n    },\n    getPym() {\n      // 全是字母的情况下,拼音码等于所有字母\n      if (/^[a-zA-Z]*$/.test(this.form.projectName)) {\n        this.form.spell = this.form.projectName\n        return\n      }\n      // 有汉字的情况下,转为首字母\n      let fullName = pinyin.getCamelChars(this.form.projectName).toUpperCase()\n      let pym = ''\n      for (var i = 0; i < fullName.length; i++) {\n        var c = fullName.charAt(i)\n        if (/^[A-Z]+$/.test(c)) {\n          pym += c\n        }\n      }\n      this.form.spell = pym\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          this.saveLoading = true\n          if (this.form.id != null) {\n            updateWorkload(this.form).then(response => {\n              this.msgSuccess('修改成功')\n              this.$emit('success', false)\n              this.saveLoading = false\n            }).catch((err)=>{\n              this.saveLoading = false;\n            });\n          } else {\n            addWorkload(this.form).then(response => {\n              this.msgSuccess('新增成功')\n              this.$emit('success', false)\n              this.saveLoading = false\n            }).catch((err)=>{\n              this.saveLoading = false;\n            });\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .el-dialog {\n  min-height: 20%;\n  overflow: hidden;\n  .el-dialog__body {\n    height: calc(100% - 100px);\n    overflow: auto;\n    .el-input--mini,.el-input-number--mini,.el-select--mini,.el-date-picker--mini{\n      width: 100%;\n    }\n  }\n}\n</style>\n"]}]}
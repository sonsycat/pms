{"remainingRequest":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\backlog\\backlog\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\backlog\\backlog\\index.vue","mtime":1693362204232},{"path":"F:\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAuZXhlYy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnNlYXJjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5jb25jYXQuanMiKTsKdmFyIF9tb2RlbCA9IHJlcXVpcmUoIkAvYXBpL3Byb2Nlc3MvbW9kZWwiKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICJiYWNrbG9nIiwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgdGFibGVIZWlnaHQ6ICJhdXRvIiwKICAgICAgc3JjOiAiIiwKICAgICAgaGVpZ2h0OiAiNTAwcHg7IiwKICAgICAgY29tcG9uZW50VXJsOiBudWxsLAogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy8g5a+85Ye66YGu572p5bGCCiAgICAgIGV4cG9ydExvYWRpbmc6IGZhbHNlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgcHJvY0luc0lkczogW10sCiAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICBzaW5nbGU6IHRydWUsCiAgICAgIC8vIOa1gei9rOWOhuWPsuWvueivneahhgogICAgICBwcm9jZXNzT3BlbjogZmFsc2UsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g5ZCI5ZCM5L+u5pS56K6w5b2V6KGo5qC85pWw5o2uCiAgICAgIHJlY29yZExpc3Q6IFtdLAogICAgICAvLyDmtYHnqIvnvJblj7fmlbDnu4QKICAgICAgcHJvY2xuc0lkc3M6IFtdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICIiLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VObzogMSwKICAgICAgICBwYWdlU2l6ZTogMzAsCiAgICAgICAgY29tcENvZGU6IG51bGwsCiAgICAgICAgZGVwdENvZGU6IG51bGwsCiAgICAgICAgc3lzdGVtSWQ6ICJQTVMiLAogICAgICAgIHVzZXJJZDogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby51c2VySWQKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHt9LAogICAgICBjb21wb25lbnRJZDogIiIsCiAgICAgIHNlbGVjdGlvblJvdzogW10KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIGNvbnNvbGUubG9nKHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIpOwogICAgdGhpcy5nZXRMaXN0KCk7CiAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgIF90aGlzLnJlc2l6ZUhhbmRsZXIoKTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIF90aGlzLnJlc2l6ZUhhbmRsZXIpOwogICAgfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgbGlzdERhdGE6IGZ1bmN0aW9uIGxpc3REYXRhKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnNpZGViYXIub3BlbmVkOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGxpc3REYXRhOiBmdW5jdGlvbiBsaXN0RGF0YSh2YWwpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uICgpIHsKICAgICAgICB0aGF0LnJlc2l6ZUhhbmRsZXIoKTsKICAgICAgfSwgMzAwKTsKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVNvcnRDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNvcnRDaGFuZ2UoY29sdW1uLCBwcm9wLCBvcmRlcikgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLm9yZGVyQnlDb2x1bW4gPSBjb2x1bW4ucHJvcDsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5pc0FzYyA9IGNvbHVtbi5vcmRlcjsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgcmVzaXplSGFuZGxlcjogZnVuY3Rpb24gcmVzaXplSGFuZGxlcigpIHsKICAgICAgdmFyIGEgPSB0aGlzLiRyZWZzLnNlYXJjaC5vZmZzZXRIZWlnaHQ7CiAgICAgIHZhciBiID0gdGhpcy4kcmVmcy5idG5zLm9mZnNldEhlaWdodDsKICAgICAgdmFyIGggPSBhICsgYiArIHRoaXMuJHN0b3JlLnN0YXRlLnNldHRpbmdzLnRhYmxlSGVpZ2h0OwogICAgICBoID0gaCArICJweCI7CiAgICAgIHRoaXMudGFibGVIZWlnaHQgPSAiY2FsYygxMDB2aCAtICIuY29uY2F0KGgsICIpIik7CiAgICB9LAogICAgaGFuZGxlQ2xpY2s6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrKHJvdykgewogICAgICB2YXIgdXJsID0gcm93LmZvcm1Vcmw7CiAgICAgIHRoaXMuY29tcG9uZW50VXJsID0gcmVxdWlyZSgiQC92aWV3cy8iLmNvbmNhdCh1cmwpKS5kZWZhdWx0OwogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLmNvbXBvbmVudElkID0gcm93LmJ1c2lJZDsKICAgICAgdGhpcy5wcm9jbG5zSWRzID0gcm93LnByb2NJbnNJZDsKICAgIH0sCiAgICAvKiog5p+l6K+i5ZCI5ZCM5L+u5pS56K6w5b2V5YiX6KGoICovZ2V0TGlzdDogZnVuY3Rpb24gZ2V0TGlzdCgpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICgwLCBfbW9kZWwubGlzdEJhY2tsb2cpKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuZGF0YS5saXN0ID09IG51bGwgfHwgcmVzcG9uc2UuZGF0YS5saXN0ID09ICIiKSB7fSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLnJlY29yZExpc3QgPSByZXNwb25zZS5kYXRhLmxpc3Q7CiAgICAgICAgICB9CiAgICAgICAgICBfdGhpczIudG90YWwgPSByZXNwb25zZS5kYXRhLmNvdW50OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpczIubXNnRXJyb3IocmVzcG9uc2UubXNnKTsKICAgICAgICB9CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqL2hhbmRsZVF1ZXJ5OiBmdW5jdGlvbiBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqL3Jlc2V0UXVlcnk6IGZ1bmN0aW9uIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm0iKTsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfSwKICAgIC8vIOeCueWHu+ihjAogICAgaGFuZGxlUm93Q2xpY2s6IGZ1bmN0aW9uIGhhbmRsZVJvd0NsaWNrKHJvdykgewogICAgICB2YXIgZmxhZyA9IGFyZ3VtZW50cy5sZW5ndGggPiAxICYmIGFyZ3VtZW50c1sxXSAhPT0gdW5kZWZpbmVkID8gYXJndW1lbnRzWzFdIDogdHJ1ZTsKICAgICAgdmFyIHJlY29yZExpc3RUYWJsZSA9IHRoaXMuJHJlZnMucmVjb3JkTGlzdFRhYmxlOwogICAgICBpZiAoZmxhZykgewogICAgICAgIHZhciBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgICAgcmV0dXJuIGMucHJvY0luc0lkID09IHJvdy5wcm9jSW5zSWQ7CiAgICAgICAgfSk7CiAgICAgICAgaWYgKGZpbmRSb3cpIHsKICAgICAgICAgIHJlY29yZExpc3RUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93LCBmYWxzZSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIHJlY29yZExpc3RUYWJsZS5jbGVhclNlbGVjdGlvbigpOyAvL+a4heepuuWIl+ihqOeahOmAieS4rQogICAgICByZWNvcmRMaXN0VGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgdHJ1ZSk7CiAgICB9LAogICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdmFyIHJlY29yZExpc3RUYWJsZSA9IHRoaXMuJHJlZnMucmVjb3JkTGlzdFRhYmxlOwogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA+IDEpIHsKICAgICAgICByZWNvcmRMaXN0VGFibGUuY2xlYXJTZWxlY3Rpb24oKTsgLy/muIXnqbrliJfooajnmoTpgInkuK0KICAgICAgICByZWNvcmRMaXN0VGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHNlbGVjdGlvbltzZWxlY3Rpb24ubGVuZ3RoIC0gMV0sIHRydWUpOyAvL+WPquaYvuekuumAieS4reacgOWQjuS4gOS4qiDov5nml7ZzZWxlY3Rpb27ov5jmmK/lpJrpgInnmoTliJfooago5bCx5piv5L2g6YCJ5Lit55qE5Yeg5Liq5pWw5o2uKQogICAgICAgIHNlbGVjdGlvbiA9IEFycmF5KHNlbGVjdGlvbltzZWxlY3Rpb24ubGVuZ3RoIC0gMV0pOwogICAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHsKICAgICAgICBzZWxlY3Rpb24gPSBBcnJheShzZWxlY3Rpb25bc2VsZWN0aW9uLmxlbmd0aCAtIDFdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWxlY3Rpb24gPSBbXTsKICAgICAgfQogICAgICAvLyDmlrnkvr/ngrnlh7vooYzlj5bmtojpgInkuK0KICAgICAgdGhpcy5zZWxlY3Rpb25Sb3cgPSBzZWxlY3Rpb247CiAgICAgIC8vIOiuvue9ruihjOmrmOS6rgogICAgICByZWNvcmRMaXN0VGFibGUuc2V0Q3VycmVudFJvdyhzZWxlY3Rpb25bMF0pOwogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGggIT09IDE7CiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aDsKICAgICAgdGhpcy5wcm9jbG5zSWRzcyA9IHNlbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5wcm9jSW5zSWQ7CiAgICAgIH0pOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoZmxhZykgewogICAgICB0aGlzLm9wZW4gPSBmbGFnOwogICAgfSwKICAgIHN1Ym1pdFN1Y2Nlc3M6IGZ1bmN0aW9uIHN1Ym1pdFN1Y2Nlc3MoZmxhZykgewogICAgICB0aGlzLm9wZW4gPSBmbGFnOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvKiog5rWB6L2s5Y6G5Y+y5Yid5aeL5YyWICovcHJvY2Vzc0V4YW1pbmVGb3JtOiBmdW5jdGlvbiBwcm9jZXNzRXhhbWluZUZvcm0oKSB7CiAgICAgIHRoaXMuc3JjID0gIiIuY29uY2F0KHRoaXMucHJvY2Vzc1VybCwgIi9hcGkvd2YvcHJvY2Vzc0hpc3RvcmljP3Byb2NJbnNJZD0iKS5jb25jYXQodGhpcy5wcm9jbG5zSWRzc1swXSk7CiAgICB9LAogICAgLyoqIOa1gei9rOWOhuWPsuaMiemSruaTjeS9nCAqL3Byb2Nlc3NFeGFtaW5lOiBmdW5jdGlvbiBwcm9jZXNzRXhhbWluZSgpIHsKICAgICAgY29uc29sZS5sb2codGhpcy5wcm9jbG5zSWRzc1swXSk7CiAgICAgIGlmICh0aGlzLnByb2NsbnNJZHNzWzBdID09IG51bGwgfHwgIXRoaXMucHJvY2xuc0lkc3NbMF0pIHsKICAgICAgICB0aGlzLm1zZ0Vycm9yKCLmsqHmnInmtYHovazljoblj7LmlbDmja7vvIEiKTsKICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnByb2Nlc3NFeGFtaW5lRm9ybSgpOwogICAgICAgIHRoaXMucHJvY2Vzc09wZW4gPSB0cnVlOwogICAgICB9CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;;;;AA6CA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;MACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IAAA;IACAC;IACA;IACA;MACA;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAD;MACA;MACAE;QACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;MACA;MACAC;MACA;IACA;IACAC;MACA;MACA;MACA;MACA;MACA;IACA;IACA,iBACAC;MAAA;MACA;MACA;QACA;UACA,6DACA;YACA;UACA;UACA;QACA;UACA;QACA;QACA;MACA;IACA;IACA,aACAC;MACA;MACA;IACA;IACA,aACAC;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACA;UAAA;QAAA;QACA;UACAC;UACA;QACA;MACA;MACAA;MACAA;IACA;IACA;IACAC;MACA;MACA;QACAD;QACAA,mCACAE,iCACA,KACA;QACAA;MACA;QACAA;MACA;QACAA;MACA;MACA;MACA;MACA;MACAF;MAEA;MACA;MACA;QAAA;MAAA;IACA;IACA;IACAG;MACA;IACA;IACAC;MACA;MACA;IACA;IACA,cACAC;MACA,qBACA;IACA;IACA,eACAC;MACAtB;MACA;QACA;MACA;QACA;QACA;MACA;IACA;EACA;AACA;AAAA","names":["name","data","tableHeight","src","height","componentUrl","loading","exportLoading","procInsIds","single","processOpen","multiple","showSearch","total","recordList","proclnsIdss","title","open","queryParams","pageNo","pageSize","compCode","deptCode","systemId","userId","form","rules","componentId","selectionRow","created","console","window","computed","listData","watch","setTimeout","that","methods","handleSortChange","resizeHandler","h","handleClick","getList","handleQuery","resetQuery","handleRowClick","recordListTable","handleSelectionChange","selection","cancel","submitSuccess","processExamineForm","processExamine"],"sourceRoot":"src/views/backlog/backlog","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <div ref=\"btns\" ></div>\n    <div ref=\"search\" >\n      <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-edit\" size=\"mini\" :disabled=\"single\" @click=\"processExamine\">流转历史</el-button>\n        <el-button type=\"primary\" icon=\"el-icon-refresh\" size=\"mini\" @click=\"handleQuery\">刷新</el-button>\n<!--        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>-->\n      </el-form-item>\n    </el-form>\n    </div>\n    <el-table  :height=\"tableHeight\" ref=\"recordListTable\" stripe v-loading=\"loading\" :data=\"recordList\" @selection-change=\"handleSelectionChange\" highlight-current-row @row-click=\"handleRowClick\" @sort-change=\"handleSortChange\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\n      <el-table-column label=\"标题\" align=\"left\" prop=\"title\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\"/>\n      <el-table-column label=\"任务名称\" align=\"left\" prop=\"taskName\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\"/>\n      <el-table-column label=\"创建时间\" align=\"center\" prop=\"createTimeStr\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\" />\n      <el-table-column label=\"任务办理\" align=\"center\" :show-overflow-tooltip=\"true\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\" width=\"140\">\n        <template slot-scope=\"scope\">\n\n          <el-link  type=\"primary\" :underline=\"false\" @click=\"handleClick(scope.row)\">办理</el-link>\n        </template>\n      </el-table-column>\n    </el-table>\n\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNo\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n\n    <component v-if=\"open\" :is=\"componentUrl\" :id=\"componentId\" :proclnsIds=\"proclnsIds\" :open=\"open\" @cancel=\"cancel\" @success=\"submitSuccess\"></component>\n\n    <!-- 流转历史对话框 -->\n    <el-dialog title=\"流转历史\" :visible.sync=\"processOpen\" width=\"1200px\" append-to-body :close-on-click-modal=\"false\"  custom-class=\"el-button--primary\">\n      <div v-loading=\"loading\" :style=\"'height:'+ height\">\n        <iframe :src=\"src\" frameborder=\"no\" style=\"width: 100%;height: 100%\" scrolling=\"auto\" />\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\nimport { listBacklog } from \"@/api/process/model\";\n\nexport default {\n  name: \"backlog\",\n  data() {\n    return {\n      tableHeight: \"auto\",\n      src: \"\",\n      height: \"500px;\",\n      componentUrl: null,\n      // 遮罩层\n      loading: true,\n      // 导出遮罩层\n      exportLoading: false,\n      // 选中数组\n      procInsIds: [],\n      // 非单个禁用\n      single: true,\n      // 流转历史对话框\n      processOpen: false,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 合同修改记录表格数据\n      recordList: [],\n      // 流程编号数组\n      proclnsIdss: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNo: 1,\n        pageSize: 30,\n        compCode: null,\n        deptCode: null,\n        systemId: \"PMS\",\n        userId: this.$store.state.user.userInfo.userId\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {},\n      componentId: \"\",\n      selectionRow: []\n    };\n  },\n  created() {\n    console.log(this.$store.state.user);\n    this.getList();\n    this.$nextTick(() => {\n      this.resizeHandler();\n      window.addEventListener(\"resize\", this.resizeHandler);\n    });\n  },\n  computed: {\n    listData() {\n      return this.$store.state.app.sidebar.opened;\n    }\n  },\n  watch: {\n    listData(val) {\n      var that = this;\n      setTimeout(function() {\n        that.resizeHandler();\n      }, 300);\n    }\n  },\n  methods: {\n    handleSortChange(column, prop, order) {\n      this.queryParams.orderByColumn = column.prop;\n      this.queryParams.isAsc = column.order;\n      this.getList();\n    },\n    resizeHandler() {\n      let a = this.$refs.search.offsetHeight;\n      let b = this.$refs.btns.offsetHeight;\n      let h = a + b + this.$store.state.settings.tableHeight;\n      h = h + \"px\";\n      this.tableHeight = `calc(100vh - ${h})`;\n    },\n    handleClick(row) {\n      let url = row.formUrl;\n      this.componentUrl = require(`@/views/${url}`).default;\n      this.open = true;\n      this.componentId = row.busiId;\n      this.proclnsIds = row.procInsId;\n    },\n    /** 查询合同修改记录列表 */\n    getList() {\n      this.loading = true;\n      listBacklog(this.queryParams).then(response => {\n        if (response.code == 200) {\n          if (response.data.list == null || response.data.list == \"\") {\n          } else {\n            this.recordList = response.data.list;\n          }\n          this.total = response.data.count;\n        } else {\n          this.msgError(response.msg);\n        }\n        this.loading = false;\n      });\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    // 点击行\n    handleRowClick(row, flag = true) {\n      let recordListTable = this.$refs.recordListTable;\n      if (flag) {\n        let findRow = this.selectionRow.find(c => c.procInsId == row.procInsId);\n        if (findRow) {\n          recordListTable.toggleRowSelection(row, false);\n          return;\n        }\n      }\n      recordListTable.clearSelection(); //清空列表的选中\n      recordListTable.toggleRowSelection(row, true);\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      let recordListTable = this.$refs.recordListTable;\n      if (selection.length > 1) {\n        recordListTable.clearSelection(); //清空列表的选中\n        recordListTable.toggleRowSelection(\n          selection[selection.length - 1],\n          true\n        ); //只显示选中最后一个 这时selection还是多选的列表(就是你选中的几个数据)\n        selection = Array(selection[selection.length - 1]);\n      } else if (selection.length === 1) {\n        selection = Array(selection[selection.length - 1]);\n      } else {\n        selection = [];\n      }\n      // 方便点击行取消选中\n      this.selectionRow = selection;\n      // 设置行高亮\n      recordListTable.setCurrentRow(selection[0]);\n\n      this.single = selection.length !== 1;\n      this.multiple = !selection.length;\n      this.proclnsIdss = selection.map(item => item.procInsId);\n    },\n    // 取消按钮\n    cancel(flag) {\n      this.open = flag;\n    },\n    submitSuccess(flag) {\n      this.open = flag;\n      this.getList();\n    },\n    /** 流转历史初始化 */\n    processExamineForm() {\n      this.src =\n        `${this.processUrl}/api/wf/processHistoric?procInsId=${this.proclnsIdss[0]}`;\n    },\n    /** 流转历史按钮操作 */\n    processExamine() {\n      console.log(this.proclnsIdss[0]);\n      if (this.proclnsIdss[0] == null || !this.proclnsIdss[0]) {\n        this.msgError(\"没有流转历史数据！\");\n      } else {\n        this.processExamineForm();\n        this.processOpen = true;\n      }\n    }\n  }\n};\n</script>\n"]}]}
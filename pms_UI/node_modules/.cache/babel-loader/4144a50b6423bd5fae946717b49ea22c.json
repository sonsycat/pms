{"remainingRequest":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\components\\formItemNew\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\components\\formItemNew\\index.vue","mtime":1682043105569},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\babel.config.js","mtime":1682043101067},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfbW9kZWwgPSByZXF1aXJlKCJAL2FwaS9wcm9jZXNzL21vZGVsIik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAiYWRkRWRpdCIsCiAgY29tcG9uZW50czoge30sCiAgcHJvcHM6IHsKICAgIG9wZW46IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBvcGVuMjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGNvbW1lbnQ6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiB7fQogICAgfSwKICAgIHVzZXJPcHRpb25zOiB7CiAgICAgIHR5cGU6IEFycmF5LAogICAgICBkZWZhdWx0OiB7fQogICAgfSwKICAgIC8vIOS/neWtmOW5tuaPkOS6pOaYvuekuuW8ueahhuS4i+e6p+WuoeaguOS6ugogICAgc2hvd0RpYWxvZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIC8vIOWFtuS9meWuoeaguOeKtuaAgeaYvuekuuWfuuacrOS/oeaBrwogICAgc2hvd0Jhc2VJbmZvOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd0Jhc2VJbmZvQ2FyZDogZmFsc2UsCiAgICAgIGRpYWxvZ09wZW46IHRoaXMuc2hvd0RpYWxvZywKICAgICAgb3BlbkRpYWxvZzogdGhpcy5vcGVuLAogICAgICBvcGVuRGlhbG9nMjogdGhpcy5vcGVuMiwKICAgICAgdXNlck9wdGlvbnMyOiB0aGlzLnVzZXJPcHRpb25zLAogICAgICBjdXJyQWN0aXZpdHk6IG51bGwsCiAgICAgIHByb2NsbnNJZDogbnVsbCwKICAgICAgYXNzaWduZWVSdWxlczogW3sKICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICBtZXNzYWdlOiAi5LiL6IqC54K55a6h5qC45Lq65LiN6IO95Li656m6IiwKICAgICAgICB0cmlnZ2VyOiBbImNoYW5nZSIsICJibHVyIl0KICAgICAgfV0KICAgIH07CiAgfSwKICB3YXRjaDogewogICAgc2hvd0Jhc2VJbmZvOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5zaG93QmFzZUluZm9DYXJkID0gdmFsOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBzaG93RGlhbG9nOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5kaWFsb2dPcGVuID0gdmFsOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBvcGVuOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5vcGVuRGlhbG9nID0gdmFsOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgb3BlbjI6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLm9wZW5EaWFsb2cyID0gdmFsOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlCiAgICB9LAogICAgdXNlck9wdGlvbnM6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLnVzZXJPcHRpb25zMiA9IHZhbDsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfSwKICAgICJjb21tZW50LnByb2NlZHVyZUlkIjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMucHJvY2xuc0lkID0gdmFsOwogICAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZVN0YWZmOiBmdW5jdGlvbiBoYW5kbGVTdGFmZihyZXMpIHsKICAgICAgY29uc29sZS5sb2cocmVzKTsKICAgICAgdGhpcy4kZW1pdCgiZm9ybUl0ZW0iLCByZXMpOwogICAgfSwKICAgIGdldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGlmICh0aGlzLnByb2NsbnNJZCA9PSBudWxsIHx8IHRoaXMucHJvY2xuc0lkID09ICIiKSB7fSBlbHNlIHsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIHByb2NJbnNJZDogdGhpcy5wcm9jbG5zSWQsCiAgICAgICAgICB1c2VySWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8udXNlcklkCiAgICAgICAgfTsKICAgICAgICAoMCwgX21vZGVsLmN1cnJBY3Rpdml0eU5hbWUpKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMuY3VyckFjdGl2aXR5ID0gcmVzcG9uc2UuZGF0YS5hY3Rpdml0eU5hbWU7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy5tc2dFcnJvcihyZXNwb25zZS5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgb25DbG9zZTogZnVuY3Rpb24gb25DbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNob3dEaWFsb2cnLCBmYWxzZSk7CiAgICB9LAogICAgc3VyZVN0YWZmQ2xpY2s6IGZ1bmN0aW9uIHN1cmVTdGFmZkNsaWNrKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdGhpcy4kcmVmcy5mb3JtSXRlbS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzMi4kZW1pdCgnc3VjY2VzcycsIF90aGlzMi5jb21tZW50KTsKICAgICAgICAgIF90aGlzMi5vbkNsb3NlKCk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;AA+CA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eACA;EACAA;EACAC;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;IACAG;MACAJ;MACAC;IACA;IACA;IACAI;MACAL;MACAC;IACA;IACA;IACAK;MACAN;MACAC;IACA;EACA;EACAM;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC,gBACA;QACAC;QACAC;QACAC;MACA;IAEA;EACA;EACAC;IACAb;MACAc;QACA;MACA;MACAC;MACAC;IACA;IACAjB;MACAe;QACA;MACA;MACAC;MACAC;IACA;IACAvB;MACAqB;QACA;MACA;MACAC;IACA;IACAnB;MACAkB;QACA;MACA;MACAC;IACA;IACAjB;MACAgB;QACA;MACA;MACAC;IACA;IACA;MACAD;QACA;QACA;MACA;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACAC;MACA;IACA;IACAC;MAAA;MACA,qDACA;QACA;UACAC;UACAC;QACA;QACA;UACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;UACA;QACA;MACA;IACA;EACA;EACAC;AACA;AAAA","names":["name","components","props","open","type","default","open2","comment","userOptions","showDialog","showBaseInfo","data","showBaseInfoCard","dialogOpen","openDialog","openDialog2","userOptions2","currActivity","proclnsId","assigneeRules","required","message","trigger","watch","handler","deep","immediate","methods","handleStaff","console","getList","procInsId","userId","onClose","sureStaffClick","mounted"],"sourceRoot":"src/views/components/formItemNew","sources":["index.vue"],"sourcesContent":["<template>\n<div>\n  <el-dialog\n    title=\"提示\"\n    :visible.sync=\"dialogOpen\"\n    v-if=\"dialogOpen\"\n    width=\"500px\"\n    :close-on-click-modal=\"false\"\n    custom-class=\"el-button--primary\"\n    append-to-body\n    :before-close=\"onClose\">\n    <ul>当前节点：{{currActivity}}</ul>\n    <el-row>\n      <el-form ref=\"formItem\" :model=\"comment\"  label-width=\"80px\">\n        <el-col :span=\"24\">\n          <el-form-item label=\"审核意见\" v-if=\"openDialog\" prop=\"comment\">\n            <el-input v-model=\"comment.comment\" type=\"textarea\" placeholder=\"请输入审核意见\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"24\">\n          <staffSearch v-if=\"openDialog2\" label=\"下节点审核人\" :rules=\"assigneeRules\"  :staffParams.sync = \"comment\" formItemProp=\"assignee\"  inputProp=\"assigneepName\" :userInfoList = \"userOptions\"></staffSearch>\n        </el-col>\n      </el-form>\n    </el-row>\n    <span slot=\"footer\" class=\"dialog-footer\">\n      <el-button @click=\"onClose\">取 消</el-button>\n      <el-button type=\"primary\" @click=\"sureStaffClick\">确 定</el-button>\n    </span>\n  </el-dialog>\n  <el-card  v-if=\"showBaseInfoCard\" class=\"mb20 mt10\">\n    <ul>当前节点：{{currActivity}}</ul>\n    <el-row>\n      <el-form ref=\"formItem\" :model=\"comment\"  label-width=\"80px\">\n        <el-col :span=\"24\">\n          <el-form-item label=\"审核意见\" v-if=\"openDialog\" prop=\"comment\">\n            <el-input v-model=\"comment.comment\" type=\"textarea\" placeholder=\"请输入审核意见\" />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <staffSearch v-if=\"openDialog2\" label=\"下节点审核人\" :rules=\"assigneeRules\" @handleStaff=\"handleStaff\"  :staffParams.sync = \"comment\" formItemProp=\"assignee\"  inputProp=\"assigneepName\" :userInfoList = \"userOptions\"></staffSearch>\n        </el-col>\n      </el-form>\n    </el-row>\n  </el-card>\n</div>\n</template>\n<script>\nimport { currActivityName } from \"@/api/process/model\";\nexport default {\n  name: \"addEdit\",\n  components: {},\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    open2: {\n      type: Boolean,\n      default: false\n    },\n    comment: {\n      type: Object,\n      default: {}\n    },\n    userOptions: {\n      type: Array,\n      default: {}\n    },\n    // 保存并提交显示弹框下级审核人\n    showDialog:{\n      type: Boolean,\n      default: false\n    },\n    // 其余审核状态显示基本信息\n    showBaseInfo:{\n      type: Boolean,\n     default: false\n    }\n  },\n  data() {\n    return {\n      showBaseInfoCard:false,\n      dialogOpen:this.showDialog,\n      openDialog: this.open,\n      openDialog2: this.open2,\n      userOptions2: this.userOptions,\n      currActivity: null,\n      proclnsId: null,\n      assigneeRules: [\n        {\n          required: true,\n          message: \"下节点审核人不能为空\",\n          trigger: [\"change\", \"blur\"]\n        }\n      ]\n    };\n  },\n  watch: {\n    showBaseInfo:{\n      handler(val) {\n        this.showBaseInfoCard = val;\n      },\n      deep: true,\n      immediate:true\n    },\n    showDialog:{\n      handler(val) {\n        this.dialogOpen = val;\n      },\n      deep: true,\n      immediate:true\n    },\n    open: {\n      handler(val) {\n        this.openDialog = val;\n      },\n      deep: true\n    },\n    open2: {\n      handler(val) {\n        this.openDialog2 = val;\n      },\n      deep: true\n    },\n    userOptions: {\n      handler(val) {\n        this.userOptions2 = val;\n      },\n      deep: true\n    },\n    \"comment.procedureId\": {\n      handler(val) {\n        this.proclnsId = val;\n        this.getList();\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  methods: {\n  \thandleStaff(res){\n  \t\tconsole.log(res);\n  \t\tthis.$emit(\"formItem\", res);\n  \t},\n    getList() {\n      if (this.proclnsId == null || this.proclnsId == \"\") {\n      } else {\n        let data = {\n          procInsId: this.proclnsId,\n          userId: this.$store.state.user.userInfo.userId,\n        };\n        currActivityName(data).then(response => {\n          if (response.code == 200) {\n            this.currActivity = response.data.activityName;\n          } else {\n            this.msgError(response.msg);\n          }\n        });\n      }\n    },\n    onClose(){\n      this.$emit('update:showDialog', false)\n    },\n    sureStaffClick(){\n      this.$refs.formItem.validate(valid => {\n        if(valid){\n          this.$emit('success', this.comment);\n          this.onClose()\n        }\n      })\n    }\n  },\n  mounted() {}\n};\n</script>\n\n<style>\n</style>\n"]}]}
{"remainingRequest":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\table\\bih\\index_v1.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\table\\bih\\index_v1.vue","mtime":1693362206617},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfZGF0ZSA9IHJlcXVpcmUoIkAvdXRpbHMvZGF0ZSIpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogIlVyZXBvcnREaXNwbGF5IiwKICBjb21wb25lbnRzOiB7fSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc3JjOiAiIiwKICAgICAgaGVpZ2h0OiBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gMjEwICsgInB4OyIsCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICB0eXBlT3B0aW9uczogW10sCiAgICAgIHNldHRsZU1hcmtPcHRpb25zOiBbXSwKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICB0eXBlOiAnMScsCiAgICAgICAgbW9udGg6IFtuZXcgRGF0ZSgpLCBuZXcgRGF0ZSgpXSwKICAgICAgICB5ZWFyOiBudWxsLAogICAgICAgIHNldHRsZU1hcms6ICcxJwogICAgICB9LAogICAgICBydWxlczoge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHRoaXMuZ2V0RGljdHMoIkRFUFRfVFlQRV9PUEMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy50eXBlT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuZ2V0RGljdHMoInBtc19qc2JzX3R5cGUiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5zZXR0bGVNYXJrT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgIHNldFRpbWVvdXQoZnVuY3Rpb24gKCkgewogICAgICBfdGhpczIubG9hZGluZyA9IGZhbHNlOwogICAgfSwgMjMwKTsKICAgIHZhciB0aGF0ID0gdGhpczsKICAgIHdpbmRvdy5vbnJlc2l6ZSA9IGZ1bmN0aW9uIHRlbXAoKSB7CiAgICAgIHRoYXQuaGVpZ2h0ID0gZG9jdW1lbnQuZG9jdW1lbnRFbGVtZW50LmNsaWVudEhlaWdodCAtIDk0LjUgKyAicHg7IjsKICAgIH07CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovcmVzZXRRdWVyeTogZnVuY3Rpb24gcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy55ZWFyID0gbnVsbDsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5tb250aCA9IFtuZXcgRGF0ZSgpLCBuZXcgRGF0ZSgpXTsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5zZXR0bGVNYXJrID0gJzEnOwogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnR5cGUgPSAnMSc7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqL2hhbmRsZVF1ZXJ5OiBmdW5jdGlvbiBoYW5kbGVRdWVyeSgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBub3dEYXRlID0gdGhpcy5xdWVyeVBhcmFtcy5tb250aFswXTsKICAgICAgaWYgKG5vd0RhdGUubGVuZ3RoICE9IDEwKSB7CiAgICAgICAgdmFyIHllYXIgPSBub3dEYXRlLmdldEZ1bGxZZWFyKCk7CiAgICAgICAgdmFyIG1vbnRoID0gbm93RGF0ZS5nZXRNb250aCgpICsgMSA8IDEwID8gIjAiICsgKG5vd0RhdGUuZ2V0TW9udGgoKSArIDEpIDogbm93RGF0ZS5nZXRNb250aCgpICsgMTsKICAgICAgICB2YXIgZGF5ID0gbm93RGF0ZS5nZXREYXRlKCkgPCAxMCA/ICIwIiArIG5vd0RhdGUuZ2V0RGF0ZSgpIDogbm93RGF0ZS5nZXREYXRlKCk7CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtcy5tb250aFswXSA9IHllYXIgKyAiLSIgKyBtb250aCArICItIiArIGRheTsKICAgICAgICBub3dEYXRlID0gdGhpcy5xdWVyeVBhcmFtcy5tb250aFsxXTsKICAgICAgICB2YXIgeWVhciA9IG5vd0RhdGUuZ2V0RnVsbFllYXIoKTsKICAgICAgICB2YXIgbW9udGggPSBub3dEYXRlLmdldE1vbnRoKCkgKyAxIDwgMTAgPyAiMCIgKyAobm93RGF0ZS5nZXRNb250aCgpICsgMSkgOiBub3dEYXRlLmdldE1vbnRoKCkgKyAxOwogICAgICAgIHZhciBkYXkgPSBub3dEYXRlLmdldERhdGUoKSA8IDEwID8gIjAiICsgbm93RGF0ZS5nZXREYXRlKCkgOiBub3dEYXRlLmdldERhdGUoKTsKICAgICAgICB0aGlzLnF1ZXJ5UGFyYW1zLm1vbnRoWzFdID0geWVhciArICItIiArIG1vbnRoICsgIi0iICsgZGF5OwogICAgICB9CiAgICAgIGNvbnNvbGUubG9nKHRoaXMucXVlcnlQYXJhbXMubW9udGhbMF0ubGVuZ3RoKTsKICAgICAgY29uc29sZS5sb2codGhpcy5xdWVyeVBhcmFtcy5tb250aFsxXS5sZW5ndGgpOwogICAgICB0aGlzLiRyZWZzWyJxdWVyeUZvcm0iXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIHZhciBmeGIgPSAi5L2P6Zmi5pS25YWl6KGoLnVyZXBvcnQueG1sIjsKICAgICAgICAgIF90aGlzMy5zcmMgPSAiL3VyZXBvcnQvcHJldmlldz9fdT1teXNxbDoiICsgZnhiICsgIiZkYXRlU3RyPSIgKyBfdGhpczMucXVlcnlQYXJhbXMueWVhciArICImZGF0ZT0iICsgX3RoaXMzLnF1ZXJ5UGFyYW1zLnllYXIgKyAiJmNvbXBDb2RlPSIgKyBfdGhpczMuJHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudEluZm8uZGVwdElkICsgIiZjb21wTmFtZT0iICsgX3RoaXMzLiRzdG9yZS5zdGF0ZS51c2VyLmFjY291bnRJbmZvLmRlcHROYW1lICsgIiZ0eXBlPSIgKyBfdGhpczMucXVlcnlQYXJhbXMudHlwZSArICImc2V0dGxlTWFyaz0iICsgX3RoaXMzLnF1ZXJ5UGFyYW1zLnNldHRsZU1hcmsgKyAiJnN0YXJ0VGltZT0iICsgX3RoaXMzLnF1ZXJ5UGFyYW1zLm1vbnRoWzBdICsgIiZlbmRUaW1lPSIgKyBfdGhpczMucXVlcnlQYXJhbXMubW9udGhbMV07CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;AA+CA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC,aACA;EACAC;IACA;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC,QACA;IAEA;EACA;EACAC;IAAA;IACA;MACA;IACA;IACA;MACA;IACA;EACA;EACAC;IAAA;IACAC;MACA;IACA;IACA;IACAC;MACAC;IACA;EACA;EACAC;IACA,aACAC;MACA;MACA;MACA;MACA;IACA;IACA,aACAC;MAAA;MACA;MACA;QACA;QACA;QACA;QACA;QACAC;QACA;QACA;QACA;QACA;MACA;MACAC;MACAA;MACA;QACA;UACA;UACA,+HACA,4HACA,sFACA;QACA;MACA;IACA;EAEA;AACA;AAAA","names":["name","components","data","src","height","loading","typeOptions","settleMarkOptions","queryParams","type","month","year","settleMark","rules","created","mounted","setTimeout","window","that","methods","resetQuery","handleQuery","nowDate","console"],"sourceRoot":"src/views/table/bih","sources":["index_v1.vue"],"sourcesContent":["<template>\n  <!--全院固定资产折旧汇总表  -->\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" :rules=\"rules\">\n      <el-form-item label=\"起始年月\" prop=\"month\">\n        <el-date-picker style=\"width:250px\" clearable\n                        v-model=\"queryParams.month\"\n                        type=\"monthrange\"\n                        range-separator=\"至\"\n                        start-placeholder=\"开始月份\"\n                        end-placeholder=\"结束月份\">\n                        value-format=\"yyyy-MM\"\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item label=\"结算标识:\" prop=\"settleMark\">\n        <el-select class=\"search_w220\" v-model=\"queryParams.settleMark\" clearable placeholder=\"请选择结算标识\">\n          <el-option\n            v-for=\"dict in settleMarkOptions\"\n            :key=\"dict.dictValue\"\n            :label=\"dict.dictLabel\"\n            :value=\"dict.dictValue\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"科室类型\" prop=\"type\">\n        <el-select class=\"search_w220\" v-model=\"queryParams.type\" placeholder=\"请选择项目类型\" clearable>\n          <el-option\n            v-for=\"dict in typeOptions\"\n            :key=\"dict.dictValue\"\n            :label=\"dict.dictLabel\"\n            :value=\"dict.dictValue\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    <div v-loading=\"loading\" :style=\"'height:'+ height\">\n      <iframe :src=\"src\" frameborder=\"no\" style=\"width: 100%;height: 100%\" scrolling=\"auto\" />\n    </div>\n  </div>\n</template>\n\n<script>\n\n  import {getYear} from \"@/utils/date\";\n\n  export default {\n    name: \"UreportDisplay\",\n    components: {\n    },\n    data() {\n      return {\n        src: \"\",\n        height: document.documentElement.clientHeight - 210 + \"px;\",\n        loading: true,\n        // 查询参数\n        typeOptions :[],\n        settleMarkOptions: [],\n        queryParams: {\n          type : '1',\n          month : [new Date(),new Date()],\n          year : null,\n          settleMark: '1'\n        },\n        rules: {\n        },\n\n      };\n    },\n    created() {\n      this.getDicts(\"DEPT_TYPE_OPC\").then(response => {\n        this.typeOptions = response.data;\n      });\n      this.getDicts(\"pms_jsbs_type\").then(response => {\n        this.settleMarkOptions = response.data;\n      });\n    },\n    mounted: function() {\n      setTimeout(() => {\n        this.loading = false;\n      }, 230);\n      const that = this;\n      window.onresize = function temp() {\n        that.height = document.documentElement.clientHeight - 94.5 + \"px;\";\n      };\n    },\n    methods:{\n      /** 重置按钮操作 */\n      resetQuery() {\n        this.queryParams.year = null\n        this.queryParams.month = [new Date(),new Date()]\n        this.queryParams.settleMark = '1'\n        this.queryParams.type = '1'\n      },\n      /** 搜索按钮操作 */\n      handleQuery() {\n        var nowDate = this.queryParams.month[0];\n        if (nowDate.length != 10) {\n          var year = nowDate.getFullYear();\n          var month = nowDate.getMonth() + 1 < 10 ? \"0\" + (nowDate.getMonth() + 1) : nowDate.getMonth() + 1;\n          var day = nowDate.getDate() < 10 ? \"0\" + nowDate.getDate() : nowDate.getDate();\n          this.queryParams.month[0] = year + \"-\" + month + \"-\" + day;\n          nowDate = this.queryParams.month[1];\n          var year = nowDate.getFullYear();\n          var month = nowDate.getMonth() + 1 < 10 ? \"0\" + (nowDate.getMonth() + 1) : nowDate.getMonth() + 1;\n          var day = nowDate.getDate() < 10 ? \"0\" + nowDate.getDate() : nowDate.getDate();\n          this.queryParams.month[1] = year + \"-\" + month + \"-\" + day;\n        }\n        console.log(this.queryParams.month[0].length)\n        console.log(this.queryParams.month[1].length)\n        this.$refs[\"queryForm\"].validate(valid => {\n          if (valid) {\n            var fxb = \"住院收入表.ureport.xml\";\n            this.src = \"/ureport/preview?_u=mysql:\"+fxb+\"&dateStr=\"+this.queryParams.year+\"&date=\"+this.queryParams.year\n              +\"&compCode=\" +this.$store.state.user.accountInfo.deptId+\"&compName=\"+this.$store.state.user.accountInfo.deptName\n              +\"&type=\"+this.queryParams.type +\"&settleMark=\"+this.queryParams.settleMark\n              +\"&startTime=\"+this.queryParams.month[0] +\"&endTime=\"+this.queryParams.month[1];\n          }\n        });\n      }\n\n    }\n  }\n</script>\n"]}]}
{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\views\\quality\\quality\\detailEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\quality\\quality\\detailEdit.vue","mtime":1682043107658},{"path":"D:\\hrp\\zjry-pms-ui\\babel.config.js","mtime":1682043101067},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi9ocnAvempyeS1wbXMtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvaW50ZXJvcFJlcXVpcmVEZWZhdWx0LmpzIikuZGVmYXVsdDsKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkubWFwLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5maW5kLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnZhciBfdmFsaWRhdGUgPSByZXF1aXJlKCJAL3V0aWxzL3ZhbGlkYXRlIik7CnZhciBfcXVhbGl0eSA9IHJlcXVpcmUoIkAvYXBpL3F1YWxpdHkvcXVhbGl0eSIpOwp2YXIgX3V0aWxzID0gcmVxdWlyZSgiQC9hcGkvdXRpbHMiKTsKdmFyIF9kZXRhaWwgPSByZXF1aXJlKCJAL2FwaS9xdWFsaXR5L2RldGFpbCIpOwp2YXIgX2Zvcm1EZXNpZ24gPSByZXF1aXJlKCJAL2FwaS9mb3JtRGVzaWduL2Zvcm1EZXNpZ24iKTsKdmFyIF9kZXRhaWxJbmZvID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCIuL2RldGFpbEluZm8iKSk7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAiYWRkRWRpdCIsCiAgcHJvcHM6IHsKICAgIG9wZW46IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBkYXRhczogewogICAgICB0eXBlOiBPYmplY3QsCiAgICAgIGRlZmF1bHQ6IG51bGwKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBkYXRhczogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMucmVzZXQoKTsKICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICB0aGlzLnBhcmFtc0RhdGEgPSB2YWw7CiAgICAgICAgICB0aGlzLnRpdGxlID0gIuafpeeci+ivpuaDhSAvIOi0qOmHj+W+l+WIhiI7CiAgICAgICAgICB0aGlzLmdldERldGFpbEluZm8oKTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIG9wZW46IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLm9wZW5EaWFsb2cgPSB2YWw7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGRldGFpbEluZm86IF9kZXRhaWxJbmZvLmRlZmF1bHQKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldERldGFpbEluZm8oKTsKICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIuafpeeci+ivpuaDhSAvIOi0qOmHj+W+l+WIhiIsCiAgICAgIG9wZW5EaWFsb2c6IHRoaXMub3BlbiwKICAgICAgcGFyYW1zRGF0YTogbnVsbCwKICAgICAgZGV0YWlsVGl0bGU6ICLmn6XnnIvor6bmg4UgLyDotKjph4/lvpfliIYgLyDlvpfliIbmmI7nu4YiLAogICAgICBvcGVuRGV0YWlsRGlhbG9nOiBmYWxzZSwKICAgICAgc2F2ZUxvYWRpbmc6IGZhbHNlLAogICAgICBvcGVuSW5mbzogZmFsc2UsCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgc2luZ2xlSXRlbTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7fSwKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAzMAogICAgICB9LAogICAgICBxdWFsaXR5TGlzdDogW10sCiAgICAgIHRvdGFsOiAwLAogICAgICBxdWFsaXR5TGlzdDE6IFtdLAogICAgICB0b3RhbDE6IDAsCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBsb2FkaW5nMTogZmFsc2UsCiAgICAgIHNlbGVjdGlvblJvdzogW10sCiAgICAgIHNlbGVjdGlvblJvd0l0ZW06IFtdLAogICAgICBjb2xzOiBbXSwKICAgICAgbGlzdHM6IFtdLAogICAgICBmb3JtRGVzaWduSWQ6ICcnLAogICAgICBpZHM6ICcnLAogICAgICBpZHNJbmZvOiAnJwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIGhhbmRsZUNsaWNrVGFibGVOYW1lOiBmdW5jdGlvbiBoYW5kbGVDbGlja1RhYmxlTmFtZShkYXRhKSB7CiAgICAgIC8vIOmAieS4reW9k+WJjeihjAogICAgICB0aGlzLnJvd0NsaWNrKGRhdGEsIGZhbHNlKTsKICAgICAgdGhpcy5oYW5kbGVEZXRhaWwoKTsKICAgIH0sCiAgICBoYW5kbGVDbGlja1RhYmxlTmFtZURldGFpbDogZnVuY3Rpb24gaGFuZGxlQ2xpY2tUYWJsZU5hbWVEZXRhaWwoZGF0YSkgewogICAgICB0aGlzLnJvd0NsaWNrMShkYXRhLCBmYWxzZSk7CiAgICAgIHRoaXMuaGFuZGxlRGV0YWlsSXRlbShkYXRhKTsKICAgIH0sCiAgICBnZXREZXRhaWxJbmZvOiBmdW5jdGlvbiBnZXREZXRhaWxJbmZvKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICBpZiAodGhpcy5kYXRhcykgewogICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICBkZXB0Q29kZTogdGhpcy5kYXRhcy5kZXB0Q29kZSwKICAgICAgICAgIGNvbXBDb2RlOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZCwKICAgICAgICAgIHFUaW1lOiB0aGlzLmRhdGFzLm9jY1RpbWUgKyAnLTAxJwogICAgICAgIH07CiAgICAgICAgLy8gY29uc29sZS5sb2cocGFyYW1zKQogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgICAgKDAsIF9xdWFsaXR5LmdldFF1YWxpdHkpKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICBfdGhpcy5xdWFsaXR5TGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgICAgIC8vIGNvbnNvbGUubG9nKHRoaXMucXVhbGl0eUxpc3QpCiAgICAgICAgICAgIF90aGlzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIHN0YXRlRm9ybWF0OiBmdW5jdGlvbiBzdGF0ZUZvcm1hdChyb3csIGNvbHVtbiwgY2VsbFZhbHVlKSB7CiAgICAgIHZhciBhcnIgPSB0aGlzLmxpc3RzOwogICAgICBmb3IgKHZhciBpID0gMDsgaSA8IGFyci5sZW5ndGg7IGkrKykgewogICAgICAgIGlmIChhcnJbaV0uZmllbGROYW1lID09IGNvbHVtbi5wcm9wZXJ0eSkgewogICAgICAgICAgaWYgKGFycltpXS5maWVsZE5hbWUgPT0gImNzX3RhcmdldCIpIHsKICAgICAgICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdEluZGV4TGFiZWwoYXJyW2ldLm9wdGlvbnMsIGNlbGxWYWx1ZSk7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwoYXJyW2ldLm9wdGlvbnMsIGNlbGxWYWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICB9LAogICAgZ2V0UXVhbGl0eURldGFpbDogZnVuY3Rpb24gZ2V0UXVhbGl0eURldGFpbChkYXRhKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLmZvcm1EZXNpZ25JZCA9IGRhdGEudGVtcENvZGU7CiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgZm9ybURlc2lnbklkOiBkYXRhLnRlbXBDb2RlCiAgICAgIH07CiAgICAgICgwLCBfdXRpbHMuZGVwbG95TGlzdCkob2JqKS50aGVuKGZ1bmN0aW9uIChyZXMpIHsKICAgICAgICBfdGhpczIubGlzdHMgPSByZXMuZGF0YTsKICAgICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChpKSB7CiAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubGlzdHNbaV0sIF90aGlzMi5saXN0c1tpXS5maWVsZE5hbWUsIG51bGwpOwogICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzW2ldLCAidmFsIiwgbnVsbCk7CiAgICAgICAgICBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkVHlwZSA9PSAic2VsZWN0IikgewogICAgICAgICAgICBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkTmFtZSA9PSAiY3NfdGFyZ2V0IikgewogICAgICAgICAgICAgIHZhciBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgICBpbmRleENvZGU6IF90aGlzMi5saXN0c1tpXS5pbmRleENvZGUsCiAgICAgICAgICAgICAgICBjb21wQ29kZTogX3RoaXMyLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZCAvLyDlv4XkvKAKICAgICAgICAgICAgICB9OwoKICAgICAgICAgICAgICAoMCwgX2RldGFpbC5saXN0RGV0YWlsKShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgIm9wdGlvbnMiLCByZXNwb25zZS5yb3dzKTsKICAgICAgICAgICAgICAgICAgX3RoaXMyLnRhcmdldFZhbHVlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5yb3dzKSk7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkTmFtZSA9PSAiY3NfZGVwdCIpIHsKICAgICAgICAgICAgICB2YXIgX3BhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGNvbXBDb2RlOiBfdGhpczIuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkCiAgICAgICAgICAgICAgfTsKICAgICAgICAgICAgICAoMCwgX2Zvcm1EZXNpZ24uZ2V0RGVwdEluZm9Gb3JQbXMpKF9wYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgICAgICAgICAgaWYgKHJlcy5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzW2ldLCAib3B0aW9ucyIsIHJlcy5kYXRhKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczIuZ2V0RGljdHMoX3RoaXMyLmxpc3RzW2ldLmRpY3RUeXBlKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzW2ldLCAib3B0aW9ucyIsIHJlc3BvbnNlLmRhdGEpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkVHlwZSA9PSAicmFkaW8iKSB7CiAgICAgICAgICAgIF90aGlzMi5saXN0c1tpXS5vcHRpb25zID0gSlNPTi5wYXJzZShfdGhpczIubGlzdHNbaV0ub3B0aW9ucyk7CiAgICAgICAgICB9CiAgICAgICAgICBpZiAoX3RoaXMyLmxpc3RzW2ldLmZpZWxkVHlwZSA9PSAiY2hlY2tib3giKSB7CiAgICAgICAgICAgIF90aGlzMi5saXN0c1tpXS5vcHRpb25zID0gSlNPTi5wYXJzZShfdGhpczIubGlzdHNbaV0ub3B0aW9ucyk7CiAgICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgInZhbCIsIFtdKTsKICAgICAgICAgIH0KICAgICAgICB9OwogICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgX3RoaXMyLmxpc3RzLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICBfbG9vcChpKTsKICAgICAgICB9CiAgICAgICAgdmFyIGxpc3QgPSByZXMuZGF0YTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhsaXN0LCdsaXN0JykKICAgICAgICB2YXIgYXJyID0gW107CiAgICAgICAgZm9yICh2YXIgX2kgPSAwOyBfaSA8IGxpc3QubGVuZ3RoOyBfaSsrKSB7CiAgICAgICAgICB2YXIgX29iaiA9IHt9OwogICAgICAgICAgaWYgKGxpc3RbX2ldLmZpZWxkTmFtZSAhPSAicG1zX3N0YXRlIikgewogICAgICAgICAgICBpZiAobGlzdFtfaV0uZmllbGROYW1lICE9ICJkZXB0X3RyYWNrIikgewogICAgICAgICAgICAgIF9vYmoubGFiZWwgPSBsaXN0W19pXS5maWVsZERlc2M7CiAgICAgICAgICAgICAgX29iai5wcm9wID0gbGlzdFtfaV0uZmllbGROYW1lOwogICAgICAgICAgICAgIF9vYmouaXNMaXN0ID0gbGlzdFtfaV0uaXNMaXN0OwogICAgICAgICAgICAgIF9vYmouZmllbGRUeXBlID0gbGlzdFtfaV0uZmllbGRUeXBlOwogICAgICAgICAgICAgIGlmIChsaXN0W19pXS5maWVsZE5hbWUgPT0gJ2NzX3Njb3JlJykgewogICAgICAgICAgICAgICAgX29iai5kZWNpbWxEaWdpdCA9IGxpc3RbX2ldLmRlY2ltbERpZ2l0OwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBpZiAoX29iai5wcm9wID09ICdjc19kYXRlJykgewogICAgICAgICAgICAgICAgX29iai5hbGlnbiA9ICdjZW50ZXInOwogICAgICAgICAgICAgIH0gZWxzZSBpZiAoX29iai5wcm9wID09ICdjc19zY29yZScpIHsKICAgICAgICAgICAgICAgIF9vYmouYWxpZ24gPSAncmlnaHQnOwogICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICBfb2JqLmFsaWduID0gJ2xlZnQnOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgICBhcnIucHVzaChfb2JqKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgICBfdGhpczIuY29scyA9IGFycjsKICAgICAgICBfdGhpczIuZ2V0VGFibGUoZGF0YSk7CiAgICAgIH0pOwogICAgfSwKICAgIC8v6KGo5qC85pWw5o2uCiAgICBnZXRUYWJsZTogZnVuY3Rpb24gZ2V0VGFibGUoZGF0YSkgewogICAgICB2YXIgX3RoaXMzID0gdGhpczsKICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICBmb3JtRGVzaWduSWQ6IGRhdGEudGVtcENvZGUsCiAgICAgICAgZGVwdENvZGU6IGRhdGEuZGVwdENvZGUsCiAgICAgICAgcURhdGU6IHRoaXMuZGF0YXMub2NjVGltZSArICctMDEnCiAgICAgIH07CiAgICAgICgwLCBfcXVhbGl0eS5nZXRRdWFsaXR5RGV0YWlsKShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMzLnF1YWxpdHlMaXN0MSA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgX3RoaXMzLnRvdGFsMSA9IHJlc3BvbnNlLnRvdGFsOwogICAgICB9KTsKICAgIH0sCiAgICAvL+afpeeci+ivpuaDhQogICAgaGFuZGxlRGV0YWlsOiBmdW5jdGlvbiBoYW5kbGVEZXRhaWwoKSB7CiAgICAgIHRoaXMuZ2V0UXVhbGl0eURldGFpbCh0aGlzLnNlbGVjdGlvblJvd1swXSk7CiAgICAgIHRoaXMub3BlbkRldGFpbERpYWxvZyA9IHRydWU7CiAgICB9LAogICAgLy/mn6XnnIvor6bnu4bkv6Hmga8KICAgIGhhbmRsZURldGFpbEl0ZW06IGZ1bmN0aW9uIGhhbmRsZURldGFpbEl0ZW0oZGF0YSkgewogICAgICB0aGlzLmlkc0luZm8gPSB0aGlzLnNlbGVjdGlvblJvd0l0ZW1bMF0uaWQ7CiAgICAgIHRoaXMub3BlbkluZm8gPSB0cnVlOwogICAgfSwKICAgIGNhbmNlbERldGFpbEluZm86IGZ1bmN0aW9uIGNhbmNlbERldGFpbEluZm8oKSB7CiAgICAgIHRoaXMub3BlbkluZm8gPSBmYWxzZTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5pZDsKICAgICAgfSk7CiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCAhPT0gMTsKICAgICAgdGhpcy5zZWxlY3Rpb25Sb3cgPSBzZWxlY3Rpb247CiAgICB9LAogICAgcm93Q2xpY2s6IGZ1bmN0aW9uIHJvd0NsaWNrKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICB2YXIgcmVmc0VsVGFibGUgPSB0aGlzLiRyZWZzLm11bHRpcGxlVGFibGU7CiAgICAgIHZhciBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLnJvd0luZGV4ID09IHJvdy5yb3dJbmRleDsKICAgICAgfSk7CiAgICAgIC8vIGlmIChmaW5kUm93ICYmIHRoaXMuc2VsZWN0aW9uUm93Lmxlbmd0aCA9PSAxKSB7CiAgICAgIC8vICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOwogICAgICAvLyAgIHJldHVybjsKICAgICAgLy8gfQogICAgICByZWZzRWxUYWJsZS5jbGVhclNlbGVjdGlvbigpOwogICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93KTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTE6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTEoc2VsZWN0aW9uKSB7CiAgICAgIC8vIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uaWQpCiAgICAgIHRoaXMuc2luZ2xlSXRlbSA9IHNlbGVjdGlvbi5sZW5ndGggIT09IDE7CiAgICAgIHRoaXMuc2VsZWN0aW9uUm93SXRlbSA9IHNlbGVjdGlvbjsKICAgIH0sCiAgICByb3dDbGljazE6IGZ1bmN0aW9uIHJvd0NsaWNrMShyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgdmFyIHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlMTsKICAgICAgdmFyIGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvd0l0ZW0uZmluZChmdW5jdGlvbiAoYykgewogICAgICAgIHJldHVybiBjLnJvd0luZGV4ID09IHJvdy5yb3dJbmRleDsKICAgICAgfSk7CiAgICAgIC8vIGlmIChmaW5kUm93ICYmIHRoaXMuc2VsZWN0aW9uUm93SXRlbS5sZW5ndGggPT0gMSkgewogICAgICAvLyAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIGZhbHNlKTsKICAgICAgLy8gICByZXR1cm47CiAgICAgIC8vIH0KICAgICAgcmVmc0VsVGFibGUuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7CiAgICB9LAogICAgcm93U3R5bGU6IGZ1bmN0aW9uIHJvd1N0eWxlKF9yZWYpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYucm93LAogICAgICAgIHJvd0luZGV4ID0gX3JlZi5yb3dJbmRleDsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdywgJ3Jvd0luZGV4JywgewogICAgICAgIHZhbHVlOiByb3dJbmRleCwKICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgICB9KTsKICAgIH0sCiAgICAvL+ivpuaDheW8ueahhuWFs+mXrQogICAgaGFuZGxlRGV0YWlsRGlhbG9nQ2xvc2U6IGZ1bmN0aW9uIGhhbmRsZURldGFpbERpYWxvZ0Nsb3NlKCkgewogICAgICB0aGlzLm9wZW5EZXRhaWxEaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICBkZXRhaWxDYW5jZWw6IGZ1bmN0aW9uIGRldGFpbENhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuRGV0YWlsRGlhbG9nID0gZmFsc2U7CiAgICB9LAogICAgLy8g5by55qGG5YWz6ZetCiAgICBoYW5kbGVEaWFsb2dDbG9zZTogZnVuY3Rpb24gaGFuZGxlRGlhbG9nQ2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNhbmNlbCIsIGZhbHNlKTsKICAgIH0sCiAgICAvLyDlj5bmtogKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLiRlbWl0KCJjYW5jZWwiLCBmYWxzZSk7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBjb21wQ29kZTogbnVsbCwKICAgICAgICBhY2NvdW50Q29kZTogbnVsbCwKICAgICAgICBkZXB0Q29kZTogbnVsbCwKICAgICAgICBpbmRleENvZGU6IG51bGwsCiAgICAgICAgdGVtcENvZGU6IG51bGwsCiAgICAgICAgaW5kZXhTY29yZTogbnVsbCwKICAgICAgICBvY2N1cmVUaW1lOiBudWxsLAogICAgICAgIGFjdHVhbFNjb3JlOiBudWxsLAogICAgICAgIGRlbEZsYWc6IG51bGwsCiAgICAgICAgY3JlYXRlQnk6IG51bGwsCiAgICAgICAgY3JlYXRlVGltZTogbnVsbCwKICAgICAgICB1cGRhdGVCeTogbnVsbCwKICAgICAgICB1cGRhdGVUaW1lOiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAD;MACAE;QACA;QACA;UACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAP;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAE;IACAC;EACA;EACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC,QACA;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACAC;UACAC;UACAC;QACA;QACA;QACA;QACA;UACA;YACA;YACA;YACA;YACA;UACA;QACA;MACA;IAEA;IACAC;MACA;MACA;QACA;UACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACAX;MACA;MACA;QACA;QAAA,2BACAY;UACA;UACA;UACA;YACA;cACA;gBACAC;gBACAL;cACA;;cACA;gBACA;kBACA;kBACA;gBACA;cACA;YACA;cACA;gBACAA;cACA;cACA;gBACA;kBACA;gBACA;cACA;YACA;cACA;gBACA;cACA;YACA;UACA;UACA;YACA;UACA;UACA;YACA;YACA;UACA;QAAA;QApCA;UAAA;QAqCA;QACA;QACA;QACA;QACA;UACA;UACA;YACA;cACAM;cACAA;cACAA;cACAA;cACA;gBACAA;cACA;cACA;gBACAA;cACA;gBACAA;cACA;gBACAA;cACA;cACAC;YACA;UAEA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAhB;QACAO;QACAU;MACA;MACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;MACA;MACA;MACA;MACAC;MACAA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;MACA;MACA;MACA;MACAF;MACAA;IACA;IACAG,kCAGA;MAAA,IAFAC;QACAC;MAEAC;QACAC;QACAC;QACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACAC;QACA9B;QACA+B;QACAhC;QACAM;QACA2B;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","open","type","default","datas","watch","handler","deep","immediate","components","detailInfo","created","data","title","openDialog","paramsData","detailTitle","openDetailDialog","saveLoading","openInfo","single","singleItem","showSearch","form","rules","queryParams","pageNum","pageSize","qualityList","total","qualityList1","total1","loading","loading1","selectionRow","selectionRowItem","cols","lists","formDesignId","ids","idsInfo","methods","handleClickTableName","handleClickTableNameDetail","getDetailInfo","deptCode","compCode","qTime","stateFormat","getQualityDetail","i","indexCode","obj","arr","getTable","qDate","handleDetail","handleDetailItem","cancelDetailInfo","handleSelectionChange","rowClick","refsElTable","handleSelectionChange1","rowClick1","rowStyle","row","rowIndex","Object","value","writable","enumerable","handleDetailDialogClose","detailCancel","handleDialogClose","cancel","reset","id","accountCode","tempCode","indexScore","occureTime","actualScore","delFlag","createBy","createTime","updateBy","updateTime","remark"],"sourceRoot":"src/views/quality/quality","sources":["detailEdit.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"50%\" custom-class=\"el-button--primary\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDialogClose\">\r\n        <div ref=\"btns\">\r\n          <el-row :gutter=\"10\" class=\"mb8\">\r\n            <el-col :span=\"1.5\">\r\n              <el-button\r\n                type=\"primary\"\r\n                icon=\"el-icon-search\"\r\n                size=\"mini\"\r\n                :disabled=\"single\"\r\n                @click=\"handleDetail\"\r\n                v-hasPermi=\"['quality:quality:edit']\"\r\n              >查看</el-button>\r\n            </el-col>\r\n            </el-col>\r\n            <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getDetailInfo\"></right-toolbar>\r\n          </el-row>\r\n        </div>\r\n        <el-table border stripe v-loading=\"loading\" height=\"93%\" :data=\"qualityList\" @selection-change=\"handleSelectionChange\" ref=\"multipleTable\" @row-click=\"rowClick\" :row-style=\"rowStyle\">\r\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n          <el-table-column label=\"质量名称(模板名称)\" align=\"center\" prop=\"tempName\">\r\n            <template slot-scope=\"scope\">\r\n              <el-link type=\"primary\" :underline=\"false\" v-html=\"scope.row.tempName\" @click.stop=\"handleClickTableName(scope.row)\" class=\"displayBlock text-ellipsis \"></el-link>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"项目分值\" align=\"center\" prop=\"indexScore\" />\r\n          <el-table-column label=\"本月得分\" align=\"center\" prop=\"actualScore\" />\r\n        </el-table>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"cancel\">关 闭</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <!-- 得分明细 -->\r\n      <el-dialog :title=\"detailTitle\" :visible.sync=\"openDetailDialog\" width=\"50%\" custom-class=\"el-button--primary\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDetailDialogClose\">\r\n        <div ref=\"btns\">\r\n          <el-row :gutter=\"10\" class=\"mb8\">\r\n            <el-col :span=\"1.5\">\r\n              <el-button\r\n                type=\"success\"\r\n                icon=\"el-icon-search\"\r\n                size=\"mini\"\r\n                :disabled=\"singleItem\"\r\n                @click=\"handleDetailItem\"\r\n                v-hasPermi=\"['quality:quality:edit']\"\r\n              >详情</el-button>\r\n            </el-col>\r\n            </el-col>\r\n            <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getQualityDetail\"></right-toolbar>\r\n          </el-row>\r\n        </div>\r\n        <el-table border stripe v-loading=\"loading1\" height=\"86%\" :data=\"qualityList1\" @selection-change=\"handleSelectionChange1\" ref=\"multipleTable1\" @row-click=\"rowClick1\" :row-style=\"rowStyle\">\r\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n          <template v-for=\"item in cols\">\r\n      \t\t<template v-if=\"item.isList=='1'\">\r\n      \t\t\t<template v-if=\"item.fieldType=='select'\">\r\n      \t\t\t\t<el-table-column show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\" :formatter=\"stateFormat\" />\r\n      \t\t\t</template>\r\n      \t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<el-table-column v-if=\"item.prop=='cs_date'\" show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\" width=\"150px\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<el-link type=\"primary\" :underline=\"false\" v-html=\"scope.row.cs_date\" @click.stop=\"handleClickTableNameDetail(scope.row)\" class=\"displayBlock text-ellipsis \"></el-link>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column v-else-if=\"item.prop=='cs_score'\" show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\" width=\"150px\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<span>{{(scope.row.cs_score * 1).toFixed(item.decimlDigit * 1)}}</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n      \t\t\t\t<el-table-column v-else show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\">\r\n      \t\t\t\t</el-table-column>\r\n      \t\t\t</template>\r\n      \t\t</template>\r\n      \t</template>\r\n        </el-table>\r\n        <pagination\r\n          v-show=\"total1>0\"\r\n          :total=\"total1\"\r\n          :page.sync=\"queryParams.pageNum\"\r\n          :limit.sync=\"queryParams.pageSize\"\r\n          @pagination=\"getQualityDetail\"\r\n        />\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"detailCancel\">关 闭</el-button>\r\n        </div>\r\n      </el-dialog>\r\n      \r\n      <detailInfo v-if=\"openInfo\" :open=\"openInfo\" :id=\"formDesignId\" :ids=\"idsInfo\" @cancel=\"cancelDetailInfo\"></detailInfo>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { validEmail } from'@/utils/validate'\r\nimport { getQuality,getQualityDetail } from \"@/api/quality/quality\";\r\nimport { deployList} from '@/api/utils';\r\nimport { listDetail } from \"@/api/quality/detail\";\r\nimport {getDeptInfoForPms} from \"@/api/formDesign/formDesign\";\r\nimport detailInfo from './detailInfo';\r\n\r\nexport default {\r\n  name: \"addEdit\",\r\n  props: {\r\n    open: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    datas: {\r\n      type: Object,\r\n      default: null,\r\n    }\r\n  },\r\n  watch: {\r\n    datas: {\r\n      handler(val) {\r\n        this.reset();\r\n        if (val) {\r\n          this.paramsData = val;\r\n          this.title = \"查看详情 / 质量得分\";\r\n          this.getDetailInfo();\r\n        } \r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    open: {\r\n      handler(val) {\r\n        this.openDialog = val;\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  components: {\r\n    detailInfo\r\n  },\r\n  created() {\r\n    this.getDetailInfo();\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"查看详情 / 质量得分\",\r\n      openDialog: this.open,\r\n      paramsData:null,\r\n      detailTitle:\"查看详情 / 质量得分 / 得分明细\",\r\n      openDetailDialog:false,\r\n      saveLoading: false,\r\n      openInfo:false,\r\n      single:true,\r\n      singleItem:true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 表单参数\r\n      form: {},\r\n      // 表单校验\r\n      rules: {\r\n      },\r\n      queryParams:{\r\n        pageNum:1,\r\n        pageSize:30,\r\n      },\r\n      qualityList:[],\r\n      total:0,\r\n      qualityList1:[],\r\n      total1:0,\r\n      loading:false,\r\n      loading1:false,\r\n      selectionRow:[],\r\n      selectionRowItem:[],\r\n      cols:[],\r\n      lists:[],\r\n      formDesignId:'',\r\n      ids:'',\r\n      idsInfo:'',\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handleClickTableName(data){\r\n      // 选中当前行\r\n        this.rowClick(data, false);\r\n        this.handleDetail();\r\n    },\r\n    handleClickTableNameDetail(data){\r\n      this.rowClick1(data, false);\r\n      this.handleDetailItem(data)\r\n    },\r\n  \tgetDetailInfo() {\r\n      if(this.datas){\r\n        let params={\r\n        deptCode:this.datas.deptCode,\r\n        compCode:this.$store.state.user.userInfo.deptId,\r\n        qTime:this.datas.occTime + '-01'\r\n      }\r\n      // console.log(params)\r\n      this.loading=true;\r\n      getQuality(params).then(response => {\r\n        if(response.code==200){\r\n          this.qualityList=response.rows;\r\n          // console.log(this.qualityList)\r\n          this.total=response.total;\r\n          this.loading=false;\r\n        }\r\n      });\r\n      }\r\n      \r\n    },\r\n    stateFormat(row, column, cellValue) {\r\n\t\t\t\tlet arr = this.lists;\r\n    \t\tfor(let i=0;i<arr.length;i++){\r\n    \t\t\tif(arr[i].fieldName==column.property){\r\n\t\t\t\t\t\tif(arr[i].fieldName==\"cs_target\"){\r\n\t\t\t\t\t\t\treturn this.selectDictIndexLabel(arr[i].options,cellValue)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn this.selectDictLabel(arr[i].options,cellValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n    getQualityDetail(data){\r\n      this.formDesignId=data.tempCode\r\n      let obj={\r\n        formDesignId:data.tempCode,\r\n      }\r\n      deployList(obj).then(res=>{\r\n        this.lists = res.data;\r\n        for(let i=0;i<this.lists.length;i++){\r\n\t        \t\tthis.$set( this.lists[i], this.lists[i].fieldName, null )\r\n\t\t\t\t\t\t\tthis.$set( this.lists[i], \"val\", null )\r\n\t\t\t\t\t\t\tif(this.lists[i].fieldType==\"select\"){\r\n\t\t\t\t\t\t\t\tif(this.lists[i].fieldName==\"cs_target\"){\r\n\t\t\t\t\t\t\t\t\t\tlet params={\r\n\t\t\t\t\t\t\t\t\t\t\t\tindexCode:this.lists[i].indexCode,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId  // 必传\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlistDetail(params).then(response=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(response.code===200){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\",response.rows );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.targetValue=JSON.parse(JSON.stringify(response.rows))\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}else if(this.lists[i].fieldName==\"cs_dept\"){\r\n\t\t\t\t\t\t\t\t\tlet params= {\r\n\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tgetDeptInfoForPms(params).then(res=>{\r\n\t\t\t\t\t\t\t\t\t\t\tif(res.code===200){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\",res.data )\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.getDicts(this.lists[i].dictType).then(response => {\r\n\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\", response.data )\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t        \t\tif(this.lists[i].fieldType==\"radio\"){\r\n\t        \t\t\tthis.lists[i].options = JSON.parse(this.lists[i].options)\r\n\t        \t\t}\r\n\t        \t\tif(this.lists[i].fieldType==\"checkbox\"){\r\n\t        \t\t\tthis.lists[i].options = JSON.parse(this.lists[i].options)\r\n\t        \t\t\tthis.$set( this.lists[i], \"val\", [])\r\n\t        \t\t}\r\n\t\t\t\t\t\t}\r\n         let list = res.data;\r\n\t\t\t\t\t\t// console.log(list,'list')\r\n\t        \tlet arr = [];\r\n\t        \tfor(let i=0;i<list.length;i++){\r\n\t\t\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\t\t\tif(list[i].fieldName!=\"pms_state\"){\r\n\t\t\t\t\t\t\t\tif(list[i].fieldName!=\"dept_track\"){\r\n\t\t\t\t\t\t\t\t\tobj.label = list[i].fieldDesc;\r\n\t\t\t\t\t\t\t\t\tobj.prop = list[i].fieldName;\r\n\t\t\t\t\t\t\t\t\tobj.isList = list[i].isList;\r\n\t\t\t\t\t\t\t\t\tobj.fieldType = list[i].fieldType;\r\n\t\t\t\t\t\t\t\t\tif(list[i].fieldName=='cs_score'){\r\n\t\t\t\t\t\t\t\t\t\tobj.decimlDigit = list[i].decimlDigit\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(obj.prop=='cs_date'){\r\n\t\t\t\t\t\t\t\t\t\tobj.align='center';\r\n\t\t\t\t\t\t\t\t\t}else if(obj.prop=='cs_score'){\r\n\t\t\t\t\t\t\t\t\t\tobj.align='right';\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tobj.align='left';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tarr.push(obj)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n            this.cols = arr;\r\n            this.getTable(data)\r\n      })\r\n    },\r\n    //表格数据\r\n    getTable(data){\r\n      let params={\r\n        formDesignId:data.tempCode, \r\n        deptCode:data.deptCode, \r\n        qDate:this.datas.occTime + '-01',\r\n      };\r\n      getQualityDetail(params).then(response=>{\r\n        this.qualityList1=response.rows;\r\n        this.total1=response.total;\r\n      })\r\n    },\r\n   \r\n    //查看详情\r\n    handleDetail(){ \r\n      this.getQualityDetail(this.selectionRow[0]);        \r\n      this.openDetailDialog=true;\r\n    },\r\n    //查看详细信息\r\n    handleDetailItem(data){\r\n      this.idsInfo=this.selectionRowItem[0].id;\r\n      this.openInfo=true;\r\n    },\r\n    cancelDetailInfo(){\r\n      this.openInfo=false;\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange(selection) {\r\n      this.ids = selection.map(item => item.id)\r\n      this.single = selection.length!==1\r\n      this.selectionRow=selection;\r\n    },\r\n    rowClick(row, column, event) {\r\n      let refsElTable = this.$refs.multipleTable;\r\n      let findRow = this.selectionRow.find(c => c.rowIndex == row.rowIndex);\r\n      // if (findRow && this.selectionRow.length == 1) {\r\n      //   refsElTable.toggleRowSelection(row, false);\r\n      //   return;\r\n      // }\r\n      refsElTable.clearSelection();\r\n      refsElTable.toggleRowSelection(row);\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange1(selection) {\r\n      // this.ids = selection.map(item => item.id)\r\n      this.singleItem = selection.length!==1\r\n      this.selectionRowItem=selection\r\n    },\r\n    rowClick1(row, column, event) {\r\n      let refsElTable = this.$refs.multipleTable1;\r\n      let findRow = this.selectionRowItem.find(c => c.rowIndex == row.rowIndex);\r\n      // if (findRow && this.selectionRowItem.length == 1) {\r\n      //   refsElTable.toggleRowSelection(row, false);\r\n      //   return;\r\n      // }\r\n      refsElTable.clearSelection();\r\n      refsElTable.toggleRowSelection(row);\r\n    },\r\n    rowStyle({\r\n      row,\r\n      rowIndex\r\n    }) {\r\n      Object.defineProperty(row, 'rowIndex', {\r\n        value: rowIndex,\r\n        writable: true,\r\n        enumerable: false\r\n      })\r\n    },\r\n    //详情弹框关闭\r\n    handleDetailDialogClose(){\r\n      this.openDetailDialog=false;\r\n    },\r\n    detailCancel(){\r\n      this.openDetailDialog=false;\r\n    },\r\n    // 弹框关闭\r\n    handleDialogClose() {\r\n      this.$emit(\"cancel\", false);\r\n    },\r\n    // 取消\r\n    cancel() {\r\n      this.$emit(\"cancel\", false);\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.form = {\r\n        id: null,\r\n        compCode: null,\r\n        accountCode: null,\r\n        deptCode: null,\r\n        indexCode: null,\r\n        tempCode: null,\r\n        indexScore: null,\r\n        occureTime: null,\r\n        actualScore: null,\r\n        delFlag: null,\r\n        createBy: null,\r\n        createTime: null,\r\n        updateBy: null,\r\n        updateTime: null,\r\n        remark: null\r\n      };\r\n      this.resetForm(\"form\");\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  ::v-deep .el-dialog {\r\n    height: 80%;\r\n    overflow: hidden;\r\n    .el-dialog__body {\r\n      height: calc(100% - 100px);\r\n      overflow: auto;\r\n    }\r\n  }\r\n</style>"]}]}
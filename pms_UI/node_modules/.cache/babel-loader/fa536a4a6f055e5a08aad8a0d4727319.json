{"remainingRequest":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\quality\\index\\addEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\quality\\index\\addEdit.vue","mtime":1693362205770},{"path":"F:\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2guanMiKTsKdmFyIF9kYXRhID0gcmVxdWlyZSgiQC9hcGkvc3lzdGVtL2RpY3QvZGF0YSIpOwp2YXIgX2luZGV4ID0gcmVxdWlyZSgiQC9hcGkvcXVhbGl0eS9pbmRleCIpOwp2YXIgX2Zvcm1EZXNpZ24gPSByZXF1aXJlKCJAL2FwaS9mb3JtRGVzaWduL2Zvcm1EZXNpZ24iKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICdhZGRFZGl0JywKICBwcm9wczogewogICAgb3BlbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGlkOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgaWQ6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLnJlc2V0KCk7CiAgICAgICAgaWYgKHZhbCkgewogICAgICAgICAgdGhpcy5pZCA9IHZhbDsKICAgICAgICAgIHRoaXMudGl0bGUgPSAn6LSo6YeP6ICD6K+E5oyH5qCH566h55CGLee8lui+kSc7CiAgICAgICAgICB0aGlzLmdldERldGFpbEluZm8oKTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pZCA9ICcnOwogICAgICAgICAgdGhpcy50aXRsZSA9ICfotKjph4/ogIPor4TmjIfmoIfnrqHnkIYt5paw5aKeJzsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIG9wZW46IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLm9wZW5EaWFsb2cgPSB2YWw7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogJ+i0qOmHj+iAg+ivhOaMh+agh+euoeeQhi3mlrDlop4nLAogICAgICBvcGVuRGlhbG9nOiB0aGlzLm9wZW4sCiAgICAgIHNhdmVMb2FkaW5nOiBmYWxzZSwKICAgICAgYWRkU2F2ZUxvYWRpbmc6IGZhbHNlLAogICAgICBkZXB0TGlzdDogW10sCiAgICAgIC8v5qih5p2/5pWw5o2uCiAgICAgIG1vZGVsQ29kZU9wdGlvbjogW10sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgaW5kZXhOYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5oyH5qCH5ZCN56ew5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6ICdibHVyJwogICAgICAgIH1dLAogICAgICAgIGRlcHROYW1lOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAn5Li7566h6YOo6Zeo5LiN6IO95Li656m6JywKICAgICAgICAgIHRyaWdnZXI6IFsnYmx1cicsICdjaGFuZ2UnXQogICAgICAgIH1dLAogICAgICAgIGluZGV4U2NvcmU6IFt7CiAgICAgICAgICByZXF1aXJlZDogdHJ1ZSwKICAgICAgICAgIG1lc3NhZ2U6ICfmjIfmoIfliIblgLzkuI3og73kuLrnqbonLAogICAgICAgICAgdHJpZ2dlcjogJ2JsdXInCiAgICAgICAgfV0KICAgICAgICAvLyB0ZW1wQ29kZTpbCiAgICAgICAgLy8gICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAi5qih5p2/57yW56CB5LiN6IO95Li656m6IiwgdHJpZ2dlcjogWyJibHVyIiwiY2hhbmdlIl0gfQogICAgICAgIC8vIF0sCiAgICAgICAgLy8gZGF0ZUNvbE5hbWU6WwogICAgICAgIC8vICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuaXtumXtOWIl+S4jeiDveS4uuepuiIsIHRyaWdnZXI6IFsiYmx1ciIsImNoYW5nZSJdIH0KICAgICAgICAvLyBdLAogICAgICAgIC8vIGRlcHRDb2xOYW1lOlsKICAgICAgICAvLyAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLpg6jpl6jliJfkuI3og73kuLrnqboiLCB0cmlnZ2VyOiBbImJsdXIiLCJjaGFuZ2UiXSB9CiAgICAgICAgLy8gXSwKICAgICAgICAvLyBudW1Db2xOYW1lOlsKICAgICAgICAvLyAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICLmlbDlgLzliJfkuI3og73kuLrnqboiLCB0cmlnZ2VyOiBbImJsdXIiLCJjaGFuZ2UiXSB9CiAgICAgICAgLy8gXSwKICAgICAgfSwKCiAgICAgIGRhdGVDb2xJZDogbnVsbCwKICAgICAgZGVwdENvbElkOiBudWxsLAogICAgICBudW1Db2xJZDogbnVsbCwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgLy8gcGFnZU51bTogMSwKICAgICAgICAvLyBwYWdlU2l6ZTogMzAsCiAgICAgICAgY29tcENvZGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREZXB0QnlDb21wKCk7CiAgICB0aGlzLmdldFRlbXBMaXN0KCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICBnZXREZXRhaWxJbmZvOiBmdW5jdGlvbiBnZXREZXRhaWxJbmZvKCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAoMCwgX2luZGV4LmdldEluZGV4KSh0aGlzLmlkKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmZvcm0gPSByZXNwb25zZS5kYXRhOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDojrflj5blvZPliY3nmbvlvZXnlKjmiLfljZXkvY3kuIvnmoTnp5HlrqQKICAgIGdldERlcHRCeUNvbXA6IGZ1bmN0aW9uIGdldERlcHRCeUNvbXAoY29tcENvZGUpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBkYXRhID0gewogICAgICAgIGNvbXBDb2RlOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZAogICAgICB9OwogICAgICAoMCwgX2RhdGEuZ2V0RGVwdEJ5Q29tcCkoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgX3RoaXMyLmRlcHRMaXN0ID0gcmVzLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIC8v6I635Y+W5qih5p2/57yW56CB5L+h5oGvCiAgICBnZXRUZW1wTGlzdDogZnVuY3Rpb24gZ2V0VGVtcExpc3QoaWQpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBvYmogPSB7CiAgICAgICAgZm9ybURlc2lnbklkOiBpZAogICAgICB9OwogICAgICAoMCwgX2Zvcm1EZXNpZ24ubGlzdEZvcm1EZXNpZ24pKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIF90aGlzMy5tb2RlbENvZGVPcHRpb24gPSByZXMucm93czsKICAgICAgICB9CiAgICAgIH0pOwogICAgICB0aGlzLmNoYW5nZVRlbXBGdW4ob2JqKTsKICAgIH0sCiAgICAvL+iOt+WPluaooeadv+e8lueggeebuOWFs+WIl+S/oeaBrwogICAgY2hhbmdlVGVtcEZ1bjogZnVuY3Rpb24gY2hhbmdlVGVtcEZ1bihpZCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgKDAsIF9pbmRleC5nZXRUZW1wQ29kZSkoaWQpLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIGlmIChyZXMuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHJlcy5kYXRhLmZvckVhY2goZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgICAgaWYgKGl0ZW0uZmllbGROYW1lID09ICdjc19kYXRlJykgewogICAgICAgICAgICAgIF90aGlzNC5mb3JtLmRhdGVDb2xOYW1lID0gaXRlbS5maWVsZERlc2M7CiAgICAgICAgICAgICAgX3RoaXM0LmRhdGVDb2xJZCA9IGl0ZW0uaWQ7CiAgICAgICAgICAgIH0gZWxzZSBpZiAoaXRlbS5maWVsZE5hbWUgPT0gJ2NzX2RlcHQnKSB7CiAgICAgICAgICAgICAgX3RoaXM0LmZvcm0uZGVwdENvbE5hbWUgPSBpdGVtLmZpZWxkRGVzYzsKICAgICAgICAgICAgICBfdGhpczQuZGVwdENvbElkID0gaXRlbS5pZDsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICBfdGhpczQuZm9ybS5udW1Db2xOYW1lID0gaXRlbS5maWVsZERlc2M7CiAgICAgICAgICAgICAgX3RoaXM0Lm51bUNvbElkID0gaXRlbS5pZDsKICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDlvLnmoYblhbPpl60KICAgIGhhbmRsZURpYWxvZ0Nsb3NlOiBmdW5jdGlvbiBoYW5kbGVEaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJywgZmFsc2UpOwogICAgfSwKICAgIC8vIOWPlua2iAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcsIGZhbHNlKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGlkOiBudWxsLAogICAgICAgIGNvbXBDb2RlOiBudWxsLAogICAgICAgIGFjY291bnRDb2RlOiBudWxsLAogICAgICAgIGRlcHRDb2RlOiBudWxsLAogICAgICAgIGRlcHROYW1lOiBudWxsLAogICAgICAgIGluZGV4Q29kZTogbnVsbCwKICAgICAgICBpbmRleE5hbWU6IG51bGwsCiAgICAgICAgaW5kZXhTY29yZTogbnVsbCwKICAgICAgICB0ZW1wQ29kZTogbnVsbCwKICAgICAgICBkYXRlQ29sTmFtZTogbnVsbCwKICAgICAgICBkZXB0Q29sTmFtZTogbnVsbCwKICAgICAgICBudW1Db2xOYW1lOiBudWxsLAogICAgICAgIGRlbEZsYWc6IG51bGwsCiAgICAgICAgY3JlYXRlQnk6IG51bGwsCiAgICAgICAgY3JlYXRlVGltZTogbnVsbCwKICAgICAgICB1cGRhdGVCeTogbnVsbCwKICAgICAgICB1cGRhdGVUaW1lOiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybScpOwogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi9zdWJtaXRGb3JtOiBmdW5jdGlvbiBzdWJtaXRGb3JtKHR5cGUpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZShmdW5jdGlvbiAodmFsaWQpIHsKICAgICAgICBpZiAodmFsaWQpIHsKICAgICAgICAgIF90aGlzNS5mb3JtLmRhdGVDb2xOYW1lID0gX3RoaXM1LmRhdGVDb2xJZDsKICAgICAgICAgIF90aGlzNS5mb3JtLmRlcHRDb2xOYW1lID0gX3RoaXM1LmRlcHRDb2xJZDsKICAgICAgICAgIF90aGlzNS5mb3JtLm51bUNvbE5hbWUgPSBfdGhpczUubnVtQ29sSWQ7CiAgICAgICAgICBfdGhpczUuZm9ybS5jb21wQ29kZSA9IF90aGlzNS4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQ7CiAgICAgICAgICBpZiAoX3RoaXM1LmZvcm0uaWQgIT0gbnVsbCkgewogICAgICAgICAgICBpZiAodHlwZSkgewogICAgICAgICAgICAgIF90aGlzNS5hZGRTYXZlTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgKDAsIF9pbmRleC51cGRhdGVJbmRleCkoX3RoaXM1LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczUubXNnU3VjY2Vzcygn5L+u5pS55oiQ5YqfJyk7CiAgICAgICAgICAgICAgICBfdGhpczUucmVzZXQoKTsKICAgICAgICAgICAgICAgIF90aGlzNS5hZGRTYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgX3RoaXM1LiRlbWl0KCdzdWNjZXNzJywgdHJ1ZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXM1LnNhdmVMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAoMCwgX2luZGV4LnVwZGF0ZUluZGV4KShfdGhpczUuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzNS5tc2dTdWNjZXNzKCfkv67mlLnmiJDlip8nKTsKICAgICAgICAgICAgICAgIF90aGlzNS4kZW1pdCgnc3VjY2VzcycsIGZhbHNlKTsKICAgICAgICAgICAgICAgIF90aGlzNS5zYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBpZiAodHlwZSkgewogICAgICAgICAgICAgIF90aGlzNS5hZGRTYXZlTG9hZGluZyA9IHRydWU7CiAgICAgICAgICAgICAgKDAsIF9pbmRleC5hZGRJbmRleCkoX3RoaXM1LmZvcm0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczUubXNnU3VjY2Vzcygn5paw5aKe5oiQ5YqfJyk7CiAgICAgICAgICAgICAgICBfdGhpczUuYWRkU2F2ZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgICAgIF90aGlzNS5yZXNldCgpOwogICAgICAgICAgICAgICAgX3RoaXM1LiRlbWl0KCdzdWNjZXNzJywgdHJ1ZSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgX3RoaXM1LnNhdmVMb2FkaW5nID0gdHJ1ZTsKICAgICAgICAgICAgICAoMCwgX2luZGV4LmFkZEluZGV4KShfdGhpczUuZm9ybSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzNS5tc2dTdWNjZXNzKCfmlrDlop7miJDlip8nKTsKICAgICAgICAgICAgICAgIF90aGlzNS4kZW1pdCgnc3VjY2VzcycsIGZhbHNlKTsKICAgICAgICAgICAgICAgIF90aGlzNS5zYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;;;AAoEA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAD;MACAE;QACA;QACA;UACA;UACA;UACA;QACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAP;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAE;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;QACAC,YACA;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAC,WACA;UAAAH;UAAAC;UAAAC;QAAA,EACA;QACAE,aACA;UAAAJ;UAAAC;UAAAC;QAAA;QAEA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;QACA;MACA;;MACAG;MACAC;MACAC;MACA;MACAC;QACA;QACA;QACAC;MACA;IACA;EACA;EACAC;IACA;IACA;EACA;EACAC;IACAC;MAAA;MACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAJ;MACA;MACA;QACA;MACA;IACA;IACA;IACAK;MAAA;MACA;QAAAC;MAAA;MACA;QACA;UACA;QACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;UACAC;YACA;cACA;cACA;YACA;cACA;cACA;YACA;cACA;cACA;YACA;UACA;QACA;MACA;IAEA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACApC;QACAyB;QACAY;QACAC;QACAnB;QACAoB;QACAxB;QACAK;QACAoB;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;IACA,WACAC;MAAA;MACA;QACA;UACA;UACA;UACA;UACA;UACA;YACA;cACA;cACA;gBACA;gBACA;gBACA;gBACA;cACA;YACA;cACA;cACA;gBACA;gBACA;gBACA;cACA;YACA;UACA;YACA;cACA;cACA;gBACA;gBACA;gBACA;gBACA;cACA;YACA;cACA;cACA;gBACA;gBACA;gBACA;cACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","open","type","default","id","watch","handler","deep","immediate","components","data","title","openDialog","saveLoading","addSaveLoading","deptList","modelCodeOption","form","rules","indexName","required","message","trigger","deptName","indexScore","dateColId","deptColId","numColId","queryParams","compCode","created","methods","getDetailInfo","getDeptByComp","getTempList","formDesignId","changeTempFun","res","handleDialogClose","cancel","reset","accountCode","deptCode","indexCode","tempCode","dateColName","deptColName","numColName","delFlag","createBy","createTime","updateBy","updateTime","remark","submitForm"],"sourceRoot":"src/views/quality/index","sources":["addEdit.vue"],"sourcesContent":["<template>\n  <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"50%\" custom-class=\"el-button--primary\" append-to-body\n             :close-on-click-modal=\"false\" @close=\"handleDialogClose\"\n  >\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n      <el-row :gutter=\"24\">\n        <el-col :span=\"12\">\n          <el-form-item label=\"指标名称\" prop=\"indexName\">\n            <el-input v-model=\"form.indexName\" placeholder=\"请输入指标名称\" maxlength=\"100\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"主管部门\" prop=\"deptCode\">\n            <el-select clearable remote v-model=\"form.deptCode\" placeholder=\"请选择主管部门\" class=\"w100\" filterable>\n              <el-option\n                v-for=\"dict in deptList\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"指标分值\" prop=\"indexScore\">\n            <el-input-number controls-position=\"right\" :min=\"0\" :max=\"100\" :precision=\"2\" v-model=\"form.indexScore\"\n                             placeholder=\"请输入指标分值\"\n            />\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"模板编码\" prop=\"tempCode\">\n            <el-select clearable filterable remote v-model=\"form.tempCode\" placeholder=\"请选择模板编码\" @change=\"getTempList\">\n              <el-option\n                v-for=\"dict in modelCodeOption\"\n                :key=\"dict.id\"\n                :label=\"dict.formName\"\n                :value=\"dict.id\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"时间列\" prop=\"dateColName\">\n            <el-input v-model=\"form.dateColName\" placeholder=\"请输入时间列\" disabled/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"部门列\" prop=\"deptColName\">\n            <el-input v-model=\"form.deptColName\" placeholder=\"请输入部门列\" disabled/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"数值列\" prop=\"numColName\">\n            <el-input v-model=\"form.numColName\" placeholder=\"请输入数值列\" disabled/>\n          </el-form-item>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"submitForm(true)\" :loading=\"addSaveLoading\">保存并继续添加</el-button>\n      <el-button type=\"primary\" @click=\"submitForm(false)\" :loading=\"saveLoading\">保 存</el-button>\n      <el-button @click=\"cancel\">取 消</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { getDeptByComp } from '@/api/system/dict/data'\nimport { addIndex, getIndex, getTempCode, updateIndex } from '@/api/quality/index'\nimport { listFormDesign } from '@/api/formDesign/formDesign'\n\nexport default {\n  name: 'addEdit',\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  watch: {\n    id: {\n      handler(val) {\n        this.reset()\n        if (val) {\n          this.id = val\n          this.title = '质量考评指标管理-编辑'\n          this.getDetailInfo()\n        } else {\n          this.id = ''\n          this.title = '质量考评指标管理-新增'\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    open: {\n      handler(val) {\n        this.openDialog = val\n      },\n      deep: true\n    }\n  },\n  components: {},\n  data() {\n    return {\n      title: '质量考评指标管理-新增',\n      openDialog: this.open,\n      saveLoading: false,\n      addSaveLoading: false,\n      deptList: [],\n      //模板数据\n      modelCodeOption: [],\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n        indexName: [\n          { required: true, message: '指标名称不能为空', trigger: 'blur' }\n        ],\n        deptName: [\n          { required: true, message: '主管部门不能为空', trigger: ['blur', 'change'] }\n        ],\n        indexScore: [\n          { required: true, message: '指标分值不能为空', trigger: 'blur' }\n        ]\n        // tempCode:[\n        //   { required: true, message: \"模板编码不能为空\", trigger: [\"blur\",\"change\"] }\n        // ],\n        // dateColName:[\n        //   { required: true, message: \"时间列不能为空\", trigger: [\"blur\",\"change\"] }\n        // ],\n        // deptColName:[\n        //   { required: true, message: \"部门列不能为空\", trigger: [\"blur\",\"change\"] }\n        // ],\n        // numColName:[\n        //   { required: true, message: \"数值列不能为空\", trigger: [\"blur\",\"change\"] }\n        // ],\n      },\n      dateColId: null,\n      deptColId: null,\n      numColId: null,\n      // 查询参数\n      queryParams: {\n        // pageNum: 1,\n        // pageSize: 30,\n        compCode: this.$store.state.user.userInfo.deptId\n      }\n    }\n  },\n  created() {\n    this.getDeptByComp()\n    this.getTempList()\n  },\n  methods: {\n    getDetailInfo() {\n      getIndex(this.id).then(response => {\n        this.form = response.data\n      })\n    },\n    // 获取当前登录用户单位下的科室\n    getDeptByComp(compCode) {\n      let data = {\n        compCode: this.$store.state.user.userInfo.deptId\n      }\n      getDeptByComp(data).then(res => {\n        this.deptList = res.data\n      })\n    },\n    //获取模板编码信息\n    getTempList(id) {\n      let obj = { formDesignId: id }\n      listFormDesign(this.queryParams).then(res => {\n        if (res.code == 200) {\n          this.modelCodeOption = res.rows\n        }\n      })\n      this.changeTempFun(obj)\n    },\n    //获取模板编码相关列信息\n    changeTempFun(id) {\n      getTempCode(id).then(res => {\n        if (res.code == 200) {\n          res.data.forEach(item => {\n            if (item.fieldName == 'cs_date') {\n              this.form.dateColName = item.fieldDesc\n              this.dateColId = item.id\n            } else if (item.fieldName == 'cs_dept') {\n              this.form.deptColName = item.fieldDesc\n              this.deptColId = item.id\n            } else {\n              this.form.numColName = item.fieldDesc\n              this.numColId = item.id\n            }\n          })\n        }\n      })\n\n    },\n    // 弹框关闭\n    handleDialogClose() {\n      this.$emit('cancel', false)\n    },\n    // 取消\n    cancel() {\n      this.$emit('cancel', false)\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: null,\n        accountCode: null,\n        deptCode: null,\n        deptName: null,\n        indexCode: null,\n        indexName: null,\n        indexScore: null,\n        tempCode: null,\n        dateColName: null,\n        deptColName: null,\n        numColName: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      }\n      this.resetForm('form')\n    },\n    /** 提交按钮 */\n    submitForm(type) {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          this.form.dateColName = this.dateColId\n          this.form.deptColName = this.deptColId\n          this.form.numColName = this.numColId\n          this.form.compCode = this.$store.state.user.userInfo.deptId\n          if (this.form.id != null) {\n            if (type) {\n              this.addSaveLoading = true\n              updateIndex(this.form).then(response => {\n                this.msgSuccess('修改成功')\n                this.reset()\n                this.addSaveLoading = false\n                this.$emit('success', true)\n              })\n            } else {\n              this.saveLoading = true\n              updateIndex(this.form).then(response => {\n                this.msgSuccess('修改成功')\n                this.$emit('success', false)\n                this.saveLoading = false\n              })\n            }\n          } else {\n            if (type) {\n              this.addSaveLoading = true\n              addIndex(this.form).then(response => {\n                this.msgSuccess('新增成功')\n                this.addSaveLoading = false\n                this.reset()\n                this.$emit('success', true)\n              })\n            } else {\n              this.saveLoading = true\n              addIndex(this.form).then(response => {\n                this.msgSuccess('新增成功')\n                this.$emit('success', false)\n                this.saveLoading = false\n              })\n            }\n          }\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .el-dialog {\n  min-height: 20%;\n  overflow: hidden;\n\n  .el-dialog__body {\n    height: calc(100% - 100px);\n    overflow: auto;\n\n    .el-select {\n      width: 100%;\n    }\n\n    .el-input-number--mini {\n      width: 100%;\n    }\n  }\n}\n</style>\n"]}]}
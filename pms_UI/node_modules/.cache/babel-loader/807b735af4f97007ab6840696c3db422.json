{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\hrp\\zjry-pms-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\hrp\\zjry-pms-ui\\src\\views\\mixins\\login.js","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\mixins\\login.js","mtime":1682043108378},{"path":"D:\\hrp\\zjry-pms-ui\\babel.config.js","mtime":1682043101067},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\@vue\\cli-plugin-eslint\\node_modules\\eslint-loader\\index.js","mtime":1682058377674}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnZhciBfbGljZW5zZSA9IHJlcXVpcmUoIkAvYXBpL2xpY2Vuc2UiKTsKdmFyIF9kZWZhdWx0ID0gewogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBtY29kZTogIiIsCiAgICAgIG9wZW46IGZhbHNlCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgbGljZW5zZUxvZ2luOiBmdW5jdGlvbiBsaWNlbnNlTG9naW4oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIC8vIOmqjOivgeaOiOadg+aYr+WQpuWIsOacnwogICAgICAoMCwgX2xpY2Vuc2UuYXV0aExpY2Vuc2VWZXJpZnkpKCkudGhlbihmdW5jdGlvbiAocikgewogICAgICAgIGlmIChyLmNvZGUgPT0gMCkgewogICAgICAgICAgdmFyIG8gPSByLmRhdGE7CiAgICAgICAgICAvLyDpqozor4HmiJDlip8KICAgICAgICAgIGlmICghby5yZXN1bHQpIHsKICAgICAgICAgICAgX3RoaXMuaGFuZGxlTG9naW4oKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIC8vIOaJk+W8gOaOiOadg+eggeWhq+WGmeeVjOmdogogICAgICAgICAgICBfdGhpcy5vcGVuID0gdHJ1ZTsKICAgICAgICAgICAgX3RoaXMubWNvZGUgPSByLmRhdGEubWFjOwogICAgICAgICAgICBjb25zb2xlLmxvZygnbWNvZGU6JyArIHIuZGF0YS5tYWMpOwogICAgICAgICAgfQogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfdGhpcy4kbXNnYm94KHIubXNnKTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfSwKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgIH0sCiAgICBzdWNjZXNzQWN0aXZlOiBmdW5jdGlvbiBzdWNjZXNzQWN0aXZlKCkgewogICAgICB0aGlzLm1zZ1N1Y2Nlc3MoJ+a/gOa0u+aIkOWKn++8gScpOwogICAgICB0aGlzLmNhbmNlbCgpOwogICAgICB0aGlzLmhhbmRsZUxvZ2luKCk7CiAgICB9LAogICAgZXJyb3JBY3RpdmU6IGZ1bmN0aW9uIGVycm9yQWN0aXZlKGVycm9yTXNnKSB7CiAgICAgIHRoaXMuJG1lc3NhZ2UuZXJyb3IoZXJyb3JNc2cpOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"names":["data","mcode","open","methods","licenseLogin","authLicenseVerify","then","r","code","o","result","handleLogin","mac","console","log","$msgbox","msg","cancel","successActive","msgSuccess","errorActive","errorMsg","$message","error"],"sources":["D:/hrp/zjry-pms-ui/src/views/mixins/login.js"],"sourcesContent":["import {authLicenseVerify} from '@/api/license';\nexport default {\n  data(){\n    return {\n      mcode: \"\",\n      open: false,\n    }\n  },\n  methods:{\n    licenseLogin() {\n      // 验证授权是否到期\n      authLicenseVerify().then(r => {\n        if(r.code == 0) {\n          const o = r.data;\n          // 验证成功\n          if(!o.result) {\n            this.handleLogin();\n          } else {\n            // 打开授权码填写界面\n            this.open = true;\n            this.mcode = r.data.mac\n            console.log('mcode:' + r.data.mac);\n          }\n        } else {\n          this.$msgbox(r.msg);\n        }\n      })\n    },\n    cancel() {\n      this.open = false;\n    },\n    successActive(){\n      this.msgSuccess('激活成功！');\n      this.cancel();\n      this.handleLogin();\n    },\n    errorActive(errorMsg) {\n      this.$message.error(errorMsg);\n    }\n  }\n}\n"],"mappings":";;;;;;AAAA;AAAgD,eACjC;EACbA,IAAI,kBAAE;IACJ,OAAO;MACLC,KAAK,EAAE,EAAE;MACTC,IAAI,EAAE;IACR,CAAC;EACH,CAAC;EACDC,OAAO,EAAC;IACNC,YAAY,0BAAG;MAAA;MACb;MACA,IAAAC,0BAAiB,GAAE,CAACC,IAAI,CAAC,UAAAC,CAAC,EAAI;QAC5B,IAAGA,CAAC,CAACC,IAAI,IAAI,CAAC,EAAE;UACd,IAAMC,CAAC,GAAGF,CAAC,CAACP,IAAI;UAChB;UACA,IAAG,CAACS,CAAC,CAACC,MAAM,EAAE;YACZ,KAAI,CAACC,WAAW,EAAE;UACpB,CAAC,MAAM;YACL;YACA,KAAI,CAACT,IAAI,GAAG,IAAI;YAChB,KAAI,CAACD,KAAK,GAAGM,CAAC,CAACP,IAAI,CAACY,GAAG;YACvBC,OAAO,CAACC,GAAG,CAAC,QAAQ,GAAGP,CAAC,CAACP,IAAI,CAACY,GAAG,CAAC;UACpC;QACF,CAAC,MAAM;UACL,KAAI,CAACG,OAAO,CAACR,CAAC,CAACS,GAAG,CAAC;QACrB;MACF,CAAC,CAAC;IACJ,CAAC;IACDC,MAAM,oBAAG;MACP,IAAI,CAACf,IAAI,GAAG,KAAK;IACnB,CAAC;IACDgB,aAAa,2BAAE;MACb,IAAI,CAACC,UAAU,CAAC,OAAO,CAAC;MACxB,IAAI,CAACF,MAAM,EAAE;MACb,IAAI,CAACN,WAAW,EAAE;IACpB,CAAC;IACDS,WAAW,uBAACC,QAAQ,EAAE;MACpB,IAAI,CAACC,QAAQ,CAACC,KAAK,CAACF,QAAQ,CAAC;IAC/B;EACF;AACF,CAAC;AAAA"}]}
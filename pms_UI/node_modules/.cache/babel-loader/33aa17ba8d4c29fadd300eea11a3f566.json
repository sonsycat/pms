{"remainingRequest":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\revenue\\revenue\\revenueDept.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\revenue\\revenue\\revenueDept.vue","mtime":1693362205876},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJFOi9IUlBfSkFWQV9wbXMvcG1zX1VJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2ludGVyb3BSZXF1aXJlRGVmYXVsdC5qcyIpLmRlZmF1bHQ7Ck9iamVjdC5kZWZpbmVQcm9wZXJ0eShleHBvcnRzLCAiX19lc01vZHVsZSIsIHsKICB2YWx1ZTogdHJ1ZQp9KTsKZXhwb3J0cy5kZWZhdWx0ID0gdm9pZCAwOwp2YXIgX3JlZ2VuZXJhdG9yUnVudGltZTIgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkU6L0hSUF9KQVZBX3Btcy9wbXNfVUkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvcmVnZW5lcmF0b3JSdW50aW1lLmpzIikpOwp2YXIgX2FzeW5jVG9HZW5lcmF0b3IyID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJFOi9IUlBfSkFWQV9wbXMvcG1zX1VJL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2FzeW5jVG9HZW5lcmF0b3IuanMiKSk7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmluZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CnZhciBfcmV2ZW51ZSA9IHJlcXVpcmUoIkAvYXBpL3JldmVudWUvcmV2ZW51ZSIpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogJ3JldmVudWVEZXB0JywKICBwcm9wczogewogICAgLy8g5Lyg5Y+C5Li6Zm9ybeihqOWNlSDmlrnkvr/mlbDmja7lm57mmL7muLLmn5MKICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgIHR5cGU6IFtPYmplY3QsIEFycmF5XQogICAgfSwKICAgIG9wZW46IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBpZDogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAiIgogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIG9wZW46IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLm9wZW5EaWFsb2cgPSB2YWw7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogJ+aUtuWFpeaguOeul+aWueahiC3nrKzkuInmlrnnp5HlrqQnLAogICAgICBvcGVuRGlhbG9nOiB0aGlzLm9wZW4sCiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBsb2FkaW5nMTogZmFsc2UsCiAgICAgIGxvYWRpbmcyOiBmYWxzZSwKICAgICAgbG9hZGluZzM6IGZhbHNlLAogICAgICBjbGlja0NvdW50OiAwLAogICAgICBhY3RpdmVOYW1lOiAib3V0UGF0aWVudCIsCiAgICAgIHBhdFRvUmlnaHRCb29sOiB0cnVlLAogICAgICBwYXRUb0xlZnRCb29sOiB0cnVlLAogICAgICBob3NUb1JpZ2h0Qm9vbDogdHJ1ZSwKICAgICAgaG9zVG9MZWZ0Qm9vbDogdHJ1ZSwKICAgICAgZm9ybTogewogICAgICAgIG91dHBhdGllbnRTZXJ2aWNlTGVmdDogW10sCiAgICAgICAgLy/pl6jor4rlt6bkvqfmlbDmja4KICAgICAgICBvdXRwYXRpZW50U2VydmljZVJpZ2h0OiBbXSwKICAgICAgICAvL+mXqOiviuWPs+S+p+aVsOaNrgogICAgICAgIGhvc3BpdGFsU2VydmljZUxlZnQ6IFtdLAogICAgICAgIC8v5L2P6Zmi5bem5L6n5pWw5o2uCiAgICAgICAgaG9zcGl0YWxTZXJ2aWNlUmlnaHQ6IFtdIC8v5L2P6Zmi5Y+z5L6n5pWw5o2uCiAgICAgIH0sCgogICAgICBydWxlczoge30sCiAgICAgIGRlcHREYXRhczogW10sCiAgICAgIC8v6Zeo6K+K56eR5a6k5YiX6KGo5pWw5o2uCiAgICAgIGRlcHREYXRhc0xlbmd0aDogMCwKICAgICAgLy/pl6jor4rnp5HlrqTliJfooajmlbDmja7nlKjkuo7mr5TovoPlhajpgInmlbDmja4KICAgICAgY2hhbmdlRGVwdExpc3QxOiBbXSwKICAgICAgY2hhbmdlRGVwdExpc3Q6IFtdLAogICAgICBkZXB0RGF0YXNIb3M6IFtdLAogICAgICAvL+mXqOiviuenkeWupOWIl+ihqOaVsOaNrgogICAgICBjaGFuZ2VIb3NEZXB0TGlzdDogW10sCiAgICAgIGNoYW5nZUhvc0RlcHRMaXN0MTogW10sCiAgICAgIG91dHBhdGllbnRSaWdodExlbmd0aDogW10sCiAgICAgIGhvc3BpdGFsUmlnaHRMZW5ndGg6IFtdLAogICAgICBzZWxlY3Rpb25Sb3dvdXRwYXRpZW50TGVmdDogW10sCiAgICAgIC8v6Zeo6K+K5bem5L6n5aSN6YCJ5qGG5pWw5o2uCiAgICAgIHNlbGVjdGlvblJvd091dHBhdGllbnRSaWdodDogW10sCiAgICAgIC8v6Zeo6K+K5Y+z5L6n5aSN6YCJ5qGG5pWw5o2uCiAgICAgIHNlbGVjdGlvblJvd2hvc3BpdGFsTGVmdDogW10sCiAgICAgIC8v5L2P6Zmi5bem5L6n5aSN6YCJ5qGG5pWw5o2uCiAgICAgIHNlbGVjdGlvblJvd2hvc3BpdGFsUmlnaHQ6IFtdIC8v5L2P6Zmi5Y+z5L6n5aSN6YCJ5qGG5pWw5o2uCiAgICB9OwogIH0sCgogIGNvbXB1dGVkOiB7CiAgICBudW06IGZ1bmN0aW9uIG51bSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgLy/orqHnrpflsZ7mgKfkvKDpgJLlj4LmlbDvvIzmoLnmja7kvKDlhaXnmoTmlbDnu4Tov5Tlm57nrKblkIjmnaHku7bnmoTplb/luqYKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VMZWZ0ICYmIF90aGlzLnNlbGVjdGlvblJvd291dHBhdGllbnRMZWZ0Lmxlbmd0aDsKICAgICAgfTsKICAgIH0sCiAgICBudW0xOiBmdW5jdGlvbiBudW0xKCkgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgLy/orqHnrpflsZ7mgKfkvKDpgJLlj4LmlbDvvIzmoLnmja7kvKDlhaXnmoTmlbDnu4Tov5Tlm57nrKblkIjmnaHku7bnmoTplb/luqYKICAgICAgcmV0dXJuIGZ1bmN0aW9uIChkYXRhKSB7CiAgICAgICAgcmV0dXJuIF90aGlzMi5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQgJiYgX3RoaXMyLnNlbGVjdGlvblJvd091dHBhdGllbnRSaWdodC5sZW5ndGg7CiAgICAgIH07CiAgICB9LAogICAgbnVtMjogZnVuY3Rpb24gbnVtMigpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIC8v6K6h566X5bGe5oCn5Lyg6YCS5Y+C5pWw77yM5qC55o2u5Lyg5YWl55qE5pWw57uE6L+U5Zue56ym5ZCI5p2h5Lu255qE6ZW/5bqmCiAgICAgIHJldHVybiBmdW5jdGlvbiAoZGF0YSkgewogICAgICAgIHJldHVybiBfdGhpczMuZm9ybS5ob3NwaXRhbFNlcnZpY2VMZWZ0ICYmIF90aGlzMy5zZWxlY3Rpb25Sb3dob3NwaXRhbExlZnQubGVuZ3RoOwogICAgICB9OwogICAgfSwKICAgIG51bTM6IGZ1bmN0aW9uIG51bTMoKSB7CiAgICAgIHZhciBfdGhpczQgPSB0aGlzOwogICAgICAvL+iuoeeul+WxnuaAp+S8oOmAkuWPguaVsO+8jOagueaNruS8oOWFpeeahOaVsOe7hOi/lOWbnuespuWQiOadoeS7tueahOmVv+W6pgogICAgICByZXR1cm4gZnVuY3Rpb24gKGRhdGEpIHsKICAgICAgICByZXR1cm4gX3RoaXM0LmZvcm0uaG9zcGl0YWxTZXJ2aWNlTGVmdCAmJiBfdGhpczQuc2VsZWN0aW9uUm93aG9zcGl0YWxSaWdodC5sZW5ndGg7CiAgICAgIH07CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdGhpcy5nZXREZXRhaWwoMSk7CiAgICB0aGlzLmdldFRyZWVEZXB0KHsKICAgICAgY29tcENvZGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudEluZm8uZGVwdElkLAogICAgICBjbGluaWNUeXBlOiAxCiAgICB9KTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7fSwKICBtZXRob2RzOiB7CiAgICAvL+enkeWupOafpeivouS4i+aLieahhuS6i+S7tgogICAgY2hhbmdlRGVwdDogZnVuY3Rpb24gY2hhbmdlRGVwdChlKSB7CiAgICAgIGlmICh0aGlzLmFjdGl2ZU5hbWUgPT0gJ291dFBhdGllbnQnKSB7CiAgICAgICAgdmFyIGRhdGE7CiAgICAgICAgaWYgKGUpIHsKICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgIGNvbXBDb2RlOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmFjY291bnRJbmZvLmRlcHRJZCwKICAgICAgICAgICAgY2xpbmljVHlwZTogMSwKICAgICAgICAgICAgZGVwdE5hbWU6IGUKICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRhdGEgPSB7CiAgICAgICAgICAgIGNvbXBDb2RlOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmFjY291bnRJbmZvLmRlcHRJZCwKICAgICAgICAgICAgY2xpbmljVHlwZTogMQogICAgICAgICAgfTsKICAgICAgICB9CiAgICAgICAgdGhpcy5nZXRUcmVlRGVwdChkYXRhKTsKICAgICAgfQogICAgICBpZiAodGhpcy5hY3RpdmVOYW1lID09ICdob3NwaXRhbCcpIHsKICAgICAgICB2YXIgX2RhdGE7CiAgICAgICAgaWYgKGUpIHsKICAgICAgICAgIF9kYXRhID0gewogICAgICAgICAgICBjb21wQ29kZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5hY2NvdW50SW5mby5kZXB0SWQsCiAgICAgICAgICAgIGNsaW5pY1R5cGU6IDIsCiAgICAgICAgICAgIGRlcHROYW1lOiBlCiAgICAgICAgICB9OwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfZGF0YSA9IHsKICAgICAgICAgICAgY29tcENvZGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudEluZm8uZGVwdElkLAogICAgICAgICAgICBjbGluaWNUeXBlOiAyCiAgICAgICAgICB9OwogICAgICAgIH0KICAgICAgICB0aGlzLmdldFRyZWVEZXB0KF9kYXRhKTsKICAgICAgfQogICAgfSwKICAgIC8vdGFi5YiH5o2i5LqL5Lu2CiAgICBoYW5kbGVDbGljazogZnVuY3Rpb24gaGFuZGxlQ2xpY2sodGFiKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICByZXR1cm4gKDAsIF9hc3luY1RvR2VuZXJhdG9yMi5kZWZhdWx0KSggLyojX19QVVJFX18qLygwLCBfcmVnZW5lcmF0b3JSdW50aW1lMi5kZWZhdWx0KSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZSgpIHsKICAgICAgICByZXR1cm4gKDAsIF9yZWdlbmVyYXRvclJ1bnRpbWUyLmRlZmF1bHQpKCkud3JhcChmdW5jdGlvbiBfY2FsbGVlJChfY29udGV4dCkgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dC5wcmV2ID0gX2NvbnRleHQubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIGlmICghKHRhYi5sYWJlbCA9PSAi5L2P6ZmiIikpIHsKICAgICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDEwOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF90aGlzNS5jaGFuZ2VIb3NEZXB0TGlzdCA9IFtdOwogICAgICAgICAgICAgICAgX3RoaXM1LmNoYW5nZUhvc0RlcHRMaXN0MSA9IFtdOwogICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQ9W10gICAgICAgICAgICAgICAgCiAgICAgICAgICAgICAgICBfdGhpczUuYWN0aXZlTmFtZSA9ICdob3NwaXRhbCc7CiAgICAgICAgICAgICAgICBpZiAoIShfdGhpczUuY2xpY2tDb3VudCA9PSAwKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gNzsKICAgICAgICAgICAgICAgIHJldHVybiBfdGhpczUuZ2V0RGV0YWlsKDIpOwogICAgICAgICAgICAgIGNhc2UgNzoKICAgICAgICAgICAgICAgIF90aGlzNS5jbGlja0NvdW50ICs9IDE7CiAgICAgICAgICAgICAgICBfY29udGV4dC5uZXh0ID0gMTA7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM1LmdldFRyZWVEZXB0KHsKICAgICAgICAgICAgICAgICAgY29tcENvZGU6IF90aGlzNS4kc3RvcmUuc3RhdGUudXNlci5hY2NvdW50SW5mby5kZXB0SWQsCiAgICAgICAgICAgICAgICAgIGNsaW5pY1R5cGU6IDIKICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNhc2UgMTA6CiAgICAgICAgICAgICAgICBpZiAoISh0YWIubGFiZWwgPT0gJ+mXqOiviicpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Lm5leHQgPSAxNjsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvLyB0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VMZWZ0PVtdCiAgICAgICAgICAgICAgICBfdGhpczUuY2hhbmdlRGVwdExpc3QxID0gW107CiAgICAgICAgICAgICAgICBfdGhpczUuY2hhbmdlRGVwdExpc3QgPSBbXTsKICAgICAgICAgICAgICAgIF90aGlzNS5hY3RpdmVOYW1lID0gJ291dFBhdGllbnQnOwogICAgICAgICAgICAgICAgX2NvbnRleHQubmV4dCA9IDE2OwogICAgICAgICAgICAgICAgcmV0dXJuIF90aGlzNS5nZXRUcmVlRGVwdCh7CiAgICAgICAgICAgICAgICAgIGNvbXBDb2RlOiBfdGhpczUuJHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudEluZm8uZGVwdElkLAogICAgICAgICAgICAgICAgICBjbGluaWNUeXBlOiAxCiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjYXNlIDE2OgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQuc3RvcCgpOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfSwgX2NhbGxlZSk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIC8v6I635Y+W6Zeo6K+K5Y+K5L2P6Zmi5Y+z5L6n5YiX6KGo5pWw5o2uCiAgICBnZXREZXRhaWw6IGZ1bmN0aW9uIGdldERldGFpbCh0eXBlKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwogICAgICByZXR1cm4gKDAsIF9hc3luY1RvR2VuZXJhdG9yMi5kZWZhdWx0KSggLyojX19QVVJFX18qLygwLCBfcmVnZW5lcmF0b3JSdW50aW1lMi5kZWZhdWx0KSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTIoKSB7CiAgICAgICAgdmFyIHBhcmFtcywgYXJyLCBfYXJyOwogICAgICAgIHJldHVybiAoMCwgX3JlZ2VuZXJhdG9yUnVudGltZTIuZGVmYXVsdCkoKS53cmFwKGZ1bmN0aW9uIF9jYWxsZWUyJChfY29udGV4dDIpIHsKICAgICAgICAgIHdoaWxlICgxKSB7CiAgICAgICAgICAgIHN3aXRjaCAoX2NvbnRleHQyLnByZXYgPSBfY29udGV4dDIubmV4dCkgewogICAgICAgICAgICAgIGNhc2UgMDoKICAgICAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgICAgY29tcENvZGU6IF90aGlzNi5xdWVyeVBhcmFtcy5jb21wQ29kZSwKICAgICAgICAgICAgICAgICAgcmV2ZW51ZUNvZGU6IF90aGlzNi5xdWVyeVBhcmFtcy5yZXZlbnVlQ29kZSwKICAgICAgICAgICAgICAgICAgZGVwdFR5cGU6IHR5cGUKICAgICAgICAgICAgICAgIH07CiAgICAgICAgICAgICAgICBpZiAoISh0eXBlID09IDEpKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0Mi5uZXh0ID0gNzsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfdGhpczYubG9hZGluZzEgPSB0cnVlOwogICAgICAgICAgICAgICAgYXJyID0gW107CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDY7CiAgICAgICAgICAgICAgICByZXR1cm4gKDAsIF9yZXZlbnVlLmdldFJldmVudWVEZXB0KShwYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgcmVzcG9uc2UudG90YWw7IGkrKykgewogICAgICAgICAgICAgICAgICAgIGFyci5pbmRleE9mKHJlc3BvbnNlLnJvd3NbaV0pID09PSAtMSA/IGFyci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHJhdGlvOiByZXNwb25zZS5yb3dzW2ldLnJhdGlvLAogICAgICAgICAgICAgICAgICAgICAgZGljdFZhbHVlOiByZXNwb25zZS5yb3dzW2ldLmRlcHRDb2RlLAogICAgICAgICAgICAgICAgICAgICAgZGljdExhYmVsOiByZXNwb25zZS5yb3dzW2ldLmRlcHROYW1lCiAgICAgICAgICAgICAgICAgICAgfSkgOiBhcnI7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgX3RoaXM2LmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXJyKSk7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5vdXRwYXRpZW50UmlnaHRMZW5ndGggPSByZXNwb25zZS50b3RhbDsKICAgICAgICAgICAgICAgICAgX3RoaXM2LmxvYWRpbmcxID0gZmFsc2U7CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICBjYXNlIDY6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLmFicnVwdCgicmV0dXJuIik7CiAgICAgICAgICAgICAgY2FzZSA3OgogICAgICAgICAgICAgICAgaWYgKCEodHlwZSA9PSAyKSkgewogICAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEzOwogICAgICAgICAgICAgICAgICBicmVhazsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIF90aGlzNi5sb2FkaW5nMyA9IHRydWU7CiAgICAgICAgICAgICAgICBfYXJyID0gW107CiAgICAgICAgICAgICAgICBfY29udGV4dDIubmV4dCA9IDEyOwogICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfcmV2ZW51ZS5nZXRSZXZlbnVlRGVwdCkocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgICBmb3IgKHZhciBpID0gMDsgaSA8IHJlc3BvbnNlLnRvdGFsOyBpKyspIHsKICAgICAgICAgICAgICAgICAgICBfYXJyLmluZGV4T2YocmVzcG9uc2Uucm93c1tpXSkgPT09IC0xID8gX2Fyci5wdXNoKHsKICAgICAgICAgICAgICAgICAgICAgIHJhdGlvOiByZXNwb25zZS5yb3dzW2ldLnJhdGlvLAogICAgICAgICAgICAgICAgICAgICAgZGljdFZhbHVlOiByZXNwb25zZS5yb3dzW2ldLmRlcHRDb2RlLAogICAgICAgICAgICAgICAgICAgICAgZGljdExhYmVsOiByZXNwb25zZS5yb3dzW2ldLmRlcHROYW1lCiAgICAgICAgICAgICAgICAgICAgfSkgOiBfYXJyOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIF90aGlzNi5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfYXJyKSk7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5ob3NwaXRhbFJpZ2h0TGVuZ3RoID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgICAgICAgICAgIF90aGlzNi5sb2FkaW5nMyA9IGZhbHNlOwogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgY2FzZSAxMjoKICAgICAgICAgICAgICAgIHJldHVybiBfY29udGV4dDIuYWJydXB0KCJyZXR1cm4iKTsKICAgICAgICAgICAgICBjYXNlIDEzOgogICAgICAgICAgICAgIGNhc2UgImVuZCI6CiAgICAgICAgICAgICAgICByZXR1cm4gX2NvbnRleHQyLnN0b3AoKTsKICAgICAgICAgICAgfQogICAgICAgICAgfQogICAgICAgIH0sIF9jYWxsZWUyKTsKICAgICAgfSkpKCk7CiAgICB9LAogICAgLy/ojrflj5bnp5HlrqTliJfooajlj4rpl6jor4rlkozkvY/pmaLlt6bkvqfmlbDmja4KICAgIGdldFRyZWVEZXB0OiBmdW5jdGlvbiBnZXRUcmVlRGVwdChkYXRhKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICByZXR1cm4gKDAsIF9hc3luY1RvR2VuZXJhdG9yMi5kZWZhdWx0KSggLyojX19QVVJFX18qLygwLCBfcmVnZW5lcmF0b3JSdW50aW1lMi5kZWZhdWx0KSgpLm1hcmsoZnVuY3Rpb24gX2NhbGxlZTMoKSB7CiAgICAgICAgcmV0dXJuICgwLCBfcmVnZW5lcmF0b3JSdW50aW1lMi5kZWZhdWx0KSgpLndyYXAoZnVuY3Rpb24gX2NhbGxlZTMkKF9jb250ZXh0MykgewogICAgICAgICAgd2hpbGUgKDEpIHsKICAgICAgICAgICAgc3dpdGNoIChfY29udGV4dDMucHJldiA9IF9jb250ZXh0My5uZXh0KSB7CiAgICAgICAgICAgICAgY2FzZSAwOgogICAgICAgICAgICAgICAgX3RoaXM3LmxvYWRpbmcgPSB0cnVlOwogICAgICAgICAgICAgICAgX3RoaXM3LmxvYWRpbmcyID0gdHJ1ZTsKICAgICAgICAgICAgICAgIGlmICghKF90aGlzNy5jbGlja0NvdW50ID09IDApKSB7CiAgICAgICAgICAgICAgICAgIF9jb250ZXh0My5uZXh0ID0gNTsKICAgICAgICAgICAgICAgICAgYnJlYWs7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBfY29udGV4dDMubmV4dCA9IDU7CiAgICAgICAgICAgICAgICByZXR1cm4gX3RoaXM3LmdldERldGFpbCgyKTsKICAgICAgICAgICAgICBjYXNlIDU6CiAgICAgICAgICAgICAgICBfdGhpczcuY2xpY2tDb3VudCArPSAxOwogICAgICAgICAgICAgICAgX2NvbnRleHQzLm5leHQgPSA4OwogICAgICAgICAgICAgICAgcmV0dXJuICgwLCBfcmV2ZW51ZS5nZXREZXB0TGlzdCkoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmRlcHREYXRhc0xlbmd0aCA9IHJlc3BvbnNlLmRhdGEubGVuZ3RoOwogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNsaW5pY1R5cGUgPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlTGVmdD1bXQogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmNoYW5nZURlcHRMaXN0MSA9IFtdOwogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmNoYW5nZURlcHRMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuZGVwdERhdGFzID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLm1hcChmdW5jdGlvbiAoaXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIGl0ZS5yYXRpbyA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGU7CiAgICAgICAgICAgICAgICAgICAgICB9KSkpOwogICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNy5vdXRwYXRpZW50UmlnaHRMZW5ndGggIT09IDAgfHwgX3RoaXM3LmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodC5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuY2hhbmdlRGVwdExpc3QxID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLm1hcChmdW5jdGlvbiAoaXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlLnJhdGlvID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlOwogICAgICAgICAgICAgICAgICAgICAgICB9KSkpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBpIGluIF90aGlzNy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBrIGluIF90aGlzNy5jaGFuZ2VEZXB0TGlzdDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczcuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0W2ldLmRpY3RWYWx1ZSA9PSBfdGhpczcuY2hhbmdlRGVwdExpc3QxW2tdLmRpY3RWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuY2hhbmdlRGVwdExpc3QxLnNwbGljZShrLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmZvcm0ub3V0cGF0aWVudFNlcnZpY2VMZWZ0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczcuY2hhbmdlRGVwdExpc3QxKSk7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgIH0gZWxzZSBpZiAoX3RoaXM3Lm91dHBhdGllbnRSaWdodExlbmd0aCA+IDEpIHsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmNoYW5nZURlcHRMaXN0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLm1hcChmdW5jdGlvbiAoaXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlLnJhdGlvID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlOwogICAgICAgICAgICAgICAgICAgICAgICB9KSkpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaSBpbiBfdGhpczcuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2sgaW4gX3RoaXM3LmNoYW5nZURlcHRMaXN0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZiAoX3RoaXM3LmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodFtfaV0uZGljdFZhbHVlID09IF90aGlzNy5jaGFuZ2VEZXB0TGlzdFtfa10uZGljdFZhbHVlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5jaGFuZ2VEZXB0TGlzdC5zcGxpY2UoX2ssIDEpOwogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuZm9ybS5vdXRwYXRpZW50U2VydmljZUxlZnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzNy5jaGFuZ2VEZXB0TGlzdCkpOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICB9IGVsc2UgaWYgKF90aGlzNy5vdXRwYXRpZW50UmlnaHRMZW5ndGggPT0gMCAmJiBfdGhpczcuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlTGVmdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXM3LmRlcHREYXRhcykpOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgIGlmIChkYXRhLmNsaW5pY1R5cGUgPT0gMikgewogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmNoYW5nZUhvc0RlcHRMaXN0ID0gW107CiAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuY2hhbmdlSG9zRGVwdExpc3QxID0gW107CiAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlTGVmdD1bXQogICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmRlcHREYXRhc0hvcyA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICBpdGUucmF0aW8gPSAwOwogICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlOwogICAgICAgICAgICAgICAgICAgICAgfSkpKTsKICAgICAgICAgICAgICAgICAgICAgIGlmIChfdGhpczcuaG9zcGl0YWxSaWdodExlbmd0aCAhPT0gMCB8fCBfdGhpczcuZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodC5sZW5ndGggPT0gMSkgewogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuY2hhbmdlSG9zRGVwdExpc3QxID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLm1hcChmdW5jdGlvbiAoaXRlKSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlLnJhdGlvID0gMDsKICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlOwogICAgICAgICAgICAgICAgICAgICAgICB9KSkpOwogICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfaTIgaW4gX3RoaXM3LmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IgKHZhciBfazIgaW4gX3RoaXM3LmNoYW5nZUhvc0RlcHRMaXN0MSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0W19pMl0uZGljdFZhbHVlID09IF90aGlzNy5jaGFuZ2VIb3NEZXB0TGlzdDFbX2syXS5kaWN0VmFsdWUpIHsKICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmNoYW5nZUhvc0RlcHRMaXN0MS5zcGxpY2UoX2syLCAxKTsKICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmZvcm0uaG9zcGl0YWxTZXJ2aWNlTGVmdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoX3RoaXM3LmNoYW5nZUhvc0RlcHRMaXN0MSkpOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcubG9hZGluZzIgPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczcuZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodC5sZW5ndGggPiAxKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5jaGFuZ2VIb3NEZXB0TGlzdCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgIGl0ZS5yYXRpbyA9IDA7CiAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGl0ZTsKICAgICAgICAgICAgICAgICAgICAgICAgfSkpKTsKICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2kzIGluIF90aGlzNy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0KSB7CiAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yICh2YXIgX2szIGluIF90aGlzNy5jaGFuZ2VIb3NEZXB0TGlzdCkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYgKF90aGlzNy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0W19pM10uZGljdFZhbHVlID09IF90aGlzNy5jaGFuZ2VIb3NEZXB0TGlzdFtfazNdLmRpY3RWYWx1ZSkgewogICAgICAgICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuY2hhbmdlSG9zRGVwdExpc3Quc3BsaWNlKF9rMywgMSk7CiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5sb2FkaW5nMiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICAgICAgICBfdGhpczcuZm9ybS5ob3NwaXRhbFNlcnZpY2VMZWZ0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShfdGhpczcuY2hhbmdlSG9zRGVwdExpc3QpKTsKICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczcuaG9zcGl0YWxSaWdodExlbmd0aCA9PSAwICYmIF90aGlzNy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0Lmxlbmd0aCA9PSAwKSB7CiAgICAgICAgICAgICAgICAgICAgICAgIF90aGlzNy5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KF90aGlzNy5kZXB0RGF0YXNIb3MpKTsKICAgICAgICAgICAgICAgICAgICAgICAgX3RoaXM3LmxvYWRpbmcyID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgICAgICAgX3RoaXM3Lm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIGNhc2UgODoKICAgICAgICAgICAgICBjYXNlICJlbmQiOgogICAgICAgICAgICAgICAgcmV0dXJuIF9jb250ZXh0My5zdG9wKCk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICB9LCBfY2FsbGVlMyk7CiAgICAgIH0pKSgpOwogICAgfSwKICAgIGhvc3BpdGFsVG9yaWdodDogZnVuY3Rpb24gaG9zcGl0YWxUb3JpZ2h0KCkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgLy/lsIbov4fmu6TlkI7nmoTmlbDnu4TpnIDopoHmt7vliqDliLDlj7PovrnnmoTmlbDnu4TkuK0KICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsTGVmdC5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodC5pbmRleE9mKHRoaXMuc2VsZWN0aW9uUm93aG9zcGl0YWxMZWZ0W2ldKSA9PT0gLTEgPyB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQucHVzaCh0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsTGVmdFtpXSkgOiB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQ7CiAgICAgIH0KICAgICAgOwogICAgICAvL+WJqeS9meW3pui+ueaVsOaNrgogICAgICB2YXIgX2xvb3AgPSBmdW5jdGlvbiBfbG9vcChfaTUpIHsKICAgICAgICBfdGhpczguZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodC5mb3JFYWNoKGZ1bmN0aW9uIChpdGUpIHsKICAgICAgICAgIGlmIChfdGhpczguZm9ybS5ob3NwaXRhbFNlcnZpY2VMZWZ0W19pNV0gJiYgX3RoaXM4LmZvcm0uaG9zcGl0YWxTZXJ2aWNlTGVmdFtfaTVdLmRpY3RWYWx1ZSA9PSBpdGUuZGljdFZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzOC5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQuc3BsaWNlKF9pNSwgMSk7CiAgICAgICAgICAgIF9pNSAtPSAxOwogICAgICAgICAgICBfaTUgPCAwID8gMCA6IF9pNTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBfaTQgPSBfaTU7CiAgICAgIH07CiAgICAgIGZvciAodmFyIF9pNCA9IDA7IF9pNCA8IHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VMZWZ0Lmxlbmd0aDsgX2k0KyspIHsKICAgICAgICBfbG9vcChfaTQpOwogICAgICB9CiAgICB9LAogICAgaG9zcGl0YWxUb0xlZnQ6IGZ1bmN0aW9uIGhvc3BpdGFsVG9MZWZ0KCkgewogICAgICB2YXIgX3RoaXM5ID0gdGhpczsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsUmlnaHQubGVuZ3RoOyBpKyspIHsKICAgICAgICB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlTGVmdC5pbmRleE9mKHRoaXMuc2VsZWN0aW9uUm93aG9zcGl0YWxSaWdodFtpXSkgPT09IC0xID8gdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQucHVzaCh0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsUmlnaHRbaV0pIDogdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQ7CiAgICAgIH0KICAgICAgOwogICAgICAvL+WJqeS9meWPs+i+ueaVsOaNrgogICAgICB2YXIgX2xvb3AyID0gZnVuY3Rpb24gX2xvb3AyKF9pNykgewogICAgICAgIF90aGlzOS5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQuZm9yRWFjaChmdW5jdGlvbiAoaXRlKSB7CiAgICAgICAgICBpZiAoX3RoaXM5LmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHRbX2k3XSAmJiBfdGhpczkuZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodFtfaTddLmRpY3RWYWx1ZSA9PSBpdGUuZGljdFZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzOS5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0LnNwbGljZShfaTcsIDEpOwogICAgICAgICAgICBfaTcgLT0gMTsKICAgICAgICAgICAgX2k3IDwgMCA/IDAgOiBfaTc7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgICAgX2k2ID0gX2k3OwogICAgICB9OwogICAgICBmb3IgKHZhciBfaTYgPSAwOyBfaTYgPCB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQubGVuZ3RoOyBfaTYrKykgewogICAgICAgIF9sb29wMihfaTYpOwogICAgICB9CiAgICB9LAogICAgb3V0cGF0aWVudFRvcmlnaHQ6IGZ1bmN0aW9uIG91dHBhdGllbnRUb3JpZ2h0KCkgewogICAgICB2YXIgX3RoaXMxMCA9IHRoaXM7CiAgICAgIC8v5bCG6L+H5ruk5ZCO55qE5pWw57uE6ZyA6KaB5re75Yqg5Yiw5Y+z6L6555qE5pWw57uE5LitCiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgdGhpcy5zZWxlY3Rpb25Sb3dvdXRwYXRpZW50TGVmdC5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0LmluZGV4T2YodGhpcy5zZWxlY3Rpb25Sb3dvdXRwYXRpZW50TGVmdFtpXSkgPT09IC0xID8gdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHQucHVzaCh0aGlzLnNlbGVjdGlvblJvd291dHBhdGllbnRMZWZ0W2ldKSA6IHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0OwogICAgICB9CiAgICAgIDsKICAgICAgLy/liankvZnlt6bovrnmlbDmja4KICAgICAgdmFyIF9sb29wMyA9IGZ1bmN0aW9uIF9sb29wMyhfaTkpIHsKICAgICAgICBfdGhpczEwLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodC5mb3JFYWNoKGZ1bmN0aW9uIChpdGUpIHsKICAgICAgICAgIGlmIChfdGhpczEwLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VMZWZ0W19pOV0gJiYgX3RoaXMxMC5mb3JtLm91dHBhdGllbnRTZXJ2aWNlTGVmdFtfaTldLmRpY3RWYWx1ZSA9PSBpdGUuZGljdFZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzMTAuZm9ybS5vdXRwYXRpZW50U2VydmljZUxlZnQuc3BsaWNlKF9pOSwgMSk7CiAgICAgICAgICAgIF9pOSAtPSAxOwogICAgICAgICAgICBfaTkgPCAwID8gMCA6IF9pOTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBfaTggPSBfaTk7CiAgICAgIH07CiAgICAgIGZvciAodmFyIF9pOCA9IDA7IF9pOCA8IHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZUxlZnQubGVuZ3RoOyBfaTgrKykgewogICAgICAgIF9sb29wMyhfaTgpOwogICAgICB9CiAgICB9LAogICAgLy/lsIblj7PovrnmlbDmja7mlL7liLDlt6bovrkKICAgIG91dHBhdGllbnRUb2xlZnQ6IGZ1bmN0aW9uIG91dHBhdGllbnRUb2xlZnQoKSB7CiAgICAgIHZhciBfdGhpczExID0gdGhpczsKICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCB0aGlzLnNlbGVjdGlvblJvd091dHBhdGllbnRSaWdodC5sZW5ndGg7IGkrKykgewogICAgICAgIHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZUxlZnQuaW5kZXhPZih0aGlzLnNlbGVjdGlvblJvd091dHBhdGllbnRSaWdodFtpXSkgPT09IC0xID8gdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlTGVmdC5wdXNoKHRoaXMuc2VsZWN0aW9uUm93T3V0cGF0aWVudFJpZ2h0W2ldKSA6IHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZUxlZnQ7CiAgICAgIH0KICAgICAgOwogICAgICAvL+WJqeS9meWPs+i+ueaVsOaNrgogICAgICB2YXIgX2xvb3A0ID0gZnVuY3Rpb24gX2xvb3A0KF9pMTEpIHsKICAgICAgICBfdGhpczExLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VMZWZ0LmZvckVhY2goZnVuY3Rpb24gKGl0ZSkgewogICAgICAgICAgaWYgKF90aGlzMTEuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0W19pMTFdICYmIF90aGlzMTEuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0W19pMTFdLmRpY3RWYWx1ZSA9PSBpdGUuZGljdFZhbHVlKSB7CiAgICAgICAgICAgIF90aGlzMTEuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0LnNwbGljZShfaTExLCAxKTsKICAgICAgICAgICAgX2kxMSAtPSAxOwogICAgICAgICAgICBfaTExIDwgMCA/IF9pMTEgPSAwIDogX2kxMTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgICBfaTEwID0gX2kxMTsKICAgICAgfTsKICAgICAgZm9yICh2YXIgX2kxMCA9IDA7IF9pMTAgPCB0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodC5sZW5ndGg7IF9pMTArKykgewogICAgICAgIF9sb29wNChfaTEwKTsKICAgICAgfQogICAgfSwKICAgIC8vIOmXqOiviuWkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uT3V0cGF0aWVudENoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uT3V0cGF0aWVudENoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5zZWxlY3Rpb25Sb3dvdXRwYXRpZW50TGVmdCA9IHNlbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZSkgewogICAgICAgIGl0ZS5yYXRpbyA9IDA7CiAgICAgICAgcmV0dXJuIGl0ZTsKICAgICAgfSk7CiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgdGhpcy5wYXRUb1JpZ2h0Qm9vbCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucGF0VG9SaWdodEJvb2wgPSB0cnVlOwogICAgICB9CiAgICB9LAogICAgLy/pl6jor4rlj7PkvqflpJrpgInmoYbmlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZVJpZ2h0OiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2VSaWdodChzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5zZWxlY3Rpb25Sb3dPdXRwYXRpZW50UmlnaHQgPSBzZWxlY3Rpb247CiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoICE9PSAwKSB7CiAgICAgICAgdGhpcy5wYXRUb0xlZnRCb29sID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wYXRUb0xlZnRCb29sID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIC8v5L2P6Zmi5bem5L6n5aSa6YCJ5qGGCiAgICBoYW5kbGVTZWxlY3Rpb25Ib3NwaXRhbENoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uSG9zcGl0YWxDaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuc2VsZWN0aW9uUm93aG9zcGl0YWxMZWZ0ID0gc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoaXRlKSB7CiAgICAgICAgaXRlLnJhdGlvID0gMDsKICAgICAgICByZXR1cm4gaXRlOwogICAgICB9KTsKICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggIT09IDApIHsKICAgICAgICB0aGlzLmhvc1RvUmlnaHRCb29sID0gZmFsc2U7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5ob3NUb1JpZ2h0Qm9vbCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvL+S9j+mZouWPs+S+p+WkmumAieahhgogICAgaGFuZGxlU2VsZWN0aW9uSG9zcGl0YWxDaGFuZ2VSaWdodDogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uSG9zcGl0YWxDaGFuZ2VSaWdodChzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5zZWxlY3Rpb25Sb3dob3NwaXRhbFJpZ2h0ID0gc2VsZWN0aW9uOwogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCAhPT0gMCkgewogICAgICAgIHRoaXMuaG9zVG9MZWZ0Qm9vbCA9IGZhbHNlOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMuaG9zVG9MZWZ0Qm9vbCA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICByb3dDbGljazogZnVuY3Rpb24gcm93Q2xpY2socm93LCBjb2x1bW4sIGV2ZW50KSB7CiAgICAgIHZhciByZWZzRWxUYWJsZSA9IHRoaXMuJHJlZnMubXVsdGlwbGVUYWJsZTsKICAgICAgdmFyIGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvd291dHBhdGllbnRMZWZ0LmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5yb3dJbmRleCA9PSByb3cucm93SW5kZXg7CiAgICAgIH0pOwogICAgICBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvd291dHBhdGllbnRMZWZ0Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICByZWZzRWxUYWJsZS5jbGVhclNlbGVjdGlvbigpOwogICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93KTsKICAgIH0sCiAgICByb3dDbGlja1BhdFJpZ2h0OiBmdW5jdGlvbiByb3dDbGlja1BhdFJpZ2h0KHJvdywgY29sdW1uLCBldmVudCkgewogICAgICB2YXIgcmVmc0VsVGFibGUgPSB0aGlzLiRyZWZzLm11bHRpcGxlVGFibGVSaWdodDsKICAgICAgdmFyIGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvd091dHBhdGllbnRSaWdodC5maW5kKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMucm93SW5kZXggPT0gcm93LnJvd0luZGV4OwogICAgICB9KTsKICAgICAgaWYgKGZpbmRSb3cgJiYgdGhpcy5zZWxlY3Rpb25Sb3dPdXRwYXRpZW50UmlnaHQubGVuZ3RoID09IDEpIHsKICAgICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93LCBmYWxzZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHJlZnNFbFRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3cpOwogICAgfSwKICAgIHJvd0NsaWNrSG9zOiBmdW5jdGlvbiByb3dDbGlja0hvcyhyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgdmFyIHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlSG9zOwogICAgICB2YXIgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93aG9zcGl0YWxMZWZ0LmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5yb3dJbmRleCA9PSByb3cucm93SW5kZXg7CiAgICAgIH0pOwogICAgICBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsTGVmdC5sZW5ndGggPT0gMSkgewogICAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIGZhbHNlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgcmVmc0VsVGFibGUuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7CiAgICB9LAogICAgcm93Q2xpY2tIb3NSaWdodDogZnVuY3Rpb24gcm93Q2xpY2tIb3NSaWdodChyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgdmFyIHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlUmlnaHRIb3M7CiAgICAgIHZhciBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3dob3NwaXRhbFJpZ2h0LmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5yb3dJbmRleCA9PSByb3cucm93SW5kZXg7CiAgICAgIH0pOwogICAgICBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsUmlnaHQubGVuZ3RoID09IDEpIHsKICAgICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93LCBmYWxzZSk7CiAgICAgICAgcmV0dXJuOwogICAgICB9CiAgICAgIHJlZnNFbFRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3cpOwogICAgfSwKICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIG91dHBhdGllbnRTZXJ2aWNlTGVmdDogW10sCiAgICAgICAgLy/pl6jor4rlt6bkvqfmlbDmja4KICAgICAgICBvdXRwYXRpZW50U2VydmljZVJpZ2h0OiBbXSwKICAgICAgICAvL+mXqOiviuWPs+S+p+aVsOaNrgogICAgICAgIGhvc3BpdGFsU2VydmljZUxlZnQ6IFtdLAogICAgICAgIC8v5L2P6Zmi5bem5L6n5pWw5o2uCiAgICAgICAgaG9zcGl0YWxTZXJ2aWNlUmlnaHQ6IFtdIC8v5L2P6Zmi5Y+z5L6n5pWw5o2uCiAgICAgIH07CgogICAgICB0aGlzLmNsaWNrQ291bnQgPSAwOwogICAgfSwKICAgIC8qKiDnp5HlrqTmj5DkuqTmjInpkq4gKi9zdWJtaXRGb3JtRGVwdDogZnVuY3Rpb24gc3VibWl0Rm9ybURlcHQoKSB7CiAgICAgIHZhciBfdGhpczEyID0gdGhpczsKICAgICAgdGhpcy4kcmVmc1sicXVlcnlGb3JtIl0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgcGFyYW1zLAogICAgICAgICAgICBhcnIgPSBbXSwKICAgICAgICAgICAgYXJyMSA9IFtdLAogICAgICAgICAgICBzdW0gPSAwLAogICAgICAgICAgICBzdW0xID0gMDsKICAgICAgICAgIGlmIChfdGhpczEyLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodC5sZW5ndGggPT0gMCAmJiBfdGhpczEyLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQgPT0gMCkgewogICAgICAgICAgICBwYXJhbXMgPSB7CiAgICAgICAgICAgICAgcmV2ZW51ZUNvZGU6IF90aGlzMTIucXVlcnlQYXJhbXMucmV2ZW51ZUNvZGUsCiAgICAgICAgICAgICAgcG1zUmV2ZW51ZURlcHRzOiBbXSwKICAgICAgICAgICAgICBjb21wQ29kZTogX3RoaXMxMi5xdWVyeVBhcmFtcy5jb21wQ29kZQogICAgICAgICAgICB9OwogICAgICAgICAgICB2YXIgc2F2ZUxvYWRpbmcgPSBfdGhpczEyLnNhdmVMb2FkaW5nKCk7CiAgICAgICAgICAgICgwLCBfcmV2ZW51ZS5hZGREZXB0TGlzdCkocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgIF90aGlzMTIubXNnU3VjY2Vzcygi5pS25YWl5qC4566X56eR5a6k6K6+572u5oiQ5YqfIik7CiAgICAgICAgICAgICAgX3RoaXMxMi4kZW1pdCgic3VjY2VzcyIsIGZhbHNlKTsKICAgICAgICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICB9KTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczEyLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodC5sZW5ndGggPT0gMCAmJiBfdGhpczEyLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQgIT0gMCkgewogICAgICAgICAgICBfdGhpczEyLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQuZm9yRWFjaChmdW5jdGlvbiAoaXRlKSB7CiAgICAgICAgICAgICAgc3VtMSArPSBOdW1iZXIoaXRlLnJhdGlvKTsKICAgICAgICAgICAgICBhcnIxLnB1c2goewogICAgICAgICAgICAgICAgZGVwdE5hbWU6IGl0ZS5kaWN0TGFiZWwsCiAgICAgICAgICAgICAgICBkZXB0Q29kZTogaXRlLmRpY3RWYWx1ZSwKICAgICAgICAgICAgICAgIHJhdGlvOiBpdGUucmF0aW8KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICByZXZlbnVlQ29kZTogX3RoaXMxMi5xdWVyeVBhcmFtcy5yZXZlbnVlQ29kZSwKICAgICAgICAgICAgICBwbXNSZXZlbnVlRGVwdHM6IGFycjEsCiAgICAgICAgICAgICAgY29tcENvZGU6IF90aGlzMTIucXVlcnlQYXJhbXMuY29tcENvZGUKICAgICAgICAgICAgfTsKICAgICAgICAgICAgaWYgKHN1bTEgPiAxMDApIHsKICAgICAgICAgICAgICBfdGhpczEyLm1zZ0Vycm9yKCLkvY/pmaLlt7LpgInnp5HlrqTliIbmkYrmr5TkvovnmoTmgLvlkozlupTlsI/kuo7miJbnrYnkuo4xMDAiKTsKICAgICAgICAgICAgICByZXR1cm47CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdmFyIF9zYXZlTG9hZGluZyA9IF90aGlzMTIuc2F2ZUxvYWRpbmcoKTsKICAgICAgICAgICAgICAoMCwgX3JldmVudWUuYWRkRGVwdExpc3QpKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTIubXNnU3VjY2Vzcygi5pS25YWl5qC4566X56eR5a6k6K6+572u5oiQ5YqfIik7CiAgICAgICAgICAgICAgICBfdGhpczEyLiRlbWl0KCJzdWNjZXNzIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgX3NhdmVMb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczEyLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodC5sZW5ndGggIT0gMCAmJiBfdGhpczEyLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQgPT0gMCkgewogICAgICAgICAgICBfdGhpczEyLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodC5mb3JFYWNoKGZ1bmN0aW9uIChpdGUpIHsKICAgICAgICAgICAgICBzdW0gKz0gTnVtYmVyKGl0ZS5yYXRpbyk7CiAgICAgICAgICAgICAgYXJyLnB1c2goewogICAgICAgICAgICAgICAgZGVwdE5hbWU6IGl0ZS5kaWN0TGFiZWwsCiAgICAgICAgICAgICAgICBkZXB0Q29kZTogaXRlLmRpY3RWYWx1ZSwKICAgICAgICAgICAgICAgIHJhdGlvOiBpdGUucmF0aW8KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICByZXZlbnVlQ29kZTogX3RoaXMxMi5xdWVyeVBhcmFtcy5yZXZlbnVlQ29kZSwKICAgICAgICAgICAgICBwbXNSZXZlbnVlRGVwdHM6IGFyciwKICAgICAgICAgICAgICBjb21wQ29kZTogX3RoaXMxMi5xdWVyeVBhcmFtcy5jb21wQ29kZQogICAgICAgICAgICB9OwogICAgICAgICAgICBpZiAoc3VtID4gMTAwKSB7CiAgICAgICAgICAgICAgX3RoaXMxMi5tc2dFcnJvcigi6Zeo6K+K5bey6YCJ56eR5a6k5YiG5pGK5q+U5L6L55qE5oC75ZKM5bqU5bCP5LqO5oiW562J5LqOMTAwIik7CiAgICAgICAgICAgICAgcmV0dXJuOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIHZhciBfc2F2ZUxvYWRpbmcyID0gX3RoaXMxMi5zYXZlTG9hZGluZygpOwogICAgICAgICAgICAgICgwLCBfcmV2ZW51ZS5hZGREZXB0TGlzdCkocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgICAgICAgX3RoaXMxMi5tc2dTdWNjZXNzKCLmlLblhaXmoLjnrpfnp5HlrqTorr7nva7miJDlip8iKTsKICAgICAgICAgICAgICAgIF90aGlzMTIuJGVtaXQoInN1Y2Nlc3MiLCBmYWxzZSk7CiAgICAgICAgICAgICAgICBfc2F2ZUxvYWRpbmcyLmNsb3NlKCk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczEyLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodC5sZW5ndGggIT0gMCAmJiBfdGhpczEyLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQubGVuZ3RoICE9IDApIHsKICAgICAgICAgICAgX3RoaXMxMi5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHQuZm9yRWFjaChmdW5jdGlvbiAoaXRlKSB7CiAgICAgICAgICAgICAgc3VtICs9IE51bWJlcihpdGUucmF0aW8pOwogICAgICAgICAgICAgIGFyci5wdXNoKHsKICAgICAgICAgICAgICAgIGRlcHROYW1lOiBpdGUuZGljdExhYmVsLAogICAgICAgICAgICAgICAgZGVwdENvZGU6IGl0ZS5kaWN0VmFsdWUsCiAgICAgICAgICAgICAgICByYXRpbzogaXRlLnJhdGlvCiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0pOwogICAgICAgICAgICBfdGhpczEyLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQuZm9yRWFjaChmdW5jdGlvbiAoaXRlKSB7CiAgICAgICAgICAgICAgc3VtMSArPSBOdW1iZXIoaXRlLnJhdGlvKTsKICAgICAgICAgICAgICBhcnIxLnB1c2goewogICAgICAgICAgICAgICAgZGVwdE5hbWU6IGl0ZS5kaWN0TGFiZWwsCiAgICAgICAgICAgICAgICBkZXB0Q29kZTogaXRlLmRpY3RWYWx1ZSwKICAgICAgICAgICAgICAgIHJhdGlvOiBpdGUucmF0aW8KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIHBhcmFtcyA9IHsKICAgICAgICAgICAgICByZXZlbnVlQ29kZTogX3RoaXMxMi5xdWVyeVBhcmFtcy5yZXZlbnVlQ29kZSwKICAgICAgICAgICAgICBwbXNSZXZlbnVlRGVwdHM6IFtdLmNvbmNhdChhcnIxLCBhcnIpLAogICAgICAgICAgICAgIGNvbXBDb2RlOiBfdGhpczEyLnF1ZXJ5UGFyYW1zLmNvbXBDb2RlCiAgICAgICAgICAgIH07CiAgICAgICAgICAgIGlmIChzdW0gPiAxMDAgfHwgc3VtMSA+IDEwMCkgewogICAgICAgICAgICAgIF90aGlzMTIubXNnRXJyb3IoIumXqOiviuWPiuS9j+mZouW3sumAieenkeWupOWIhuaRiuavlOS+i+eahOaAu+WSjOW6lOWIhuWIq+Wwj+S6juaIluetieS6jjEwMCIpOwogICAgICAgICAgICAgIHJldHVybjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICB2YXIgX3NhdmVMb2FkaW5nMyA9IF90aGlzMTIuc2F2ZUxvYWRpbmcoKTsKICAgICAgICAgICAgICAoMCwgX3JldmVudWUuYWRkRGVwdExpc3QpKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIF90aGlzMTIubXNnU3VjY2Vzcygi5pS25YWl5qC4566X56eR5a6k6K6+572u5oiQ5YqfIik7CiAgICAgICAgICAgICAgICBfdGhpczEyLiRlbWl0KCJzdWNjZXNzIiwgZmFsc2UpOwogICAgICAgICAgICAgICAgX3NhdmVMb2FkaW5nMy5jbG9zZSgpOwogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvLyDlvLnmoYblhbPpl60KICAgIGhhbmRsZURpYWxvZ0Nsb3NlOiBmdW5jdGlvbiBoYW5kbGVEaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2FuY2VsIiwgZmFsc2UpOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9LAogICAgLy8g5Y+W5raICiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2FuY2VsIiwgZmFsc2UpOwogICAgICB0aGlzLnJlc2V0KCk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;AAiJA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAGA;EACAA;EACAC;IACA;IACAC;MACAC;IACA;IACAC;MACAD;MACAE;IACA;IACAC;MACAH;MACAE;IACA;EACA;EACAE;IACAH;MACAI;QACA;MACA;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;MACA;;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MACAC;MACAC;MAAA;MACAC;MACAC;MACAC;MACAC;MACAC;MAAA;MACAC;MAAA;MACAC;MAAA;MACAC;IACA;EACA;;EACAC;IACAC;MAAA;MAAA;MACA;QAAA;MAAA;IACA;IACAC;MAAA;MAAA;MACA;QAAA;MAAA;IACA;IACAC;MAAA;MAAA;MACA;QAAA;MAAA;IACA;IACAC;MAAA;MAAA;MACA;QAAA;MAAA;IACA;EACA;EACAC;IACA;IACA;MAAAC;MAAAC;IAAA;EACA;EACAC,6BACA;EACAC;IACA;IACAC;MACA;QACA;QACA;UACA1C;YAAAsC;YAAAC;YAAAI;UAAA;QACA;UACA3C;YAAAsC;YAAAC;UAAA;QACA;QACA;MACA;MACA;QACA;QACA;UACAvC;YAAAsC;YAAAC;YAAAI;UAAA;QACA;UACA3C;YAAAsC;YAAAC;UAAA;QACA;QACA;MACA;IACA;IACA;IACAK;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBAAA,MACAC;kBAAA;kBAAA;gBAAA;gBACA;gBACA;gBACA;gBACA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAEA;gBAAA;gBAAA,OACA;kBAAAP;kBAAAC;gBAAA;cAAA;gBAAA,MAEAM;kBAAA;kBAAA;gBAAA;gBACA;gBACA;gBACA;gBACA;gBAAA;gBAAA,OACA;kBAAAP;kBAAAC;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAEA;IACA;IACAO;MAAA;MAAA;QAAA;QAAA;UAAA;YAAA;cAAA;gBACAC;kBACAT;kBACAU;kBACAC;gBACA;gBAAA,MACAxD;kBAAA;kBAAA;gBAAA;gBACA;gBACAyD;gBAAA;gBAAA,OACA;kBACA;oBACAA;sBAAAC;sBAAAC;sBAAAC;oBAAA;kBACA;kBACA;kBACA;kBACA;gBACA;cAAA;gBAAA;cAAA;gBAAA,MAGA5D;kBAAA;kBAAA;gBAAA;gBACA;gBACAyD;gBAAA;gBAAA,OACA;kBACA;oBACAA;sBAAAC;sBAAAC;sBAAAC;oBAAA;kBACA;kBACA;kBACA;kBACA;gBACA;cAAA;gBAAA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAIA;IACA;IACAC;MAAA;MAAA;QAAA;UAAA;YAAA;cAAA;gBACA;gBACA;gBAAA,MACA;kBAAA;kBAAA;gBAAA;gBAAA;gBAAA,OACA;cAAA;gBAEA;gBAAA;gBAAA,OACA;kBACA;oBACA;oBACA;sBACA;sBACA;sBACA;sBACA;wBACAC;wBACA;sBACA;sBACA;wBACA;0BACAA;0BACA;wBACA;wBACA;0BACA;4BACA;8BACA;4BACA;0BACA;wBACA;wBACA;wBACA;wBACA;sBACA;wBACA;0BACAA;0BACA;wBACA;wBACA;0BACA;4BACA;8BACA;4BACA;0BACA;wBACA;wBACA;wBACA;wBACA;sBACA;wBACA;wBACA;wBACA;sBACA;oBACA;oBACA;sBACA;sBACA;sBACA;sBACA;wBACAA;wBACA;sBACA;sBACA;wBACA;0BACAA;0BACA;wBACA;wBACA;0BACA;4BACA;8BACA;4BACA;0BACA;wBACA;wBACA;wBACA;wBACA;sBACA;wBACA;0BACAA;0BACA;wBACA;wBACA;0BACA;4BACA;8BACA;4BACA;0BACA;wBACA;wBACA;wBACA;wBACA;sBACA;wBACA;wBACA;wBACA;sBACA;oBAEA;kBAEA;oBACA;kBACA;gBACA;cAAA;cAAA;gBAAA;YAAA;UAAA;QAAA;MAAA;IAGA;IACAC;MAAA;MACA;MACA;QACA;MACA;MAAA;MACA;MAAA;QAEA;UACA;YACA;YACAC;YACAA;UACA;QACA;QAAA;MAAA;MAPA;QAAA;MAQA;IACA;IACAC;MAAA;MACA;QACA;MACA;MAAA;MACA;MAAA;QAEA;UACA;YACA;YACAD;YACAA;UACA;QACA;QAAA;MAAA;MAPA;QAAA;MAQA;IACA;IACAE;MAAA;MACA;MACA;QACA;MACA;MAAA;MACA;MAAA;QAEA;UACA;YACA;YACAF;YACAA;UACA;QACA;QAAA;MAAA;MAPA;QAAA;MAQA;IACA;IACA;IACAG;MAAA;MACA;QACA;MACA;MAAA;MACA;MAAA;QAEA;UACA;YACA;YACAH;YACAA;UACA;QACA;QAAA;MAAA;MAPA;QAAA;MAQA;IACA;IACA;IACAI;MACA;QACAN;QACA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAO;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAC;MACA;QACAR;QACA;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACA;IACAS;MACA;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;QACAC;QACA;MACA;MACAA;MACAA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;QACAD;QACA;MACA;MACAA;MACAA;IACA;IACAE;MACA;MACA;QAAA;MAAA;MACA;QACAF;QACA;MACA;MACAA;MACAA;IACA;IACAG;MACA;MACA;QAAA;MAAA;MACA;QACAH;QACA;MACA;MACAA;MACAA;IACA;IACAI;MACA;QACAxD;QAAA;QACAC;QAAA;QACAC;QAAA;QACAC;MACA;;MACA;IACA;IACA,aACAsD;MAAA;MACA;QACA;UACA;YAAArB;YAAAsB;YAAAC;YAAAC;UACA;YACA3B;cACAC;cACA2B;cACArC;YACA;YACA;YACA;cACA;cACA;cACAsC;YACA;UACA;UACA;YACA;cACAF;cACAF;gBACA7B;gBACAkC;gBACA1B;cACA;YACA;YACAJ;cACAC;cACA2B;cACArC;YACA;YACA;cACA;cACA;YACA;cACA;cACA;gBACA;gBACA;gBACAsC;cACA;YACA;UACA;UACA;YACA;cACAH;cACAvB;gBACAP;gBACAkC;gBACA1B;cACA;YACA;YACAJ;cACAC;cACA2B;cACArC;YACA;YACA;cACA;cACA;YACA;cACA;cACA;gBACA;gBACA;gBACAsC;cACA;YACA;UACA;UACA;YACA;cACAH;cACAvB;gBACAP;gBACAkC;gBACA1B;cACA;YACA;YACA;cACAuB;cACAF;gBACA7B;gBACAkC;gBACA1B;cACA;YACA;YACAJ;cACAC;cACA2B;cACArC;YACA;YACA;cACA;cACA;YACA;cACA;cACA;gBACA;gBACA;gBACAsC;cACA;YACA;UACA;QAEA;MACA;IACA;IACA;IACAE;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","queryParams","type","open","default","id","watch","handler","deep","data","title","openDialog","loading","loading1","loading2","loading3","clickCount","activeName","patToRightBool","patToLeftBool","hosToRightBool","hosToLeftBool","form","outpatientServiceLeft","outpatientServiceRight","hospitalServiceLeft","hospitalServiceRight","rules","deptDatas","deptDatasLength","changeDeptList1","changeDeptList","deptDatasHos","changeHosDeptList","changeHosDeptList1","outpatientRightLength","hospitalRightLength","selectionRowoutpatientLeft","selectionRowOutpatientRight","selectionRowhospitalLeft","selectionRowhospitalRight","computed","num","num1","num2","num3","created","compCode","clinicType","mounted","methods","changeDept","deptName","handleClick","tab","getDetail","params","revenueCode","deptType","arr","ratio","dictValue","dictLabel","getTreeDept","ite","hospitalToright","i","hospitalToLeft","outpatientToright","outpatientToleft","handleSelectionOutpatientChange","handleSelectionChangeRight","handleSelectionHospitalChange","handleSelectionHospitalChangeRight","rowClick","refsElTable","rowClickPatRight","rowClickHos","rowClickHosRight","reset","submitFormDept","arr1","sum","sum1","pmsRevenueDepts","saveLoading","deptCode","handleDialogClose","cancel"],"sourceRoot":"src/views/revenue/revenue","sources":["revenueDept.vue"],"sourcesContent":["<template>\r\n    <!-- 科室设置 -->\r\n  <el-dialog custom-class=\"el-button--primary\" :title=\"title\" :close-on-click-modal=\"false\" @close=\"handleDialogClose\" :visible.sync=\"openDialog\" width=\"50%\" append-to-body>\r\n      <el-form ref=\"queryForm\" :model=\"queryParams\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-row :gutter=\"24\">\r\n          <el-col :span=\"10\">\r\n            <el-form-item label=\"项目编码\" prop=\"revenueCode\">\r\n              <el-input v-model=\"queryParams.revenueCode\" placeholder=\"系统自动生成\"  maxlength=\"50\" show-word-limit disabled />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"10\">\r\n            <el-form-item label=\"项目名称\" prop=\"revenueName\">\r\n              <el-input v-model=\"queryParams.revenueName\" placeholder=\"请输入项目名称\"  maxlength=\"100\" show-word-limit disabled />\r\n            </el-form-item>\r\n          </el-col>\r\n          <el-col :span=\"24\">\r\n            <el-tabs v-model=\"activeName\"  @tab-click=\"handleClick\" >\r\n                <el-tab-pane label=\"门诊\" name=\"outPatient\">\r\n                    <el-col :span=\"24\">\r\n                        <div class=\"hello\">\r\n                            <div class=\"transfer\">\r\n                                <div class=\"transfer_left\">\r\n                                    <div class=\"transfer_left_top\">\r\n                                        <p>\r\n                                            <label for=\"\">待选科室</label>\r\n                                            <span>{{num(selectionRowoutpatientLeft)}}/{{form.outpatientServiceLeft.length}}</span>\r\n                                        </p>\r\n                                        <el-select v-model=\"queryParams.deptCode1\" @change=\"changeDept\" @click=\"changeDept\" clearable automatic-dropdown=\"\" :filterable=\"true\" :remote=\"true\" placeholder=\"请选择科室\" size=\"small\">\r\n                                            <el-option\r\n                                            v-for=\"item in deptDatas\"\r\n                                            :key=\"item.dictValue\"\r\n                                            :label=\"item.dictLabel\"\r\n                                            :value=\"item.dictLabel\"\r\n                                            ></el-option>\r\n                                        </el-select>\r\n                                    </div>\r\n                                    <div class=\"checkbox_left\">\r\n                                        <el-form  ref=\"outPatientLeft\" :model=\"form\">\r\n                                            <el-table ref=\"multipleTable\" height=\"410\" :style=\"{width: '100%'}\" :show-overflow-tooltip=\"true\" tooltip-effect=\"dark\" stripe v-loading=\"loading\" :data=\"form.outpatientServiceLeft\" @selection-change=\"handleSelectionOutpatientChange\" @row-click=\"rowClick\">\r\n                                                <el-table-column type=\"selection\" width=\"55\" align=\"center\" fixed />\r\n                                                <el-table-column label=\"科室名称\" align=\"center\" prop=\"dictLabel\" />\r\n                                            </el-table>\r\n                                        </el-form>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"transfer_main\">\r\n                                    <el-button-group>\r\n                                        <el-button type=\"primary\" size=\"small\" icon=\"el-icon-arrow-right\" @click=\"outpatientToright\" :disabled=\"patToRightBool\"></el-button>\r\n                                        <el-button type=\"primary\"  size=\"small\" @click=\"outpatientToleft\" icon=\"el-icon-arrow-left\" :disabled=\"patToLeftBool\"></el-button>\r\n                                    </el-button-group>\r\n                                </div>\r\n                                <div class=\"transfer_right\">\r\n                                    <div class=\"transfer_right_top\">\r\n                                        <p>\r\n                                            <label for=\"\">已选科室</label> \r\n                                            <span>{{num1(selectionRowOutpatientRight)}}/{{form.outpatientServiceRight.length}}</span>\r\n                                        </p>                        \r\n                                    </div>\r\n                                    <div class=\"checkbox_left\">\r\n                                        <el-form  ref=\"outPatientRight\" :model=\"form\">\r\n                                            <el-table ref=\"multipleTableRight\" v-loading=\"loading1\" :style=\"{width: '100%'}\" height=\"450\" tooltip-effect=\"dark\" stripe :data=\"form.outpatientServiceRight\" @selection-change=\"handleSelectionChangeRight\" @row-click=\"rowClickPatRight\">\r\n                                                <el-table-column type=\"selection\" width=\"55\" align=\"center\" fixed />\r\n                                                <el-table-column label=\"科室名称\" align=\"center\" prop=\"dictLabel\" />\r\n                                                <el-table-column label=\"分摊比例\" align=\"center\" prop=\"ratio\">\r\n                                                    <template slot-scope=\"scope\">\r\n                                                        <el-input-number v-model=\"scope.row.ratio\" :min=\"0\" :max=\"100\" :precision=\"2\" />\r\n                                                    </template>\r\n                                                </el-table-column>\r\n                                            </el-table>\r\n                                        </el-form>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </el-col>\r\n                </el-tab-pane>\r\n                <!-- 住院 -->\r\n                <el-tab-pane label=\"住院\" name=\"hospital\">\r\n                    <el-col :span=\"24\">\r\n                        <div class=\"hello\">\r\n                            <div class=\"transfer\">\r\n                                <div class=\"transfer_left\">\r\n                                    <div class=\"transfer_left_top\">\r\n                                        <p>\r\n                                            <label for=\"\">待选科室</label>\r\n                                            <span>{{num2(selectionRowhospitalLeft)}}/{{form.hospitalServiceLeft.length}}</span>\r\n                                        </p>\r\n                                        <el-select v-model=\"queryParams.deptCode2\" @change=\"changeDept\" clearable automatic-dropdown=\"\" :filterable=\"true\" :remote=\"true\" placeholder=\"请选择科室\" size=\"small\">\r\n                                            <el-option\r\n                                            v-for=\"item in deptDatasHos\"\r\n                                            :key=\"item.dictValue\"\r\n                                            :label=\"item.dictLabel\"\r\n                                            :value=\"item.dictLabel\"\r\n                                            ></el-option>\r\n                                        </el-select>\r\n                                    </div>\r\n                                    <div class=\"checkbox_left\">\r\n                                        <el-table ref=\"multipleTableHos\" height=\"410\" :style=\"{width: '100%'}\" :show-overflow-tooltip=\"true\" tooltip-effect=\"dark\" stripe v-loading=\"loading2\" :data=\"form.hospitalServiceLeft\"  @selection-change=\"handleSelectionHospitalChange\" @row-click=\"rowClickHos\">\r\n                                            <el-table-column type=\"selection\" width=\"55\" align=\"center\" fixed />\r\n                                            <el-table-column label=\"科室名称\" align=\"center\" prop=\"dictLabel\" />\r\n                                        </el-table>\r\n                                    </div>\r\n                                </div>\r\n                                <div class=\"transfer_main\">\r\n                                    <el-button-group>\r\n                                        <el-button type=\"primary\" size=\"small\" icon=\"el-icon-arrow-right\" @click=\"hospitalToright\" :disabled=\"hosToRightBool\"></el-button>\r\n                                        <el-button type=\"primary\"  size=\"small\" @click=\"hospitalToLeft\" icon=\"el-icon-arrow-left\" :disabled=\"hosToLeftBool\"></el-button>\r\n                                    </el-button-group>\r\n                                </div>\r\n                                <div class=\"transfer_right\">\r\n                                    <div class=\"transfer_right_top\">\r\n                                        <p>\r\n                                            <label for=\"\">已选科室</label> \r\n                                            <span>{{num3(selectionRowhospitalRight)}}/{{form.hospitalServiceRight.length}}</span>\r\n                                        </p>                        \r\n                                    </div>\r\n                                    <div class=\"checkbox_left\">\r\n                                        <el-table v-loading=\"loading3\" ref=\"multipleTableRightHos\" :style=\"{width: '100%'}\" height=\"450\" tooltip-effect=\"dark\" stripe :data=\"form.hospitalServiceRight\" @selection-change=\"handleSelectionHospitalChangeRight\" @row-click=\"rowClickHosRight\">\r\n                                            <el-table-column type=\"selection\" width=\"55\" align=\"center\" fixed />\r\n                                            <el-table-column label=\"科室名称\" align=\"center\" prop=\"dictLabel\" />\r\n                                            <el-table-column label=\"分摊比例\" align=\"center\" prop=\"ratio\">\r\n                                                <template slot-scope=\"scope\">\r\n                                                    <el-input-number v-model=\"scope.row.ratio\" :min=\"0\" :max=\"100\" :precision=\"2\" />\r\n                                                </template>\r\n                                            </el-table-column>\r\n                                        </el-table>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n                    </el-col>\r\n                </el-tab-pane>\r\n            </el-tabs>\r\n          </el-col>                \r\n        </el-row>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitFormDept()\" >保 存</el-button>\r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\n\r\nimport { getRevenueDept,getDeptList,addDeptList } from \"@/api/revenue/revenue\";\r\n\r\n\r\nexport default {\r\n    name: 'revenueDept',\r\n    props:{\r\n        // 传参为form表单 方便数据回显渲染\r\n        queryParams: {\r\n            type: [Object, Array]\r\n        },\r\n        open: {\r\n            type: Boolean,\r\n            default: false\r\n        },\r\n        id: {\r\n            type: [String, Number],\r\n            default: \"\"\r\n        },\r\n    },\r\n    watch:{\r\n         open: {\r\n            handler(val) {\r\n                this.openDialog = val;\r\n            },\r\n            deep: true\r\n        }\r\n    },\r\n    data() {\r\n        return {\r\n            title:'收入核算方案-第三方科室',        \r\n            openDialog: this.open,  \r\n            loading:false,\r\n            loading1:false,\r\n            loading2:false,\r\n            loading3:false,\r\n            clickCount:0,\r\n            activeName: \"outPatient\", \r\n            patToRightBool:true,\r\n            patToLeftBool:true,\r\n            hosToRightBool:true,\r\n            hosToLeftBool:true,\r\n            form:{\r\n                outpatientServiceLeft:[],//门诊左侧数据\r\n                outpatientServiceRight:[],//门诊右侧数据\r\n                hospitalServiceLeft:[],//住院左侧数据\r\n                hospitalServiceRight:[],//住院右侧数据\r\n            },        \r\n            rules:{},\r\n            deptDatas:[],//门诊科室列表数据\r\n            deptDatasLength:0,//门诊科室列表数据用于比较全选数据\r\n            changeDeptList1:[],\r\n            changeDeptList:[],\r\n            deptDatasHos:[],//门诊科室列表数据\r\n            changeHosDeptList:[],\r\n            changeHosDeptList1:[],\r\n            outpatientRightLength:[],\r\n            hospitalRightLength:[],\r\n            selectionRowoutpatientLeft:[],//门诊左侧复选框数据\r\n            selectionRowOutpatientRight:[],//门诊右侧复选框数据\r\n            selectionRowhospitalLeft:[],//住院左侧复选框数据\r\n            selectionRowhospitalRight:[],//住院右侧复选框数据\r\n        };\r\n    },\r\n    computed:{\r\n        num(){//计算属性传递参数，根据传入的数组返回符合条件的长度\r\n\t\t  return data =>  this.form.outpatientServiceLeft&&this.selectionRowoutpatientLeft.length\r\n        },\r\n        num1(){//计算属性传递参数，根据传入的数组返回符合条件的长度\r\n            return data =>  this.form.hospitalServiceLeft&&this.selectionRowOutpatientRight.length\r\n        },\r\n        num2(){//计算属性传递参数，根据传入的数组返回符合条件的长度\r\n            return data =>  this.form.hospitalServiceLeft&&this.selectionRowhospitalLeft.length\r\n        },\r\n        num3(){//计算属性传递参数，根据传入的数组返回符合条件的长度\r\n            return data =>  this.form.hospitalServiceLeft&&this.selectionRowhospitalRight.length\r\n        }\r\n    },\r\n    created(){\r\n         this.getDetail(1)        \r\n         this.getTreeDept({ compCode: this.$store.state.user.accountInfo.deptId ,clinicType:1})\r\n    },\r\n    mounted() {\r\n    },\r\n    methods: {\r\n        //科室查询下拉框事件\r\n        changeDept(e){\r\n            if(this.activeName=='outPatient'){\r\n                let data\r\n                if(e){\r\n                    data = { compCode: this.$store.state.user.accountInfo.deptId ,clinicType:1,deptName:e};\r\n                }else{\r\n                    data = { compCode: this.$store.state.user.accountInfo.deptId ,clinicType:1};      \r\n                }\r\n                this.getTreeDept(data)\r\n            }\r\n            if(this.activeName=='hospital'){\r\n               let data\r\n                if(e){\r\n                    data = { compCode: this.$store.state.user.accountInfo.deptId ,clinicType:2,deptName:e};\r\n                }else{\r\n                    data = { compCode: this.$store.state.user.accountInfo.deptId ,clinicType:2};      \r\n                } \r\n                this.getTreeDept(data)                       \r\n            }\r\n        },\r\n        //tab切换事件\r\n       async handleClick(tab){\r\n            if(tab.label==\"住院\"){\r\n                this.changeHosDeptList=[]\r\n                this.changeHosDeptList1=[]\r\n                // this.form.hospitalServiceLeft=[]                \r\n                this.activeName='hospital'\r\n                if(this.clickCount==0){\r\n                 await this.getDetail(2)  \r\n                }\r\n                this.clickCount+=1\r\n                await this.getTreeDept({ compCode: this.$store.state.user.accountInfo.deptId ,clinicType:2})\r\n            }\r\n            if(tab.label=='门诊'){\r\n                // this.form.outpatientServiceLeft=[]\r\n                this.changeDeptList1=[]\r\n                this.changeDeptList=[]\r\n                this.activeName='outPatient'   \r\n               await this.getTreeDept({ compCode: this.$store.state.user.accountInfo.deptId ,clinicType:1}) \r\n            }\r\n        },\r\n        //获取门诊及住院右侧列表数据\r\n        async getDetail(type){\r\n            let params={\r\n                compCode:this.queryParams.compCode,\r\n                revenueCode:this.queryParams.revenueCode,\r\n                deptType:type\r\n            }\r\n            if(type==1){\r\n                this.loading1=true\r\n                let arr=[]\r\n                await getRevenueDept(params).then(response => {       \r\n                    for(let i=0;i<response.total;i++){\r\n                        arr.indexOf(response.rows[i])===-1?arr.push({ratio:response.rows[i].ratio,dictValue:response.rows[i].deptCode,dictLabel:response.rows[i].deptName}):arr\r\n                    } \r\n                    this.form.outpatientServiceRight = JSON.parse(JSON.stringify(arr));\r\n                    this.outpatientRightLength=response.total\r\n                    this.loading1=false \r\n                });\r\n                return\r\n            }\r\n            if(type==2){\r\n                this.loading3=true\r\n                let arr=[]\r\n               await getRevenueDept(params).then(response => {\r\n                   for(let i=0;i<response.total;i++){\r\n                        arr.indexOf(response.rows[i])===-1?arr.push({ratio:response.rows[i].ratio,dictValue:response.rows[i].deptCode,dictLabel:response.rows[i].deptName}):arr\r\n                    } \r\n                    this.form.hospitalServiceRight = JSON.parse(JSON.stringify(arr));\r\n                    this.hospitalRightLength=response.total \r\n                    this.loading3=false                                                       \r\n                });\r\n                return\r\n            }\r\n             \r\n        },\r\n        //获取科室列表及门诊和住院左侧数据\r\n        async getTreeDept(data) {\r\n             this.loading=true\r\n             this.loading2=true\r\n             if(this.clickCount==0){\r\n                await this.getDetail(2)\r\n            }\r\n            this.clickCount+=1\r\n            await getDeptList(data).then(response => {\r\n                if (response.code == 200) {\r\n                    this.deptDatasLength=response.data.length\r\n                    if(data.clinicType==1){\r\n                        // this.form.outpatientServiceLeft=[]\r\n                        this.changeDeptList1=[]\r\n                        this.changeDeptList=[]\r\n                        this.deptDatas=JSON.parse(JSON.stringify(response.data.map(ite=>{\r\n                            ite.ratio=0\r\n                            return ite\r\n                        })));\r\n                        if(this.outpatientRightLength!==0 || this.form.outpatientServiceRight.length==1){\r\n                            this.changeDeptList1=JSON.parse(JSON.stringify(response.data.map(ite=>{\r\n                            ite.ratio=0\r\n                            return ite\r\n                        })));\r\n                            for(let i in this.form.outpatientServiceRight){\r\n                                    for(let k in this.changeDeptList1){\r\n                                    if(this.form.outpatientServiceRight[i].dictValue == this.changeDeptList1[k].dictValue){\r\n                                        this.changeDeptList1.splice(k,1)\r\n                                    }\r\n                                }\r\n                            }\r\n                           this.form.outpatientServiceLeft=JSON.parse(JSON.stringify(this.changeDeptList1))\r\n                           this.loading=false\r\n                           return\r\n                        }else if(this.outpatientRightLength>1){\r\n                            this.changeDeptList=JSON.parse(JSON.stringify(response.data.map(ite=>{\r\n                            ite.ratio=0\r\n                            return ite\r\n                        })));\r\n                            for(let i in this.form.outpatientServiceRight){\r\n                                    for(let k in this.changeDeptList){\r\n                                    if(this.form.outpatientServiceRight[i].dictValue == this.changeDeptList[k].dictValue){\r\n                                        this.changeDeptList.splice(k,1)\r\n                                    }\r\n                                }\r\n                            }\r\n                           this.form.outpatientServiceLeft=JSON.parse(JSON.stringify(this.changeDeptList))\r\n                           this.loading=false\r\n                           return\r\n                        }else if(this.outpatientRightLength==0&&this.form.outpatientServiceRight.length==0){\r\n                            this.form.outpatientServiceLeft=JSON.parse(JSON.stringify(this.deptDatas))\r\n                            this.loading=false\r\n                            return\r\n                        }\r\n                    }\r\n                    if(data.clinicType==2){\r\n                        this.changeHosDeptList=[]\r\n                        this.changeHosDeptList1=[]\r\n                        // this.form.hospitalServiceLeft=[]\r\n                        this.deptDatasHos=JSON.parse(JSON.stringify(response.data.map(ite=>{\r\n                            ite.ratio=0\r\n                            return ite\r\n                        })));\r\n                        if(this.hospitalRightLength!==0 || this.form.hospitalServiceRight.length==1){\r\n                             this.changeHosDeptList1=JSON.parse(JSON.stringify(response.data.map(ite=>{\r\n                            ite.ratio=0\r\n                            return ite\r\n                        })));\r\n                            for(let i in this.form.hospitalServiceRight){\r\n                                    for(let k in this.changeHosDeptList1){\r\n                                    if(this.form.hospitalServiceRight[i].dictValue == this.changeHosDeptList1[k].dictValue){\r\n                                        this.changeHosDeptList1.splice(k,1)\r\n                                    }\r\n                                }\r\n                            }\r\n                            this.form.hospitalServiceLeft=JSON.parse(JSON.stringify(this.changeHosDeptList1))\r\n                            this.loading2=false        \r\n                            return                   \r\n                        }else if(this.form.hospitalServiceRight.length>1){              \r\n                            this.changeHosDeptList=JSON.parse(JSON.stringify(response.data.map(ite=>{\r\n                            ite.ratio=0\r\n                            return ite\r\n                        })));\r\n                            for(let i in this.form.hospitalServiceRight){\r\n                                    for(let k in this.changeHosDeptList){\r\n                                    if(this.form.hospitalServiceRight[i].dictValue == this.changeHosDeptList[k].dictValue){\r\n                                        this.changeHosDeptList.splice(k,1)\r\n                                    }\r\n                                }\r\n                            }\r\n                            this.loading2=false\r\n                            this.form.hospitalServiceLeft=JSON.parse(JSON.stringify(this.changeHosDeptList))\r\n                            return                                              \r\n                        }else if(this.hospitalRightLength==0 && this.form.hospitalServiceRight.length==0){\r\n                            this.form.hospitalServiceLeft=JSON.parse(JSON.stringify(this.deptDatasHos))\r\n                            this.loading2=false\r\n                            return                                               \r\n                        }\r\n                        \r\n                    }\r\n\r\n                } else {\r\n                    this.msgError(response.msg);\r\n                }\r\n            });\r\n            \r\n            \r\n        },\r\n        hospitalToright(){\r\n            //将过滤后的数组需要添加到右边的数组中\r\n            for(let i = 0;i<this.selectionRowhospitalLeft.length;i++){\r\n                 this.form.hospitalServiceRight.indexOf(this.selectionRowhospitalLeft[i]) === -1 ?  this.form.hospitalServiceRight.push(this.selectionRowhospitalLeft[i]) :  this.form.hospitalServiceRight\r\n            };        \r\n            //剩余左边数据\r\n            for(let i=0;i<this.form.hospitalServiceLeft.length;i++){\r\n                 this.form.hospitalServiceRight.forEach(ite=>{\r\n                    if(this.form.hospitalServiceLeft[i]&&this.form.hospitalServiceLeft[i].dictValue==ite.dictValue){        \r\n                          this.form.hospitalServiceLeft.splice(i,1)\r\n                          i-=1\r\n                          i<0?0:i\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        hospitalToLeft(){\r\n            for(let i = 0;i<this.selectionRowhospitalRight.length;i++){\r\n                this.form.hospitalServiceLeft.indexOf(this.selectionRowhospitalRight[i]) === -1 ?  this.form.hospitalServiceLeft.push(this.selectionRowhospitalRight[i]) :  this.form.hospitalServiceLeft\r\n            };\r\n            //剩余右边数据\r\n            for(let i=0;i<this.form.hospitalServiceRight.length;i++){\r\n                 this.form.hospitalServiceLeft.forEach(ite=>{\r\n                    if(this.form.hospitalServiceRight[i]&&this.form.hospitalServiceRight[i].dictValue==ite.dictValue){     \r\n                          this.form.hospitalServiceRight.splice(i,1)\r\n                          i-=1\r\n                          i<0?0:i\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        outpatientToright(){\r\n          //将过滤后的数组需要添加到右边的数组中\r\n            for(let i = 0;i<this.selectionRowoutpatientLeft.length;i++){\r\n                 this.form.outpatientServiceRight.indexOf(this.selectionRowoutpatientLeft[i]) === -1 ?  this.form.outpatientServiceRight.push(this.selectionRowoutpatientLeft[i]) :  this.form.outpatientServiceRight\r\n            };    \r\n            //剩余左边数据\r\n            for(let i=0;i<this.form.outpatientServiceLeft.length;i++){\r\n                 this.form.outpatientServiceRight.forEach(ite=>{\r\n                    if(this.form.outpatientServiceLeft[i]&&this.form.outpatientServiceLeft[i].dictValue==ite.dictValue){\r\n                          this.form.outpatientServiceLeft.splice(i,1)\r\n                          i-=1\r\n                          i<0?0:i\r\n                    }\r\n                })\r\n            }\r\n\t\t},\r\n        //将右边数据放到左边\r\n        outpatientToleft(){\r\n            for(let i = 0;i<this.selectionRowOutpatientRight.length;i++){\r\n                 this.form.outpatientServiceLeft.indexOf(this.selectionRowOutpatientRight[i]) === -1 ?  this.form.outpatientServiceLeft.push(this.selectionRowOutpatientRight[i]) :  this.form.outpatientServiceLeft\r\n            };\r\n            //剩余右边数据\r\n            for(let i=0;i<this.form.outpatientServiceRight.length;i++){\r\n                 this.form.outpatientServiceLeft.forEach(ite=>{\r\n                    if(this.form.outpatientServiceRight[i]&&this.form.outpatientServiceRight[i].dictValue==ite.dictValue){         \r\n                          this.form.outpatientServiceRight.splice(i,1)\r\n                          i-=1\r\n                          i<0?i=0:i\r\n                    }\r\n                })\r\n            }\r\n        },\r\n        // 门诊多选框选中数据\r\n        handleSelectionOutpatientChange(selection) {\r\n            this.selectionRowoutpatientLeft=selection.map(ite=>{\r\n                ite.ratio=0\r\n                return ite\r\n            });\r\n            if(selection.length!==0){\r\n                this.patToRightBool=false;\r\n            }else{\r\n                this.patToRightBool=true;\r\n            }\r\n        },\r\n        //门诊右侧多选框数据\r\n        handleSelectionChangeRight(selection){\r\n            this.selectionRowOutpatientRight=selection;\r\n            if(selection.length!==0){\r\n                this.patToLeftBool=false;\r\n            }else{\r\n                this.patToLeftBool=true;\r\n            }\r\n        },\r\n        //住院左侧多选框\r\n        handleSelectionHospitalChange(selection){\r\n            this.selectionRowhospitalLeft=selection.map(ite=>{\r\n                ite.ratio=0\r\n                return ite\r\n            });\r\n            if(selection.length!==0){\r\n                this.hosToRightBool=false;\r\n            }else{\r\n                this.hosToRightBool=true;\r\n            }\r\n        },\r\n        //住院右侧多选框\r\n        handleSelectionHospitalChangeRight(selection){\r\n            this.selectionRowhospitalRight=selection;\r\n            if(selection.length!==0){\r\n                this.hosToLeftBool=false;\r\n            }else{\r\n               this.hosToLeftBool=true;\r\n            }\r\n        },\r\n        rowClick(row, column, event) {\r\n            let refsElTable = this.$refs.multipleTable;\r\n            let findRow = this.selectionRowoutpatientLeft.find(c => c.rowIndex == row.rowIndex);\r\n            if (findRow && this.selectionRowoutpatientLeft.length == 1) {\r\n                refsElTable.toggleRowSelection(row, false);\r\n                return;\r\n            }\r\n            refsElTable.clearSelection();\r\n            refsElTable.toggleRowSelection(row);\r\n        },\r\n        rowClickPatRight(row, column, event){\r\n            let refsElTable = this.$refs.multipleTableRight;\r\n            let findRow = this.selectionRowOutpatientRight.find(c => c.rowIndex == row.rowIndex);\r\n            if (findRow && this.selectionRowOutpatientRight.length == 1) {\r\n                refsElTable.toggleRowSelection(row, false);\r\n                return;\r\n            }\r\n            refsElTable.clearSelection();\r\n            refsElTable.toggleRowSelection(row);\r\n        },\r\n        rowClickHos(row, column, event){\r\n            let refsElTable = this.$refs.multipleTableHos;\r\n            let findRow = this.selectionRowhospitalLeft.find(c => c.rowIndex == row.rowIndex);\r\n            if (findRow && this.selectionRowhospitalLeft.length == 1) {\r\n                refsElTable.toggleRowSelection(row, false);\r\n                return;\r\n            }\r\n            refsElTable.clearSelection();\r\n            refsElTable.toggleRowSelection(row);\r\n        },\r\n        rowClickHosRight(row, column, event){\r\n            let refsElTable = this.$refs.multipleTableRightHos;\r\n            let findRow = this.selectionRowhospitalRight.find(c => c.rowIndex == row.rowIndex);\r\n            if (findRow && this.selectionRowhospitalRight.length == 1) {\r\n                refsElTable.toggleRowSelection(row, false);\r\n                return;\r\n            }\r\n            refsElTable.clearSelection();\r\n            refsElTable.toggleRowSelection(row);\r\n        },\r\n        reset(){\r\n            this.form={\r\n                outpatientServiceLeft:[],//门诊左侧数据\r\n                outpatientServiceRight:[],//门诊右侧数据\r\n                hospitalServiceLeft:[],//住院左侧数据\r\n                hospitalServiceRight:[],//住院右侧数据\r\n            };\r\n            this.clickCount=0\r\n        },\r\n        /** 科室提交按钮 */\r\n        submitFormDept() {\r\n            this.$refs[\"queryForm\"].validate(valid => {\r\n                if (valid) {\r\n                let params,arr=[],arr1=[],sum=0,sum1=0;\r\n                    if(this.form.outpatientServiceRight.length==0 && this.form.hospitalServiceRight==0){\r\n                        params={\r\n                            revenueCode:this.queryParams.revenueCode,\r\n                            pmsRevenueDepts:[],\r\n                            compCode:this.queryParams.compCode,\r\n                        }\r\n                        let saveLoading = this.saveLoading();\r\n                            addDeptList(params).then(response => {\r\n                                this.msgSuccess(\"收入核算科室设置成功\");\r\n                                this.$emit(\"success\", false);\r\n                                saveLoading.close();\r\n                        });\r\n                    }\r\n                    if(this.form.outpatientServiceRight.length==0 && this.form.hospitalServiceRight!=0){\r\n                        this.form.hospitalServiceRight.forEach(ite=>{\r\n                            sum1+=Number(ite.ratio)                        \r\n                            arr1.push({\r\n                                deptName:ite.dictLabel,\r\n                                deptCode:ite.dictValue,\r\n                                ratio:ite.ratio\r\n                            })\r\n                        })\r\n                        params={\r\n                            revenueCode:this.queryParams.revenueCode,\r\n                            pmsRevenueDepts:arr1,\r\n                            compCode:this.queryParams.compCode,\r\n                        }\r\n                        if(sum1>100){\r\n                            this.msgError(\"住院已选科室分摊比例的总和应小于或等于100\")\r\n                            return\r\n                        }else{\r\n                            let saveLoading = this.saveLoading();\r\n                            addDeptList(params).then(response => {\r\n                                this.msgSuccess(\"收入核算科室设置成功\");\r\n                                this.$emit(\"success\", false);\r\n                                saveLoading.close();\r\n                            });\r\n                        }\r\n                    }\r\n                    if(this.form.outpatientServiceRight.length!=0 && this.form.hospitalServiceRight==0){\r\n                        this.form.outpatientServiceRight.forEach(ite=>{\r\n                            sum+=Number(ite.ratio)\r\n                            arr.push({\r\n                                deptName:ite.dictLabel,\r\n                                deptCode:ite.dictValue,\r\n                                ratio:ite.ratio\r\n                            })\r\n                        })\r\n                        params={\r\n                            revenueCode:this.queryParams.revenueCode,\r\n                            pmsRevenueDepts:arr,\r\n                            compCode:this.queryParams.compCode,\r\n                        }\r\n                        if(sum>100){\r\n                            this.msgError(\"门诊已选科室分摊比例的总和应小于或等于100\")\r\n                            return\r\n                        }else{\r\n                            let saveLoading = this.saveLoading();\r\n                            addDeptList(params).then(response => {\r\n                                this.msgSuccess(\"收入核算科室设置成功\");\r\n                                this.$emit(\"success\", false);\r\n                                saveLoading.close();\r\n                            });\r\n                        }\r\n                    }\r\n                    if(this.form.outpatientServiceRight.length!=0 && this.form.hospitalServiceRight.length!=0){\r\n                        this.form.outpatientServiceRight.forEach(ite=>{\r\n                            sum+=Number(ite.ratio)\r\n                            arr.push({\r\n                                deptName:ite.dictLabel,\r\n                                deptCode:ite.dictValue,\r\n                                ratio:ite.ratio\r\n                            })\r\n                        })\r\n                        this.form.hospitalServiceRight.forEach(ite=>{\r\n                            sum1+=Number(ite.ratio)                        \r\n                            arr1.push({\r\n                                deptName:ite.dictLabel,\r\n                                deptCode:ite.dictValue,\r\n                                ratio:ite.ratio\r\n                            })\r\n                        })\r\n                        params={\r\n                            revenueCode:this.queryParams.revenueCode,\r\n                            pmsRevenueDepts:[...arr1,...arr],\r\n                            compCode:this.queryParams.compCode,\r\n                        }\r\n                        if(sum>100||sum1>100){\r\n                            this.msgError(\"门诊及住院已选科室分摊比例的总和应分别小于或等于100\")\r\n                            return\r\n                        }else{\r\n                            let saveLoading = this.saveLoading();\r\n                            addDeptList(params).then(response => {\r\n                                this.msgSuccess(\"收入核算科室设置成功\");\r\n                                this.$emit(\"success\", false);\r\n                                saveLoading.close();\r\n                            });\r\n                        }\r\n                    }\r\n                    \r\n                }\r\n            });\r\n        },\r\n      // 弹框关闭\r\n        handleDialogClose() {\r\n            this.$emit(\"cancel\", false);\r\n            this.reset()\r\n        },\r\n        // 取消\r\n        cancel() {\r\n            this.$emit(\"cancel\", false);\r\n            this.reset()\r\n        },\r\n    },\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n::v-deep .el-dialog{\r\n    .el-form-item__label{\r\n        width: 80px !important;\r\n    }\r\n    .el-form-item__content{\r\n        margin-left: 80px !important\r\n    }\r\n    .el-tabs__item.is-top{\r\n        font-size:16px;\r\n    }\r\n}\r\n.transfer{\r\n    width: 100%;\r\n    .transfer_left{\r\n        border: 1px solid #cccccc;\r\n        border-radius: 2%;\r\n        width: 45%;\r\n        float: left;\r\n        overflow: hidden;\r\n        height:500px;\r\n        .transfer_left_top{\r\n            padding: 0 10px;\r\n            p{\r\n                position: relative;\r\n                label{\r\n                    font-size: 16px;\r\n                    font-weight: normal;\r\n                    margin-left: 10px\r\n                }\r\n                span{\r\n                position: absolute;\r\n                right: 10px\r\n            }\r\n            }\r\n        }\r\n    }\r\n    .transfer_main{\r\n        width: 10%;\r\n        float: left;\r\n        line-height: 500px;\r\n        text-align: center;\r\n        position: relative;\r\n       ::v-deep .el-button-group .el-button--primary:first-child{\r\n           position: absolute;\r\n           top:40%;\r\n           left: 50%;\r\n           transform: translate(-50%,-50%);\r\n           border: 0;\r\n           border-radius: 4px;\r\n        }\r\n        ::v-deep .el-button-group .el-button--primary:last-child{\r\n           position: absolute;\r\n           top:50%;\r\n           left: 50%;\r\n           transform: translate(-50%,-50%);\r\n           border: 0;\r\n           border-radius: 4px;\r\n\r\n        }\r\n    }\r\n    .transfer_right{\r\n        border: 1px solid #cccccc;\r\n        border-radius: 2%;\r\n        width: 45%;\r\n        height: 500px;\r\n        overflow: hidden;\r\n        float: right;\r\n        .transfer_right_top{\r\n            padding: 0 10px;            \r\n            p{\r\n                position: relative;\r\n                label{\r\n                    font-weight: normal;\r\n                    font-size: 16px; \r\n                    margin-left: 10px\r\n                }\r\n                span{\r\n                    position: absolute;\r\n                    right: 10px\r\n                }\r\n            }\r\n        }\r\n    }\r\n    .checkbox_left{\r\n        margin-top: 10px;\r\n        padding:0 4px;\r\n        overflow: auto;\r\n        min-height:300px;\r\n    }\r\n}\r\n</style>"]}]}
{"remainingRequest":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\components\\loginCheck\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\components\\loginCheck\\index.vue","mtime":1693362205144},{"path":"F:\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKdmFyIF9saWNlbnNlID0gcmVxdWlyZSgiQC9hcGkvbGljZW5zZSIpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgcHJvcHM6IHsKICAgIG9wZW46IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBtY29kZTogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAiIgogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGNoZWNrT3BlbjogdGhpcy5vcGVuLAogICAgICBkaWFsb2dPcGVuOiBmYWxzZSwKICAgICAgYWN0aXZlRm9ybVJ1bGVzOiB7CiAgICAgICAgY29kZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgdHJpZ2dlcjogImJsdXIiLAogICAgICAgICAgbWVzc2FnZTogIuaOiOadg+eggeS4jeiDveS4uuepuiIKICAgICAgICB9XQogICAgICB9LAogICAgICAvLyDmjojmnYPlrprkuYkKICAgICAgYWN0aXZlRm9ybTogewogICAgICAgIG1jb2RlOiAiIiwKICAgICAgICBjb2RlOiAiIgogICAgICB9CiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgLy8g56Gu5a6a5r+A5rS7CiAgICBzdWJtaXRDaGVjazogZnVuY3Rpb24gc3VibWl0Q2hlY2soKSB7CiAgICAgIHRoaXMuZGlhbG9nT3BlbiA9IHRydWU7CiAgICAgIHRoaXMucmVzZXRGb3JtKCdhY3RpdmVGb3JtJyk7CiAgICAgIHRoaXMuYWN0aXZlRm9ybS5tY29kZSA9IHRoaXMubWNvZGU7CiAgICB9LAogICAgLy8g5o6I5p2D5r+A5rS7IOehruiupAogICAgc3VibWl0QWN0aXZlRm9ybTogZnVuY3Rpb24gc3VibWl0QWN0aXZlRm9ybSgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy4kcmVmcy5hY3RpdmVGb3JtLnZhbGlkYXRlKGZ1bmN0aW9uICh2YWxpZCkgewogICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgKDAsIF9saWNlbnNlLmFjdGl2ZSkoX3RoaXMuYWN0aXZlRm9ybS5jb2RlKS50aGVuKGZ1bmN0aW9uIChyKSB7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKCdhY3RpdmUgcmV0dXJuIGNvZGU6JyArIHIuY29kZSk7CiAgICAgICAgICAgIGlmIChyLmNvZGUgPT0gMCkgewogICAgICAgICAgICAgIF90aGlzLiRlbWl0KCJzdWNjZXNzIik7CiAgICAgICAgICAgICAgX3RoaXMuZGlhbG9nT3BlbiA9IGZhbHNlOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzLiRlbWl0KCJlcnJvciIsIHIubXNnKTsKICAgICAgICAgICAgICBfdGhpcy5kaWFsb2dPcGVuID0gZmFsc2U7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9LAogICAgLy8g5o+Q56S65YWz6ZetCiAgICBjbG9zZTogZnVuY3Rpb24gY2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcpOwogICAgfSwKICAgIC8vIOaOiOadg+a/gOa0u+WFs+mXrQogICAgY2xvc2VBY3RpdmVGb3JtOiBmdW5jdGlvbiBjbG9zZUFjdGl2ZUZvcm0oKSB7CiAgICAgIHRoaXMuZGlhbG9nT3BlbiA9IGZhbHNlOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;AA4BA;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACA;MACAC;MACAC;MACAC;QACAC,OACA;UAAAC;UAAAC;UAAAC;QAAA;MAEA;MACA;MACAC;QACAT;QACAK;MACA;IAEA;EACA;EACAK;IACA;IACAC;MACA;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACA;UACA;YACAC;YACA;cACA;cACA;YACA;cACA;cACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;EACA;AACA;AAAA","names":["props","open","type","default","mcode","data","checkOpen","dialogOpen","activeFormRules","code","required","trigger","message","activeForm","methods","submitCheck","submitActiveForm","console","close","closeActiveForm"],"sourceRoot":"src/views/components/loginCheck","sources":["index.vue"],"sourcesContent":["<template>\n  <div>\n    <el-theme-dialog title=\"提示\" :visible.sync=\"checkOpen\" width=\"300px\" append-to-body @close=\"close\">\n      <span>系统未授权，请激活！</span>\n      <span slot=\"footer\">\n        <el-button type=\"primary\" @click=\"submitCheck\">确 定</el-button>\n        <el-button @click=\"close\">取 消</el-button>\n      </span>\n    </el-theme-dialog>\n    <!-- 填写授权码对话框 -->\n    <el-theme-dialog title=\"授权激活\" :visible.sync=\"dialogOpen\" width=\"500px\" append-to-body>\n      <el-form ref=\"activeForm\" :model=\"activeForm\" :rules=\"activeFormRules\" label-width=\"100px\">\n        <el-form-item label=\"机器码\" prop=\"mcode\">\n          <el-input v-model=\"activeForm.mcode\" readonly=\"readonly\" />\n        </el-form-item>\n        <el-form-item label=\"授权码\" prop=\"code\">\n          <el-input type=\"textarea\" v-model=\"activeForm.code\" placeholder=\"请输入授权码\" />\n        </el-form-item>\n      </el-form>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitActiveForm\">确认激活</el-button>\n        <el-button @click=\"closeActiveForm\">关 闭</el-button>\n      </div>\n    </el-theme-dialog>\n  </div>\n</template>\n\n<script>\n  import {active} from '@/api/license';\n\n  export default {\n    props:{\n      open:{\n        type:Boolean,\n        default:false\n      },\n      mcode:{\n        type:[String,Number],\n        default:\"\"\n      }\n    },\n    data() {\n      return {\n        checkOpen:this.open,\n        dialogOpen:false,\n        activeFormRules: {\n          code: [\n            { required: true, trigger: \"blur\", message: \"授权码不能为空\" }\n          ]\n        },\n        // 授权定义\n        activeForm: {\n          mcode:\"\",\n          code:\"\"\n        },\n\n      };\n    },\n    methods: {\n      // 确定激活\n      submitCheck(){\n        this.dialogOpen = true;\n        this.resetForm('activeForm');\n        this.activeForm.mcode = this.mcode;\n      },\n      // 授权激活 确认\n      submitActiveForm() {\n        this.$refs.activeForm.validate(valid => {\n          if (valid) {\n            active(this.activeForm.code).then(r => {\n              console.log('active return code:' + r.code);\n              if(r.code == 0) {\n                this.$emit(\"success\")\n                this.dialogOpen = false;\n              } else {\n                this.$emit(\"error\", r.msg)\n                this.dialogOpen = false;\n              }\n            });\n          }\n        });\n      },\n      // 提示关闭\n      close() {\n        this.$emit('cancel');\n      },\n      // 授权激活关闭\n      closeActiveForm(){\n        this.dialogOpen = false;\n      }\n    }\n  };\n</script>\n"]}]}
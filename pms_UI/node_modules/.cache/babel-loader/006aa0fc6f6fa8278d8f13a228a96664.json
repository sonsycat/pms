{"remainingRequest":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\bonus\\personBonus\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\bonus\\personBonus\\index.vue","mtime":1682043107396},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\babel.config.js","mtime":1682043101067},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi95cytqeC95cytqeC96anJ5LXBtcy11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm51bWJlci50by1maXhlZC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMubnVtYmVyLmNvbnN0cnVjdG9yLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5yZWR1Y2UuanMiKTsKdmFyIF9jcmVhdGVGb3JPZkl0ZXJhdG9ySGVscGVyMiA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiRDoveXMrangveXMrangvempyeS1wbXMtdWkvbm9kZV9tb2R1bGVzL0BiYWJlbC9ydW50aW1lL2hlbHBlcnMvY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlci5qcyIpKTsKdmFyIF9kYXRlID0gcmVxdWlyZSgiQC91dGlscy9kYXRlIik7CnZhciBfYXVkaXQgPSByZXF1aXJlKCJAL2FwaS9ib251cy9hdWRpdCIpOwp2YXIgX2V2YWx1YXRlRGF0YVBlcnNvbiA9IHJlcXVpcmUoIkAvYXBpL2V2YWx1YXRlRGF0YS9ldmFsdWF0ZURhdGFQZXJzb24iKTsKdmFyIF9mb3JtSXRlbU5ldyA9IF9pbnRlcm9wUmVxdWlyZURlZmF1bHQocmVxdWlyZSgiQC92aWV3cy9jb21wb25lbnRzL2Zvcm1JdGVtTmV3IikpOwp2YXIgX2luZGV4ID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJAL3ZpZXdzL2JvbnVzLy9idG5zL2luZGV4MiIpKTsKdmFyIF91bnRpbCA9IHJlcXVpcmUoIkAvYXBpL3VudGlsIik7CnZhciBfdnVlSnNvbkV4Y2VsID0gX2ludGVyb3BSZXF1aXJlRGVmYXVsdChyZXF1aXJlKCJ2dWUtanNvbi1leGNlbCIpKTsKdmFyIF92dWUgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoInZ1ZSIpKTsKdmFyIF9zZWxlY3REb2N0b3IgPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIkAvdmlld3MvYm9udXMvcGVyc29uQm9udXMvc2VsZWN0RG9jdG9yIikpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwoKX3Z1ZS5kZWZhdWx0LmNvbXBvbmVudCgnZG93bmxvYWRFeGNlbCcsIF92dWVKc29uRXhjZWwuZGVmYXVsdCk7CnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAnRXZhbHVhdGVEYXRhJywKICBkZXB0Q29kZTogewogICAgdHlwZTogW1N0cmluZywgU3RyaW5nXSwKICAgIGRlZmF1bHQ6ICcnCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBmb3JtSXRlbTogX2Zvcm1JdGVtTmV3LmRlZmF1bHQsCiAgICBidG5zOiBfaW5kZXguZGVmYXVsdCwKICAgIHNlbGVjdExpc3Q6IF9zZWxlY3REb2N0b3IuZGVmYXVsdAogIH0sCiAgZmlsdGVyczogewogICAgdHJhbnNUb1ZhbHVlOiBmdW5jdGlvbiB0cmFuc1RvVmFsdWUodmFsLCBpbmRleCkgewogICAgICByZXR1cm4gdmFsW2luZGV4XTsKICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb21wdXRlZFN0YXR1czogZnVuY3Rpb24gY29tcHV0ZWRTdGF0dXMoKSB7CiAgICAgIHJldHVybiBmdW5jdGlvbiAocm93KSB7CiAgICAgICAgdmFyIHJlc3VsdCA9IDA7CiAgICAgICAgdmFyIF9pdGVyYXRvciA9ICgwLCBfY3JlYXRlRm9yT2ZJdGVyYXRvckhlbHBlcjIuZGVmYXVsdCkodGhpcy5pbmRleExpc3QpLAogICAgICAgICAgX3N0ZXA7CiAgICAgICAgdHJ5IHsKICAgICAgICAgIGZvciAoX2l0ZXJhdG9yLnMoKTsgIShfc3RlcCA9IF9pdGVyYXRvci5uKCkpLmRvbmU7KSB7CiAgICAgICAgICAgIHZhciB2ID0gX3N0ZXAudmFsdWU7CiAgICAgICAgICAgIHJlc3VsdCArPSBwYXJzZUZsb2F0KHJvd1t2Lmd1aWRlQ29kZV0pOwogICAgICAgICAgfQogICAgICAgIH0gY2F0Y2ggKGVycikgewogICAgICAgICAgX2l0ZXJhdG9yLmUoZXJyKTsKICAgICAgICB9IGZpbmFsbHkgewogICAgICAgICAgX2l0ZXJhdG9yLmYoKTsKICAgICAgICB9CiAgICAgICAgcm93LnRvdGFsID0gcmVzdWx0LnRvRml4ZWQoMik7CiAgICAgICAgcmV0dXJuIHJlc3VsdC50b0ZpeGVkKDIpOwogICAgICB9OwogICAgfSwKICAgIHN1bURhdGFMaXN0OiBmdW5jdGlvbiBzdW1EYXRhTGlzdCgpIHsKICAgICAgdGhpcy5zdW1EYXRhTGlzdF8ucHVzaCh7fSk7CiAgICAgIHRoaXMuc3VtRGF0YUxpc3RfLnB1c2godGhpcy5ib3R0b21Ub3RhbCk7CiAgICAgIHJldHVybiB0aGlzLnN1bURhdGFMaXN0XzsKICAgIH0sCiAgICBleGNlbE5hbWU6IGZ1bmN0aW9uIGV4Y2VsTmFtZSgpIHsKICAgICAgcmV0dXJuICLkurrlkZjlpZbph5EiICsgKDAsIF9kYXRlLmdldFllYXJNb250aDIpKCkgKyAiLnhscyI7CiAgICB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgd2F0Y2g6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBwcm9jZXNzT3BlbjogZmFsc2UsCiAgICAgIGhlaWdodDogJzUwMHB4OycsCiAgICAgIHNyYzogJycsCiAgICAgIHNob3dBdWRpdDogZmFsc2UsCiAgICAgIGlkOiAnJywKICAgICAgc2hvd0RpYWxvZzogZmFsc2UsCiAgICAgIHVzZXJPcHRpb25zOiBbXSwKICAgICAgYXVkaXRTdGF0ZTogJzAnLAogICAgICBzYXZlTG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOmBrue9qeWxggogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g5a+85Ye66YGu572p5bGCCiAgICAgIGV4cG9ydExvYWRpbmc6IGZhbHNlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g6Z2e5aSa5Liq56aB55SoCiAgICAgIG11bHRpcGxlOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g5oC75p2h5pWwCiAgICAgIHRvdGFsOiAwLAogICAgICAvLyDooajmoLzmlbDmja4KICAgICAgRXZhbHVhdGVEYXRhTGlzdDogW10sCiAgICAgIHN1bURhdGFMaXN0XzogW10sCiAgICAgIHNlbGVjdGlvblJvdzogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogJycsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMzAsCiAgICAgICAgY29tcENvZGU6IG51bGwsCiAgICAgICAgZGVwdENvZGU6IG51bGwsCiAgICAgICAgZGVwdE5hbWU6IG51bGwsCiAgICAgICAgYWNjb3VudENvZGU6IG51bGwsCiAgICAgICAgZ3VpZGVDb2RlOiBudWxsLAogICAgICAgIGd1aWRlVmFsdWU6IG51bGwsCiAgICAgICAgZGVsRmxhZzogbnVsbCwKICAgICAgICBhY3REYXRlOiAoMCwgX2RhdGUuZ2V0WWVhck1vbnRoMikoKSArICctMDEnLAogICAgICAgIGNyZWF0ZUJ5OiBudWxsLAogICAgICAgIGNyZWF0ZVRpbWU6IG51bGwsCiAgICAgICAgdXBkYXRlQnk6IG51bGwsCiAgICAgICAgdXBkYXRlVGltZTogbnVsbCwKICAgICAgICByZW1hcms6IG51bGwsCiAgICAgICAgZGVwdFR5cGU6IG51bGwKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHsKICAgICAgICBwcm9jZWR1cmVJZDogbnVsbCwKICAgICAgICBhc3NpZ25lZTogbnVsbAogICAgICB9LAogICAgICAvL+exu+WeiwogICAgICBpbmRleExpc3Q6IFtdLAogICAgICBuZXh0QXNzaWduZWU6IFtdLAogICAgICAvLyDmjInpkq7nvJbnoIEKICAgICAgYnRuMTogZmFsc2UsCiAgICAgIGJ0bjI6IGZhbHNlLAogICAgICBidG4zOiBmYWxzZSwKICAgICAgYnRuNDogZmFsc2UsCiAgICAgIGJ0bjU6IGZhbHNlLAogICAgICBjb21tZW50OiAnJywKICAgICAgcHJvY2xuc0lkczogJycsCiAgICAgIGRhdGFzOiB7fSwKICAgICAgLy8g5Yy755Sf6YCJ5oup5piv5ZCm5by55Ye6CiAgICAgIG9wZW5TZWxlY3Q6IGZhbHNlLAogICAgICBkb2N0b3JPcGVuOiBmYWxzZSwKICAgICAgZG9jUGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogMjAKICAgICAgfSwKICAgICAgZG9jdG9yTGlzdDogW10sCiAgICAgIGRvY1RvdGFsOiAwLAogICAgICAvL+ihqOagvOagh+mimAogICAgICB0YWJsZVRpdGxlOiAi5Lq65ZGY5aWW6YeR5pWw5o2uIiwKICAgICAgLy/ooajmoLzmlbDmja4KICAgICAganNvbkZpZWxkczogewogICAgICAgICLnp5HlrqTlkI3np7AiOiAnZGVwdFJvb21OYW1lJywKICAgICAgICAi5Lq65ZGY5aeT5ZCNIjogJ2RvY05hbWUnCiAgICAgIH0sCiAgICAgIGJvdHRvbVRvdGFsOiB7CiAgICAgICAgZGVwdFJvb21OYW1lOiAi5ZCI6K6hIiwKICAgICAgICBkb2NOYW1lOiAiIiwKICAgICAgICB0b3RhbDogMAogICAgICB9CiAgICB9OwogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGVwdCgpOwogICAgdGhpcy5nZXREZXRhaWxJbmZvKCk7CiAgfSwKICBtZXRob2RzOiB7CiAgICAvKiog5p+l6K+i56eR5a6k5a+55bqU5Lq65ZGY55qE5aWW6YeR5oyH5qCHICovZ2V0RGVwdDogZnVuY3Rpb24gZ2V0RGVwdCgpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5hY3REYXRlID0gdGhpcy4kcm91dGUucGFyYW1zLmFjdERhdGU7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMubm93RGF0ZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5hY3REYXRlOwogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLmRlcHRDb2RlID0gdGhpcy4kcm91dGUucGFyYW1zLmRlcHRDb2RlOwogICAgICAoMCwgX2V2YWx1YXRlRGF0YVBlcnNvbi5nZXRBY2NvdW50UGVyc29uKSh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzLmluZGV4TGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgICAgX3RoaXMuZ2V0TGlzdCgpOwogICAgICAgIF90aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAogICAgLyoqIOafpeivouenkeWupOWvueW6lOS6uuWRmOeahOWllumHkeaVsOaNriAqL2dldExpc3Q6IGZ1bmN0aW9uIGdldExpc3QoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICBpZiAoIXRoaXMucXVlcnlQYXJhbXMuYWN0RGF0ZSkgewogICAgICAgIHRoaXMucXVlcnlQYXJhbXMuYWN0RGF0ZSA9ICgwLCBfZGF0ZS5nZXRZZWFyTW9udGgyKSgpICsgJy0wMSc7CiAgICAgIH0KICAgICAgdGhpcy5xdWVyeVBhcmFtcy5kZXB0Q29kZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5kZXB0Q29kZTsKICAgICAgKDAsIF9ldmFsdWF0ZURhdGFQZXJzb24ubGlzdFBlcnNvbkJvbnVzKSh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5FdmFsdWF0ZURhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgICBfdGhpczIudGFibGVEb0xheW91dCgpOwogICAgICAgIF90aGlzMi5zdW1EYXRhTGlzdF8gPSBbXS5jb25jYXQocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgZm9yICh2YXIgZXZhIGluIF90aGlzMi5FdmFsdWF0ZURhdGFMaXN0KSB7CiAgICAgICAgICBpZiAoX3RoaXMyLkV2YWx1YXRlRGF0YUxpc3RbZXZhXVsncmVtYXJrJ10gPT0gJycgfHwgX3RoaXMyLkV2YWx1YXRlRGF0YUxpc3RbZXZhXVsncmVtYXJrJ10gPT0gbnVsbCkgewogICAgICAgICAgICBfdGhpczIuRXZhbHVhdGVEYXRhTGlzdFtldmFdWydyZW1hcmsnXSA9ICcwJzsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgX3RoaXMyLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICAgIGZvciAodmFyIGluZGV4IGluIHRoaXMuaW5kZXhMaXN0KSB7CiAgICAgICAgdGhpcy5qc29uRmllbGRzW3RoaXMuaW5kZXhMaXN0W2luZGV4XS5pbmRleE5hbWVdID0gdGhpcy5pbmRleExpc3RbaW5kZXhdLmd1aWRlQ29kZTsKICAgICAgfQogICAgICB0aGlzLmpzb25GaWVsZHNbIuWQiOiuoSJdID0gInRvdGFsIjsKICAgIH0sCiAgICBzdWNjZXNzU3VibWl0OiBmdW5jdGlvbiBzdWNjZXNzU3VibWl0KGZsYWcpIHsKICAgICAgdGhpcy5vcGVuID0gZmxhZzsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWxTZWxlY3Q6IGZ1bmN0aW9uIGNhbmNlbFNlbGVjdCgpIHsKICAgICAgdGhpcy5vcGVuU2VsZWN0ID0gZmFsc2U7CiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldDogZnVuY3Rpb24gcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBjb21wQ29kZTogbnVsbCwKICAgICAgICBkZXB0TmFtZTogbnVsbCwKICAgICAgICBhY2NvdW50Q29kZTogbnVsbCwKICAgICAgICBndWlkZUNvZGU6IG51bGwsCiAgICAgICAgZ3VpZGVWYWx1ZTogbnVsbCwKICAgICAgICBkZWxGbGFnOiBudWxsLAogICAgICAgIGFjdERhdGU6IG51bGwsCiAgICAgICAgY3JlYXRlQnk6IG51bGwsCiAgICAgICAgY3JlYXRlVGltZTogbnVsbCwKICAgICAgICB1cGRhdGVCeTogbnVsbCwKICAgICAgICB1cGRhdGVUaW1lOiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgnZm9ybScpOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi9oYW5kbGVRdWVyeTogZnVuY3Rpb24gaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi9yZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgncXVlcnlGb3JtJyk7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICByZXR1cm4gaXRlbS5kb2NDb2RlOwogICAgICB9KTsKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGg7CiAgICAgIHRoaXMuc2VsZWN0aW9uUm93ID0gc2VsZWN0aW9uOwogICAgfSwKICAgIHJvd0NsaWNrOiBmdW5jdGlvbiByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgdmFyIHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlOwogICAgICB2YXIgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93LmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICByZXR1cm4gYy5yb3dJbmRleCA9PSByb3cucm93SW5kZXg7CiAgICAgIH0pOwogICAgICBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvdy5sZW5ndGggPT0gMSkgewogICAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIGZhbHNlKTsKICAgICAgICByZXR1cm47CiAgICAgIH0KICAgICAgcmVmc0VsVGFibGUuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7CiAgICB9LAogICAgcm93U3R5bGU6IGZ1bmN0aW9uIHJvd1N0eWxlKF9yZWYpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYucm93LAogICAgICAgIHJvd0luZGV4ID0gX3JlZi5yb3dJbmRleDsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdywgJ3Jvd0luZGV4JywgewogICAgICAgIHZhbHVlOiByb3dJbmRleCwKICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgICB9KTsKICAgIH0sCiAgICByb3dDbGFzc05hbWU6IGZ1bmN0aW9uIHJvd0NsYXNzTmFtZShfcmVmMikgewogICAgICB2YXIgcm93ID0gX3JlZjIucm93LAogICAgICAgIHJvd0luZGV4ID0gX3JlZjIucm93SW5kZXg7CiAgICAgIHZhciByb3dOYW1lID0gJycsCiAgICAgICAgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93LmZpbmQoZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIHJldHVybiBjLnJvd0luZGV4ID09PSByb3cucm93SW5kZXg7CiAgICAgICAgfSk7CiAgICAgIGlmIChmaW5kUm93KSB7CiAgICAgICAgcm93TmFtZSA9ICdjdXJyZW50LXJvdyAnOwogICAgICB9CiAgICAgIHJldHVybiByb3dOYW1lOwogICAgfSwKICAgIC8qKiDmlrDlop7kurrlkZjmjInpkq7mk43kvZwgKi9oYW5kbGVBZGQ6IGZ1bmN0aW9uIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5kb2N0b3JMaXN0ID0gdGhpcy5FdmFsdWF0ZURhdGFMaXN0OwogICAgICB0aGlzLm9wZW5TZWxlY3QgPSB0cnVlOyAvLyDlvLnmoYbngrnlvIAKICAgIH0sCiAgICB0YWJsZVJvd0NsYXNzTmFtZTogZnVuY3Rpb24gdGFibGVSb3dDbGFzc05hbWUoX3JlZjMpIHsKICAgICAgdmFyIHJvdyA9IF9yZWYzLnJvdywKICAgICAgICByb3dJbmRleCA9IF9yZWYzLnJvd0luZGV4OwogICAgICByb3cucm93X2luZGV4ID0gcm93SW5kZXg7CiAgICB9LAogICAgLy8g5Yy755Sf6K6+572u5Y2V6YCJCiAgICBoYW5kbGVTZWxlY3Rpb25Eb2NDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZVNlbGVjdGlvbkRvY0NoYW5nZShzZWxlY3Rpb24sIHJvdykgewogICAgICB0aGlzLnNpbmdsZVRhYmxlKHJvdyk7CiAgICB9LAogICAgaGFuZGxlRG9jUm93Q2xpY2s6IGZ1bmN0aW9uIGhhbmRsZURvY1Jvd0NsaWNrKHJvdykgewogICAgICB0aGlzLnNpbmdsZVRhYmxlKHJvdyk7CiAgICB9LAogICAgc2luZ2xlVGFibGU6IGZ1bmN0aW9uIHNpbmdsZVRhYmxlKHJvdykgewogICAgICB2YXIgdGFibGVSZWYgPSB0aGlzLiRyZWZzLml0c21EYXRhVGFibGU7CiAgICAgIHRhYmxlUmVmLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIGlmICh0aGlzLmN1cnJlbnRSb3dJbmRleCA9PSByb3cucm93X2luZGV4KSB7CiAgICAgICAgdGFibGVSZWYudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOwogICAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4ID0gbnVsbDsKICAgICAgICB0aGlzLmRvY1NlbGVjdERhdGEgPSBudWxsOwogICAgICB9IGVsc2UgewogICAgICAgIHRhYmxlUmVmLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3cpOwogICAgICAgIHRoaXMuY3VycmVudFJvd0luZGV4ID0gcm93LnJvd19pbmRleDsKICAgICAgICB0aGlzLmRvY1NlbGVjdERhdGEgPSByb3c7CiAgICAgIH0KICAgIH0sCiAgICBzZXhGb3JtYXQ6IGZ1bmN0aW9uIHNleEZvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy5zZXhPcHRpb25zLCByb3cuZ2VuZGVyKTsKICAgIH0sCiAgICAvKiog5Yig6Zmk5oyJ6ZKu5pON5L2cICovaGFuZGxlRGVsZXRlOiBmdW5jdGlvbiBoYW5kbGVEZWxldGUoKSB7CiAgICAgIHZhciBpZHMgPSB0aGlzLmlkczsKICAgICAgLy8g5Y6f5aeL5pWw5o2u5LiN6IO95Yig6ZmkIOWPquWPr+WIoOmZpOaWsOWinuS6uuWRmOaVsOaNrgogICAgICBmb3IgKHZhciBpID0gdGhpcy5FdmFsdWF0ZURhdGFMaXN0Lmxlbmd0aCAtIDE7IGkgPj0gMDsgaS0tKSB7CiAgICAgICAgaWYgKGlkcy5pbmRleE9mKHRoaXMuRXZhbHVhdGVEYXRhTGlzdFtpXS5kb2NDb2RlKSA+IC0xKSB7CiAgICAgICAgICBpZiAodGhpcy5FdmFsdWF0ZURhdGFMaXN0W2ldLnJlbWFyayA9PSAnMCcpIHsKICAgICAgICAgICAgdGhpcy5tc2dFcnJvcign5aeT5ZCN5Li677yaJyArIHRoaXMuRXZhbHVhdGVEYXRhTGlzdFtpXS5kb2NOYW1lICsgJ+eahOS6uuWRmOaVsOaNruS4jeWFgeiuuOWIoOmZpO+8gScpOwogICAgICAgICAgICByZXR1cm47CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9CiAgICAgIGZvciAodmFyIF9pID0gdGhpcy5FdmFsdWF0ZURhdGFMaXN0Lmxlbmd0aCAtIDE7IF9pID49IDA7IF9pLS0pIHsKICAgICAgICBpZiAoaWRzLmluZGV4T2YodGhpcy5FdmFsdWF0ZURhdGFMaXN0W19pXS5kb2NDb2RlKSA+IC0xKSB7CiAgICAgICAgICBpZiAodGhpcy5FdmFsdWF0ZURhdGFMaXN0W19pXS5yZW1hcmsgPT0gJzEnKSB7CiAgICAgICAgICAgIHRoaXMuRXZhbHVhdGVEYXRhTGlzdC5zcGxpY2UoX2ksIDEpOwogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIC8qKiDlr7zlh7rmjInpkq7mk43kvZwgKi9oYW5kbGVFeHBvcnQ6IGZ1bmN0aW9uIGhhbmRsZUV4cG9ydCgpIHsKICAgICAgdmFyIF90aGlzMyA9IHRoaXM7CiAgICAgIHZhciBxdWVyeVBhcmFtcyA9IHRoaXMucXVlcnlQYXJhbXM7CiAgICAgIHRoaXMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWvvOWHuuenkeWupOWllumHkeaVsOaNrumhuT8nLCAn6K2m5ZGKJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgZm9yICh2YXIgaW5kZXggaW4gX3RoaXMzLmluZGV4TGlzdCkgewogICAgICAgICAgX3RoaXMzLmpzb25GaWVsZHMucHVzaChfdGhpczMuaW5kZXhMaXN0W2luZGV4XS5ndWlkZUNvZGUsIF90aGlzMy5pbmRleExpc3RbaW5kZXhdLmd1aWRlQ29kZSk7CiAgICAgICAgfQogICAgICAgIF90aGlzMy5leHBvcnRMb2FkaW5nID0gdHJ1ZTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIC8vIOi/lOWbngogICAgZ29CYWNrOiBmdW5jdGlvbiBnb0JhY2soKSB7CiAgICAgIC8vIOWFs+mXreW9k+WJjemhtemdogogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgndGFnc1ZpZXcvZGVsVmlldycsIHRoaXMuJHJvdXRlKTsKICAgICAgLy8g6L+U5Zue5LiK5LiA6aG16Z2iCiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSk7CiAgICB9LAogICAgcGFja2FnZURhdGE6IGZ1bmN0aW9uIHBhY2thZ2VEYXRhKCkgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKICAgICAgdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlLmRhdGEuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0udW5pdENvZGUgPSBpdGVtLmRvY0NvZGU7CiAgICAgICAgaXRlbS5kZXB0Q29kZSA9IGl0ZW0uZGVwdFJvb21Db2RlOwogICAgICAgIGl0ZW0uYWN0RGF0ZSA9IF90aGlzNC5xdWVyeVBhcmFtcy5hY3REYXRlOwogICAgICB9KTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgZGF0YTogdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlLmRhdGEsCiAgICAgICAgYXVkaXQ6IHsKICAgICAgICAgIGRlcHRDb2RlOiB0aGlzLiRyb3V0ZS5wYXJhbXMuZGVwdENvZGUsCiAgICAgICAgICBub3dEYXRlOiB0aGlzLnF1ZXJ5UGFyYW1zLmFjdERhdGUsCiAgICAgICAgICBjb21tZW50OiB0aGlzLmZvcm0uY29tbWVudCwKICAgICAgICAgIGFzc2lnbmVlOiB0aGlzLmZvcm0uYXNzaWduZWUKICAgICAgICB9CiAgICAgIH07CiAgICAgIHJldHVybiBkYXRhOwogICAgfSwKICAgIGhhbmRsZVNhdmU6IGZ1bmN0aW9uIGhhbmRsZVNhdmUoKSB7CiAgICAgIHZhciBfdGhpczUgPSB0aGlzOwogICAgICB2YXIgZGF0YSA9IHRoaXMucGFja2FnZURhdGEoKTsKICAgICAgaWYgKCFkYXRhLmRhdGEgfHwgZGF0YS5kYXRhLmxlbmd0aCA8IDEpIHsKICAgICAgICB0aGlzLm1zZ0Vycm9yKCfnvLrlsJHmlbDmja4s5peg5rOV5L+d5a2YJyk7CiAgICAgICAgcmV0dXJuIGZhbHNlOwogICAgICB9CiAgICAgIGRhdGEuaXNDb21taXQgPSBmYWxzZTsKICAgICAgdGhpcy5zYXZlTG9hZGluZyA9IHRydWU7CiAgICAgICgwLCBfYXVkaXQuYWRkQXVkaXQpKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXM1Lm1zZ1N1Y2Nlc3MoJ+S/neWtmOaIkOWKnycpOwogICAgICAgIF90aGlzNS5zYXZlTG9hZGluZyA9IGZhbHNlOwogICAgICAgIF90aGlzNS5hdWRpdFN0YXRlID0gJzAnOwogICAgICAgIF90aGlzNS5nZXREZXRhaWxJbmZvKCk7CiAgICAgICAgX3RoaXM1LnNob3dEaWFsb2cgPSB0cnVlOwogICAgICB9KTsKICAgIH0sCiAgICBoYW5kbGVDb21taXQ6IGZ1bmN0aW9uIGhhbmRsZUNvbW1pdCgpIHsKICAgICAgaWYgKHRoaXMucHJvY2xuc0lkcyA9PT0gbnVsbCB8fCB0aGlzLnByb2NsbnNJZHMgPT09ICcnKSB7CiAgICAgICAgdGhpcy5oYW5kbGVTYXZlKCk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5zaG93RGlhbG9nID0gdHJ1ZTsKICAgICAgfQogICAgfSwKICAgIGZvcm1JdGVtU3VjY2VzczogZnVuY3Rpb24gZm9ybUl0ZW1TdWNjZXNzKCkgewogICAgICB2YXIgX3RoaXM2ID0gdGhpczsKICAgICAgdmFyIGRhdGEgPSB0aGlzLnBhY2thZ2VEYXRhKCk7CiAgICAgIGRhdGEuaXNDb21taXQgPSB0cnVlOwogICAgICB0aGlzLnNhdmVMb2FkaW5nID0gdHJ1ZTsKICAgICAgKDAsIF9hdWRpdC5hZGRBdWRpdCkoZGF0YSkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczYubXNnU3VjY2Vzcygn5o+Q5Lqk5oiQ5YqfJyk7CiAgICAgICAgX3RoaXM2LnNhdmVMb2FkaW5nID0gZmFsc2U7CiAgICAgICAgX3RoaXM2LmF1ZGl0U3RhdGUgPSAnMSc7CiAgICAgIH0pOwogICAgfSwKICAgIGdldERldGFpbEluZm86IGZ1bmN0aW9uIGdldERldGFpbEluZm8oKSB7CiAgICAgIHZhciBfdGhpczcgPSB0aGlzOwogICAgICAoMCwgX2F1ZGl0Lmxpc3RBdWRpdCkoewogICAgICAgIGRlcHRDb2RlOiB0aGlzLiRyb3V0ZS5wYXJhbXMuZGVwdENvZGUsCiAgICAgICAgbm93RGF0ZTogdGhpcy5xdWVyeVBhcmFtcy5hY3REYXRlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLnJvd3MubGVuZ3RoID4gMCkgewogICAgICAgICAgdmFyIGF1ZGl0ID0gcmVzcG9uc2Uucm93c1swXTsKICAgICAgICAgIHZhciB0aGF0ID0gX3RoaXM3OwogICAgICAgICAgdmFyIHByb2NsbnNJZHMgPSBhdWRpdC5wcm9jZWR1cmVJZDsKICAgICAgICAgIF90aGlzNy5wcm9jbG5zSWRzID0gYXVkaXQucHJvY2VkdXJlSWQ7CiAgICAgICAgICBfdGhpczcuZm9ybS5wcm9jZWR1cmVJZCA9IF90aGlzNy5wcm9jbG5zSWRzOwogICAgICAgICAgX3RoaXM3LmlkID0gYXVkaXQuaWQ7CiAgICAgICAgICBfdGhpczcuYXVkaXRTdGF0ZSA9IGF1ZGl0LmF1ZGl0U3RhdGU7CiAgICAgICAgICAoMCwgX3VudGlsLmdldEVtcExpc3QpKHRoYXQsIF90aGlzNy4kc3RvcmUuc3RhdGUudXNlci5uYW1lLCBwcm9jbG5zSWRzLCBfdGhpczcudXNlck9wdGlvbnMsIF90aGlzNy5idG4xLCBfdGhpczcuYnRuMiwgX3RoaXM3LmJ0bjMsIF90aGlzNy5idG40LCBfdGhpczcuYnRuNSk7CiAgICAgICAgfQogICAgICB9KTsKICAgIH0sCiAgICAvKiog5rWB6L2s5Y6G5Y+y5Yid5aeL5YyWICovcHJvY2Vzc0V4YW1pbmVGb3JtMjogZnVuY3Rpb24gcHJvY2Vzc0V4YW1pbmVGb3JtMigpIHsKICAgICAgdGhpcy5zcmMgPSAiIi5jb25jYXQodGhpcy5wcm9jZXNzVXJsLCAiL2FwaS93Zi9wcm9jZXNzSGlzdG9yaWM/cHJvY0luc0lkPSIpLmNvbmNhdCh0aGlzLnByb2NsbnNJZHMpOwogICAgfSwKICAgIC8qKiDmtYHovazljoblj7LmjInpkq7mk43kvZwgKi9wcm9jZXNzRXhhbWluZTogZnVuY3Rpb24gcHJvY2Vzc0V4YW1pbmUoKSB7CiAgICAgIHZhciBwcm9jZWR1cmVJZCA9IHRoaXMucHJvY2xuc0lkczsKICAgICAgaWYgKHByb2NlZHVyZUlkID09IG51bGwgfHwgIXByb2NlZHVyZUlkKSB7CiAgICAgICAgdGhpcy5tc2dFcnJvcign5rKh5pyJ5rWB6L2s5Y6G5Y+y5pWw5o2u77yBJyk7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wcm9jZXNzRXhhbWluZUZvcm0yKCk7CiAgICAgICAgdGhpcy5wcm9jZXNzT3BlbiA9IHRydWU7CiAgICAgIH0KICAgIH0sCiAgICAvKiog5re75Yqg5Lq65ZGYICovZG9jQ29kZUxpc3Q6IGZ1bmN0aW9uIGRvY0NvZGVMaXN0KGRhdGEpIHsKICAgICAgZm9yICh2YXIgZCBpbiBkYXRhWzBdKSB7CiAgICAgICAgdmFyIHRhYmxlQ29sID0gewogICAgICAgICAgZGVwdFJvb21Db2RlOiB0aGlzLkV2YWx1YXRlRGF0YUxpc3RbMF0uZGVwdFJvb21Db2RlLAogICAgICAgICAgZGVwdFJvb21OYW1lOiB0aGlzLkV2YWx1YXRlRGF0YUxpc3RbMF0uZGVwdFJvb21OYW1lLAogICAgICAgICAgZG9jQ29kZTogZGF0YVswXVtkXS5kb2NDb2RlLAogICAgICAgICAgZG9jTmFtZTogZGF0YVswXVtkXS5kb2NOYW1lCiAgICAgICAgfTsKICAgICAgICBmb3IgKHZhciBpbmRleCBpbiB0aGlzLmluZGV4TGlzdCkgewogICAgICAgICAgdGFibGVDb2xbdGhpcy5pbmRleExpc3RbaW5kZXhdLmd1aWRlQ29kZV0gPSAwOwogICAgICAgICAgLy8g5paw5aKe5Lq65ZGY5qCH6K+G5Li6Me+8jOWPr+S7pei/m+ihjOWIoOmZpOaTjeS9nAogICAgICAgICAgdGFibGVDb2xbJ3JlbWFyayddID0gJzEnOwogICAgICAgIH0KICAgICAgICB0aGlzLkV2YWx1YXRlRGF0YUxpc3QucHVzaCh0YWJsZUNvbCk7CiAgICAgIH0KICAgIH0sCiAgICBnZXRTdW1tYXJpZXM6IGZ1bmN0aW9uIGdldFN1bW1hcmllcyhwYXJhbSkgewogICAgICB2YXIgX3RoaXM4ID0gdGhpczsKICAgICAgdmFyIGNvbHVtbnMgPSBwYXJhbS5jb2x1bW5zLAogICAgICAgIGRhdGEgPSBwYXJhbS5kYXRhOwogICAgICB2YXIgc3VtcyA9IFtdOwogICAgICBjb2x1bW5zLmZvckVhY2goZnVuY3Rpb24gKGNvbHVtbiwgaW5kZXgpIHsKICAgICAgICBpZiAoaW5kZXggPT09IDApIHsKICAgICAgICAgIHN1bXNbaW5kZXhdID0gJ+WQiOiuoSc7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICAgIHZhciB2YWx1ZXMgPSBkYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgcmV0dXJuIE51bWJlcihpdGVtW2NvbHVtbi5wcm9wZXJ0eV0pOwogICAgICAgIH0pOwogICAgICAgIGlmICghdmFsdWVzLmV2ZXJ5KGZ1bmN0aW9uICh2YWx1ZSkgewogICAgICAgICAgcmV0dXJuIGlzTmFOKHZhbHVlKTsKICAgICAgICB9KSkgewogICAgICAgICAgc3Vtc1tpbmRleF0gPSB2YWx1ZXMucmVkdWNlKGZ1bmN0aW9uIChwcmV2LCBjdXJyKSB7CiAgICAgICAgICAgIHZhciB2YWx1ZSA9IE51bWJlcihjdXJyKTsKICAgICAgICAgICAgaWYgKCFpc05hTih2YWx1ZSkpIHsKICAgICAgICAgICAgICByZXR1cm4gcHJldiArIGN1cnI7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgcmV0dXJuIHByZXY7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0sIDApOwogICAgICAgICAgaWYgKGNvbHVtbi5wcm9wZXJ0eSAhPSAiZGVwdFJvb21OYW1lIiAmJiBjb2x1bW4ucHJvcGVydHkgIT0gImRvY05hbWUiKSB7CiAgICAgICAgICAgIF90aGlzOC5ib3R0b21Ub3RhbFtjb2x1bW4ucHJvcGVydHldID0gcGFyc2VGbG9hdChzdW1zW2luZGV4XSk7CiAgICAgICAgICB9CiAgICAgICAgICBzdW1zW2luZGV4XSA9IHN1bXNbaW5kZXhdLnRvRml4ZWQoMik7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHN1bXNbaW5kZXhdID0gJ04vQSc7CiAgICAgICAgfQogICAgICB9KTsKICAgICAgcmV0dXJuIHN1bXM7CiAgICB9LAogICAgdGFibGVEb0xheW91dDogZnVuY3Rpb24gdGFibGVEb0xheW91dCgpIHsKICAgICAgdmFyIF90aGlzOSA9IHRoaXM7CiAgICAgIGlmICh0aGlzLiRyZWZzLm11bHRpcGxlVGFibGUpIHsKICAgICAgICB0aGlzLiRuZXh0VGljayhmdW5jdGlvbiAoKSB7CiAgICAgICAgICBfdGhpczkuJHJlZnMubXVsdGlwbGVUYWJsZS5kb0xheW91dCgpOwogICAgICAgIH0pOwogICAgICB9CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;AAqJA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AACAA;AAAA,eAEA;EACAC;EACAC;IACAC;IACAC;EACA;EACAC;IACAC;IAAAC;IAAAC;EACA;EACAC;IACAC;MACA;IACA;EACA;EACAC;IACAC;MACA;QACA;QAAA,yDACA;UAAA;QAAA;UAAA;YAAA;YACAC;UACA;QAAA;UAAA;QAAA;UAAA;QAAA;QACAC;QACA;MAEA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC,6BAEA;EACAC,QAEA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;QACA1C;QACA2C;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;QAAAC;QAAAC;MAAA;MACA;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACAC;MACAC;QACA9B;QACAC;MACA;MACA8B;MACAC;MACA;MACAC;MACA;MACAC;QACA;QACA;MACA;MACAC;QACAC;QACAC;QACA5C;MACA;IACA;EACA;EACA6C;IACA;IACA;EAEA;EACAC;IACA,oBACAC;MAAA;MACA;MACA;MACA;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IAEA,oBACAC;MAAA;MACA;MACA;QACA;MACA;MACA;MACA;QACA;QACA;QACA;QACA;UACA;YACA;UACA;QACA;QACA;MACA;MACA;QACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACA/D;QACAoB;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;IACA,aACAiC;MACA;MACA;IACA;IACA,aACAC;MACA;MACA;IACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;QACAC;QACA;MACA;MACAA;MACAA;IACA;IACAC;MAAA;QAAAC;MACAC;QACAC;QACAC;QACAC;MACA;IACA;IACAC;MAAA;QAAAL;MACA;QACAM;UAAA;QAAA;MACA;QACAC;MACA;MACA;IACA;IACA,eACAC;MACA;MACA;IACA;IACAC;MAAA;QAAAT;MACAhF;IACA;IACA;IACA0F;MACA;IACA;IACAC;MACA;IACA;IACAC;MACA;MACAC;MACA;QACAA;QACA;QACA;MACA;QACAA;QACA;QACA;MACA;IACA;IACAC;MACA;IACA;IACA,aACAC;MACA;MACA;MACA;QACA;UACA;YACA;YACA;UACA;QACA;MACA;MACA;QACA;UACA;YACA;UACA;QACA;MACA;IACA;IACA,aACAC;MAAA;MACA;MACA;QACAC;QACAC;QACA7G;MACA;QACA;UACA;QACA;QACA;MACA,sBACA;IACA;IAEA;IACA8G;MACA;MACA;MACA;MACA;IACA;IACAC;MAAA;MAEA;QACAC;QACAA;QACAA;MACA;MAEA;QACAhG;QACAiG;UACAlH;UACAmH;UACAlD;UACAR;QACA;MACA;MACA;IACA;IACA2D;MAAA;MACA;MACA;QACA;QACA;MACA;MACAnG;MACA;MACA;QACA;QACA;QACA;QACA;QACA;MACA;IACA;IACAoG;MACA;QACA;MACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACArG;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IACAsG;MAAA;MACA;QACAvH;QACAmH;MACA;QACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA;UACA,uBACAK,MACA,+BACAtD,YACA,oBACA,aACA,aACA,aACA,aACA,YACA;QACA;MACA;IACA;IACA,cACAuD;MACA,qBACA;IACA;IACA,eACAC;MACA;MACA;QACA;MACA;QACA;QACA;MACA;IACA;IACA,WACAC;MACA;QACA;UACAC;UACAhD;UACAiD;UACAhD;QACA;QACA;UACAiD;UACA;UACAA;QACA;QACA;MACA;IACA;IACAC;MAAA;MACA;QAAA9G;MACA;MACA+G;QACA;UACAC;UACA;QACA;QACA;UAAA;QAAA;QACA;UAAA;QAAA;UACAA;YACA;YACA;cACA;YACA;cACA;YACA;UACA;UACA;YACA;UACA;UACAA;QACA;UACAA;QACA;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA","names":["Vue","name","deptCode","type","default","components","formItem","btns","selectList","filters","transToValue","computed","computedStatus","result","row","sumDataList","excelName","mounted","watch","data","processOpen","height","src","showAudit","id","showDialog","userOptions","auditState","saveLoading","loading","exportLoading","ids","single","multiple","showSearch","total","EvaluateDataList","sumDataList_","selectionRow","title","open","queryParams","pageNum","pageSize","compCode","deptName","accountCode","guideCode","guideValue","delFlag","actDate","createBy","createTime","updateBy","updateTime","remark","deptType","form","procedureId","assignee","indexList","nextAssignee","btn1","btn2","btn3","btn4","btn5","comment","proclnsIds","datas","openSelect","doctorOpen","docParams","doctorList","docTotal","tableTitle","jsonFields","bottomTotal","deptRoomName","docName","created","methods","getDept","getList","successSubmit","cancel","cancelSelect","reset","handleQuery","resetQuery","handleSelectionChange","rowClick","refsElTable","rowStyle","rowIndex","Object","value","writable","enumerable","rowClassName","findRow","rowName","handleAdd","tableRowClassName","handleSelectionDocChange","handleDocRowClick","singleTable","tableRef","sexFormat","handleDelete","handleExport","confirmButtonText","cancelButtonText","goBack","packageData","item","audit","nowDate","handleSave","handleCommit","formItemSuccess","getDetailInfo","that","processExamineForm2","processExamine","docCodeList","deptRoomCode","docCode","tableCol","getSummaries","columns","sums","tableDoLayout"],"sourceRoot":"src/views/bonus/personBonus","sources":["index.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\" style=\"padding: 2px 0 0 0\">\n    <div ref=\"search\">\n      <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\" hidden>\n        <el-form-item label=\"年月\" prop=\"actDate\">\n          <el-date-picker clearable size=\"small\"\n                          v-model=\"queryParams.actDate\"\n                          type=\"month\"\n                          value-format=\"yyyy-MM-dd\"\n                          placeholder=\"选择年月\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div ref=\"btns\">\n      <el-row :gutter=\"10\" class=\"mb8\">\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"info\"\n            icon=\"el-icon-back\"\n            size=\"mini\"\n            :loading=\"exportLoading\"\n            @click=\"goBack\"\n          >返回\n          </el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-plus\"\n            size=\"mini\"\n            @click=\"handleAdd\"\n          >添加人员\n          </el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"danger\"\n            icon=\"el-icon-delete\"\n            size=\"mini\"\n            :disabled=\"multiple\"\n            @click=\"handleDelete\"\n          >删除人员\n          </el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            v-if=\"auditState===''||auditState === '0'\"\n            type=\"success\"\n            icon=\"el-icon-edit-outline\"\n            size=\"mini\"\n            :loading=\"saveLoading\"\n            @click=\"handleSave\"\n          >保存\n          </el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            v-if=\"auditState === '0'\"\n            type=\"success\"\n            icon=\"el-icon-edit-outline\"\n            size=\"mini\"\n            :loading=\"saveLoading\"\n            @click=\"handleCommit\"\n          >提交\n          </el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-notebook-2\"\n            size=\"mini\"\n            @click=\"processExamine\"\n            v-hasPermi=\"['bonus:calculation:list']\"\n          >流转历史\n          </el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <template>\n            <download-excel class=\"export-excel-wrapper\" :data=\"sumDataList\" :fields=\"jsonFields\" :header=\"title\" :name=\"excelName\">\n              <el-button\n                type=\"warning\"\n                icon=\"el-icon-document-copy\"\n                size=\"mini\"\n                @click=\"\"\n              >导出EXCEL\n              </el-button>\n            </download-excel>\n          </template>\n        </el-col>\n        <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n      </el-row>\n    </div>\n\n    <el-table border stripe v-loading=\"loading\" :data=\"EvaluateDataList\" height=\"calc(100vh - 180px)\"\n              @selection-change=\"handleSelectionChange\"\n              ref=\"multipleTable\" @row-click=\"rowClick\" :row-style=\"rowStyle\" :row-class-name=\"rowClassName\"\n              :show-summary=\"true\" :summary-method=\"getSummaries\">\n\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\n      <el-table-column sortable label=\"科室名称\" align=\"left\" prop=\"deptRoomName\"></el-table-column>\n      <el-table-column sortable label=\"人员姓名\" align=\"left\" prop=\"docName\"></el-table-column>\n\n      <el-table-column\n        v-for=\"(item,index) in indexList\"\n        :key=\"index\"\n        :label=\"item.indexName\"\n        :prop=\"item.guideCode\"\n        align=\"center\"\n      >\n        <template slot-scope=\"scope\">\n          <div @click.stop.prevent style=\"display:inline\">\n          <el-input-number :precision=\"2\" :step=\"0.01\" :min=\"0\" v-model=\"scope.row[item.guideCode]\"\n                           controls-position=\"right\"/>\n          </div>\n        </template>\n      </el-table-column>\n      <el-table-column sortable label=\"合计\" align=\"right\" prop=\"total\">\n        <template slot-scope=\"scope\">\n          <span>{{ computedStatus(scope.row) }}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n      <formItem :showDialog.sync=\"showDialog\" :showBaseInfo=\"btn3\" :open=\"btn4\" :open2=\"btn5\" :comment=\"form\"\n                :userOptions=\"userOptions\" @success=\"formItemSuccess\"\n      ></formItem>\n    </el-form>\n\n    <selectList v-if=\"openSelect\" :deptCode=\"this.queryParams.deptCode\" :actDate=\"this.queryParams.actDate\" :openSelect=\"openSelect\" :doctorList=\"this.doctorList\" @docCodeList=\"docCodeList(arguments)\" @cancelSelect=\"cancelSelect\"\n    ></selectList>\n\n    <el-dialog title=\"流转历史\" :visible.sync=\"processOpen\" width=\"1200px\" append-to-body :close-on-click-modal=\"false\"\n               custom-class=\"el-button--primary\"\n    >\n      <div v-loading=\"loading\" :style=\"'height:'+ height\">\n        <iframe :src=\"src\" frameborder=\"no\" style=\"width: 100%;height: 100%\" scrolling=\"auto\"/>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n\n\nimport { getYearMonth2 } from '@/utils/date'\nimport { addAudit, listAudit } from '@/api/bonus/audit'\nimport { getAccountPerson, listDoctor, listPersonBonus } from '@/api/evaluateData/evaluateDataPerson'\nimport formItem from '@/views/components/formItemNew'\nimport btns from '@/views/bonus//btns/index2'\nimport { getEmpList } from '@/api/until'\nimport JsonExcel from 'vue-json-excel'\nimport Vue from 'vue'\nimport selectList from '@/views/bonus/personBonus/selectDoctor'\nVue.component('downloadExcel',JsonExcel)\n\nexport default {\n  name: 'EvaluateData',\n  deptCode: {\n    type: [String, String],\n    default: ''\n  },\n  components: {\n    formItem, btns, selectList\n  },\n  filters: {\n    transToValue(val, index) {\n      return val[index]\n    }\n  },\n  computed: {\n    computedStatus() {\n      return function(row) {\n        let result = 0\n        for (let v of this.indexList) {\n          result += parseFloat(row[v.guideCode])\n        }\n        row.total = result.toFixed(2);\n        return result.toFixed(2)\n\n      }\n    },\n    sumDataList(){\n      this.sumDataList_.push({});\n      this.sumDataList_.push(this.bottomTotal);\n      return this.sumDataList_;\n    },\n    excelName(){\n      return \"人员奖金\"+getYearMonth2()+\".xls\";\n    }\n  },\n  mounted() {\n\n  },\n  watch: {\n\n  },\n  data() {\n    return {\n      processOpen: false,\n      height: '500px;',\n      src: '',\n      showAudit: false,\n      id: '',\n      showDialog: false,\n      userOptions: [],\n      auditState: '0',\n      saveLoading: false,\n      // 遮罩层\n      loading: false,\n      // 导出遮罩层\n      exportLoading: false,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 表格数据\n      EvaluateDataList: [],\n      sumDataList_: [],\n      selectionRow: [],\n      // 弹出层标题\n      title: '',\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 30,\n        compCode: null,\n        deptCode: null,\n        deptName: null,\n        accountCode: null,\n        guideCode: null,\n        guideValue: null,\n        delFlag: null,\n        actDate: getYearMonth2() + '-01',\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null,\n        deptType: null\n      },\n      // 表单参数\n      form: { procedureId: null, assignee: null },\n      //类型\n      indexList: [],\n      nextAssignee: [],\n      // 按钮编码\n      btn1: false,\n      btn2: false,\n      btn3: false,\n      btn4: false,\n      btn5: false,\n      comment: '',\n      proclnsIds: '',\n      datas: {},\n      // 医生选择是否弹出\n      openSelect: false,\n      doctorOpen: false,\n      docParams: {\n        pageNum: 1,\n        pageSize: 20\n      },\n      doctorList: [],\n      docTotal: 0,\n      //表格标题\n      tableTitle: \"人员奖金数据\",\n      //表格数据\n      jsonFields: {\n        \"科室名称\":'deptRoomName',\n        \"人员姓名\":'docName'\n      },\n      bottomTotal:{\n        deptRoomName: \"合计\",\n        docName: \"\",\n        total: 0\n      }\n    }\n  },\n  created() {\n    this.getDept()\n    this.getDetailInfo()\n\n  },\n  methods: {\n    /** 查询科室对应人员的奖金指标 */\n    getDept() {\n      this.loading = true\n      this.queryParams.actDate = this.$route.params.actDate\n      this.queryParams.nowDate = this.$route.params.actDate\n      this.queryParams.deptCode = this.$route.params.deptCode\n      getAccountPerson(this.queryParams).then(response => {\n        this.indexList = response.data\n        this.getList()\n        this.loading = false\n      })\n    },\n\n    /** 查询科室对应人员的奖金数据 */\n    getList() {\n      this.loading = true\n      if (!this.queryParams.actDate) {\n        this.queryParams.actDate = getYearMonth2() + '-01'\n      }\n      this.queryParams.deptCode = this.$route.params.deptCode\n      listPersonBonus(this.queryParams).then(response => {\n        this.EvaluateDataList = response.data\n        this.tableDoLayout();\n        this.sumDataList_ = [].concat(response.data)\n        for (let eva in this.EvaluateDataList) {\n          if (this.EvaluateDataList[eva]['remark'] == '' || this.EvaluateDataList[eva]['remark'] == null) {\n            this.EvaluateDataList[eva]['remark'] = '0'\n          }\n        }\n        this.loading = false\n      })\n      for (let index in this.indexList){\n        this.jsonFields[this.indexList[index].indexName] = this.indexList[index].guideCode\n      }\n      this.jsonFields[\"合计\"] = \"total\"\n    },\n    successSubmit(flag) {\n      this.open = flag\n      this.getList()\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false\n    },\n    // 取消按钮\n    cancelSelect() {\n      this.openSelect = false\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: null,\n        deptName: null,\n        accountCode: null,\n        guideCode: null,\n        guideValue: null,\n        delFlag: null,\n        actDate: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      }\n      this.resetForm('form')\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1\n      this.getList()\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm('queryForm')\n      this.handleQuery()\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.docCode)\n      this.single = selection.length !== 1\n      this.multiple = !selection.length\n      this.selectionRow = selection\n    },\n    rowClick(row, column, event) {\n      let refsElTable = this.$refs.multipleTable\n      let findRow = this.selectionRow.find(c => c.rowIndex == row.rowIndex)\n      if (findRow && this.selectionRow.length == 1) {\n        refsElTable.toggleRowSelection(row, false)\n        return\n      }\n      refsElTable.clearSelection()\n      refsElTable.toggleRowSelection(row)\n    },\n    rowStyle({ row, rowIndex }) {\n      Object.defineProperty(row, 'rowIndex', {\n        value: rowIndex,\n        writable: true,\n        enumerable: false\n      })\n    },\n    rowClassName({ row, rowIndex }) {\n      let rowName = '',\n        findRow = this.selectionRow.find(c => c.rowIndex === row.rowIndex)\n      if (findRow) {\n        rowName = 'current-row '\n      }\n      return rowName\n    },\n    /** 新增人员按钮操作 */\n    handleAdd() {\n      this.doctorList = this.EvaluateDataList\n      this.openSelect = true // 弹框点开\n    },\n    tableRowClassName({ row, rowIndex }) {\n      row.row_index = rowIndex\n    },\n    // 医生设置单选\n    handleSelectionDocChange(selection, row) {\n      this.singleTable(row)\n    },\n    handleDocRowClick(row) {\n      this.singleTable(row)\n    },\n    singleTable(row) {\n      let tableRef = this.$refs.itsmDataTable\n      tableRef.clearSelection()\n      if (this.currentRowIndex == row.row_index) {\n        tableRef.toggleRowSelection(row, false)\n        this.currentRowIndex = null\n        this.docSelectData = null\n      } else {\n        tableRef.toggleRowSelection(row)\n        this.currentRowIndex = row.row_index\n        this.docSelectData = row\n      }\n    },\n    sexFormat(row, column) {\n      return this.selectDictLabel(this.sexOptions, row.gender)\n    },\n    /** 删除按钮操作 */\n    handleDelete() {\n      const ids = this.ids\n      // 原始数据不能删除 只可删除新增人员数据\n      for (let i = this.EvaluateDataList.length - 1; i >= 0; i--) {\n        if (ids.indexOf(this.EvaluateDataList[i].docCode) > -1) {\n          if (this.EvaluateDataList[i].remark == '0') {\n            this.msgError('姓名为：' + this.EvaluateDataList[i].docName + '的人员数据不允许删除！')\n            return\n          }\n        }\n      }\n      for (let i = this.EvaluateDataList.length - 1; i >= 0; i--) {\n        if (ids.indexOf(this.EvaluateDataList[i].docCode) > -1) {\n          if (this.EvaluateDataList[i].remark == '1') {\n            this.EvaluateDataList.splice(i, 1)\n          }\n        }\n      }\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      const queryParams = this.queryParams\n      this.$confirm('是否确认导出科室奖金数据项?', '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        for (let index in this.indexList){\n          this.jsonFields.push(this.indexList[index].guideCode,this.indexList[index].guideCode)\n        }\n        this.exportLoading = true\n      }).catch(() => {\n      })\n    },\n\n    // 返回\n    goBack() {\n      // 关闭当前页面\n      this.$store.dispatch('tagsView/delView', this.$route)\n      // 返回上一页面\n      this.$router.go(-1)\n    },\n    packageData() {\n\n      this.$refs.multipleTable.data.forEach(item => {\n        item.unitCode = item.docCode\n        item.deptCode = item.deptRoomCode\n        item.actDate = this.queryParams.actDate\n      })\n\n      let data = {\n        data: this.$refs.multipleTable.data,\n        audit: {\n          deptCode: this.$route.params.deptCode,\n          nowDate: this.queryParams.actDate,\n          comment: this.form.comment,\n          assignee: this.form.assignee\n        }\n      }\n      return data\n    },\n    handleSave() {\n      let data = this.packageData()\n      if (!data.data || data.data.length < 1) {\n        this.msgError('缺少数据,无法保存')\n        return false\n      }\n      data.isCommit = false\n      this.saveLoading = true\n      addAudit(data).then(response => {\n        this.msgSuccess('保存成功')\n        this.saveLoading = false\n        this.auditState = '0'\n        this.getDetailInfo();\n        this.showDialog = true;\n      })\n    },\n    handleCommit() {\n      if (this.proclnsIds === null || this.proclnsIds === '') {\n        this.handleSave();\n      }else{\n        this.showDialog = true;\n      }\n    },\n    formItemSuccess() {\n      let data = this.packageData()\n      data.isCommit = true\n      this.saveLoading = true\n      addAudit(data).then(response => {\n        this.msgSuccess('提交成功')\n        this.saveLoading = false\n        this.auditState = '1'\n      })\n    },\n    getDetailInfo() {\n      listAudit({\n        deptCode: this.$route.params.deptCode,\n        nowDate: this.queryParams.actDate\n      }).then(response => {\n        if (response.rows.length > 0) {\n          let audit = response.rows[0]\n          let that = this\n          let proclnsIds = audit.procedureId\n          this.proclnsIds = audit.procedureId\n          this.form.procedureId = this.proclnsIds\n          this.id = audit.id\n          this.auditState = audit.auditState\n          getEmpList(\n            that,\n            this.$store.state.user.name,\n            proclnsIds,\n            this.userOptions,\n            this.btn1,\n            this.btn2,\n            this.btn3,\n            this.btn4,\n            this.btn5\n          )\n        }\n      })\n    },\n    /** 流转历史初始化 */\n    processExamineForm2() {\n      this.src =\n        `${this.processUrl}/api/wf/processHistoric?procInsId=${this.proclnsIds}`\n    },\n    /** 流转历史按钮操作 */\n    processExamine() {\n      let procedureId = this.proclnsIds\n      if (procedureId == null || !procedureId) {\n        this.msgError('没有流转历史数据！')\n      } else {\n        this.processExamineForm2()\n        this.processOpen = true\n      }\n    },\n    /** 添加人员 */\n    docCodeList(data){\n      for (let d in data[0]){\n        let tableCol = {\n          deptRoomCode: this.EvaluateDataList[0].deptRoomCode,\n          deptRoomName: this.EvaluateDataList[0].deptRoomName,\n          docCode: data[0][d].docCode,\n          docName: data[0][d].docName\n        }\n        for (let index in this.indexList) {\n          tableCol[this.indexList[index].guideCode] = 0\n          // 新增人员标识为1，可以进行删除操作\n          tableCol['remark'] = '1'\n        }\n        this.EvaluateDataList.push(tableCol)\n      }\n    },\n    getSummaries(param) {\n      const { columns, data } = param;\n      const sums = [];\n      columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = '合计';\n          return;\n        }\n        const values = data.map(item => Number(item[column.property]));\n        if (!values.every(value => isNaN(value))) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n            if (!isNaN(value)) {\n              return prev + curr;\n            } else {\n              return prev;\n            }\n          }, 0);\n          if(column.property != \"deptRoomName\" && column.property != \"docName\"){\n            this.bottomTotal[column.property] = parseFloat(sums[index]);\n          }\n          sums[index] = sums[index].toFixed(2);\n        } else {\n          sums[index] = 'N/A';\n        }\n      });\n      return sums;\n    },\n    tableDoLayout(){\n      if(this.$refs.multipleTable){\n        this.$nextTick(()=>{\n          this.$refs.multipleTable.doLayout();\n        })\n      }\n    }\n  }\n}\n</script>\n\n\n"]}]}
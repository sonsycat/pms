{"remainingRequest":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!D:\\work\\pms_oracle\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\work\\pms_oracle\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\pms_oracle\\pms_UI\\src\\views\\workload\\toll\\select.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\pms_oracle\\pms_UI\\src\\views\\workload\\toll\\select.vue","mtime":1693362206000},{"path":"D:\\work\\pms_oracle\\pms_UI\\babel.config.js","mtime":1693361824000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LnNwbGljZS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwp2YXIgX3RvbGwgPSByZXF1aXJlKCJAL2FwaS93b3JrbG9hZC90b2xsIik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAnc2VsZWN0JywKICBwcm9wczogewogICAgb3BlblNlbGVjdDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIHByb2plY3RDb2RlOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAn6K6+572u5pS26LS56aG555uuJywKICAgICAgb3BlbkRpYWxvZzogdGhpcy5vcGVuU2VsZWN0LAogICAgICByb2xlU2VsZWN0ZWRMaXN0TG9hZGluZzogZmFsc2UsCiAgICAgIGluZGV4TGlzdExvYWRpbmc6IGZhbHNlLAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybTogewogICAgICAgIGhpc05hbWU6ICcnCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczoge30sCiAgICAgIC8v5b6F6YCJ6KeS6ImyCiAgICAgIHF1ZXJ5UGFyYW1zSW5kZXg6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5wYWdlU2l6ZSwKICAgICAgICBjb21wQ29kZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQsCiAgICAgICAgcm9sZUtleTogbnVsbCwKICAgICAgICByb2xlTmFtZTogbnVsbAogICAgICB9LAogICAgICAvL+W3sumAieinkuiJsgogICAgICBxdWVyeVBhcmFtc0luZGV4U2VsZWN0ZWQ6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5wYWdlU2l6ZSwKICAgICAgICBjb21wQ29kZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQsCiAgICAgICAgcm9sZUtleTogbnVsbCwKICAgICAgICByb2xlTmFtZTogbnVsbCwKICAgICAgICBzZXRDb2RlOiBudWxsCiAgICAgIH0sCiAgICAgIC8vIOW+hemAieinkuiJsuaVsOaNrgogICAgICByb2xlTGlzdDogW10sCiAgICAgIC8vIOW3sumAieinkuiJsuaVsOaNrgogICAgICByb2xlU2VsZWN0ZWRMaXN0OiBbXQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldFNlbGVjdGVkUm9sZUxpc3QoKTsKICAgIHRoaXMuZ2V0TGlzdCh0aGlzLmZvcm0uaGlzTmFtZSk7CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgcmVzZXRRdWVyeTogZnVuY3Rpb24gcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5mb3JtLmhpc05hbWUgPSAnJzsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfSwKICAgIGhhbmRsZVF1ZXJ5OiBmdW5jdGlvbiBoYW5kbGVRdWVyeSgpIHsKICAgICAgdmFyIGV4aXRIaXNDb2RlID0gdGhpcy5yb2xlU2VsZWN0ZWRMaXN0Lm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLnJvbGVLZXk7CiAgICAgIH0pOwogICAgICB0aGlzLmdldExpc3QodGhpcy5mb3JtLmhpc05hbWUsIGV4aXRIaXNDb2RlKTsKICAgIH0sCiAgICB0YWJsZVJvd0NsYXNzTmFtZTogZnVuY3Rpb24gdGFibGVSb3dDbGFzc05hbWUoX3JlZikgewogICAgICB2YXIgcm93ID0gX3JlZi5yb3csCiAgICAgICAgcm93SW5kZXggPSBfcmVmLnJvd0luZGV4OwogICAgICByb3cuaW5kZXggPSByb3dJbmRleDsKICAgIH0sCiAgICAvLyDlvoXpgInnp5HlrqTlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIHNlbGVjdGlvblByb2plY3Q6IGZ1bmN0aW9uIHNlbGVjdGlvblByb2plY3Qoc2VsZWN0aW9uLCByb3cpIHsKICAgICAgdGhpcy5yb3dDbGlja1dhaXRDbGFzcyhzZWxlY3Rpb25bMF0pOwogICAgfSwKICAgIC8v5b6F6YCJ54mp6LWE57G75Z6LIOeCueWHu+ihjAogICAgcm93Q2xpY2tXYWl0Q2xhc3M6IGZ1bmN0aW9uIHJvd0NsaWNrV2FpdENsYXNzKHNlbGVjdGlvbikgewogICAgICB2YXIgcm9sZUtleSA9IHNlbGVjdGlvbi5yb2xlS2V5LAogICAgICAgIHJvbGVOYW1lID0gc2VsZWN0aW9uLnJvbGVOYW1lLAogICAgICAgIGluZGV4TmFtZSA9IHNlbGVjdGlvbi5pbmRleE5hbWU7CiAgICAgIHRoaXMucm9sZVNlbGVjdGVkTGlzdC5wdXNoKHsKICAgICAgICByb2xlS2V5OiByb2xlS2V5LAogICAgICAgIHJvbGVOYW1lOiByb2xlTmFtZSwKICAgICAgICBpbmRleE5hbWU6IGluZGV4TmFtZQogICAgICB9KTsKICAgICAgdGhpcy5yb2xlTGlzdC5zcGxpY2Uoc2VsZWN0aW9uLmluZGV4LCAxKTsKICAgIH0sCiAgICAvLyDlt7LpgInnp5HlrqTlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIHNlbGVjdGlvblByb2plY3REZXB0OiBmdW5jdGlvbiBzZWxlY3Rpb25Qcm9qZWN0RGVwdChzZWxlY3Rpb24sIHJvdykgewogICAgICB0aGlzLnJvd0NsaWNrSGFzQ2xhc3Moc2VsZWN0aW9uWzBdKTsKICAgIH0sCiAgICAvLyDlt7Lnu4/pgInmi6nngrnlh7vooYwKICAgIHJvd0NsaWNrSGFzQ2xhc3M6IGZ1bmN0aW9uIHJvd0NsaWNrSGFzQ2xhc3Moc2VsZWN0aW9uKSB7CiAgICAgIHZhciByb2xlS2V5ID0gc2VsZWN0aW9uLnJvbGVLZXksCiAgICAgICAgcm9sZU5hbWUgPSBzZWxlY3Rpb24ucm9sZU5hbWUsCiAgICAgICAgaW5kZXhOYW1lID0gc2VsZWN0aW9uLmluZGV4TmFtZTsKICAgICAgdGhpcy5yb2xlTGlzdC5wdXNoKHsKICAgICAgICByb2xlS2V5OiByb2xlS2V5LAogICAgICAgIHJvbGVOYW1lOiByb2xlTmFtZSwKICAgICAgICBpbmRleE5hbWU6IGluZGV4TmFtZQogICAgICB9KTsKICAgICAgdGhpcy5yb2xlU2VsZWN0ZWRMaXN0LnNwbGljZShzZWxlY3Rpb24uaW5kZXgsIDEpOwogICAgfSwKICAgIC8qKiDmn6Xor6Lop5LoibLliJfooaggKi9nZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KGhpc05hbWUsIGV4aXN0Q29kZSkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICAoMCwgX3RvbGwubGlzdEFsbCkoewogICAgICAgIHByb2plY3RDb2RlOiB0aGlzLnByb2plY3RDb2RlLAogICAgICAgIHR5cGU6ICcyJywKICAgICAgICBoaXNOYW1lOiBoaXNOYW1lLAogICAgICAgIGV4aXN0Q29kZTogZXhpc3RDb2RlCiAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgY29uc29sZS5sb2cocmVzcG9uc2UuZGF0YSk7CiAgICAgICAgX3RoaXMucm9sZUxpc3QgPSByZXNwb25zZS5kYXRhLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgICAgaXRlbS5yb2xlTmFtZSA9IGl0ZW0uaGlzTmFtZTsKICAgICAgICAgIGl0ZW0ucm9sZUtleSA9IGl0ZW0uaGlzQ29kZTsKICAgICAgICAgIHJldHVybiBpdGVtOwogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0sCiAgICAvL+W3sumAieinkuiJsuWIl+ihqAogICAgZ2V0U2VsZWN0ZWRSb2xlTGlzdDogZnVuY3Rpb24gZ2V0U2VsZWN0ZWRSb2xlTGlzdChoaXNOYW1lKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICAoMCwgX3RvbGwubGlzdEFsbCkoewogICAgICAgIHByb2plY3RDb2RlOiB0aGlzLnByb2plY3RDb2RlLAogICAgICAgIHR5cGU6ICcxJwogICAgICB9KS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIF90aGlzMi5yb2xlU2VsZWN0ZWRMaXN0ID0gcmVzcG9uc2UuZGF0YS5tYXAoZnVuY3Rpb24gKGl0ZW0pIHsKICAgICAgICAgIGl0ZW0ucm9sZU5hbWUgPSBpdGVtLmhpc05hbWU7CiAgICAgICAgICBpdGVtLnJvbGVLZXkgPSBpdGVtLmhpc0NvZGU7CiAgICAgICAgICByZXR1cm4gaXRlbTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5by55qGG5YWz6ZetCiAgICBoYW5kbGVEaWFsb2dDbG9zZTogZnVuY3Rpb24gaGFuZGxlRGlhbG9nQ2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbFNlbGVjdCcsIGZhbHNlKTsKICAgIH0sCiAgICAvLyDlj5bmtogKICAgIGNhbmNlbDogZnVuY3Rpb24gY2FuY2VsKCkgewogICAgICB0aGlzLiRlbWl0KCdjYW5jZWxTZWxlY3QnLCBmYWxzZSk7CiAgICB9LAogICAgLyoqIOaPkOS6pOaMiemSriAqL3N1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLnJvbGVTZWxlY3RlZExpc3QuZm9yRWFjaChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIGl0ZW0uaGlzQ29kZSA9IGl0ZW0ucm9sZUtleTsKICAgICAgICBpdGVtLmhpc05hbWUgPSBpdGVtLnJvbGVOYW1lOwogICAgICAgIHJldHVybiBpdGVtOwogICAgICB9KTsKICAgICAgdmFyIGRhdGEgPSB7CiAgICAgICAgcHJvamVjdENvZGU6IHRoaXMucHJvamVjdENvZGUsCiAgICAgICAgbGlzdDogdGhpcy5yb2xlU2VsZWN0ZWRMaXN0CiAgICAgIH07CiAgICAgIHZhciBzYXZlTG9hZGluZyA9IHRoaXMuc2F2ZUxvYWRpbmcoKTsKICAgICAgKDAsIF90b2xsLnNhdmUpKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgX3RoaXMzLm1zZ1N1Y2Nlc3MoJ+iuvue9ruaIkOWKnycpOwogICAgICAgICAgX3RoaXMzLiRlbWl0KCdjYW5jZWxTZWxlY3QnLCBmYWxzZSk7CiAgICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpOwogICAgICAgIH0KICAgICAgfSk7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;;AA6DA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IAEAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;QAAAC;MAAA;MACA;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;QACAL;QACAC;QACAC;QACAC;QACAC;QACAE;MACA;MACA;MACAC;MACA;MACAC;IACA;EACA;EACAC;IACA;IACA;EAEA;EACAC,6BACA;EACAC;IACAC;MACA;MACA;IACA;IACAC;MACA;QACA;MACA;MACA;IACA;IACAC;MAAA;QAAAC;MACAC;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA,IACAf,UAGAgB,UAHAhB;QACAC,WAEAe,UAFAf;QACAgB,YACAD,UADAC;MAEA;QACAjB;QACAC;QACAgB;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA,IACAnB,UAGAgB,UAHAhB;QACAC,WAEAe,UAFAf;QACAgB,YACAD,UADAC;MAEA;QACAjB;QACAC;QACAgB;MACA;MACA;IACA;IACA,aACAG;MAAA;MACA;QAAAjC;QAAAF;QAAAS;QAAA2B;MAAA;QACAC;QACA;UACAC;UACAA;UACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QAAArC;QAAAF;MAAA;QACA;UACAsC;UACAA;UACA;QACA;MACA;IACA;IACA;IACAE;MACA;IACA;IACA;IACAC;MACA;IACA;IACA,WACAC;MAAA;MACA;QACAJ;QACAA;QACA;MACA;MACA;QACApC;QACAyC;MACA;MACA;MACA;QACA;UACA;UACA;UACAC;QACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","openSelect","type","default","projectCode","data","title","openDialog","roleSelectedListLoading","indexListLoading","form","hisName","rules","queryParamsIndex","pageNum","pageSize","compCode","roleKey","roleName","queryParamsIndexSelected","setCode","roleList","roleSelectedList","created","mounted","methods","resetQuery","handleQuery","tableRowClassName","rowIndex","row","selectionProject","rowClickWaitClass","selection","indexName","selectionProjectDept","rowClickHasClass","getList","existCode","console","item","getSelectedRoleList","handleDialogClose","cancel","submitForm","list","saveLoading"],"sourceRoot":"src/views/workload/toll","sources":["select.vue"],"sourcesContent":["<template>\n  <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"50%\" custom-class=\"el-button--primary\" append-to-body\n             :close-on-click-modal=\"false\" @close=\"handleDialogClose\"\n  >\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\" :inline=\"true\">\n      <el-row :gutter=\"20\">\n        <el-col :span=\"24\">\n          <el-form-item label=\"收费项目:\" prop=\"hisName\">\n            <el-input v-model=\"form.hisName\" placeholder=\"请输入\"/>\n          </el-form-item>\n          <el-form-item>\n            <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n            <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-card>\n            <el-col :span=\"12\">\n              <span style=\"font-size:16px\">待选收费项目</span>\n            </el-col>\n            <el-table\n              style=\"margin-top:10px\"\n              v-loading=\"indexListLoading\"\n              :data=\"roleList\"\n              height=\"500px\"\n              :row-class-name=\"tableRowClassName\"\n              @select=\"selectionProject\"\n              @row-click=\"rowClickWaitClass\"\n            >\n              <el-table-column label=\"收费项目\" align=\"left\" prop=\"roleName\" show-overflow-tooltip/>\n            </el-table>\n          </el-card>\n        </el-col>\n        <el-col :span=\"12\" class=\"mb10\">\n          <el-card>\n            <el-col :span=\"12\">\n              <span style=\"font-size:16px\">已选收费项目</span>\n            </el-col>\n            <el-table\n              style=\"margin-top:10px\"\n              v-loading=\"roleSelectedListLoading\"\n              :data=\"roleSelectedList\"\n              height=\"500px\"\n              :row-class-name=\"tableRowClassName\"\n              @row-click=\"rowClickHasClass\"\n              @select=\"selectionProjectDept\"\n            >\n              <el-table-column label=\"收费项目\" align=\"left\" prop=\"roleName\" show-overflow-tooltip/>\n            </el-table>\n          </el-card>\n        </el-col>\n      </el-row>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <el-button type=\"primary\" @click=\"submitForm\">保 存</el-button>\n      <el-button @click=\"cancel\">取 消</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { listAll, save } from '@/api/workload/toll'\n\nexport default {\n  name: 'select',\n  props: {\n\n    openSelect: {\n      type: Boolean,\n      default: false\n    },\n    projectCode: {\n      type: String,\n      default: null\n    }\n  },\n  data() {\n    return {\n      title: '设置收费项目',\n      openDialog: this.openSelect,\n      roleSelectedListLoading: false,\n      indexListLoading: false,\n      // 表单参数\n      form: { hisName: '' },\n      // 表单校验\n      rules: {},\n      //待选角色\n      queryParamsIndex: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        compCode: this.$store.state.user.userInfo.deptId,\n        roleKey: null,\n        roleName: null\n      },\n      //已选角色\n      queryParamsIndexSelected: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        compCode: this.$store.state.user.userInfo.deptId,\n        roleKey: null,\n        roleName: null,\n        setCode: null\n      },\n      // 待选角色数据\n      roleList: [],\n      // 已选角色数据\n      roleSelectedList: []\n    }\n  },\n  created() {\n    this.getSelectedRoleList()\n    this.getList(this.form.hisName)\n\n  },\n  mounted() {\n  },\n  methods: {\n    resetQuery() {\n      this.form.hisName = ''\n      this.handleQuery()\n    },\n    handleQuery() {\n      let exitHisCode = this.roleSelectedList.map(item => {\n        return item.roleKey\n      })\n      this.getList(this.form.hisName, exitHisCode)\n    },\n    tableRowClassName({ row, rowIndex }) {\n      row.index = rowIndex\n    },\n    // 待选科室多选框选中数据\n    selectionProject(selection, row) {\n      this.rowClickWaitClass(selection[0])\n    },\n    //待选物资类型 点击行\n    rowClickWaitClass(selection) {\n      let {\n        roleKey,\n        roleName,\n        indexName\n      } = selection\n      this.roleSelectedList.push({\n        roleKey,\n        roleName,\n        indexName\n      })\n      this.roleList.splice(selection.index, 1)\n    },\n    // 已选科室多选框选中数据\n    selectionProjectDept(selection, row) {\n      this.rowClickHasClass(selection[0])\n    },\n    // 已经选择点击行\n    rowClickHasClass(selection) {\n      let {\n        roleKey,\n        roleName,\n        indexName\n      } = selection\n      this.roleList.push({\n        roleKey,\n        roleName,\n        indexName\n      })\n      this.roleSelectedList.splice(selection.index, 1)\n    },\n    /** 查询角色列表 */\n    getList(hisName, existCode) {\n      listAll({ projectCode: this.projectCode, type: '2', hisName: hisName, existCode: existCode }).then(response => {\n        console.log(response.data)\n        this.roleList = response.data.map(item => {\n          item.roleName = item.hisName\n          item.roleKey = item.hisCode\n          return item\n        })\n      })\n    },\n    //已选角色列表\n    getSelectedRoleList(hisName) {\n      listAll({ projectCode: this.projectCode, type: '1' }).then(response => {\n        this.roleSelectedList = response.data.map(item => {\n          item.roleName = item.hisName\n          item.roleKey = item.hisCode\n          return item\n        })\n      })\n    },\n    // 弹框关闭\n    handleDialogClose() {\n      this.$emit('cancelSelect', false)\n    },\n    // 取消\n    cancel() {\n      this.$emit('cancelSelect', false)\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.roleSelectedList.forEach(item => {\n        item.hisCode = item.roleKey\n        item.hisName = item.roleName\n        return item\n      })\n      let data = {\n        projectCode: this.projectCode,\n        list: this.roleSelectedList\n      }\n      const saveLoading = this.saveLoading()\n      save(data).then(response => {\n        if (response.code === 200) {\n          this.msgSuccess('设置成功')\n          this.$emit('cancelSelect', false)\n          saveLoading.close()\n        }\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .el-dialog {\n  max-height: 86%;\n  overflow: hidden;\n\n  .el-dialog__body {\n    height: calc(100% - 100px);\n    overflow: auto;\n  }\n}\n</style>\n"]}]}
{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\views\\average\\average\\addEditDetail.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\average\\average\\addEditDetail.vue","mtime":1682043108402},{"path":"D:\\hrp\\zjry-pms-ui\\babel.config.js","mtime":1682043101067},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKdmFyIF9hdmVyYWdlRGV0YWlsID0gcmVxdWlyZSgiQC9hcGkvYXZlcmFnZS9hdmVyYWdlRGV0YWlsIik7CnZhciBfc3BlY2lhbCA9IHJlcXVpcmUoIkAvYXBpL3JldmVudWUvc3BlY2lhbCIpOwp2YXIgX2RlcHRTb3J0ID0gcmVxdWlyZSgiQC9hcGkvYm9udXMvZGVwdFNvcnQiKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICJhZGRFZGl0RGV0YWlsIiwKICBjb21wb25lbnRzOiB7fSwKICBwcm9wczogewogICAgb3BlbkRldGFpbDogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGlkOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6ICIiCiAgICB9CiAgfSwKICB3YXRjaDogewogICAgb3BlbkRldGFpbDogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMub3BlbkRpYWxvZyA9IHZhbDsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIG9wZW5EaWFsb2c6IHRoaXMub3BlbkRldGFpbCwKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOWvvOWHuumBrue9qeWxggogICAgICBleHBvcnRMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIGlkczogW10sCiAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICBzaW5nbGU6IHRydWUsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g5bmz5Z2H5aWW56eR5Lq65pWw5piO57uG6KGo5qC85pWw5o2uCiAgICAgIGF2ZXJhZ2VEZXRhaWxMaXN0OiBbXSwKICAgICAgc2VsZWN0aW9uUm93OiBbXSwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAi5bmz5Z2H5aWW56eR5Lq65pWwIiwKICAgICAgLy8g5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zOiB7CiAgICAgICAgYXZnSWQ6IHRoaXMuaWQsCiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogNTAwCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7fQogICAgfTsKICB9LAogIGNyZWF0ZWQ6IGZ1bmN0aW9uIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6LlubPlnYflpZbnp5HkurrmlbDmmI7nu4bliJfooaggKi9nZXRMaXN0OiBmdW5jdGlvbiBnZXRMaXN0KCkgewogICAgICB2YXIgX3RoaXMgPSB0aGlzOwogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICAoMCwgX2F2ZXJhZ2VEZXRhaWwubGlzdEF2ZXJhZ2VEZXRhaWwpKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgX3RoaXMuYXZlcmFnZURldGFpbExpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgIF90aGlzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICBzdWNjZXNzU3VibWl0OiBmdW5jdGlvbiBzdWNjZXNzU3VibWl0KGZsYWcpIHsKICAgICAgdGhpcy5vcGVuRGV0YWlsID0gZmxhZzsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWw6IGZ1bmN0aW9uIGNhbmNlbCgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2FuY2VsRGV0YWlsIiwgZmFsc2UpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQ6IGZ1bmN0aW9uIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgYXZnQ29kZTogbnVsbCwKICAgICAgICBkZXBDb2RlOiBudWxsLAogICAgICAgIGRlcE5hbWU6IG51bGwsCiAgICAgICAgZG9jQ29kZTogbnVsbCwKICAgICAgICBkb2NOYW1lOiBudWxsLAogICAgICAgIGlzUmV3YXJkOiBudWxsLAogICAgICAgIHdvcmtEYXlzOiBudWxsLAogICAgICAgIHBvc3RSYXRpbzogbnVsbCwKICAgICAgICBkdXR5UmV3YXJkUmF0aW86IG51bGwsCiAgICAgICAgLy8gZGVsRmxhZzogbnVsbCwKICAgICAgICAvLyBjcmVhdGVCeTogbnVsbCwKICAgICAgICAvLyBjcmVhdGVUaW1lOiBudWxsLAogICAgICAgIC8vIHVwZGF0ZUJ5OiBudWxsLAogICAgICAgIHVwZGF0ZVRpbWU6IG51bGwKICAgICAgICAvLyByZW1hcms6IG51bGwKICAgICAgfTsKCiAgICAgIHRoaXMucmVzZXRGb3JtKCJmb3JtIik7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqL2hhbmRsZVF1ZXJ5OiBmdW5jdGlvbiBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqL3Jlc2V0UXVlcnk6IGZ1bmN0aW9uIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm0iKTsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfSwKICAgIC8qIC8vIOWkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLmlkKQogICAgICB0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGghPT0xCiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aAogICAgICB0aGlzLnNlbGVjdGlvblJvdz1zZWxlY3Rpb24KICAgIH0sICovCiAgICAvKiByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgbGV0IHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlOwogICAgICBsZXQgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93LmZpbmQoYyA9PiBjLnJvd0luZGV4ID09IHJvdy5yb3dJbmRleCk7CiAgICAgIGlmIChmaW5kUm93ICYmIHRoaXMuc2VsZWN0aW9uUm93Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICByZWZzRWxUYWJsZS5jbGVhclNlbGVjdGlvbigpOwogICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93KTsKICAgIH0sCiAgICByb3dTdHlsZSh7CiAgICAgIHJvdywKICAgICAgcm93SW5kZXgKICAgIH0pIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdywgJ3Jvd0luZGV4JywgewogICAgICAgIHZhbHVlOiByb3dJbmRleCwKICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgICB9KQogICAgfSwKICAgIHJvd0NsYXNzTmFtZSh7CiAgICAgIHJvdywKICAgICAgcm93SW5kZXgKICAgIH0pIHsKICAgICAgbGV0IHJvd05hbWUgPSAiIiwKICAgICAgICBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChjID0+IGMucm93SW5kZXggPT09IHJvdy5yb3dJbmRleCk7CiAgICAgIGlmIChmaW5kUm93KSB7CiAgICAgICAgcm93TmFtZSA9ICJjdXJyZW50LXJvdyAiOwogICAgICB9CiAgICAgIHJldHVybiByb3dOYW1lOwogICAgfSwgKi8KICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZURlbGV0ZTogZnVuY3Rpb24gaGFuZGxlRGVsZXRlKHJvdykgewogICAgICB2YXIgX3RoaXMyID0gdGhpczsKICAgICAgdmFyIGlkcyA9IHJvdy5pZCB8fCB0aGlzLmlkczsKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk5bmz5Z2H5aWW56eR5Lq65pWw5piO57uG57yW5Y+35Li6IicgKyBpZHMgKyAnIueahOaVsOaNrumhuT8nLCAi6K2m5ZGKIiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgcmV0dXJuICgwLCBfYXZlcmFnZURldGFpbC5kZWxBdmVyYWdlRGV0YWlsKShpZHMpOwogICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICBfdGhpczIuZ2V0TGlzdCgpOwogICAgICAgIF90aGlzMi5tc2dTdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKICAgICAgfSkuY2F0Y2goZnVuY3Rpb24gKCkge30pOwogICAgfSwKICAgIGhhbmRsZVJlZnJlc2g6IGZ1bmN0aW9uIGhhbmRsZVJlZnJlc2goKSB7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIGhhbmRsZVNhdmU6IGZ1bmN0aW9uIGhhbmRsZVNhdmUoKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbkv53lrZgnLCAn6K2m5ZGKJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbiAoKSB7CiAgICAgICAgX3RoaXMzLnNhdmVMb2FkaW5nID0gdHJ1ZTsKICAgICAgICB2YXIgZGF0YSA9IHsKICAgICAgICAgIGF2Z0lkOiBfdGhpczMuaWQsCiAgICAgICAgICBkYXRhOiBfdGhpczMuJHJlZnMubXVsdGlwbGVUYWJsZS5kYXRhCiAgICAgICAgfTsKICAgICAgICAoMCwgX2F2ZXJhZ2VEZXRhaWwuc2F2ZUF2ZXJhZ2VEZXRhaWwpKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBfdGhpczMubXNnU3VjY2Vzcygn5L+d5a2Y5oiQ5YqfJyk7CiAgICAgICAgICBfdGhpczMuc2F2ZUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9KTsKICAgICAgfSk7CiAgICB9LAogICAgLy8g5by55qGG5YWz6ZetCiAgICBoYW5kbGVEaWFsb2dDbG9zZTogZnVuY3Rpb24gaGFuZGxlRGlhbG9nQ2xvc2UoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNhbmNlbERldGFpbCIsIGZhbHNlKTsKICAgIH0KICB9Cn07CmV4cG9ydHMuZGVmYXVsdCA9IF9kZWZhdWx0Ow=="},{"version":3,"mappings":";;;;;;;AA2EA;AASA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC,aACA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAJ;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAC;IACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC;MACAC;MACA;MACAC;MACA;MACAC;QACAC;QACAC;QACAC;MACA;MACA;MACAC;MACA;MACAC,QACA;IACA;EACA;EACAC;IACA;EACA;EACAC;IACA,mBACAC;MAAA;MACA;MACA;QACA;QACA;QACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACA3B;QACA4B;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACA;QACA;QACA;QACA;QACAC;QACA;MACA;;MACA;IACA;IACA,aACAC;MACA;MACA;IACA;IACA,aACAC;MACA;MACA;IACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;IACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;IACA;IACAC;MAAA;MACA;MACA;QACAC;QACAC;QACA5C;MACA;QACA;MACA;QACA;QACA;MACA;IACA;IACA6C;MACA;IACA;IACAC;MAAA;MACA;QACAH;QACAC;QACA5C;MACA;QACA;QACA;UACAmB;UACAb;QACA;QACA;UACA;UACA;QACA;MACA;IACA;IACA;IACAyC;MACA;IACA;EACA;AACA;AAAA","names":["name","components","props","openDetail","type","default","id","watch","handler","deep","data","openDialog","loading","exportLoading","ids","single","multiple","showSearch","total","averageDetailList","selectionRow","title","queryParams","avgId","pageNum","pageSize","form","rules","created","methods","getList","successSubmit","cancel","reset","avgCode","depCode","depName","docCode","docName","isReward","workDays","postRatio","dutyRewardRatio","updateTime","handleQuery","resetQuery","handleDelete","confirmButtonText","cancelButtonText","handleRefresh","handleSave","handleDialogClose"],"sourceRoot":"src/views/average/average","sources":["addEditDetail.vue"],"sourcesContent":["<template>\n  <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"60%\" custom-class=\"el-button--primary\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDialogClose\">\n  <div class=\"app-container\">\n<!--  <div ref=\"search\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n      <el-form-item label=\"设置年月\" prop=\"setDate\">\n        <el-date-picker clearable size=\"small\" v-model=\"queryParams.setDate\" type=\"month\" value-format=\"yyyy-MM\" placeholder=\"选择设置年月\"></el-date-picker>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\t</div>-->\n\t<div ref=\"btns\">\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-refresh\" @click=\"handleRefresh\">刷新</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button type=\"primary\" icon=\"el-icon-box\" size=\"mini\" @click=\"handleSave\">保存</el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button size=\"mini\" type=\"primary\" icon=\"el-icon-circle-close\" @click=\"cancel\">取 消</el-button>\n      </el-col>\n\n<!--      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>-->\n    </el-row>\n\t</div>\n\n    <el-table border stripe v-loading=\"loading\" :data=\"averageDetailList\" ref=\"multipleTable\">\n<!--      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />-->\n      <el-table-column sortable label=\"id\" align=\"center\" prop=\"id\" v-if=\"false\"/>\n      <el-table-column sortable label=\"科室名称\" align=\"center\" prop=\"depName\" />\n      <el-table-column sortable label=\"人员姓名\" align=\"center\" prop=\"docName\" />\n      <el-table-column sortable label=\"是否发奖金\" align=\"center\" prop=\"isReward\">\n        <template slot-scope=\"scope\">\n          <el-checkbox true-label=\"1\" false-label=\"0\" v-model=\"scope.row.isReward\"></el-checkbox>\n        </template>\n      </el-table-column>\n      <el-table-column sortable label=\"工作日数\" align=\"center\" prop=\"workDays\" >\n      <template slot-scope=\"scope\">\n        <el-input-number :precision=\"2\" controls-position=\"right\" :min=\"0\" :max=\"100\" v-model=\"scope.row.workDays\" class=\"w100\"></el-input-number>\n      </template>\n      </el-table-column>\n      <el-table-column sortable label=\"岗位系数\" align=\"center\" prop=\"postRatio\" >\n        <template slot-scope=\"scope\">\n          <el-input-number :precision=\"2\" controls-position=\"right\" :min=\"0\" :max=\"100\" v-model=\"scope.row.postRatio\" class=\"w100\"></el-input-number>\n        </template>\n      </el-table-column>\n      <el-table-column sortable label=\"责任奖系数\" align=\"center\" prop=\"dutyRewardRatio\" >\n        <template slot-scope=\"scope\">\n          <el-input-number :precision=\"2\" controls-position=\"right\" :min=\"0\" :max=\"100\" v-model=\"scope.row.dutyRewardRatio\" class=\"w100\"></el-input-number>\n        </template>\n      </el-table-column>\n<!--      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\">\n        <template slot-scope=\"scope\">\n          <el-button size=\"mini\" type=\"text\" icon=\"el-icon-delete\" @click=\"handleDelete(scope.row)\" v-hasPermi=\"['average:averageDetail:remove']\" title=\"删除\"></el-button>\n        </template>\n      </el-table-column>-->\n    </el-table>\n\n<!--    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />-->\n\n  </div>\n  </el-dialog>\n</template>\n\n<script>\nimport {\n  listAverageDetail,\n  getAverageDetail,\n  delAverageDetail,\n  addAverageDetail,\n  updateAverageDetail,\n  exportAverageDetail,\n  saveAverageDetail\n} from '@/api/average/averageDetail'\nimport { refresh, save } from '@/api/revenue/special'\nimport { saveData } from '@/api/bonus/deptSort'\n\nexport default {\n  name: \"addEditDetail\",\n  components: {\n  },\n  props: {\n    openDetail: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: [String, Number],\n      default: \"\"\n    },\n  },\n  watch: {\n    openDetail: {\n      handler(val) {\n        this.openDialog = val;\n      },\n      deep: true\n    },\n  },\n  data() {\n    return {\n      openDialog: this.openDetail,\n      // 遮罩层\n      loading: true,\n      // 导出遮罩层\n      exportLoading: false,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 平均奖科人数明细表格数据\n      averageDetailList: [],\n      selectionRow: [],\n      // 弹出层标题\n      title: \"平均奖科人数\",\n      // 查询参数\n      queryParams: {\n        avgId: this.id,\n        pageNum: 1,\n        pageSize: 500,\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n      }\n    };\n  },\n  created() {\n    this.getList();\n  },\n  methods: {\n    /** 查询平均奖科人数明细列表 */\n    getList() {\n      this.loading = true;\n      listAverageDetail(this.queryParams).then(response => {\n        this.averageDetailList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n\tsuccessSubmit(flag) {\n      this.openDetail = flag;\n      this.getList();\n    },\n    // 取消按钮\n    cancel() {\n      this.$emit(\"cancelDetail\", false);\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        avgCode: null,\n        depCode: null,\n        depName: null,\n        docCode: null,\n        docName: null,\n        isReward: null,\n        workDays: null,\n        postRatio: null,\n        dutyRewardRatio: null,\n        // delFlag: null,\n        // createBy: null,\n        // createTime: null,\n        // updateBy: null,\n        updateTime: null,\n        // remark: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    /* // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.id)\n      this.single = selection.length!==1\n      this.multiple = !selection.length\n      this.selectionRow=selection\n    }, */\n    /* rowClick(row, column, event) {\n      let refsElTable = this.$refs.multipleTable;\n      let findRow = this.selectionRow.find(c => c.rowIndex == row.rowIndex);\n      if (findRow && this.selectionRow.length == 1) {\n        refsElTable.toggleRowSelection(row, false);\n        return;\n      }\n      refsElTable.clearSelection();\n      refsElTable.toggleRowSelection(row);\n    },\n    rowStyle({\n      row,\n      rowIndex\n    }) {\n      Object.defineProperty(row, 'rowIndex', {\n        value: rowIndex,\n        writable: true,\n        enumerable: false\n      })\n    },\n    rowClassName({\n      row,\n      rowIndex\n    }) {\n      let rowName = \"\",\n        findRow = this.selectionRow.find(c => c.rowIndex === row.rowIndex);\n      if (findRow) {\n        rowName = \"current-row \";\n      }\n      return rowName;\n    }, */\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const ids = row.id || this.ids;\n      this.$confirm('是否确认删除平均奖科人数明细编号为\"' + ids + '\"的数据项?', \"警告\", {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }).then(function() {\n          return delAverageDetail(ids);\n        }).then(() => {\n          this.getList();\n          this.msgSuccess(\"删除成功\");\n        }).catch(() => {});\n    },\n    handleRefresh(){\n      this.getList()\n    },\n    handleSave() {\n      this.$confirm('是否保存', '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.saveLoading = true\n        let data = {\n          avgId: this.id,\n          data: this.$refs.multipleTable.data,\n        }\n        saveAverageDetail(data).then(response => {\n          this.msgSuccess('保存成功')\n          this.saveLoading = false\n        })\n      })\n    },\n    // 弹框关闭\n    handleDialogClose() {\n      this.$emit(\"cancelDetail\", false);\n    },\n  }\n};\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .el-dialog {\n  height: 60%;\n  overflow: hidden;\n  .el-dialog__body {\n    height: calc(100%);\n    overflow: auto;\n  }\n}\n</style>\n"]}]}
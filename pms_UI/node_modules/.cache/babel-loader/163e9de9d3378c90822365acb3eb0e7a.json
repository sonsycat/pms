{"remainingRequest":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\table\\opc\\index_v2.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\table\\opc\\index_v2.vue","mtime":1719547600231},{"path":"F:\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdCA9IHsKICBuYW1lOiAiVXJlcG9ydERpc3BsYXkiLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBzcmM6ICIiLAogICAgICBoZWlnaHQ6IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSAyMTAgKyAicHg7IiwKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgbG9hZGluZ1RleHQ6ICfmraPlnKjliqDovb3mlbDmja7or7fnqI3lkI7vvIEnLAogICAgICB0eXBlT3B0aW9uczogW10sCiAgICAgIHNldHRsZU1hcmtPcHRpb25zOiBbXSwKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICB0eXBlOiAnMScsCiAgICAgICAgbW9udGg6IFtuZXcgRGF0ZSgpLCBuZXcgRGF0ZSgpXSwKICAgICAgICB5ZWFyOiBudWxsLAogICAgICAgIHNldHRsZU1hcms6ICcxJwogICAgICB9LAogICAgICBydWxlczoge30KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHRoaXMuZ2V0RGljdHMoIkRFUFRfVFlQRV9PUEMiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy50eXBlT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuZ2V0RGljdHMoInBtc19qc2JzX3R5cGUiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICBfdGhpcy5zZXR0bGVNYXJrT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CiAgICB9KTsKICAgIHRoaXMuY3JlYXRNZXMoKTsKICB9LAogIG1vdW50ZWQ6IGZ1bmN0aW9uIG1vdW50ZWQoKSB7CiAgICAvLyBzZXRUaW1lb3V0KCgpID0+IHsKICAgIC8vICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAvLyB9LCAyMzApOwogICAgdmFyIHRoYXQgPSB0aGlzOwogICAgd2luZG93Lm9ucmVzaXplID0gZnVuY3Rpb24gdGVtcCgpIHsKICAgICAgdGhhdC5oZWlnaHQgPSBkb2N1bWVudC5kb2N1bWVudEVsZW1lbnQuY2xpZW50SGVpZ2h0IC0gOTQuNSArICJweDsiOwogICAgfTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi9yZXNldFF1ZXJ5OiBmdW5jdGlvbiByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnllYXIgPSBudWxsOwogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLm1vbnRoID0gW25ldyBEYXRlKCksIG5ldyBEYXRlKCldOwogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnNldHRsZU1hcmsgPSAnMSc7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMudHlwZSA9ICcxJzsKICAgIH0sCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovaGFuZGxlUXVlcnk6IGZ1bmN0aW9uIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwogICAgICB2YXIgZnhiID0gIuS9j+mZouaUtuWFpeihqC51cmVwb3J0LnhtbCI7CiAgICAgIHRoaXMuc3JjID0gIi91cmVwb3J0L3ByZXZpZXc/X3U9bXlzcWw6IiArIGZ4YiArICcmdGltZXN0YW1wPScgKyBEYXRlLm5vdygpOwogICAgICA7CiAgICB9LAogICAgY3JlYXRNZXM6IGZ1bmN0aW9uIGNyZWF0TWVzKCkgewogICAgICB2YXIgZnhiID0gIuS9j+mZouaUtuWFpeihqC51cmVwb3J0LnhtbCI7CiAgICAgIHRoaXMuc3JjID0gIi91cmVwb3J0L3ByZXZpZXc/X3U9bXlzcWw6IiArIGZ4YiArICcmdGltZXN0YW1wPScgKyBEYXRlLm5vdygpOwogICAgICA7CiAgICB9LAogICAgcmVtb3ZlTWFzazogZnVuY3Rpb24gcmVtb3ZlTWFzaygpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eA6CA;EACAA;EACAC,aACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACAC,QACA;IAEA;EACA;EACAC;IAAA;IACA;MACA;IACA;IACA;MACA;IACA;IACA;EACA;EACAC;IACA;IACA;IACA;IACA;IACAC;MACAC;IACA;EACA;EACAC;IACA,aACAC;MACA;MACA;MACA;MACA;IACA;IACA,aACAC;MACA;MACA;MACA;MAAA;IACA;IACAC;MACA;MACA;MAAA;IACA;IACAC;MACA;IACA;EACA;AACA;AAAA","names":["name","components","data","src","height","loading","loadingText","typeOptions","settleMarkOptions","queryParams","type","month","year","settleMark","rules","created","mounted","window","that","methods","resetQuery","handleQuery","creatMes","removeMask"],"sourceRoot":"src/views/table/opc","sources":["index_v2.vue"],"sourcesContent":["<template>\n  <div class=\"app-container\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" :rules=\"rules\">\n      <el-form-item label=\"起始年月\" prop=\"month\">\n        <el-date-picker style=\"width:250px\" clearable\n                        v-model=\"queryParams.month\"\n                        type=\"monthrange\"\n                        range-separator=\"至\"\n                        start-placeholder=\"开始月份\"\n                        end-placeholder=\"结束月份\">\n          value-format=\"yyyy-MM\"\n        </el-date-picker>\n      </el-form-item>\n      <el-form-item label=\"结算标识:\" prop=\"settleMark\">\n        <el-select class=\"search_w220\" v-model=\"queryParams.settleMark\" clearable placeholder=\"请选择结算标识\">\n          <el-option\n            v-for=\"dict in settleMarkOptions\"\n            :key=\"dict.dictValue\"\n            :label=\"dict.dictLabel\"\n            :value=\"dict.dictValue\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"科室类型\" prop=\"type\">\n        <el-select class=\"search_w220\" v-model=\"queryParams.type\" placeholder=\"请选择项目类型\" clearable>\n          <el-option\n            v-for=\"dict in typeOptions\"\n            :key=\"dict.dictValue\"\n            :label=\"dict.dictLabel\"\n            :value=\"dict.dictValue\"\n          />\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n    <div v-loading=\"loading\" :style=\"'height:'+ height\" :element-loading-text=\"loadingText\">\n      <iframe :src=\"src\" @load=\"removeMask\" frameborder=\"no\" style=\"width: 100%;height: 100%\" scrolling=\"auto\" />\n    </div>\n  </div>\n</template>\n\n<script>\nexport default {\n  name: \"UreportDisplay\",\n  components: {\n  },\n  data() {\n    return {\n      src: \"\",\n      height: document.documentElement.clientHeight - 210 + \"px;\",\n      loading: true,\n      loadingText: '正在加载数据请稍后！',\n      typeOptions :[],\n      settleMarkOptions: [],\n      queryParams: {\n        type : '1',\n        month : [new Date(),new Date()],\n        year : null,\n        settleMark: '1'\n      },\n      rules: {\n      },\n\n    };\n  },\n  created() {\n    this.getDicts(\"DEPT_TYPE_OPC\").then(response => {\n      this.typeOptions = response.data;\n    });\n    this.getDicts(\"pms_jsbs_type\").then(response => {\n      this.settleMarkOptions = response.data;\n    });\n    this.creatMes();\n  },\n  mounted: function() {\n    // setTimeout(() => {\n    //   this.loading = false;\n    // }, 230);\n    const that = this;\n    window.onresize = function temp() {\n      that.height = document.documentElement.clientHeight - 94.5 + \"px;\";\n    };\n  },\n  methods:{\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.queryParams.year = null\n      this.queryParams.month = [new Date(),new Date()]\n      this.queryParams.settleMark = '1'\n      this.queryParams.type = '1'\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.loading = true;\n      let fxb = \"住院收入表.ureport.xml\";\n      this.src = \"/ureport/preview?_u=mysql:\"+fxb + '&timestamp=' + Date.now();;\n    },\n    creatMes(){\n      let fxb = \"住院收入表.ureport.xml\";\n      this.src = \"/ureport/preview?_u=mysql:\"+fxb + '&timestamp=' + Date.now();;\n    },\n    removeMask() {\n      this.loading = false;\n    },\n  }\n}\n</script>\n"]}]}
{"remainingRequest":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\components\\staffSearch\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\components\\staffSearch\\index.vue","mtime":1693362205225},{"path":"F:\\pms_UI\\babel.config.js","mtime":1693361824517},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5qc29uLnN0cmluZ2lmeS5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZmlsdGVyLmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudG8tc3RyaW5nLmpzIik7CnZhciBfdXNlciA9IHJlcXVpcmUoIkAvYXBpL3N5c3RlbS91c2VyIik7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCnZhciBfZGVmYXVsdDIgPSB7CiAgbmFtZTogImluZGV4IiwKICBwcm9wczogewogICAgbGFiZWw6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAi5ZGY5belIgogICAgfSwKICAgIC8vIOaYr+WQpuemgeeUqAogICAgZGlzYWJsZWQ6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICAvLyDkvKDlj4LkuLpmb3Jt6KGo5Y2VIOaWueS+v+aVsOaNruWbnuaYvua4suafkwogICAgc3RhZmZQYXJhbXM6IHsKICAgICAgdHlwZTogW09iamVjdCwgQXJyYXldCiAgICB9LAogICAgZGF0YXM6IHsKICAgICAgdHlwZTogT2JqZWN0LAogICAgICBkZWZhdWx0OiBmdW5jdGlvbiBfZGVmYXVsdCgpIHsKICAgICAgICByZXR1cm4ge307CiAgICAgIH0KICAgIH0sCiAgICBzaXplOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIm1pbmkiCiAgICB9LAogICAgaW5wdXRQcm9wOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogImVtcENvZGUiCiAgICB9LAogICAgcnVsZXM6IHsKICAgICAgdHlwZTogQXJyYXksCiAgICAgIGRlZmF1bHQ6IGZ1bmN0aW9uIF9kZWZhdWx0KCkgewogICAgICAgIHJldHVybiBbXTsKICAgICAgfQogICAgfSwKICAgIGZvcm1JdGVtUHJvcDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICJlbXBDb2RlIgogICAgfSwKICAgIC8v55So5oi35pWw5o2uCiAgICB1c2VySW5mb0xpc3Q6IHsKICAgICAgdHlwZTogW09iamVjdCwgQXJyYXldCiAgICB9LAogICAgLy8gZGF0YXMg5Lyg5YC85pyJ5Y2V5L2NIOenkeWupOetiemHjeaWsOi1i+WAvCDmmK/lkKbpu5jorqTlvZPliY3nlKjmiLfljZXkvY3kuIvmkJzntKIKICAgIHVzZXJDb21wRmxhZzogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiB0cnVlCiAgICB9CiAgfSwKICBkYXRhOiBmdW5jdGlvbiBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6KGo5qC85pWw5o2uCiAgICAgIHRhYmxlRGF0YTogW10sCiAgICAgIGZvcm1EYXRhOiB7fSwKICAgICAgcGFyYW1zOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MucG9wUGFnZVNpemUKICAgICAgfSwKICAgICAgdG90YWw6IDAsCiAgICAgIGl0ZW1Qcm9wOiB0aGlzLmZvcm1JdGVtUHJvcCwKICAgICAgaGFzRGF0YTogZmFsc2UKICAgIH07CiAgfSwKICBjb21wdXRlZDogewogICAgZW1wQ29kZU5hbWU6IGZ1bmN0aW9uIGVtcENvZGVOYW1lKCkgewogICAgICByZXR1cm4gdGhpcy5mb3JtRGF0YVt0aGlzLml0ZW1Qcm9wXTsKICAgIH0sCiAgICBzdGFmZkVtcENvZGU6IGZ1bmN0aW9uIHN0YWZmRW1wQ29kZSgpIHsKICAgICAgcmV0dXJuIHRoaXMuc3RhZmZQYXJhbXNbdGhpcy5pdGVtUHJvcF07CiAgICB9CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkge30sCiAgd2F0Y2g6IHsKICAgIC8vIOW/heWhq+WIh+aNogogICAgZm9ybUl0ZW1Qcm9wOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5pdGVtUHJvcCA9IHZhbDsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgc3RhZmZFbXBDb2RlOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5mb3JtRGF0YSA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5zdGFmZlBhcmFtcykpOwogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBpbnB1dFByb3A6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAodmFsICE9ICJlbXBDb2RlIiAmJiB0aGlzLmZvcm1JdGVtUHJvcCA9PSAiZW1wQ29kZSIpIHsKICAgICAgICAgIHRoaXMuaXRlbVByb3AgPSB2YWw7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBlbXBDb2RlTmFtZTogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgIHRoaXMuc2VhcmNoU3RhZmZOYW1lKHZhbCk7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICB1c2VySW5mb0xpc3Q6IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICBpZiAodmFsKSB7CiAgICAgICAgICB0aGlzLmhhc0RhdGEgPSB0cnVlOwogICAgICAgICAgdGhpcy50YWJsZURhdGEgPSB2YWw7CiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0KICAgIC8vICIkc3RvcmUuc3RhdGUuZGljdHMiOiB7CiAgICAvLyAgIGhhbmRsZXIodmFsKSB7CiAgICAvLyAgICAgLy8g5Z+656GA5a2X5YW4CiAgICAvLyAgICAgbGV0IGJhc2VEaWN0cyA9IHZhbC5iYXNlRGljdHM7CiAgICAvLyAgICAgdGhpcy51bml0T3B0aW9ucyA9IGJhc2VEaWN0cy5xdWFudGl0eVVuaXQ7CgogICAgLy8gICAgIC8vIOeJueauigogICAgLy8gICAgIHRoaXMuc3VwcGxpZXJPcHRpb25zID0gdmFsLnN1cHBsaWVySW5mbzsKICAgIC8vICAgfSwKICAgIC8vICAgZGVlcDogdHJ1ZSwKICAgIC8vICAgaW1tZWRpYXRlOiB0cnVlCiAgICAvLyB9CiAgfSwKICBtb3VudGVkOiBmdW5jdGlvbiBtb3VudGVkKCkge30sCiAgbWV0aG9kczogewogICAgc2VhcmNoU3RhZmZOYW1lOiBmdW5jdGlvbiBzZWFyY2hTdGFmZk5hbWUoc2VhcmNoTmFtZSwgdXNlckRhdGEpIHsKICAgICAgdmFyIF90aGlzID0gdGhpczsKICAgICAgY29uc29sZS5sb2coc2VhcmNoTmFtZSwgInNlYXJjaE5hbWUiKTsKICAgICAgaWYgKHVzZXJEYXRhKSB7fSBlbHNlIHsKICAgICAgICB2YXIgZGF0YSA9IG51bGw7CiAgICAgICAgaWYgKHRoaXMudXNlckNvbXBGbGFnKSB7CiAgICAgICAgICBkYXRhID0gewogICAgICAgICAgICBzZWFyY2hOYW1lOiBzZWFyY2hOYW1lLAogICAgICAgICAgICBjb21wQ29kZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQsCiAgICAgICAgICAgIGRlcHRDb2RlOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRSb29tSWQKICAgICAgICAgIH07CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIGRhdGEgPSBPYmplY3QuYXNzaWduKHsKICAgICAgICAgICAgc2VhcmNoTmFtZTogc2VhcmNoTmFtZQogICAgICAgICAgfSwgdGhpcy5kYXRhcyk7CiAgICAgICAgfQogICAgICAgICgwLCBfdXNlci5nZXRTdGFmZkluZm8pKGRhdGEpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgaWYgKHJlc3BvbnNlLnJvd3MubGVuZ3RoKSB7CiAgICAgICAgICAgICAgdmFyIF9kYXRhID0gcmVzcG9uc2Uucm93c1swXS5lbXBOYW1lOwogICAgICAgICAgICAgIF90aGlzLiRzZXQoX3RoaXMuZm9ybURhdGEsIF90aGlzLmlucHV0UHJvcCwgX2RhdGEpOwogICAgICAgICAgICAgIC8vIHRoaXMuJGVtaXQoInVwZGF0ZTpzdGFmZlBhcmFtcyIsIHRoaXMuZm9ybURhdGEpOwogICAgICAgICAgICB9CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBfdGhpcy5tc2dFcnJvcihyZXNwb25zZS5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgLy8g5pCc57Si5pWw5o2uCiAgICBoYW5kbGVJbnB1dDogZnVuY3Rpb24gaGFuZGxlSW5wdXQoKSB7CiAgICAgIHZhciBfdGhpczIgPSB0aGlzOwogICAgICBpZiAodGhpcy5oYXNEYXRhKSB7CiAgICAgICAgY29uc29sZS5sb2codGhpcy51c2VySW5mb0xpc3QsICJ0aGlzLnVzZXJJbmZvTGlzdCIpOwogICAgICAgIHZhciB2YWwgPSB0aGlzLmZvcm1EYXRhW3RoaXMuaW5wdXRQcm9wXTsKICAgICAgICAvLyDkuIvoioLngrnlrqHmoLjkurog5Lyg55qE5Zu65a6a5pWw5o2uCiAgICAgICAgaWYgKHZhbCkgewogICAgICAgICAgdmFyIGRhdGEgPSB0aGlzLnVzZXJJbmZvTGlzdC5maWx0ZXIoZnVuY3Rpb24gKGVsKSB7CiAgICAgICAgICAgIHJldHVybiBlbC5lbXBDb2RlLmluZGV4T2YodmFsKSA+IC0xIHx8IGVsLmVtcE5hbWUuaW5kZXhPZih2YWwpID4gLTEgfHwgZWwudXNlck5hbWUuaW5kZXhPZih2YWwpID4gLTEgfHwgZWwudXNlcklkLmluZGV4T2YodmFsKSA+IC0xOwogICAgICAgICAgfSk7CiAgICAgICAgICB0aGlzLnRhYmxlRGF0YSA9IGRhdGE7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMudGFibGVEYXRhID0gdGhpcy51c2VySW5mb0xpc3Q7CiAgICAgICAgfQogICAgICB9IGVsc2UgewogICAgICAgIHZhciBfZGF0YTIgPSBPYmplY3QuYXNzaWduKHsKICAgICAgICAgIHNlYXJjaE5hbWU6IHRoaXMuZm9ybURhdGFbdGhpcy5pbnB1dFByb3BdLAogICAgICAgICAgY29tcENvZGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkLAogICAgICAgICAgZGVwdENvZGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdFJvb21JZAogICAgICAgIH0sIHRoaXMuZGF0YXMpOwogICAgICAgIGlmICh0aGlzLmZvcm1EYXRhW3RoaXMuaW5wdXRQcm9wXSA9PSAiIikgewogICAgICAgICAgdGhpcy5zdGFmZlBhcmFtc1t0aGlzLmZvcm1JdGVtUHJvcF0gPSBudWxsOwogICAgICAgIH0KICAgICAgICAoMCwgX3VzZXIuZ2V0U3RhZmZJbmZvKShfZGF0YTIpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgX3RoaXMyLnRhYmxlRGF0YSA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgICAgIF90aGlzMi50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgX3RoaXMyLm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDngrnlh7vooajmoLzooYwKICAgIGNsaWNrUm93OiBmdW5jdGlvbiBjbGlja1Jvdyhyb3csIGNvbHVtbiwgY2VsbCwgZXZlbnQpIHsKICAgICAgdmFyIG9iaiA9IHt9OwogICAgICBvYmpbdGhpcy5pbnB1dFByb3BdID0gcm93LmVtcE5hbWU7CiAgICAgIG9ialt0aGlzLml0ZW1Qcm9wXSA9IHJvdy51c2VySWQ7CiAgICAgIHRoaXMuZm9ybURhdGFbdGhpcy5pbnB1dFByb3BdID0gcm93LmVtcE5hbWU7CiAgICAgIG9iaiA9IE9iamVjdC5hc3NpZ24odGhpcy5zdGFmZlBhcmFtcywgb2JqKTsKICAgICAgdGhpcy4kZW1pdCgidXBkYXRlOnN0YWZmUGFyYW1zIiwgb2JqKTsKICAgICAgdGhpcy4kZW1pdCgiaGFuZGxlU3RhZmYiLCByb3cpOwogICAgICB0aGlzLiRyZWZzLnBvcG92ZXIuZG9DbG9zZSgpOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQyOw=="},{"version":3,"mappings":";;;;;;;;;AA8BA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;gBACA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACA;IACAC;MACAF;MACAC;IACA;IACA;IACAE;MACAH;IACA;IACAI;MACAJ;MACAC;QACA;MACA;IACA;IACAI;MACAL;MACAC;IACA;IACAK;MACAN;MACAC;IACA;IACAM;MACAP;MACAC;QACA;MACA;IACA;IACAO;MACAR;MACAC;IACA;IACA;IACAQ;MACAT;IACA;IACA;IACAU;MACAV;MACAC;IACA;EACA;EACAU;IACA;MACA;MACAC;MACAC;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;IACA;EACA;EACAC;IACAC;MACA;IACA;IACAC;MACA;IACA;EACA;EACAC;EACAC;IACA;IACAhB;MACAiB;QACA;MACA;MACAC;MACAC;IACA;IACAL;MACAG;QACA;MACA;MACAC;MACAC;IACA;IACArB;MACAmB;QACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAN;MACAI;QACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAlB;MACAgB;QACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACA;IACA;IACA;IACA;IACA;;IAEA;IACA;IACA;IACA;IACA;IACA;EACA;EACAC;EAEAC;IACAC;MAAA;MACAC;MACA,eACA;QACA;QACA;UACApB;YACAqB;YACAC;YACAC;UACA;QACA;UACAvB;YACAqB;UACA,GACA;QACA;QACA;UACA;YACA;cACA;cACA;cACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAG;MAAA;MACA;QACAJ;QACA;QACA;QACA;UACA;YACA;UACA;UACA;QACA;UACA;QACA;MACA;QACA,2BACA;UACAC;UACAC;UACAC;QACA,GACA,WACA;QAEA;UACA;QACA;QACA;UACA;YACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACA;IACAE;MACA;MACAC;MACAA;MAEA;MACAA;MACA;MACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","label","type","default","disabled","staffParams","datas","size","inputProp","rules","formItemProp","userInfoList","userCompFlag","data","tableData","formData","params","pageNum","pageSize","total","itemProp","hasData","computed","empCodeName","staffEmpCode","created","watch","handler","deep","immediate","mounted","methods","searchStaffName","console","searchName","compCode","deptCode","handleInput","clickRow","obj"],"sourceRoot":"src/views/components/staffSearch","sources":["index.vue"],"sourcesContent":["<template>\r\n<!-- 查询员工信息 -->\r\n      <el-form-item :label=\"label\" :prop=\"itemProp\" :rules=\"rules\">\r\n        <el-popover\r\n          placement=\"bottom\"\r\n          ref=\"popover\"\r\n          width=\"700\"\r\n          trigger=\"click\"\r\n          :disabled = \"disabled\">\r\n          <el-table  :data=\"tableData\" @cell-click=\"clickRow\"  border stripe height=\"280px\">\r\n            <el-table-column label=\"用户编号\" align=\"center\" prop=\"userId\" show-overflow-tooltip/>\r\n          \t<el-table-column show-overflow-tooltip label=\"工号\" align=\"center\" prop=\"empCode\"/>\r\n            <el-table-column label=\"用户名称\" align=\"left\" prop=\"userName\" show-overflow-tooltip/>\r\n            <el-table-column label=\"用户昵称\" align=\"left\" prop=\"empName\" show-overflow-tooltip/>\r\n          </el-table>\r\n          <pagination\r\n            layout=\"total, prev, pager, next\"\r\n            v-show=\"total>0\"\r\n            :total=\"total\"\r\n            :page.sync=\"params.pageNum\"\r\n            :limit.sync=\"params.pageSize\"\r\n            @pagination=\"handleInput\"\r\n          />\r\n          <el-input slot=\"reference\" class=\"w100\" :size=\"size\" :disabled = \"disabled\" v-model=\"formData[inputProp]\" :placeholder=\"'请选择'+label\" @input=\"handleInput\" @keyup.enter.native=\"handleInput\"  @focus=\"handleInput\"/>\r\n          <el-input slot=\"reference\" v-if=\"false\" :disabled = \"disabled\" v-model=\"staffParams[itemProp]\"/>\r\n        </el-popover>\r\n      </el-form-item>\r\n</template>\r\n\r\n<script>\r\nimport { getStaffInfo } from \"@/api/system/user\";\r\nexport default {\r\n  name: \"index\",\r\n  props: {\r\n    label: {\r\n      type: String,\r\n      default: \"员工\"\r\n    },\r\n    // 是否禁用\r\n    disabled: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    // 传参为form表单 方便数据回显渲染\r\n    staffParams: {\r\n      type: [Object, Array]\r\n    },\r\n    datas: {\r\n      type: Object,\r\n      default() {\r\n        return {};\r\n      }\r\n    },\r\n    size:{\r\n      type: String,\r\n      default: \"mini\"\r\n    },\r\n    inputProp: {\r\n      type: String,\r\n      default: \"empCode\"\r\n    },\r\n    rules: {\r\n      type: Array,\r\n      default() {\r\n        return [];\r\n      }\r\n    },\r\n    formItemProp: {\r\n      type: String,\r\n      default: \"empCode\"\r\n    },\r\n    //用户数据\r\n    userInfoList: {\r\n      type: [Object, Array]\r\n    },\r\n    // datas 传值有单位 科室等重新赋值 是否默认当前用户单位下搜索\r\n    userCompFlag:{\r\n      type: Boolean,\r\n      default: true\r\n    }\r\n  },\r\n  data() {\r\n    return {\r\n      // 表格数据\r\n      tableData: [],\r\n      formData: {},\r\n      params: {\r\n        pageNum: 1,\r\n        pageSize: this.$store.state.settings.popPageSize\r\n      },\r\n      total: 0,\r\n      itemProp: this.formItemProp,\r\n      hasData: false\r\n    };\r\n  },\r\n  computed: {\r\n    empCodeName() {\r\n      return this.formData[this.itemProp];\r\n    },\r\n    staffEmpCode() {\r\n      return this.staffParams[this.itemProp];\r\n    }\r\n  },\r\n  created() {},\r\n  watch: {\r\n    // 必填切换\r\n    formItemProp: {\r\n      handler(val) {\r\n        this.itemProp = val;\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    staffEmpCode: {\r\n      handler(val) {\r\n        this.formData = JSON.parse(JSON.stringify(this.staffParams));\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    inputProp: {\r\n      handler(val) {\r\n        if (val != \"empCode\" && this.formItemProp == \"empCode\") {\r\n          this.itemProp = val;\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    empCodeName: {\r\n      handler(val) {\r\n        if (val) {\r\n          this.searchStaffName(val);\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    userInfoList: {\r\n      handler(val) {\r\n        if (val) {\r\n          this.hasData = true;\r\n          this.tableData = val;\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    }\r\n    // \"$store.state.dicts\": {\r\n    //   handler(val) {\r\n    //     // 基础字典\r\n    //     let baseDicts = val.baseDicts;\r\n    //     this.unitOptions = baseDicts.quantityUnit;\r\n\r\n    //     // 特殊\r\n    //     this.supplierOptions = val.supplierInfo;\r\n    //   },\r\n    //   deep: true,\r\n    //   immediate: true\r\n    // }\r\n  },\r\n  mounted() {},\r\n\r\n  methods: {\r\n    searchStaffName(searchName, userData) {\r\n      console.log(searchName,\"searchName\")\r\n      if (userData) {\r\n      } else {\r\n        let data = null\r\n        if(this.userCompFlag){\r\n          data =  {\r\n            searchName,\r\n            compCode: this.$store.state.user.userInfo.deptId,\r\n            deptCode: this.$store.state.user.userInfo.deptRoomId\r\n          };\r\n        }else{\r\n          data = Object.assign({\r\n            searchName\r\n          },\r\n          this.datas)\r\n        }\r\n        getStaffInfo(data).then(response => {\r\n          if (response.code == 200) {\r\n            if (response.rows.length) {\r\n              let data = response.rows[0].empName;\r\n              this.$set(this.formData, this.inputProp, data);\r\n              // this.$emit(\"update:staffParams\", this.formData);\r\n            }\r\n          } else {\r\n            this.msgError(response.msg);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // 搜索数据\r\n    handleInput() {\r\n      if (this.hasData) {\r\n        console.log(this.userInfoList,\"this.userInfoList\")\r\n        let val = this.formData[this.inputProp]\r\n      // 下节点审核人 传的固定数据\r\n        if(val){\r\n          let data = this.userInfoList.filter(el => {\r\n            return el.empCode.indexOf(val)>-1 || el.empName.indexOf(val)>-1 ||el.userName.indexOf(val) > -1 || el.userId.indexOf(val) > -1\r\n          })\r\n          this.tableData = data\r\n        }else{\r\n          this.tableData = this.userInfoList\r\n        }\r\n      } else {\r\n        let data = Object.assign(\r\n          {\r\n            searchName: this.formData[this.inputProp],\r\n            compCode: this.$store.state.user.userInfo.deptId,\r\n            deptCode: this.$store.state.user.userInfo.deptRoomId\r\n          },\r\n          this.datas\r\n        );\r\n\r\n        if(this.formData[this.inputProp] == \"\"){\r\n          this.staffParams[this.formItemProp] = null\r\n        }\r\n        getStaffInfo(data).then(response => {\r\n          if (response.code == 200) {\r\n            this.tableData = response.rows;\r\n            this.total = response.total;\r\n          } else {\r\n            this.msgError(response.msg);\r\n          }\r\n        });\r\n      }\r\n    },\r\n    // 点击表格行\r\n    clickRow(row, column, cell, event) {\r\n      let obj = {};\r\n      obj[this.inputProp] = row.empName;\r\n      obj[this.itemProp] = row.userId;\r\n\r\n      this.formData[this.inputProp] = row.empName;\r\n      obj = Object.assign(this.staffParams, obj);\r\n      this.$emit(\"update:staffParams\", obj);\r\n      this.$emit(\"handleStaff\", row);\r\n      this.$refs.popover.doClose();\r\n    }\r\n  }\r\n};\r\n</script>\r\n\r\n<style lang=\"scss\" scoped>\r\n.pagination-container {\r\n  height: 36px !important;\r\n}\r\n\r\n.labelEmpty {\r\n  ::v-deep .el-form-item {\r\n    margin-bottom: 12px;\r\n  }\r\n  ::v-deep .el-form-item__content {\r\n    margin-left: 0 !important;\r\n  }\r\n}\r\n</style>\r\n"]}]}
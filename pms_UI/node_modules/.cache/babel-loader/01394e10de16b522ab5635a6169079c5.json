{"remainingRequest":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\babel-loader\\lib\\index.js!D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\Work\\oracle_java\\pms (2)\\pms_UI\\src\\views\\apport\\apport\\delEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\src\\views\\apport\\apport\\delEdit.vue","mtime":1693362204000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\babel.config.js","mtime":1693361824000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\Work\\oracle_java\\pms (2)\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKT2JqZWN0LmRlZmluZVByb3BlcnR5KGV4cG9ydHMsICJfX2VzTW9kdWxlIiwgewogIHZhbHVlOiB0cnVlCn0pOwpleHBvcnRzLmRlZmF1bHQgPSB2b2lkIDA7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5udW1iZXIuY29uc3RydWN0b3IuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMub2JqZWN0LnRvLXN0cmluZy5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvd2ViLmRvbS1jb2xsZWN0aW9ucy5mb3ItZWFjaC5qcyIpOwpyZXF1aXJlKCJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc29ydC5qcyIpOwp2YXIgX2RhdGEgPSByZXF1aXJlKCJAL2FwaS9zeXN0ZW0vZGljdC9kYXRhIik7CnZhciBfdmFsaWRhdGUgPSByZXF1aXJlKCJAL3V0aWxzL3ZhbGlkYXRlIik7CnZhciBfYXBwb3J0ID0gcmVxdWlyZSgiQC9hcGkvYXBwb3J0L2FwcG9ydCIpOwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwovLwp2YXIgX2RlZmF1bHQgPSB7CiAgbmFtZTogImRlbEVkaXQiLAogIHByb3BzOiB7CiAgICBvcGVuOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgaWQ6IHsKICAgICAgdHlwZTogW1N0cmluZywgTnVtYmVyXSwKICAgICAgZGVmYXVsdDogIiIKICAgIH0sCiAgICBkZWxEYXRhOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGlkOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5yZXNldCgpOwogICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgIHRoaXMuaWQgPSB2YWw7CiAgICAgICAgICB0aGlzLmZvcm0gPSB0aGlzLmRlbERhdGE7CiAgICAgICAgICB0aGlzLmFwcG9ydFR5cGUgPSB0aGlzLmRlbERhdGEuYXBwb3J0VHlwZTsKICAgICAgICB9CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUsCiAgICAgIGltbWVkaWF0ZTogdHJ1ZQogICAgfSwKICAgIG9wZW46IHsKICAgICAgaGFuZGxlcjogZnVuY3Rpb24gaGFuZGxlcih2YWwpIHsKICAgICAgICB0aGlzLm9wZW5EaWFsb2cgPSB2YWw7CiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGE6IGZ1bmN0aW9uIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0aXRsZTogIuaIkOacrOWIhuaRii3liKDpmaQiLAogICAgICBvcGVuRGlhbG9nOiB0aGlzLm9wZW4sCiAgICAgIHNhdmVMb2FkaW5nOiBmYWxzZSwKICAgICAgYXBwb3J0VHlwZTogIiIsCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgYXBwb3J0VHlwZU9wdGlvbnM6IFtdLAogICAgICBjaGVja0RhdGE6IFtdLAogICAgICBwcm9ncmVzc1Nob3c6IGZhbHNlLAogICAgICBhY3Rpdml0aWVzOiBbXSwKICAgICAgcGVyY2VudGFnZTogMCwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7CiAgICAgICAgbm93RGF0ZTogW3sKICAgICAgICAgIHJlcXVpcmVkOiB0cnVlLAogICAgICAgICAgbWVzc2FnZTogIuWIhuaRiuW5tOaciOS4jeiDveS4uuepuiIsCiAgICAgICAgICB0cmlnZ2VyOiAiYmx1ciIKICAgICAgICB9XSwKICAgICAgICBhcHBvcnRUeXBlOiBbewogICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICBtZXNzYWdlOiAi5YiG5pGK57qn5Yir5LiN6IO95Li656m6IiwKICAgICAgICAgIHRyaWdnZXI6ICJibHVyIgogICAgICAgIH1dCiAgICAgIH0KICAgIH07CiAgfSwKICBjcmVhdGVkOiBmdW5jdGlvbiBjcmVhdGVkKCkgewogICAgdmFyIF90aGlzID0gdGhpczsKICAgIHRoaXMuZ2V0RGljdHMoImNvc3RfYXBwb3J0X3R5cGUiKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICB2YXIgYXJyID0gW107CiAgICAgIF90aGlzLmFwcG9ydFR5cGVPcHRpb25zID0gcmVzcG9uc2UuZGF0YS5tYXAoZnVuY3Rpb24gKF8pIHsKICAgICAgICBpZiAoXy5kaWN0VmFsdWUgPD0gX3RoaXMuZGVsRGF0YS5hcHBvcnRUeXBlICYmIF8uZGljdFZhbHVlICE9IDEpIHsKICAgICAgICAgIGFyci5wdXNoKF8uZGljdFZhbHVlKTsKICAgICAgICAgIF8uYm9vbCA9IGZhbHNlOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBfLmJvb2wgPSB0cnVlOwogICAgICAgIH0KICAgICAgICByZXR1cm4gXzsKICAgICAgfSk7CiAgICAgIF90aGlzLmZvcm0uYXBwb3J0VHlwZSA9IGFycjsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgLy8g5YiG5pGK57qn5YirKOS/neWtmOacgOWQjueahOe6p+WIqynlrZflhbjnv7vor5EKICAgIGFwcG9ydFR5cGVGb3JtYXQ6IGZ1bmN0aW9uIGFwcG9ydFR5cGVGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMuYXBwb3J0VHlwZU9wdGlvbnMsIHJvdy5hcHBvcnRUeXBlKTsKICAgIH0sCiAgICAvLyDlvLnmoYblhbPpl60KICAgIGhhbmRsZURpYWxvZ0Nsb3NlOiBmdW5jdGlvbiBoYW5kbGVEaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgic3VjY2VzcyIsIGZhbHNlKTsKICAgICAgdGhpcy4kZW1pdCgiY2FuY2VsIiwgZmFsc2UpOwogICAgfSwKICAgIC8vIOWPlua2iAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoInN1Y2Nlc3MiLCBmYWxzZSk7CiAgICAgIHRoaXMuJGVtaXQoImNhbmNlbCIsIGZhbHNlKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGlkOiBudWxsLAogICAgICAgIGNvbXBDb2RlOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZCwKICAgICAgICBhY2NvdW50Q29kZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5hY2NvdW50SW5mby5hY2NvdW50Q29kZSwKICAgICAgICBhcHBvcnRDb2RlOiBudWxsLAogICAgICAgIG5vd0RhdGU6IG51bGwsCiAgICAgICAgYXBwb3J0VHlwZTogW10sCiAgICAgICAgZm9yd2FyZDogbnVsbCwKICAgICAgICBiYWNrOiBudWxsLAogICAgICAgIGFwcG9ydFRpbWU6IG51bGwsCiAgICAgICAgZGVsRmxhZzogbnVsbCwKICAgICAgICBjcmVhdGVCeTogbnVsbCwKICAgICAgICBjcmVhdGVUaW1lOiBudWxsLAogICAgICAgIHVwZGF0ZUJ5OiBudWxsLAogICAgICAgIHVwZGF0ZVRpbWU6IG51bGwsCiAgICAgICAgcmVtYXJrOiBudWxsCiAgICAgIH07CiAgICAgIHRoaXMucmVzZXRGb3JtKCJmb3JtIik7CiAgICB9LAogICAgLy/liIbmkYrorqHnrpfnmoTlpJrpgInlhbPogZQKICAgIGhhbmRsZXJDaGFuZ2U6IGZ1bmN0aW9uIGhhbmRsZXJDaGFuZ2UoZSwgZWwpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHZhciBhcnIgPSBbXTsKICAgICAgdGhpcy5hcHBvcnRUeXBlT3B0aW9ucy5mb3JFYWNoKGZ1bmN0aW9uIChpdGUsIGkpIHsKICAgICAgICBpZiAoZWwudGFyZ2V0LmNoZWNrZWQpIHsKICAgICAgICAgIGlmIChpdGUuZGljdFZhbHVlIDw9IF90aGlzMi5hcHBvcnRUeXBlICYmIGl0ZS5kaWN0VmFsdWUgIT0gMSkgewogICAgICAgICAgICBhcnIucHVzaChpdGUuZGljdFZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9IGVsc2UgewogICAgICAgICAgaWYgKGl0ZS5kaWN0VmFsdWUgPCBlbC50YXJnZXQudmFsdWUgJiYgaXRlLmRpY3RWYWx1ZSAhPSAxICYmIGl0ZS5kaWN0VmFsdWUgPD0gX3RoaXMyLmFwcG9ydFR5cGUpIHsKICAgICAgICAgICAgYXJyLnB1c2goaXRlLmRpY3RWYWx1ZSk7CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICB9KTsKICAgICAgdGhpcy5mb3JtLmFwcG9ydFR5cGUgPSBhcnI7CiAgICB9LAogICAgLyoqIOaPkOS6pOaMiemSriAqL3N1Ym1pdEZvcm06IGZ1bmN0aW9uIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB0aGlzLiRyZWZzWyJmb3JtIl0udmFsaWRhdGUoZnVuY3Rpb24gKHZhbGlkKSB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICB2YXIgYXBwb3J0VHlwZSA9IF90aGlzMy5mb3JtLmFwcG9ydFR5cGUuc29ydChmdW5jdGlvbiAoYSwgYikgewogICAgICAgICAgICByZXR1cm4gYSAtIGI7CiAgICAgICAgICB9KVswXTsKICAgICAgICAgIHZhciBpZHMgPSBbX3RoaXMzLmlkLCBhcHBvcnRUeXBlXTsKICAgICAgICAgIF90aGlzMy5zYXZlTG9hZGluZyA9IHRydWU7CiAgICAgICAgICBfdGhpczMuJGNvbmZpcm0oJ+aYr+WQpuehruiupOWIoOmZpOWIhuaRiuiuoeeul+e8luWPt+S4uiInICsgX3RoaXMzLmlkICsgJyLnmoTmlbDmja7pobk/JywgIuitpuWRiiIsIHsKICAgICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgICB9KS50aGVuKGZ1bmN0aW9uICgpIHsKICAgICAgICAgICAgcmV0dXJuICgwLCBfYXBwb3J0LmRlbEFwcG9ydCkoaWRzKTsKICAgICAgICAgIH0pLnRoZW4oZnVuY3Rpb24gKCkgewogICAgICAgICAgICBfdGhpczMubXNnU3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgICAgICAgIF90aGlzMy4kZW1pdCgic3VjY2VzcyIsIGZhbHNlKTsKICAgICAgICAgIH0pLmNhdGNoKGZ1bmN0aW9uICgpIHt9KTsKICAgICAgICB9CiAgICAgIH0pOwogICAgfQogIH0KfTsKZXhwb3J0cy5kZWZhdWx0ID0gX2RlZmF1bHQ7"},{"version":3,"mappings":";;;;;;;;;;;AAyCA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;IACAE;MACAH;MACAC;IACA;EACA;EACAG;IACAF;MACAG;QACA;QACA;UACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAR;MACAM;QACA;MACA;MACAC;IACA;EACA;EACAE,aACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACA;MACAC,OACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;QACAC,UACA;UAAAC;UAAAC;UAAAC;QAAA,EACA;QACAX,aACA;UAAAS;UAAAC;UAAAC;QAAA;MAEA;IACA;EACA;EACAC;IAAA;IACA;MACA;MACA;QACA;UACAC;UACAC;QACA;UACAA;QACA;QACA;MACA;MACA;IACA;EACA;EACAC;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;QACA9B;QACA+B;QACAC;QACAC;QACAd;QACAR;QACAuB;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;IACA;IACAC;MAAA;MACA;MACA;QACA;UACA;YACAnB;UACA;QACA;UACA;YACAA;UACA;QACA;MACA;MACA;IACA;IACA,WACAoB;MAAA;MACA;QACA;UACA;YAAA;UAAA;UACA;UACA;UACA;YACAC;YACAC;YACAhD;UACA;YACA;UACA;YACA;YACA;UACA;QACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","open","type","default","id","delData","watch","handler","deep","immediate","components","data","title","openDialog","saveLoading","apportType","form","apportTypeOptions","checkData","progressShow","activities","percentage","rules","nowDate","required","message","trigger","created","arr","_","methods","apportTypeFormat","handleDialogClose","cancel","reset","compCode","accountCode","apportCode","forward","back","apportTime","delFlag","createBy","createTime","updateBy","updateTime","remark","handlerChange","submitForm","confirmButtonText","cancelButtonText"],"sourceRoot":"src/views/apport/apport","sources":["delEdit.vue"],"sourcesContent":["<template>\r\n    <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"40%\" custom-class=\"el-button--primary\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDialogClose\">\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\r\n        <el-col :span=\"12\">\r\n          <el-form-item label=\"分摊编码\" prop=\"apportCode\">\r\n            <el-input v-model=\"form.apportCode\" placeholder=\"请输入分摊编码\"  maxlength=\"50\" show-word-limit disabled />\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"12\">\r\n          <el-form-item label=\"分摊年月\" prop=\"nowDate\">\r\n            <el-date-picker disabled size=\"small\" class=\"w100\"\r\n              v-model=\"form.nowDate\"\r\n              type=\"month\"\r\n              value-format=\"yyyy-MM\"\r\n              placeholder=\"选择年月\">\r\n            </el-date-picker>\r\n          </el-form-item>\r\n        </el-col>\r\n        <el-col :span=\"24\">\r\n          <el-form-item label=\"分摊级别\" prop=\"apportType\">\r\n            <el-checkbox-group v-model=\"form.apportType\">\r\n              <el-checkbox\r\n                v-for=\"dict in apportTypeOptions\"\r\n                :key=\"dict.dictValue\"\r\n                :label=\"dict.dictValue\"\r\n                :value=\"dict.dictValue\"\r\n                :disabled=\"dict.bool\"\r\n                @change=\"handlerChange\"\r\n              >{{dict.dictLabel}}</el-checkbox>\r\n            </el-checkbox-group>\r\n          </el-form-item>\r\n        </el-col>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button type=\"primary\" @click=\"submitForm\" >确 定</el-button>        \r\n        <el-button @click=\"cancel\">取 消</el-button>\r\n      </div>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { getCostApport } from \"@/api/system/dict/data\"\r\nimport { validEmail } from'@/utils/validate'\r\nimport { listApport, getApport, addApportFtjs,addApportYjftjs,addApportEjftjs,addApportSjftjs, addVerification1,addVerification2,addVerification3,addVerification,delApport } from \"@/api/apport/apport\";\r\n\r\nexport default {\r\n  name: \"delEdit\",\r\n  props: {\r\n    open: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    id: {\r\n      type: [String, Number],\r\n      default: \"\"\r\n    },\r\n    delData:{\r\n      type:Object,\r\n      default:null\r\n    }\r\n  },\r\n  watch: {\r\n    id: {\r\n      handler(val) {\r\n        this.reset();\r\n        if (val) {\r\n          this.id = val;\r\n          this.form=this.delData;\r\n          this.apportType=this.delData.apportType\r\n        }\r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    open: {\r\n      handler(val) {\r\n        this.openDialog = val;\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"成本分摊-删除\",\r\n      openDialog: this.open,\r\n      saveLoading: false,\r\n      apportType:\"\",\r\n      // 表单参数\r\n      form: {\r\n      },\r\n      apportTypeOptions: [],\r\n      checkData:[],\r\n      progressShow:false,\r\n      activities: [],\r\n      percentage:0,\r\n\t  \t// 表单校验\r\n      rules: {\r\n        nowDate: [\r\n          { required: true, message: \"分摊年月不能为空\", trigger: \"blur\" }\r\n        ],\r\n        apportType: [\r\n          { required: true, message: \"分摊级别不能为空\", trigger: \"blur\" }\r\n        ],\r\n      }\r\n    };\r\n  },\r\n  created() {\r\n    this.getDicts(\"cost_apport_type\").then(response => {\r\n      let arr=[]\r\n        this.apportTypeOptions = response.data.map(_=>{\r\n          if(_.dictValue<=this.delData.apportType && _.dictValue!=1){\r\n           arr.push(_.dictValue)\r\n           _.bool=false\r\n          }else{\r\n            _.bool=true\r\n          }\r\n          return _\r\n        })\r\n        this.form.apportType=arr\r\n    });\r\n  },\r\n  methods: {\r\n    // 分摊级别(保存最后的级别)字典翻译\r\n    apportTypeFormat(row, column) {\r\n      return this.selectDictLabel(this.apportTypeOptions, row.apportType);\r\n    },\r\n    // 弹框关闭\r\n    handleDialogClose() {\r\n      this.$emit(\"success\", false);\r\n      this.$emit(\"cancel\", false);\r\n    },\r\n    // 取消\r\n    cancel() {\r\n      this.$emit(\"success\", false);\r\n      this.$emit(\"cancel\", false);\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.form = {\r\n        id: null,\r\n        compCode: this.$store.state.user.userInfo.deptId,\r\n        accountCode: this.$store.state.user.accountInfo.accountCode,\r\n        apportCode: null,\r\n        nowDate: null,\r\n        apportType: [],\r\n        forward: null,\r\n        back: null,\r\n        apportTime: null,\r\n        delFlag: null,\r\n        createBy: null,\r\n        createTime: null,\r\n        updateBy: null,\r\n        updateTime: null,\r\n        remark: null\r\n      };\r\n      this.resetForm(\"form\");\r\n    },\r\n    //分摊计算的多选关联\r\n    handlerChange(e,el){\r\n      let arr=[]\r\n      this.apportTypeOptions.forEach((ite,i)=>{\r\n        if(el.target.checked){\r\n          if(ite.dictValue <= this.apportType && ite.dictValue!=1){\r\n            arr.push(ite.dictValue)\r\n          }\r\n        }else{\r\n          if(ite.dictValue<el.target.value && ite.dictValue!=1 && ite.dictValue <= this.apportType){\r\n            arr.push(ite.dictValue)            \r\n          }\r\n        }\r\n      })\r\n      this.form.apportType=arr\r\n    },\r\n    /** 提交按钮 */\r\n    submitForm() {\r\n      this.$refs[\"form\"].validate(valid => {\r\n        if (valid) {\r\n          let apportType=this.form.apportType.sort((a,b)=>{return a-b})[0]\r\n          let ids=[this.id,apportType]\r\n          this.saveLoading = true;\r\n          this.$confirm('是否确认删除分摊计算编号为\"' + this.id + '\"的数据项?', \"警告\", {\r\n          confirmButtonText: \"确定\",\r\n          cancelButtonText: \"取消\",\r\n          type: \"warning\"\r\n        }).then(function() {\r\n          return delApport(ids);\r\n        }).then(() => {\r\n          this.msgSuccess(\"删除成功\");  \r\n          this.$emit(\"success\", false);    \r\n        }).catch(() => {});\r\n        }\r\n      });\r\n    },\r\n}\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  ::v-deep .el-dialog {\r\n    height: 30%;\r\n    overflow: hidden;\r\n    .el-dialog__body {\r\n      height: calc(100% - 100px);\r\n      overflow: auto;\r\n    }\r\n  }\r\n</style>\r\n"]}]}
{"remainingRequest":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\quality\\quality\\detailEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\quality\\quality\\detailEdit.vue","mtime":1682043107658},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\babel.config.js","mtime":1682043101067},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:InVzZSBzdHJpY3QiOwoKdmFyIF9pbnRlcm9wUmVxdWlyZURlZmF1bHQgPSByZXF1aXJlKCJEOi95cytqeC95cytqeC96anJ5LXBtcy11aS9ub2RlX21vZHVsZXMvQGJhYmVsL3J1bnRpbWUvaGVscGVycy9pbnRlcm9wUmVxdWlyZURlZmF1bHQuanMiKS5kZWZhdWx0OwpPYmplY3QuZGVmaW5lUHJvcGVydHkoZXhwb3J0cywgIl9fZXNNb2R1bGUiLCB7CiAgdmFsdWU6IHRydWUKfSk7CmV4cG9ydHMuZGVmYXVsdCA9IHZvaWQgMDsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmpzb24uc3RyaW5naWZ5LmpzIik7CnJlcXVpcmUoImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5tYXAuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5LmZpbmQuanMiKTsKcmVxdWlyZSgiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmcuanMiKTsKdmFyIF92YWxpZGF0ZSA9IHJlcXVpcmUoIkAvdXRpbHMvdmFsaWRhdGUiKTsKdmFyIF9xdWFsaXR5ID0gcmVxdWlyZSgiQC9hcGkvcXVhbGl0eS9xdWFsaXR5Iik7CnZhciBfdXRpbHMgPSByZXF1aXJlKCJAL2FwaS91dGlscyIpOwp2YXIgX2RldGFpbCA9IHJlcXVpcmUoIkAvYXBpL3F1YWxpdHkvZGV0YWlsIik7CnZhciBfZm9ybURlc2lnbiA9IHJlcXVpcmUoIkAvYXBpL2Zvcm1EZXNpZ24vZm9ybURlc2lnbiIpOwp2YXIgX2RldGFpbEluZm8gPSBfaW50ZXJvcFJlcXVpcmVEZWZhdWx0KHJlcXVpcmUoIi4vZGV0YWlsSW5mbyIpKTsKLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KdmFyIF9kZWZhdWx0ID0gewogIG5hbWU6ICJhZGRFZGl0IiwKICBwcm9wczogewogICAgb3BlbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGRhdGFzOiB7CiAgICAgIHR5cGU6IE9iamVjdCwKICAgICAgZGVmYXVsdDogbnVsbAogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGRhdGFzOiB7CiAgICAgIGhhbmRsZXI6IGZ1bmN0aW9uIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5yZXNldCgpOwogICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgIHRoaXMucGFyYW1zRGF0YSA9IHZhbDsKICAgICAgICAgIHRoaXMudGl0bGUgPSAi5p+l55yL6K+m5oOFIC8g6LSo6YeP5b6X5YiGIjsKICAgICAgICAgIHRoaXMuZ2V0RGV0YWlsSW5mbygpOwogICAgICAgIH0KICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgb3BlbjogewogICAgICBoYW5kbGVyOiBmdW5jdGlvbiBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMub3BlbkRpYWxvZyA9IHZhbDsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZQogICAgfQogIH0sCiAgY29tcG9uZW50czogewogICAgZGV0YWlsSW5mbzogX2RldGFpbEluZm8uZGVmYXVsdAogIH0sCiAgY3JlYXRlZDogZnVuY3Rpb24gY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGV0YWlsSW5mbygpOwogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRpdGxlOiAi5p+l55yL6K+m5oOFIC8g6LSo6YeP5b6X5YiGIiwKICAgICAgb3BlbkRpYWxvZzogdGhpcy5vcGVuLAogICAgICBwYXJhbXNEYXRhOiBudWxsLAogICAgICBkZXRhaWxUaXRsZTogIuafpeeci+ivpuaDhSAvIOi0qOmHj+W+l+WIhiAvIOW+l+WIhuaYjue7hiIsCiAgICAgIG9wZW5EZXRhaWxEaWFsb2c6IGZhbHNlLAogICAgICBzYXZlTG9hZGluZzogZmFsc2UsCiAgICAgIG9wZW5JbmZvOiBmYWxzZSwKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICBzaW5nbGVJdGVtOiB0cnVlLAogICAgICAvLyDmmL7npLrmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaDogdHJ1ZSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHt9LAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDMwCiAgICAgIH0sCiAgICAgIHF1YWxpdHlMaXN0OiBbXSwKICAgICAgdG90YWw6IDAsCiAgICAgIHF1YWxpdHlMaXN0MTogW10sCiAgICAgIHRvdGFsMTogMCwKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIGxvYWRpbmcxOiBmYWxzZSwKICAgICAgc2VsZWN0aW9uUm93OiBbXSwKICAgICAgc2VsZWN0aW9uUm93SXRlbTogW10sCiAgICAgIGNvbHM6IFtdLAogICAgICBsaXN0czogW10sCiAgICAgIGZvcm1EZXNpZ25JZDogJycsCiAgICAgIGlkczogJycsCiAgICAgIGlkc0luZm86ICcnCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ2xpY2tUYWJsZU5hbWU6IGZ1bmN0aW9uIGhhbmRsZUNsaWNrVGFibGVOYW1lKGRhdGEpIHsKICAgICAgLy8g6YCJ5Lit5b2T5YmN6KGMCiAgICAgIHRoaXMucm93Q2xpY2soZGF0YSwgZmFsc2UpOwogICAgICB0aGlzLmhhbmRsZURldGFpbCgpOwogICAgfSwKICAgIGhhbmRsZUNsaWNrVGFibGVOYW1lRGV0YWlsOiBmdW5jdGlvbiBoYW5kbGVDbGlja1RhYmxlTmFtZURldGFpbChkYXRhKSB7CiAgICAgIHRoaXMucm93Q2xpY2sxKGRhdGEsIGZhbHNlKTsKICAgICAgdGhpcy5oYW5kbGVEZXRhaWxJdGVtKGRhdGEpOwogICAgfSwKICAgIGdldERldGFpbEluZm86IGZ1bmN0aW9uIGdldERldGFpbEluZm8oKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CiAgICAgIGlmICh0aGlzLmRhdGFzKSB7CiAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgIGRlcHRDb2RlOiB0aGlzLmRhdGFzLmRlcHRDb2RlLAogICAgICAgICAgY29tcENvZGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkLAogICAgICAgICAgcVRpbWU6IHRoaXMuZGF0YXMub2NjVGltZSArICctMDEnCiAgICAgICAgfTsKICAgICAgICAvLyBjb25zb2xlLmxvZyhwYXJhbXMpCiAgICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgICAoMCwgX3F1YWxpdHkuZ2V0UXVhbGl0eSkocGFyYW1zKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIF90aGlzLnF1YWxpdHlMaXN0ID0gcmVzcG9uc2Uucm93czsKICAgICAgICAgICAgLy8gY29uc29sZS5sb2codGhpcy5xdWFsaXR5TGlzdCkKICAgICAgICAgICAgX3RoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsKICAgICAgICAgICAgX3RoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9CiAgICB9LAogICAgc3RhdGVGb3JtYXQ6IGZ1bmN0aW9uIHN0YXRlRm9ybWF0KHJvdywgY29sdW1uLCBjZWxsVmFsdWUpIHsKICAgICAgdmFyIGFyciA9IHRoaXMubGlzdHM7CiAgICAgIGZvciAodmFyIGkgPSAwOyBpIDwgYXJyLmxlbmd0aDsgaSsrKSB7CiAgICAgICAgaWYgKGFycltpXS5maWVsZE5hbWUgPT0gY29sdW1uLnByb3BlcnR5KSB7CiAgICAgICAgICBpZiAoYXJyW2ldLmZpZWxkTmFtZSA9PSAiY3NfdGFyZ2V0IikgewogICAgICAgICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0SW5kZXhMYWJlbChhcnJbaV0ub3B0aW9ucywgY2VsbFZhbHVlKTsKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHJldHVybiB0aGlzLnNlbGVjdERpY3RMYWJlbChhcnJbaV0ub3B0aW9ucywgY2VsbFZhbHVlKTsKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0KICAgIH0sCiAgICBnZXRRdWFsaXR5RGV0YWlsOiBmdW5jdGlvbiBnZXRRdWFsaXR5RGV0YWlsKGRhdGEpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CiAgICAgIHRoaXMuZm9ybURlc2lnbklkID0gZGF0YS50ZW1wQ29kZTsKICAgICAgdmFyIG9iaiA9IHsKICAgICAgICBmb3JtRGVzaWduSWQ6IGRhdGEudGVtcENvZGUKICAgICAgfTsKICAgICAgKDAsIF91dGlscy5kZXBsb3lMaXN0KShvYmopLnRoZW4oZnVuY3Rpb24gKHJlcykgewogICAgICAgIF90aGlzMi5saXN0cyA9IHJlcy5kYXRhOwogICAgICAgIHZhciBfbG9vcCA9IGZ1bmN0aW9uIF9sb29wKGkpIHsKICAgICAgICAgIF90aGlzMi4kc2V0KF90aGlzMi5saXN0c1tpXSwgX3RoaXMyLmxpc3RzW2ldLmZpZWxkTmFtZSwgbnVsbCk7CiAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubGlzdHNbaV0sICJ2YWwiLCBudWxsKTsKICAgICAgICAgIGlmIChfdGhpczIubGlzdHNbaV0uZmllbGRUeXBlID09ICJzZWxlY3QiKSB7CiAgICAgICAgICAgIGlmIChfdGhpczIubGlzdHNbaV0uZmllbGROYW1lID09ICJjc190YXJnZXQiKSB7CiAgICAgICAgICAgICAgdmFyIHBhcmFtcyA9IHsKICAgICAgICAgICAgICAgIGluZGV4Q29kZTogX3RoaXMyLmxpc3RzW2ldLmluZGV4Q29kZSwKICAgICAgICAgICAgICAgIGNvbXBDb2RlOiBfdGhpczIuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkIC8vIOW/heS8oAogICAgICAgICAgICAgIH07CgogICAgICAgICAgICAgICgwLCBfZGV0YWlsLmxpc3REZXRhaWwpKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09PSAyMDApIHsKICAgICAgICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzW2ldLCAib3B0aW9ucyIsIHJlc3BvbnNlLnJvd3MpOwogICAgICAgICAgICAgICAgICBfdGhpczIudGFyZ2V0VmFsdWUgPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLnJvd3MpKTsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgfSBlbHNlIGlmIChfdGhpczIubGlzdHNbaV0uZmllbGROYW1lID09ICJjc19kZXB0IikgewogICAgICAgICAgICAgIHZhciBfcGFyYW1zID0gewogICAgICAgICAgICAgICAgY29tcENvZGU6IF90aGlzMi4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQKICAgICAgICAgICAgICB9OwogICAgICAgICAgICAgICgwLCBfZm9ybURlc2lnbi5nZXREZXB0SW5mb0ZvclBtcykoX3BhcmFtcykudGhlbihmdW5jdGlvbiAocmVzKSB7CiAgICAgICAgICAgICAgICBpZiAocmVzLmNvZGUgPT09IDIwMCkgewogICAgICAgICAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubGlzdHNbaV0sICJvcHRpb25zIiwgcmVzLmRhdGEpOwogICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIH0pOwogICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgIF90aGlzMi5nZXREaWN0cyhfdGhpczIubGlzdHNbaV0uZGljdFR5cGUpLnRoZW4oZnVuY3Rpb24gKHJlc3BvbnNlKSB7CiAgICAgICAgICAgICAgICBfdGhpczIuJHNldChfdGhpczIubGlzdHNbaV0sICJvcHRpb25zIiwgcmVzcG9uc2UuZGF0YSk7CiAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgIH0KICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczIubGlzdHNbaV0uZmllbGRUeXBlID09ICJyYWRpbyIpIHsKICAgICAgICAgICAgX3RoaXMyLmxpc3RzW2ldLm9wdGlvbnMgPSBKU09OLnBhcnNlKF90aGlzMi5saXN0c1tpXS5vcHRpb25zKTsKICAgICAgICAgIH0KICAgICAgICAgIGlmIChfdGhpczIubGlzdHNbaV0uZmllbGRUeXBlID09ICJjaGVja2JveCIpIHsKICAgICAgICAgICAgX3RoaXMyLmxpc3RzW2ldLm9wdGlvbnMgPSBKU09OLnBhcnNlKF90aGlzMi5saXN0c1tpXS5vcHRpb25zKTsKICAgICAgICAgICAgX3RoaXMyLiRzZXQoX3RoaXMyLmxpc3RzW2ldLCAidmFsIiwgW10pOwogICAgICAgICAgfQogICAgICAgIH07CiAgICAgICAgZm9yICh2YXIgaSA9IDA7IGkgPCBfdGhpczIubGlzdHMubGVuZ3RoOyBpKyspIHsKICAgICAgICAgIF9sb29wKGkpOwogICAgICAgIH0KICAgICAgICB2YXIgbGlzdCA9IHJlcy5kYXRhOwogICAgICAgIC8vIGNvbnNvbGUubG9nKGxpc3QsJ2xpc3QnKQogICAgICAgIHZhciBhcnIgPSBbXTsKICAgICAgICBmb3IgKHZhciBfaSA9IDA7IF9pIDwgbGlzdC5sZW5ndGg7IF9pKyspIHsKICAgICAgICAgIHZhciBfb2JqID0ge307CiAgICAgICAgICBpZiAobGlzdFtfaV0uZmllbGROYW1lICE9ICJwbXNfc3RhdGUiKSB7CiAgICAgICAgICAgIGlmIChsaXN0W19pXS5maWVsZE5hbWUgIT0gImRlcHRfdHJhY2siKSB7CiAgICAgICAgICAgICAgX29iai5sYWJlbCA9IGxpc3RbX2ldLmZpZWxkRGVzYzsKICAgICAgICAgICAgICBfb2JqLnByb3AgPSBsaXN0W19pXS5maWVsZE5hbWU7CiAgICAgICAgICAgICAgX29iai5pc0xpc3QgPSBsaXN0W19pXS5pc0xpc3Q7CiAgICAgICAgICAgICAgX29iai5maWVsZFR5cGUgPSBsaXN0W19pXS5maWVsZFR5cGU7CiAgICAgICAgICAgICAgaWYgKGxpc3RbX2ldLmZpZWxkTmFtZSA9PSAnY3Nfc2NvcmUnKSB7CiAgICAgICAgICAgICAgICBfb2JqLmRlY2ltbERpZ2l0ID0gbGlzdFtfaV0uZGVjaW1sRGlnaXQ7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGlmIChfb2JqLnByb3AgPT0gJ2NzX2RhdGUnKSB7CiAgICAgICAgICAgICAgICBfb2JqLmFsaWduID0gJ2NlbnRlcic7CiAgICAgICAgICAgICAgfSBlbHNlIGlmIChfb2JqLnByb3AgPT0gJ2NzX3Njb3JlJykgewogICAgICAgICAgICAgICAgX29iai5hbGlnbiA9ICdyaWdodCc7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIF9vYmouYWxpZ24gPSAnbGVmdCc7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGFyci5wdXNoKF9vYmopOwogICAgICAgICAgICB9CiAgICAgICAgICB9CiAgICAgICAgfQogICAgICAgIF90aGlzMi5jb2xzID0gYXJyOwogICAgICAgIF90aGlzMi5nZXRUYWJsZShkYXRhKTsKICAgICAgfSk7CiAgICB9LAogICAgLy/ooajmoLzmlbDmja4KICAgIGdldFRhYmxlOiBmdW5jdGlvbiBnZXRUYWJsZShkYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwogICAgICB2YXIgcGFyYW1zID0gewogICAgICAgIGZvcm1EZXNpZ25JZDogZGF0YS50ZW1wQ29kZSwKICAgICAgICBkZXB0Q29kZTogZGF0YS5kZXB0Q29kZSwKICAgICAgICBxRGF0ZTogdGhpcy5kYXRhcy5vY2NUaW1lICsgJy0wMScKICAgICAgfTsKICAgICAgKDAsIF9xdWFsaXR5LmdldFF1YWxpdHlEZXRhaWwpKHBhcmFtcykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBfdGhpczMucXVhbGl0eUxpc3QxID0gcmVzcG9uc2Uucm93czsKICAgICAgICBfdGhpczMudG90YWwxID0gcmVzcG9uc2UudG90YWw7CiAgICAgIH0pOwogICAgfSwKICAgIC8v5p+l55yL6K+m5oOFCiAgICBoYW5kbGVEZXRhaWw6IGZ1bmN0aW9uIGhhbmRsZURldGFpbCgpIHsKICAgICAgdGhpcy5nZXRRdWFsaXR5RGV0YWlsKHRoaXMuc2VsZWN0aW9uUm93WzBdKTsKICAgICAgdGhpcy5vcGVuRGV0YWlsRGlhbG9nID0gdHJ1ZTsKICAgIH0sCiAgICAvL+afpeeci+ivpue7huS/oeaBrwogICAgaGFuZGxlRGV0YWlsSXRlbTogZnVuY3Rpb24gaGFuZGxlRGV0YWlsSXRlbShkYXRhKSB7CiAgICAgIHRoaXMuaWRzSW5mbyA9IHRoaXMuc2VsZWN0aW9uUm93SXRlbVswXS5pZDsKICAgICAgdGhpcy5vcGVuSW5mbyA9IHRydWU7CiAgICB9LAogICAgY2FuY2VsRGV0YWlsSW5mbzogZnVuY3Rpb24gY2FuY2VsRGV0YWlsSW5mbygpIHsKICAgICAgdGhpcy5vcGVuSW5mbyA9IGZhbHNlOwogICAgfSwKICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlOiBmdW5jdGlvbiBoYW5kbGVTZWxlY3Rpb25DaGFuZ2Uoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBpdGVtLmlkOwogICAgICB9KTsKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICB0aGlzLnNlbGVjdGlvblJvdyA9IHNlbGVjdGlvbjsKICAgIH0sCiAgICByb3dDbGljazogZnVuY3Rpb24gcm93Q2xpY2socm93LCBjb2x1bW4sIGV2ZW50KSB7CiAgICAgIHZhciByZWZzRWxUYWJsZSA9IHRoaXMuJHJlZnMubXVsdGlwbGVUYWJsZTsKICAgICAgdmFyIGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvdy5maW5kKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMucm93SW5kZXggPT0gcm93LnJvd0luZGV4OwogICAgICB9KTsKICAgICAgLy8gaWYgKGZpbmRSb3cgJiYgdGhpcy5zZWxlY3Rpb25Sb3cubGVuZ3RoID09IDEpIHsKICAgICAgLy8gICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93LCBmYWxzZSk7CiAgICAgIC8vICAgcmV0dXJuOwogICAgICAvLyB9CiAgICAgIHJlZnNFbFRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3cpOwogICAgfSwKICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlMTogZnVuY3Rpb24gaGFuZGxlU2VsZWN0aW9uQ2hhbmdlMShzZWxlY3Rpb24pIHsKICAgICAgLy8gdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5pZCkKICAgICAgdGhpcy5zaW5nbGVJdGVtID0gc2VsZWN0aW9uLmxlbmd0aCAhPT0gMTsKICAgICAgdGhpcy5zZWxlY3Rpb25Sb3dJdGVtID0gc2VsZWN0aW9uOwogICAgfSwKICAgIHJvd0NsaWNrMTogZnVuY3Rpb24gcm93Q2xpY2sxKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICB2YXIgcmVmc0VsVGFibGUgPSB0aGlzLiRyZWZzLm11bHRpcGxlVGFibGUxOwogICAgICB2YXIgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93SXRlbS5maW5kKGZ1bmN0aW9uIChjKSB7CiAgICAgICAgcmV0dXJuIGMucm93SW5kZXggPT0gcm93LnJvd0luZGV4OwogICAgICB9KTsKICAgICAgLy8gaWYgKGZpbmRSb3cgJiYgdGhpcy5zZWxlY3Rpb25Sb3dJdGVtLmxlbmd0aCA9PSAxKSB7CiAgICAgIC8vICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOwogICAgICAvLyAgIHJldHVybjsKICAgICAgLy8gfQogICAgICByZWZzRWxUYWJsZS5jbGVhclNlbGVjdGlvbigpOwogICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93KTsKICAgIH0sCiAgICByb3dTdHlsZTogZnVuY3Rpb24gcm93U3R5bGUoX3JlZikgewogICAgICB2YXIgcm93ID0gX3JlZi5yb3csCiAgICAgICAgcm93SW5kZXggPSBfcmVmLnJvd0luZGV4OwogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm93LCAncm93SW5kZXgnLCB7CiAgICAgICAgdmFsdWU6IHJvd0luZGV4LAogICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICAgIH0pOwogICAgfSwKICAgIC8v6K+m5oOF5by55qGG5YWz6ZetCiAgICBoYW5kbGVEZXRhaWxEaWFsb2dDbG9zZTogZnVuY3Rpb24gaGFuZGxlRGV0YWlsRGlhbG9nQ2xvc2UoKSB7CiAgICAgIHRoaXMub3BlbkRldGFpbERpYWxvZyA9IGZhbHNlOwogICAgfSwKICAgIGRldGFpbENhbmNlbDogZnVuY3Rpb24gZGV0YWlsQ2FuY2VsKCkgewogICAgICB0aGlzLm9wZW5EZXRhaWxEaWFsb2cgPSBmYWxzZTsKICAgIH0sCiAgICAvLyDlvLnmoYblhbPpl60KICAgIGhhbmRsZURpYWxvZ0Nsb3NlOiBmdW5jdGlvbiBoYW5kbGVEaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgiY2FuY2VsIiwgZmFsc2UpOwogICAgfSwKICAgIC8vIOWPlua2iAogICAgY2FuY2VsOiBmdW5jdGlvbiBjYW5jZWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoImNhbmNlbCIsIGZhbHNlKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0OiBmdW5jdGlvbiByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGlkOiBudWxsLAogICAgICAgIGNvbXBDb2RlOiBudWxsLAogICAgICAgIGFjY291bnRDb2RlOiBudWxsLAogICAgICAgIGRlcHRDb2RlOiBudWxsLAogICAgICAgIGluZGV4Q29kZTogbnVsbCwKICAgICAgICB0ZW1wQ29kZTogbnVsbCwKICAgICAgICBpbmRleFNjb3JlOiBudWxsLAogICAgICAgIG9jY3VyZVRpbWU6IG51bGwsCiAgICAgICAgYWN0dWFsU2NvcmU6IG51bGwsCiAgICAgICAgZGVsRmxhZzogbnVsbCwKICAgICAgICBjcmVhdGVCeTogbnVsbCwKICAgICAgICBjcmVhdGVUaW1lOiBudWxsLAogICAgICAgIHVwZGF0ZUJ5OiBudWxsLAogICAgICAgIHVwZGF0ZVRpbWU6IG51bGwsCiAgICAgICAgcmVtYXJrOiBudWxsCiAgICAgIH07CiAgICAgIHRoaXMucmVzZXRGb3JtKCJmb3JtIik7CiAgICB9CiAgfQp9OwpleHBvcnRzLmRlZmF1bHQgPSBfZGVmYXVsdDs="},{"version":3,"mappings":";;;;;;;;;;;AA6FA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;eAEA;EACAA;EACAC;IACAC;MACAC;MACAC;IACA;IACAC;MACAF;MACAC;IACA;EACA;EACAE;IACAD;MACAE;QACA;QACA;UACA;UACA;UACA;QACA;MACA;MACAC;MACAC;IACA;IACAP;MACAK;QACA;MACA;MACAC;IACA;EACA;EACAE;IACAC;EACA;EACAC;IACA;EACA;EACAC;IACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACA;MACAC;MACA;MACAC;MACA;MACAC,QACA;MACAC;QACAC;QACAC;MACA;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;MACAC;IACA;EACA;EAEAC;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MAAA;MACA;QACA;UACAC;UACAC;UACAC;QACA;QACA;QACA;QACA;UACA;YACA;YACA;YACA;YACA;UACA;QACA;MACA;IAEA;IACAC;MACA;MACA;QACA;UACA;YACA;UACA;YACA;UACA;QACA;MACA;IACA;IACAC;MAAA;MACA;MACA;QACAX;MACA;MACA;QACA;QAAA,2BACAY;UACA;UACA;UACA;YACA;cACA;gBACAC;gBACAL;cACA;;cACA;gBACA;kBACA;kBACA;gBACA;cACA;YACA;cACA;gBACAA;cACA;cACA;gBACA;kBACA;gBACA;cACA;YACA;cACA;gBACA;cACA;YACA;UACA;UACA;YACA;UACA;UACA;YACA;YACA;UACA;QAAA;QApCA;UAAA;QAqCA;QACA;QACA;QACA;QACA;UACA;UACA;YACA;cACAM;cACAA;cACAA;cACAA;cACA;gBACAA;cACA;cACA;gBACAA;cACA;gBACAA;cACA;gBACAA;cACA;cACAC;YACA;UAEA;QACA;QACA;QACA;MACA;IACA;IACA;IACAC;MAAA;MACA;QACAhB;QACAO;QACAU;MACA;MACA;QACA;QACA;MACA;IACA;IAEA;IACAC;MACA;MACA;IACA;IACA;IACAC;MACA;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QAAA;MAAA;MACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;MACA;MACA;MACA;MACAC;MACAA;IACA;IACA;IACAC;MACA;MACA;MACA;IACA;IACAC;MACA;MACA;QAAA;MAAA;MACA;MACA;MACA;MACA;MACAF;MACAA;IACA;IACAG,kCAGA;MAAA,IAFAC;QACAC;MAEAC;QACAC;QACAC;QACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;IACA;IACA;IACAC;MACA;QACAC;QACA9B;QACA+B;QACAhC;QACAM;QACA2B;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;QACAC;MACA;MACA;IACA;EACA;AACA;AAAA","names":["name","props","open","type","default","datas","watch","handler","deep","immediate","components","detailInfo","created","data","title","openDialog","paramsData","detailTitle","openDetailDialog","saveLoading","openInfo","single","singleItem","showSearch","form","rules","queryParams","pageNum","pageSize","qualityList","total","qualityList1","total1","loading","loading1","selectionRow","selectionRowItem","cols","lists","formDesignId","ids","idsInfo","methods","handleClickTableName","handleClickTableNameDetail","getDetailInfo","deptCode","compCode","qTime","stateFormat","getQualityDetail","i","indexCode","obj","arr","getTable","qDate","handleDetail","handleDetailItem","cancelDetailInfo","handleSelectionChange","rowClick","refsElTable","handleSelectionChange1","rowClick1","rowStyle","row","rowIndex","Object","value","writable","enumerable","handleDetailDialogClose","detailCancel","handleDialogClose","cancel","reset","id","accountCode","tempCode","indexScore","occureTime","actualScore","delFlag","createBy","createTime","updateBy","updateTime","remark"],"sourceRoot":"src/views/quality/quality","sources":["detailEdit.vue"],"sourcesContent":["<template>\r\n    <div>\r\n      <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"50%\" custom-class=\"el-button--primary\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDialogClose\">\r\n        <div ref=\"btns\">\r\n          <el-row :gutter=\"10\" class=\"mb8\">\r\n            <el-col :span=\"1.5\">\r\n              <el-button\r\n                type=\"primary\"\r\n                icon=\"el-icon-search\"\r\n                size=\"mini\"\r\n                :disabled=\"single\"\r\n                @click=\"handleDetail\"\r\n                v-hasPermi=\"['quality:quality:edit']\"\r\n              >查看</el-button>\r\n            </el-col>\r\n            </el-col>\r\n            <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getDetailInfo\"></right-toolbar>\r\n          </el-row>\r\n        </div>\r\n        <el-table border stripe v-loading=\"loading\" height=\"93%\" :data=\"qualityList\" @selection-change=\"handleSelectionChange\" ref=\"multipleTable\" @row-click=\"rowClick\" :row-style=\"rowStyle\">\r\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n          <el-table-column label=\"质量名称(模板名称)\" align=\"center\" prop=\"tempName\">\r\n            <template slot-scope=\"scope\">\r\n              <el-link type=\"primary\" :underline=\"false\" v-html=\"scope.row.tempName\" @click.stop=\"handleClickTableName(scope.row)\" class=\"displayBlock text-ellipsis \"></el-link>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"项目分值\" align=\"center\" prop=\"indexScore\" />\r\n          <el-table-column label=\"本月得分\" align=\"center\" prop=\"actualScore\" />\r\n        </el-table>\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"cancel\">关 闭</el-button>\r\n        </div>\r\n      </el-dialog>\r\n\r\n      <!-- 得分明细 -->\r\n      <el-dialog :title=\"detailTitle\" :visible.sync=\"openDetailDialog\" width=\"50%\" custom-class=\"el-button--primary\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDetailDialogClose\">\r\n        <div ref=\"btns\">\r\n          <el-row :gutter=\"10\" class=\"mb8\">\r\n            <el-col :span=\"1.5\">\r\n              <el-button\r\n                type=\"success\"\r\n                icon=\"el-icon-search\"\r\n                size=\"mini\"\r\n                :disabled=\"singleItem\"\r\n                @click=\"handleDetailItem\"\r\n                v-hasPermi=\"['quality:quality:edit']\"\r\n              >详情</el-button>\r\n            </el-col>\r\n            </el-col>\r\n            <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getQualityDetail\"></right-toolbar>\r\n          </el-row>\r\n        </div>\r\n        <el-table border stripe v-loading=\"loading1\" height=\"86%\" :data=\"qualityList1\" @selection-change=\"handleSelectionChange1\" ref=\"multipleTable1\" @row-click=\"rowClick1\" :row-style=\"rowStyle\">\r\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\r\n          <template v-for=\"item in cols\">\r\n      \t\t<template v-if=\"item.isList=='1'\">\r\n      \t\t\t<template v-if=\"item.fieldType=='select'\">\r\n      \t\t\t\t<el-table-column show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\" :formatter=\"stateFormat\" />\r\n      \t\t\t</template>\r\n      \t\t\t<template v-else>\r\n\t\t\t\t\t\t\t<el-table-column v-if=\"item.prop=='cs_date'\" show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\" width=\"150px\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<el-link type=\"primary\" :underline=\"false\" v-html=\"scope.row.cs_date\" @click.stop=\"handleClickTableNameDetail(scope.row)\" class=\"displayBlock text-ellipsis \"></el-link>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n\t\t\t\t\t\t\t<el-table-column v-else-if=\"item.prop=='cs_score'\" show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\" width=\"150px\">\r\n\t\t\t\t\t\t\t\t<template slot-scope=\"scope\">\r\n\t\t\t\t\t\t\t\t\t<span>{{(scope.row.cs_score * 1).toFixed(item.decimlDigit * 1)}}</span>\r\n\t\t\t\t\t\t\t\t</template>\r\n\t\t\t\t\t\t\t</el-table-column>\r\n      \t\t\t\t<el-table-column v-else show-overflow-tooltip :align=\"item.align\" :label=\"item.label\" :prop=\"item.prop\">\r\n      \t\t\t\t</el-table-column>\r\n      \t\t\t</template>\r\n      \t\t</template>\r\n      \t</template>\r\n        </el-table>\r\n        <pagination\r\n          v-show=\"total1>0\"\r\n          :total=\"total1\"\r\n          :page.sync=\"queryParams.pageNum\"\r\n          :limit.sync=\"queryParams.pageSize\"\r\n          @pagination=\"getQualityDetail\"\r\n        />\r\n        <div slot=\"footer\" class=\"dialog-footer\">\r\n          <el-button @click=\"detailCancel\">关 闭</el-button>\r\n        </div>\r\n      </el-dialog>\r\n      \r\n      <detailInfo v-if=\"openInfo\" :open=\"openInfo\" :id=\"formDesignId\" :ids=\"idsInfo\" @cancel=\"cancelDetailInfo\"></detailInfo>\r\n    </div>\r\n</template>\r\n\r\n<script>\r\nimport { validEmail } from'@/utils/validate'\r\nimport { getQuality,getQualityDetail } from \"@/api/quality/quality\";\r\nimport { deployList} from '@/api/utils';\r\nimport { listDetail } from \"@/api/quality/detail\";\r\nimport {getDeptInfoForPms} from \"@/api/formDesign/formDesign\";\r\nimport detailInfo from './detailInfo';\r\n\r\nexport default {\r\n  name: \"addEdit\",\r\n  props: {\r\n    open: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    datas: {\r\n      type: Object,\r\n      default: null,\r\n    }\r\n  },\r\n  watch: {\r\n    datas: {\r\n      handler(val) {\r\n        this.reset();\r\n        if (val) {\r\n          this.paramsData = val;\r\n          this.title = \"查看详情 / 质量得分\";\r\n          this.getDetailInfo();\r\n        } \r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    open: {\r\n      handler(val) {\r\n        this.openDialog = val;\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  components: {\r\n    detailInfo\r\n  },\r\n  created() {\r\n    this.getDetailInfo();\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"查看详情 / 质量得分\",\r\n      openDialog: this.open,\r\n      paramsData:null,\r\n      detailTitle:\"查看详情 / 质量得分 / 得分明细\",\r\n      openDetailDialog:false,\r\n      saveLoading: false,\r\n      openInfo:false,\r\n      single:true,\r\n      singleItem:true,\r\n      // 显示搜索条件\r\n      showSearch: true,\r\n      // 表单参数\r\n      form: {},\r\n      // 表单校验\r\n      rules: {\r\n      },\r\n      queryParams:{\r\n        pageNum:1,\r\n        pageSize:30,\r\n      },\r\n      qualityList:[],\r\n      total:0,\r\n      qualityList1:[],\r\n      total1:0,\r\n      loading:false,\r\n      loading1:false,\r\n      selectionRow:[],\r\n      selectionRowItem:[],\r\n      cols:[],\r\n      lists:[],\r\n      formDesignId:'',\r\n      ids:'',\r\n      idsInfo:'',\r\n    };\r\n  },\r\n\r\n  methods: {\r\n    handleClickTableName(data){\r\n      // 选中当前行\r\n        this.rowClick(data, false);\r\n        this.handleDetail();\r\n    },\r\n    handleClickTableNameDetail(data){\r\n      this.rowClick1(data, false);\r\n      this.handleDetailItem(data)\r\n    },\r\n  \tgetDetailInfo() {\r\n      if(this.datas){\r\n        let params={\r\n        deptCode:this.datas.deptCode,\r\n        compCode:this.$store.state.user.userInfo.deptId,\r\n        qTime:this.datas.occTime + '-01'\r\n      }\r\n      // console.log(params)\r\n      this.loading=true;\r\n      getQuality(params).then(response => {\r\n        if(response.code==200){\r\n          this.qualityList=response.rows;\r\n          // console.log(this.qualityList)\r\n          this.total=response.total;\r\n          this.loading=false;\r\n        }\r\n      });\r\n      }\r\n      \r\n    },\r\n    stateFormat(row, column, cellValue) {\r\n\t\t\t\tlet arr = this.lists;\r\n    \t\tfor(let i=0;i<arr.length;i++){\r\n    \t\t\tif(arr[i].fieldName==column.property){\r\n\t\t\t\t\t\tif(arr[i].fieldName==\"cs_target\"){\r\n\t\t\t\t\t\t\treturn this.selectDictIndexLabel(arr[i].options,cellValue)\r\n\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\treturn this.selectDictLabel(arr[i].options,cellValue);\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t},\r\n    getQualityDetail(data){\r\n      this.formDesignId=data.tempCode\r\n      let obj={\r\n        formDesignId:data.tempCode,\r\n      }\r\n      deployList(obj).then(res=>{\r\n        this.lists = res.data;\r\n        for(let i=0;i<this.lists.length;i++){\r\n\t        \t\tthis.$set( this.lists[i], this.lists[i].fieldName, null )\r\n\t\t\t\t\t\t\tthis.$set( this.lists[i], \"val\", null )\r\n\t\t\t\t\t\t\tif(this.lists[i].fieldType==\"select\"){\r\n\t\t\t\t\t\t\t\tif(this.lists[i].fieldName==\"cs_target\"){\r\n\t\t\t\t\t\t\t\t\t\tlet params={\r\n\t\t\t\t\t\t\t\t\t\t\t\tindexCode:this.lists[i].indexCode,\r\n\t\t\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId  // 必传\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tlistDetail(params).then(response=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(response.code===200){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\",response.rows );\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.targetValue=JSON.parse(JSON.stringify(response.rows))\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}else if(this.lists[i].fieldName==\"cs_dept\"){\r\n\t\t\t\t\t\t\t\t\tlet params= {\r\n\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tgetDeptInfoForPms(params).then(res=>{\r\n\t\t\t\t\t\t\t\t\t\t\tif(res.code===200){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\",res.data )\r\n\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\tthis.getDicts(this.lists[i].dictType).then(response => {\r\n\t\t\t\t\t\t\t\t\t\tthis.$set( this.lists[i], \"options\", response.data )\r\n\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t}\r\n\t        \t\tif(this.lists[i].fieldType==\"radio\"){\r\n\t        \t\t\tthis.lists[i].options = JSON.parse(this.lists[i].options)\r\n\t        \t\t}\r\n\t        \t\tif(this.lists[i].fieldType==\"checkbox\"){\r\n\t        \t\t\tthis.lists[i].options = JSON.parse(this.lists[i].options)\r\n\t        \t\t\tthis.$set( this.lists[i], \"val\", [])\r\n\t        \t\t}\r\n\t\t\t\t\t\t}\r\n         let list = res.data;\r\n\t\t\t\t\t\t// console.log(list,'list')\r\n\t        \tlet arr = [];\r\n\t        \tfor(let i=0;i<list.length;i++){\r\n\t\t\t\t\t\t\tlet obj = {};\r\n\t\t\t\t\t\t\tif(list[i].fieldName!=\"pms_state\"){\r\n\t\t\t\t\t\t\t\tif(list[i].fieldName!=\"dept_track\"){\r\n\t\t\t\t\t\t\t\t\tobj.label = list[i].fieldDesc;\r\n\t\t\t\t\t\t\t\t\tobj.prop = list[i].fieldName;\r\n\t\t\t\t\t\t\t\t\tobj.isList = list[i].isList;\r\n\t\t\t\t\t\t\t\t\tobj.fieldType = list[i].fieldType;\r\n\t\t\t\t\t\t\t\t\tif(list[i].fieldName=='cs_score'){\r\n\t\t\t\t\t\t\t\t\t\tobj.decimlDigit = list[i].decimlDigit\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tif(obj.prop=='cs_date'){\r\n\t\t\t\t\t\t\t\t\t\tobj.align='center';\r\n\t\t\t\t\t\t\t\t\t}else if(obj.prop=='cs_score'){\r\n\t\t\t\t\t\t\t\t\t\tobj.align='right';\r\n\t\t\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\t\t\tobj.align='left';\r\n\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\tarr.push(obj)\r\n\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n            this.cols = arr;\r\n            this.getTable(data)\r\n      })\r\n    },\r\n    //表格数据\r\n    getTable(data){\r\n      let params={\r\n        formDesignId:data.tempCode, \r\n        deptCode:data.deptCode, \r\n        qDate:this.datas.occTime + '-01',\r\n      };\r\n      getQualityDetail(params).then(response=>{\r\n        this.qualityList1=response.rows;\r\n        this.total1=response.total;\r\n      })\r\n    },\r\n   \r\n    //查看详情\r\n    handleDetail(){ \r\n      this.getQualityDetail(this.selectionRow[0]);        \r\n      this.openDetailDialog=true;\r\n    },\r\n    //查看详细信息\r\n    handleDetailItem(data){\r\n      this.idsInfo=this.selectionRowItem[0].id;\r\n      this.openInfo=true;\r\n    },\r\n    cancelDetailInfo(){\r\n      this.openInfo=false;\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange(selection) {\r\n      this.ids = selection.map(item => item.id)\r\n      this.single = selection.length!==1\r\n      this.selectionRow=selection;\r\n    },\r\n    rowClick(row, column, event) {\r\n      let refsElTable = this.$refs.multipleTable;\r\n      let findRow = this.selectionRow.find(c => c.rowIndex == row.rowIndex);\r\n      // if (findRow && this.selectionRow.length == 1) {\r\n      //   refsElTable.toggleRowSelection(row, false);\r\n      //   return;\r\n      // }\r\n      refsElTable.clearSelection();\r\n      refsElTable.toggleRowSelection(row);\r\n    },\r\n    // 多选框选中数据\r\n    handleSelectionChange1(selection) {\r\n      // this.ids = selection.map(item => item.id)\r\n      this.singleItem = selection.length!==1\r\n      this.selectionRowItem=selection\r\n    },\r\n    rowClick1(row, column, event) {\r\n      let refsElTable = this.$refs.multipleTable1;\r\n      let findRow = this.selectionRowItem.find(c => c.rowIndex == row.rowIndex);\r\n      // if (findRow && this.selectionRowItem.length == 1) {\r\n      //   refsElTable.toggleRowSelection(row, false);\r\n      //   return;\r\n      // }\r\n      refsElTable.clearSelection();\r\n      refsElTable.toggleRowSelection(row);\r\n    },\r\n    rowStyle({\r\n      row,\r\n      rowIndex\r\n    }) {\r\n      Object.defineProperty(row, 'rowIndex', {\r\n        value: rowIndex,\r\n        writable: true,\r\n        enumerable: false\r\n      })\r\n    },\r\n    //详情弹框关闭\r\n    handleDetailDialogClose(){\r\n      this.openDetailDialog=false;\r\n    },\r\n    detailCancel(){\r\n      this.openDetailDialog=false;\r\n    },\r\n    // 弹框关闭\r\n    handleDialogClose() {\r\n      this.$emit(\"cancel\", false);\r\n    },\r\n    // 取消\r\n    cancel() {\r\n      this.$emit(\"cancel\", false);\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.form = {\r\n        id: null,\r\n        compCode: null,\r\n        accountCode: null,\r\n        deptCode: null,\r\n        indexCode: null,\r\n        tempCode: null,\r\n        indexScore: null,\r\n        occureTime: null,\r\n        actualScore: null,\r\n        delFlag: null,\r\n        createBy: null,\r\n        createTime: null,\r\n        updateBy: null,\r\n        updateTime: null,\r\n        remark: null\r\n      };\r\n      this.resetForm(\"form\");\r\n    },\r\n  }\r\n};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  ::v-deep .el-dialog {\r\n    height: 80%;\r\n    overflow: hidden;\r\n    .el-dialog__body {\r\n      height: calc(100% - 100px);\r\n      overflow: auto;\r\n    }\r\n  }\r\n</style>"]}]}
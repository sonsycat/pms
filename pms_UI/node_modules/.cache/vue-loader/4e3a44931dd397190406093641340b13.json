{"remainingRequest":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\layout\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\layout\\index.vue","mtime":1716906170333},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBSaWdodFBhbmVsIGZyb20gIkAvY29tcG9uZW50cy9SaWdodFBhbmVsIjsKaW1wb3J0IHsgQXBwTWFpbiwgTmF2YmFyLCBTZXR0aW5ncywgU2lkZWJhciwgVGFnc1ZpZXcgfSBmcm9tICIuL2NvbXBvbmVudHMiOwppbXBvcnQgUmVzaXplTWl4aW4gZnJvbSAiLi9taXhpbi9SZXNpemVIYW5kbGVyIjsKaW1wb3J0IHsgbWFwU3RhdGUgfSBmcm9tICJ2dWV4IjsKaW1wb3J0IHZhcmlhYmxlcyBmcm9tICJAL2Fzc2V0cy9zdHlsZXMvdmFyaWFibGVzLnNjc3MiOwppbXBvcnQgeyBnZXRJbmZvIH0gZnJvbSAiQC9hcGkvYmFzaWMvdXNlciI7Ci8vIGltcG9ydCBiYXNlU2V0dGluZ3MgZnJvbSAiQC91dGlscy9zZXR0aW5nVXJsIgoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJMYXlvdXQiLAogIGNvbXBvbmVudHM6IHsKICAgIEFwcE1haW4sCiAgICBOYXZiYXIsCiAgICBSaWdodFBhbmVsLAogICAgU2V0dGluZ3MsCiAgICBTaWRlYmFyLAogICAgVGFnc1ZpZXcKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBjb21wTmFtZTogIiIsCiAgICAgIGNvbXBJZDogIiIsCiAgICAgIGRlcHROYW1lOiAiIiwKICAgICAgZGVwdElkOiAiIiwKICAgICAgdXNlck5hbWU6ICIiLAogICAgICBuaWNrTmFtZTogIiIsCiAgICAgIGlwOiAiIiwKICAgICAgbm93VGltZTogIiIsCiAgICAgIGFjY291bnROYW1lOiAiIiwKICAgICAgYWNjb3VudElkOiAiIgogICAgfTsKICB9LAogIG1peGluczogW1Jlc2l6ZU1peGluXSwKICBjb21wdXRlZDogewogICAgLi4ubWFwU3RhdGUoewogICAgICB0aGVtZTogc3RhdGUgPT4gc3RhdGUuc2V0dGluZ3MudGhlbWUsCiAgICAgIHNpZGVUaGVtZTogc3RhdGUgPT4gc3RhdGUuc2V0dGluZ3Muc2lkZVRoZW1lLAogICAgICBzaWRlYmFyOiBzdGF0ZSA9PiBzdGF0ZS5hcHAuc2lkZWJhciwKICAgICAgZGV2aWNlOiBzdGF0ZSA9PiBzdGF0ZS5hcHAuZGV2aWNlLAogICAgICBzaG93U2V0dGluZ3M6IHN0YXRlID0+IHN0YXRlLnNldHRpbmdzLnNob3dTZXR0aW5ncywKICAgICAgbmVlZFRhZ3NWaWV3OiBzdGF0ZSA9PiBzdGF0ZS5zZXR0aW5ncy50YWdzVmlldywKICAgICAgZml4ZWRIZWFkZXI6IHN0YXRlID0+IHN0YXRlLnNldHRpbmdzLmZpeGVkSGVhZGVyCiAgICB9KSwKICAgIGNsYXNzT2JqKCkgewogICAgICByZXR1cm4gewogICAgICAgIGhpZGVTaWRlYmFyOiAhdGhpcy5zaWRlYmFyLm9wZW5lZCwKICAgICAgICBvcGVuU2lkZWJhcjogdGhpcy5zaWRlYmFyLm9wZW5lZCwKICAgICAgICB3aXRob3V0QW5pbWF0aW9uOiB0aGlzLnNpZGViYXIud2l0aG91dEFuaW1hdGlvbiwKICAgICAgICBtb2JpbGU6IHRoaXMuZGV2aWNlID09PSAibW9iaWxlIgogICAgICB9OwogICAgfSwKICAgIHZhcmlhYmxlcygpIHsKICAgICAgcmV0dXJuIHZhcmlhYmxlczsKICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICAvLyBiYXNlU2V0dGluZ3MoKS50aGVuKCgpPT57CiAgICAgIHRoaXMuZ2V0U3lzUGFyYW1zKCkKICAgIC8vIH0pCiAgICAvLyB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnR2V0QWNjb3VudEluZm8nKTsKICAgIC8vIHRoaXMuJHN0b3JlLmRpc3BhdGNoKCJnZXRCYXNlRGljdHMiKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLmdldEluZm8oKTsKICAgIHRoaXMubm93VGltZXMoKTsKICB9LAogIG1ldGhvZHM6IHsKICAgIC8vIOiOt+WPluezu+e7n+WPguaVsAogICAgZ2V0U3lzUGFyYW1zKCl7CiAgICAgICAvLyDojrflj5bns7vnu5/lj4LmlbAgIOaYr+WQpuWQr+eUqOS+m+W6lOWVhiAgSVNTVVBQTFkgICAgMOWQr+eUqO+8jDHkuI3lkK/nlKgKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0dGluZ3MvZ2V0SXNzdXBwbHknKTsKICAgICAgICAvLyDns7vnu5/lj4LmlbAgIOaYr+WQpuWQr+eUqOazouasoeeuoeeQhiAgIElTV0VMTCAgMOWQr+eUqO+8jDHkuI3lkK/nlKgKICAgICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgnc2V0dGluZ3MvZ2V0SXN3ZWxsJyk7CiAgICAgICAgLy8g5a2X5YW4CiAgICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goImdldERpY3RzIik7CiAgICB9LAogICAgaGFuZGxlQ2xpY2tPdXRzaWRlKCkgewogICAgICB0aGlzLiRzdG9yZS5kaXNwYXRjaCgiYXBwL2Nsb3NlU2lkZUJhciIsIHsgd2l0aG91dEFuaW1hdGlvbjogZmFsc2UgfSk7CiAgICB9LAogICAgZ2V0SW5mbygpIHsKICAgICAgZ2V0SW5mbygpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5iYXNpY2RhdGFVc2VyLmRlcHROYW1lID09IG51bGwpIHsKICAgICAgICAgIHRoaXMuY29tcE5hbWUgPSAi5pegIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5jb21wTmFtZSA9IHJlc3BvbnNlLmJhc2ljZGF0YVVzZXIuZGVwdE5hbWU7CiAgICAgICAgICB0aGlzLmNvbXBJZCA9IHJlc3BvbnNlLmJhc2ljZGF0YVVzZXIuZGVwdElkOwogICAgICAgICAgdGhpcy5kZXB0TmFtZSA9IHJlc3BvbnNlLmJhc2ljZGF0YVVzZXIuZGVwdFJvb21OYW1lOwogICAgICAgICAgdGhpcy5kZXB0SWQgPSByZXNwb25zZS5iYXNpY2RhdGFVc2VyLmRlcHRSb29tSWQ7CiAgICAgICAgICB0aGlzLmFjY291bnROYW1lID0gcmVzcG9uc2UuYmFzaWNkYXRhVXNlci5hY2NvdW50U2V0LmNvZGU7CiAgICAgICAgICB0aGlzLmFjY291bnRJZCA9IHJlc3BvbnNlLmJhc2ljZGF0YVVzZXIuYWNjb3VudFNldC5uYW1lOwogICAgICAgIH0KICAgICAgICB0aGlzLnVzZXJOYW1lID0gcmVzcG9uc2UuYmFzaWNkYXRhVXNlci51c2VyTmFtZTsKICAgICAgICB0aGlzLm5pY2tOYW1lID0gcmVzcG9uc2UuYmFzaWNkYXRhVXNlci5uaWNrTmFtZTsKICAgICAgICB0aGlzLmlwID0gcmVzcG9uc2UuYmFzaWNkYXRhVXNlci5sb2dpbklwOwogICAgICB9KTsKICAgIH0sCiAgICB0aW1lRm9ybWF0ZSh0aW1lU3RhbXApIHsKICAgICAgbGV0IHllYXIgPSBuZXcgRGF0ZSh0aW1lU3RhbXApLmdldEZ1bGxZZWFyKCk7CiAgICAgIGxldCBtb250aCA9CiAgICAgICAgbmV3IERhdGUodGltZVN0YW1wKS5nZXRNb250aCgpICsgMSA8IDEwCiAgICAgICAgICA/ICIwIiArIChuZXcgRGF0ZSh0aW1lU3RhbXApLmdldE1vbnRoKCkgKyAxKQogICAgICAgICAgOiBuZXcgRGF0ZSh0aW1lU3RhbXApLmdldE1vbnRoKCkgKyAxOwogICAgICBsZXQgZGF0ZSA9CiAgICAgICAgbmV3IERhdGUodGltZVN0YW1wKS5nZXREYXRlKCkgPCAxMAogICAgICAgICAgPyAiMCIgKyBuZXcgRGF0ZSh0aW1lU3RhbXApLmdldERhdGUoKQogICAgICAgICAgOiBuZXcgRGF0ZSh0aW1lU3RhbXApLmdldERhdGUoKTsKICAgICAgbGV0IGhoID0KICAgICAgICBuZXcgRGF0ZSh0aW1lU3RhbXApLmdldEhvdXJzKCkgPCAxMAogICAgICAgICAgPyAiMCIgKyBuZXcgRGF0ZSh0aW1lU3RhbXApLmdldEhvdXJzKCkKICAgICAgICAgIDogbmV3IERhdGUodGltZVN0YW1wKS5nZXRIb3VycygpOwogICAgICBsZXQgbW0gPQogICAgICAgIG5ldyBEYXRlKHRpbWVTdGFtcCkuZ2V0TWludXRlcygpIDwgMTAKICAgICAgICAgID8gIjAiICsgbmV3IERhdGUodGltZVN0YW1wKS5nZXRNaW51dGVzKCkKICAgICAgICAgIDogbmV3IERhdGUodGltZVN0YW1wKS5nZXRNaW51dGVzKCk7CiAgICAgIGxldCBzcyA9CiAgICAgICAgbmV3IERhdGUodGltZVN0YW1wKS5nZXRTZWNvbmRzKCkgPCAxMAogICAgICAgICAgPyAiMCIgKyBuZXcgRGF0ZSh0aW1lU3RhbXApLmdldFNlY29uZHMoKQogICAgICAgICAgOiBuZXcgRGF0ZSh0aW1lU3RhbXApLmdldFNlY29uZHMoKTsKICAgICAgdGhpcy5ub3dUaW1lID0KICAgICAgICB5ZWFyICsgIi0iICsgbW9udGggKyAiLSIgKyBkYXRlICsgIiIgKyAiICIgKyBoaCArICI6IiArIG1tICsgIjoiICsgc3M7CiAgICB9LAogICAgbm93VGltZXMoKSB7CiAgICAgIHRoaXMudGltZUZvcm1hdGUobmV3IERhdGUoKSk7CiAgICAgIHNldEludGVydmFsKHRoaXMubm93VGltZXMsIDEwMDApOwogICAgICB0aGlzLmNsZWFyKCk7CiAgICB9LAogICAgY2xlYXIoKSB7CiAgICAgIGNsZWFySW50ZXJ2YWwodGhpcy5ub3dUaW1lcyk7CiAgICAgIHRoaXMubm93VGltZXMgPSBudWxsOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAgEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout","sourcesContent":["<script src=\"../../../zjry-spd-prov-ui/src/permission.js\"></script>\n<template>\n  <div :class=\"classObj\" class=\"app-wrapper\" :style=\"{'--current-color': theme}\">\n    <div v-if=\"device==='mobile'&&sidebar.opened\" class=\"drawer-bg\" @click=\"handleClickOutside\"/>\n    <template v-if=\"sideTheme === 'theme-dark' || sideTheme === 'theme-blue'\">\n    \t<sidebar class=\"sidebar-container\" :style=\"{ backgroundColor: variables.menuBg}\" />\n    </template>\n    <template v-else-if=\"sideTheme === 'theme-light' || sideTheme === 'theme-blue2' || sideTheme === 'theme-blue4'\">\n    \t<sidebar class=\"sidebar-container\" :style=\"{ backgroundColor: variables.menuLightBg}\" />\n    </template>\n    <template v-else-if=\"(sideTheme === 'theme-blue3' || sideTheme === 'theme-blue5') && (theme=== '#1890FF')\">\n    \t<sidebar class=\"sidebar-container\" :style=\"{ backgroundColor: variables.menuBlue}\" />\n    </template>\n    <template v-else-if=\"(sideTheme === 'theme-blue3' || sideTheme === 'theme-blue5') && (theme!= '#1890FF')\">\n    \t<sidebar class=\"sidebar-container\" :style=\"{ backgroundColor: theme}\" />\n    </template>\n\n    <div :class=\"{hasTagsView:needTagsView}\" class=\"main-container\" style=\"background:#f2f2f2\">\n      <div :class=\"{'fixed-header':fixedHeader}\">\n      \t<template v-if=\"sideTheme === 'theme-dark' || sideTheme === 'theme-blue3'\">\n        \t<navbar :style=\"{ backgroundColor: variables.menuLightBg }\"/>\n\t\t    </template>\n\t\t    <template v-else-if=\"sideTheme === 'theme-light'\">\n\t\t    \t<navbar :style=\"{ backgroundColor: variables.menuLightBg}\" />\n\t\t    </template>\n\t\t    <template v-else-if=\"(sideTheme === 'theme-blue' || sideTheme === 'theme-blue2' || sideTheme === 'theme-blue4'|| sideTheme === 'theme-blue5') && (theme=== '#1890FF')\">\n\t\t    \t<navbar :style=\"{ backgroundColor: variables.menuBlue}\" />\n\t\t    </template>\n\t\t    <template v-else-if=\"(sideTheme === 'theme-blue' || sideTheme === 'theme-blue2' || sideTheme === 'theme-blue4'|| sideTheme === 'theme-blue5') && (theme!= '#1890FF')\">\n\t\t    \t<navbar :style=\"{ backgroundColor: theme}\" />\n\t\t    </template>\n\n        <tags-view v-if=\"needTagsView\" />\n      </div>\n      <app-main />\n      <right-panel v-if=\"showSettings\">\n        <settings />\n      </right-panel>\n    </div>\n    <el-footer height=\"29px\">\n      <div class=\"box\">\n\t\t<span class=\"boxs\">\n          当前单位：<span>{{compName}}({{compId}})</span>\n        </span>\n\n        <span class=\"boxs\">\n          科室：<span>{{deptName}}({{deptId}})</span>\n        </span>\n        <span class=\"boxs\">\n          用户：<span>{{nickName}}({{userName}})</span>\n        </span>\n        <span class=\"boxs\">\n          IP地址：<span>{{ip}}</span>\n        </span>\n        <span class=\"boxs\">\n          当前时间：<span>{{nowTime}}</span>\n        </span>\n      </div>\n    </el-footer>\n\n  </div>\n</template>\n\n<script>\nimport RightPanel from \"@/components/RightPanel\";\nimport { AppMain, Navbar, Settings, Sidebar, TagsView } from \"./components\";\nimport ResizeMixin from \"./mixin/ResizeHandler\";\nimport { mapState } from \"vuex\";\nimport variables from \"@/assets/styles/variables.scss\";\nimport { getInfo } from \"@/api/basic/user\";\n// import baseSettings from \"@/utils/settingUrl\"\n\nexport default {\n  name: \"Layout\",\n  components: {\n    AppMain,\n    Navbar,\n    RightPanel,\n    Settings,\n    Sidebar,\n    TagsView\n  },\n  data() {\n    return {\n      compName: \"\",\n      compId: \"\",\n      deptName: \"\",\n      deptId: \"\",\n      userName: \"\",\n      nickName: \"\",\n      ip: \"\",\n      nowTime: \"\",\n      accountName: \"\",\n      accountId: \"\"\n    };\n  },\n  mixins: [ResizeMixin],\n  computed: {\n    ...mapState({\n      theme: state => state.settings.theme,\n      sideTheme: state => state.settings.sideTheme,\n      sidebar: state => state.app.sidebar,\n      device: state => state.app.device,\n      showSettings: state => state.settings.showSettings,\n      needTagsView: state => state.settings.tagsView,\n      fixedHeader: state => state.settings.fixedHeader\n    }),\n    classObj() {\n      return {\n        hideSidebar: !this.sidebar.opened,\n        openSidebar: this.sidebar.opened,\n        withoutAnimation: this.sidebar.withoutAnimation,\n        mobile: this.device === \"mobile\"\n      };\n    },\n    variables() {\n      return variables;\n    }\n  },\n  created() {\n    // baseSettings().then(()=>{\n      this.getSysParams()\n    // })\n    // this.$store.dispatch('GetAccountInfo');\n    // this.$store.dispatch(\"getBaseDicts\");\n  },\n  mounted() {\n    this.getInfo();\n    this.nowTimes();\n  },\n  methods: {\n    // 获取系统参数\n    getSysParams(){\n       // 获取系统参数  是否启用供应商  ISSUPPLY    0启用，1不启用\n        this.$store.dispatch('settings/getIssupply');\n        // 系统参数  是否启用波次管理   ISWELL  0启用，1不启用\n        this.$store.dispatch('settings/getIswell');\n        // 字典\n        this.$store.dispatch(\"getDicts\");\n    },\n    handleClickOutside() {\n      this.$store.dispatch(\"app/closeSideBar\", { withoutAnimation: false });\n    },\n    getInfo() {\n      getInfo().then(response => {\n        if (response.basicdataUser.deptName == null) {\n          this.compName = \"无\";\n        } else {\n          this.compName = response.basicdataUser.deptName;\n          this.compId = response.basicdataUser.deptId;\n          this.deptName = response.basicdataUser.deptRoomName;\n          this.deptId = response.basicdataUser.deptRoomId;\n          this.accountName = response.basicdataUser.accountSet.code;\n          this.accountId = response.basicdataUser.accountSet.name;\n        }\n        this.userName = response.basicdataUser.userName;\n        this.nickName = response.basicdataUser.nickName;\n        this.ip = response.basicdataUser.loginIp;\n      });\n    },\n    timeFormate(timeStamp) {\n      let year = new Date(timeStamp).getFullYear();\n      let month =\n        new Date(timeStamp).getMonth() + 1 < 10\n          ? \"0\" + (new Date(timeStamp).getMonth() + 1)\n          : new Date(timeStamp).getMonth() + 1;\n      let date =\n        new Date(timeStamp).getDate() < 10\n          ? \"0\" + new Date(timeStamp).getDate()\n          : new Date(timeStamp).getDate();\n      let hh =\n        new Date(timeStamp).getHours() < 10\n          ? \"0\" + new Date(timeStamp).getHours()\n          : new Date(timeStamp).getHours();\n      let mm =\n        new Date(timeStamp).getMinutes() < 10\n          ? \"0\" + new Date(timeStamp).getMinutes()\n          : new Date(timeStamp).getMinutes();\n      let ss =\n        new Date(timeStamp).getSeconds() < 10\n          ? \"0\" + new Date(timeStamp).getSeconds()\n          : new Date(timeStamp).getSeconds();\n      this.nowTime =\n        year + \"-\" + month + \"-\" + date + \"\" + \" \" + hh + \":\" + mm + \":\" + ss;\n    },\n    nowTimes() {\n      this.timeFormate(new Date());\n      setInterval(this.nowTimes, 1000);\n      this.clear();\n    },\n    clear() {\n      clearInterval(this.nowTimes);\n      this.nowTimes = null;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/assets/styles/mixin.scss\";\n@import \"~@/assets/styles/variables.scss\";\n\n.el-footer {\n  border-top: 1px solid #eee;\n  background: #fef9f9;\n  .box {\n    line-height: 24px;\n    width: 100%;\n    .boxs {\n      font-size: 12px;\n      margin-right: 30px;\n      span {\n        color: #666;\n      }\n    }\n  }\n}\n.app-wrapper {\n  @include clearfix;\n  position: relative;\n  height: 100%;\n  width: 100%;\n\n  &.mobile.openSidebar {\n    position: fixed;\n    top: 0;\n  }\n}\n\n.drawer-bg {\n  background: #000;\n  opacity: 0.3;\n  width: 100%;\n  top: 0;\n  height: 100%;\n  position: absolute;\n  z-index: 999;\n}\n\n.fixed-header {\n  position: fixed;\n  top: 0;\n  right: 0;\n  z-index: 9;\n  width: calc(100% - #{$sideBarWidth});\n  transition: width 0.28s;\n}\n\n.hideSidebar .fixed-header {\n  width: calc(100% - 54px);\n}\n\n.mobile .fixed-header {\n  width: 100%;\n}\n</style>\n"]}]}
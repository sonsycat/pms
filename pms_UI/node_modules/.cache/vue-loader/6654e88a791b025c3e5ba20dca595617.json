{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\views\\commission\\sort\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\commission\\sort\\index.vue","mtime":1682043106788},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFkZFNvcnQsIGRlbFNvcnQsIGV4cG9ydFNvcnQsIGxpc3RTb3J0LCB1cGRhdGVTb3J0IH0gZnJvbSAnQC9hcGkvY29tbWlzc2lvbi9zb3J0JwppbXBvcnQgYWRkRWRpdCBmcm9tICcuL2FkZEVkaXQnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ1NvcnQnLAogIGNvbXBvbmVudHM6IHsKICAgIGFkZEVkaXQKICB9LAogIHByb3BzOiB7CiAgICBvcGVuOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgb3BlbkRpYWxvZzogdGhpcy5vcGVuLAogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgLy/kuoznuqflvLnlh7rlurcKICAgICAgb3BlbjI6IGZhbHNlLAogICAgICBhZGRFZGl0SWQ6ICcnLAogICAgICAvLyDlr7zlh7rpga7nvanlsYIKICAgICAgZXhwb3J0TG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOmAieS4reaVsOe7hAogICAgICBpZHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmgLvmnaHmlbAKICAgICAgdG90YWw6IDAsCiAgICAgIC8vIOeLrOeri+aguOeul+aPkOaIkOavlOexu+WIq+ihqOagvOaVsOaNrgogICAgICBzb3J0TGlzdDogW10sCiAgICAgIHNlbGVjdGlvblJvdzogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogJ+exu+WIq+iuvue9ricsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDMwLAogICAgICAgIHNvcnRDb2RlOiBudWxsLAogICAgICAgIHNvcnROYW1lOiBudWxsLAogICAgICAgIGRlbEZsYWc6IG51bGwsCiAgICAgICAgY3JlYXRlQnk6IG51bGwsCiAgICAgICAgY3JlYXRlVGltZTogbnVsbCwKICAgICAgICB1cGRhdGVCeTogbnVsbCwKICAgICAgICB1cGRhdGVUaW1lOiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbAogICAgICB9LAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybToge30sCiAgICAgIC8vIOihqOWNleagoemqjAogICAgICBydWxlczoge30KICAgIH0KICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldExpc3QoKQogIH0sCiAgbWV0aG9kczogewogICAgLy8g5by55qGG5YWz6ZetCiAgICBoYW5kbGVEaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJywgZmFsc2UpCiAgICB9LAogICAgLyoqIOafpeivoueLrOeri+aguOeul+aPkOaIkOavlOexu+WIq+WIl+ihqCAqLwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICBsaXN0U29ydCh0aGlzLnF1ZXJ5UGFyYW1zKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLnNvcnRMaXN0ID0gcmVzcG9uc2Uucm93cwogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS50b3RhbAogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgc3VjY2Vzc1N1Ym1pdChmbGFnKSB7CiAgICAgIHRoaXMub3BlbjIgPSBmbGFnCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWwyKCkgewogICAgICB0aGlzLm9wZW4yID0gZmFsc2UKICAgICAgdGhpcy5yZXNldCgpCiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGlkOiBudWxsLAogICAgICAgIHNvcnRDb2RlOiBudWxsLAogICAgICAgIHNvcnROYW1lOiBudWxsLAogICAgICAgIGRlbEZsYWc6IG51bGwsCiAgICAgICAgY3JlYXRlQnk6IG51bGwsCiAgICAgICAgY3JlYXRlVGltZTogbnVsbCwKICAgICAgICB1cGRhdGVCeTogbnVsbCwKICAgICAgICB1cGRhdGVUaW1lOiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbAogICAgICB9CiAgICAgIHRoaXMucmVzZXRGb3JtKCdmb3JtJykKICAgIH0sCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMQogICAgICB0aGlzLmdldExpc3QoKQogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi8KICAgIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCdxdWVyeUZvcm0nKQogICAgICB0aGlzLmhhbmRsZVF1ZXJ5KCkKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5pZCkKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxCiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aAogICAgICB0aGlzLnNlbGVjdGlvblJvdyA9IHNlbGVjdGlvbgogICAgfSwKICAgIHJvd0NsaWNrKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICBsZXQgcmVmc0VsVGFibGUgPSB0aGlzLiRyZWZzLm11bHRpcGxlVGFibGUKICAgICAgbGV0IGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvdy5maW5kKGMgPT4gYy5yb3dJbmRleCA9PSByb3cucm93SW5kZXgpCiAgICAgIGlmIChmaW5kUm93ICYmIHRoaXMuc2VsZWN0aW9uUm93Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpCiAgICAgICAgcmV0dXJuCiAgICAgIH0KICAgICAgcmVmc0VsVGFibGUuY2xlYXJTZWxlY3Rpb24oKQogICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93KQogICAgfSwKICAgIHJvd1N0eWxlKHsKICAgICAgcm93LAogICAgICByb3dJbmRleAogICAgfSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm93LCAncm93SW5kZXgnLCB7CiAgICAgICAgdmFsdWU6IHJvd0luZGV4LAogICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgcm93Q2xhc3NOYW1lKHsKICAgICAgcm93LAogICAgICByb3dJbmRleAogICAgfSkgewogICAgICBsZXQgcm93TmFtZSA9ICcnLAogICAgICAgIGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvdy5maW5kKGMgPT4gYy5yb3dJbmRleCA9PT0gcm93LnJvd0luZGV4KQogICAgICBpZiAoZmluZFJvdykgewogICAgICAgIHJvd05hbWUgPSAnY3VycmVudC1yb3cgJwogICAgICB9CiAgICAgIHJldHVybiByb3dOYW1lCiAgICB9LAogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nAogICAgIGhhbmRsZUFkZCgpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLnRpdGxlID0gIua3u+WKoOeLrOeri+aguOeul+aPkOaIkOavlOexu+WIqyI7CiAgICB9LAogICAgICovCiAgICAvKiog5paw5aKe5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVBZGQoKSB7CiAgICAgIHRoaXMub3BlbjIgPSB0cnVlIC8vIOW8ueahhueCueW8gAogICAgICB0aGlzLmFkZEVkaXRJZCA9ICcnIC8vIGFkZEVkaXRJZCDmmK/mlrDlop4gIOWOu+WtkOe7hOS7tuaWueS+v+WMuuWIhuaWsOWinue8lui+kQogICAgfSwKICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy5yZXNldCgpCiAgICAgIGNvbnN0IGlkID0gcm93LmlkIHx8IHRoaXMuaWRzWzBdCiAgICAgIHRoaXMub3BlbjIgPSB0cnVlCiAgICAgIHRoaXMuYWRkRWRpdElkID0gaWQgLy8gaWTotYvlgLwKICAgICAgY29uc29sZS5sb2coJ2FkZEVkaXRJZC0tLScgKyBhZGRFZGl0KQogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KICAgIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBpZiAodGhpcy5mb3JtLmlkICE9IG51bGwpIHsKICAgICAgICAgICAgdXBkYXRlU29ydCh0aGlzLmZvcm0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygn5L+u5pS55oiQ5YqfJykKICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZQogICAgICAgICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgICAgIH0pCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICBhZGRTb3J0KHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCfmlrDlop7miJDlip8nKQogICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlCiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCkKICAgICAgICAgICAgfSkKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlKHJvdykgewogICAgICBjb25zdCBpZHMgPSByb3cuaWQgfHwgdGhpcy5pZHMKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk54us56uL5qC4566X5o+Q5oiQ5q+U57G75Yir57yW5Y+35Li6IicgKyBpZHMgKyAnIueahOaVsOaNrumhuT8nLCAn6K2m5ZGKJywgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAn56Gu5a6aJywKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAn5Y+W5raIJywKICAgICAgICB0eXBlOiAnd2FybmluZycKICAgICAgfSkudGhlbihmdW5jdGlvbigpIHsKICAgICAgICByZXR1cm4gZGVsU29ydChpZHMpCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCfliKDpmaTmiJDlip8nKQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgIH0pCiAgICB9LAogICAgLyoqIOWvvOWHuuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRXhwb3J0KCkgewogICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHRoaXMucXVlcnlQYXJhbXMKICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5a+85Ye65omA5pyJ54us56uL5qC4566X5o+Q5oiQ5q+U57G75Yir5pWw5o2u6aG5PycsICforablkYonLCB7CiAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICfnoa7lrponLAogICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICflj5bmtognLAogICAgICAgIHR5cGU6ICd3YXJuaW5nJwogICAgICB9KS50aGVuKCgpID0+IHsKICAgICAgICB0aGlzLmV4cG9ydExvYWRpbmcgPSB0cnVlCiAgICAgICAgcmV0dXJuIGV4cG9ydFNvcnQocXVlcnlQYXJhbXMpCiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuZG93bmxvYWQocmVzcG9uc2UubXNnKQogICAgICAgIHRoaXMuZXhwb3J0TG9hZGluZyA9IGZhbHNlCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgfSkKICAgIH0KICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAkFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/commission/sort","sourcesContent":["<template>\n  <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"40%\" custom-class=\"el-button--primary\" append-to-body\n             :close-on-click-modal=\"false\" @close=\"handleDialogClose\"\n  >\n    <el-row :gutter=\" 10\n  \" class=\"mb8\"\n    >\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"primary\"\n          icon=\"el-icon-plus\"\n          size=\"mini\"\n          @click=\"handleAdd\"\n          v-hasPermi=\"['commission:sort:add']\"\n        >新增\n        </el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"success\"\n          icon=\"el-icon-edit\"\n          size=\"mini\"\n          :disabled=\"single\"\n          @click=\"handleUpdate\"\n          v-hasPermi=\"['commission:sort:edit']\"\n        >修改\n        </el-button>\n      </el-col>\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"danger\"\n          icon=\"el-icon-delete\"\n          size=\"mini\"\n          :disabled=\"multiple\"\n          @click=\"handleDelete\"\n          v-hasPermi=\"['commission:sort:remove']\"\n        >删除\n        </el-button>\n      </el-col>\n\n<!--      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>-->\n    </el-row>\n\n    <el-table border stripe v-loading=\"loading\" :data=\"sortList\" @selection-change=\"handleSelectionChange\" height=\"calc(100vh - 350px)\"\n              ref=\"multipleTable\" @row-click=\"rowClick\" :row-style=\"rowStyle\" :row-class-name=\"rowClassName\"\n    >\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\n      <el-table-column sortable label=\"类别编码\" align=\"center\" prop=\"sortCode\"/>\n      <el-table-column sortable label=\"类别名称\" align=\"left\" prop=\"sortName\"/>\n<!--      <el-table-column label=\"操作\" align=\"center\" fixed=\"right\">-->\n<!--        <template slot-scope=\"scope\">-->\n<!--          <el-button-->\n<!--            size=\"mini\"-->\n<!--            type=\"text\"-->\n<!--            icon=\"el-icon-edit\"-->\n<!--            @click=\"handleUpdate(scope.row)\"-->\n<!--            v-hasPermi=\"['commission:sort:edit']\" title=\"修改\"-->\n<!--          ></el-button>-->\n<!--          <el-button-->\n<!--            size=\"mini\"-->\n<!--            type=\"text\"-->\n<!--            icon=\"el-icon-delete\"-->\n<!--            @click=\"handleDelete(scope.row)\"-->\n<!--            v-hasPermi=\"['commission:sort:remove']\" title=\"删除\"-->\n<!--          ></el-button>-->\n<!--        </template>-->\n<!--      </el-table-column>-->\n    </el-table>\n\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n\n    <addEdit v-if=\"open2\" :open2=\"open2\" :id=\"addEditId\" @cancel=\"cancel2\" @success=\"successSubmit\"></addEdit>\n  </el-dialog>\n</template>\n\n<script>\nimport { addSort, delSort, exportSort, listSort, updateSort } from '@/api/commission/sort'\nimport addEdit from './addEdit'\n\nexport default {\n  name: 'Sort',\n  components: {\n    addEdit\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    }\n  },\n  data() {\n    return {\n      openDialog: this.open,\n      // 遮罩层\n      loading: true,\n      //二级弹出康\n      open2: false,\n      addEditId: '',\n      // 导出遮罩层\n      exportLoading: false,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 独立核算提成比类别表格数据\n      sortList: [],\n      selectionRow: [],\n      // 弹出层标题\n      title: '类别设置',\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 30,\n        sortCode: null,\n        sortName: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {}\n    }\n  },\n  created() {\n    this.getList()\n  },\n  methods: {\n    // 弹框关闭\n    handleDialogClose() {\n      this.$emit('cancel', false)\n    },\n    /** 查询独立核算提成比类别列表 */\n    getList() {\n      this.loading = true\n      listSort(this.queryParams).then(response => {\n        this.sortList = response.rows\n        this.total = response.total\n        this.loading = false\n      })\n    },\n    successSubmit(flag) {\n      this.open2 = flag\n      this.getList()\n    },\n    // 取消按钮\n    cancel2() {\n      this.open2 = false\n      this.reset()\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        sortCode: null,\n        sortName: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      }\n      this.resetForm('form')\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1\n      this.getList()\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm('queryForm')\n      this.handleQuery()\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.id)\n      this.single = selection.length !== 1\n      this.multiple = !selection.length\n      this.selectionRow = selection\n    },\n    rowClick(row, column, event) {\n      let refsElTable = this.$refs.multipleTable\n      let findRow = this.selectionRow.find(c => c.rowIndex == row.rowIndex)\n      if (findRow && this.selectionRow.length == 1) {\n        refsElTable.toggleRowSelection(row, false)\n        return\n      }\n      refsElTable.clearSelection()\n      refsElTable.toggleRowSelection(row)\n    },\n    rowStyle({\n      row,\n      rowIndex\n    }) {\n      Object.defineProperty(row, 'rowIndex', {\n        value: rowIndex,\n        writable: true,\n        enumerable: false\n      })\n    },\n    rowClassName({\n      row,\n      rowIndex\n    }) {\n      let rowName = '',\n        findRow = this.selectionRow.find(c => c.rowIndex === row.rowIndex)\n      if (findRow) {\n        rowName = 'current-row '\n      }\n      return rowName\n    },\n    /** 新增按钮操作\n     handleAdd() {\n      this.reset();\n      this.open = true;\n      this.title = \"添加独立核算提成比类别\";\n    },\n     */\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.open2 = true // 弹框点开\n      this.addEditId = '' // addEditId 是新增  去子组件方便区分新增编辑\n    },\n    handleUpdate(row) {\n      this.reset()\n      const id = row.id || this.ids[0]\n      this.open2 = true\n      this.addEditId = id // id赋值\n      console.log('addEditId---' + addEdit)\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          if (this.form.id != null) {\n            updateSort(this.form).then(response => {\n              this.msgSuccess('修改成功')\n              this.open = false\n              this.getList()\n            })\n          } else {\n            addSort(this.form).then(response => {\n              this.msgSuccess('新增成功')\n              this.open = false\n              this.getList()\n            })\n          }\n        }\n      })\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const ids = row.id || this.ids\n      this.$confirm('是否确认删除独立核算提成比类别编号为\"' + ids + '\"的数据项?', '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(function() {\n        return delSort(ids)\n      }).then(() => {\n        this.getList()\n        this.msgSuccess('删除成功')\n      }).catch(() => {\n      })\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      const queryParams = this.queryParams\n      this.$confirm('是否确认导出所有独立核算提成比类别数据项?', '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        this.exportLoading = true\n        return exportSort(queryParams)\n      }).then(response => {\n        this.download(response.msg)\n        this.exportLoading = false\n      }).catch(() => {\n      })\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .el-dialog {\n  height: 80%;\n  overflow: hidden;\n\n  .el-dialog__body {\n    height: 100%;\n    overflow: auto;\n  }\n}\n</style>\n"]}]}
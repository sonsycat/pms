{"remainingRequest":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\basic\\sysemp\\addEdit.vue?vue&type=style&index=0&id=b2054b9c&scoped=true&lang=scss&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\basic\\sysemp\\addEdit.vue","mtime":1693362204519},{"path":"F:\\pms_UI\\node_modules\\css-loader\\dist\\cjs.js","mtime":1693361949271},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1693362179282},{"path":"F:\\pms_UI\\node_modules\\postcss-loader\\src\\index.js","mtime":1693362110683},{"path":"F:\\pms_UI\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1693362152666},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5jb21tb24gewogIHdpZHRoOiAxMDAlOwp9Ci5tYWluRGlhbG9nIHsKICA6OnYtZGVlcCAuZWwtZGlhbG9nIHsKICAgIGhlaWdodDogODAlOwogICAgLmVsLWRpYWxvZ19fYm9keSB7CiAgICAgIGhlaWdodDogY2FsYygxMDAlIC0gNDRweCk7CiAgICAgIG92ZXJmbG93OiBhdXRvOwogICAgfQogIH0KfQo="},{"version":3,"sources":["addEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwhCA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"addEdit.vue","sourceRoot":"src/views/basic/sysemp","sourcesContent":["<template>\n  <div>\n    <!-- 新增编辑 -->\n    <el-dialog class=\"mainDialog\" :title=\"title\" :visible.sync=\"openDialog\" width=\"1000px\" append-to-body :close-on-click-modal=\"false\" custom-class=\"el-button--primary\"  @close=\"handleDialogClose\">\n      <el-tabs v-model=\"activeName\" @tab-click=\"handleClick\" >\n        <el-tab-pane label=\"人员信息\" name=\"first\">\n          <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"80px\">\n            <el-row>\n              <el-col :span=\"8\">\n                <orgSearch size=\"mini\" label=\"单位\" :queryParams=\"form\"  ></orgSearch>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"科室名称\" prop=\"deptCode\">\n                  <el-select v-model=\"form.deptCode\" clearable  class=\"common\" >\n                    <el-option\n                      v-for=\"item in deptList\"\n                      :key=\"item.deptRoomId\"\n                      :label=\"item.deptRoomName\"\n                      :value=\"item.deptRoomId\">\n                    </el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"工号\" prop=\"empCode\">\n                  <el-input v-model=\"form.empCode\" placeholder=\"请输入工号\" :disabled=\"id?true:false\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"人员姓名\" prop=\"empName\">\n                  <el-input v-model=\"form.empName\" placeholder=\"人员姓名\" @blur=\"getPym\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"拼音码\" prop=\"spell\">\n                  <el-input v-model=\"form.spell\" :placeholder=\"pym\" disabled />\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"证件类型\" prop=\"cardType\">\n                  <el-select v-model=\"form.cardType\" placeholder=\"请输入证件类型\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in cardTypeOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"身份证号\" prop=\"idNumber\">\n                  <el-input v-model=\"form.idNumber\" placeholder=\"请输入身份证号\" @blur=\"form.cardType == '01'?idUserInfo():''\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"性别\" prop=\"gender\">\n                  <el-select v-model=\"form.gender\" placeholder=\"请选择性别\" class=\"common\"  >\n                    <el-option\n                      v-for=\"dict in genderOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"出生日期\" prop=\"birthday\" class=\"common\">\n                  <el-date-picker clearable size=\"small\"\n\n                                  v-model=\"form.birthday\"\n                                  type=\"date\"\n                                  value-format=\"yyyy-MM-dd\"\n                                  placeholder=\"选择出生日期\" class=\"common\" >\n                  </el-date-picker>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"婚姻状况\" prop=\"maritalStatus\">\n                  <el-select v-model=\"form.maritalStatus\" placeholder=\"请选择婚姻状况\" class=\"common\" >\n                    <el-option\n                      v-for=\"dict in maritalStatusOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"民族\" prop=\"nationName\">\n                  <el-select v-model=\"form.nationName\" placeholder=\"请选择民族\" class=\"common\" >\n                    <el-option\n                      v-for=\"dict in nationNameOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"政治面貌\" prop=\"politicalName\">\n                  <el-select v-model=\"form.politicalName\" placeholder=\"请选择政治面貌\" class=\"common\" >\n                    <el-option\n                      v-for=\"dict in politicalNameOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"联系方式\" prop=\"telephone\">\n                  <el-input v-model=\"form.telephone\" placeholder=\"请输入联系方式\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"电子邮箱\" prop=\"email\">\n                  <el-input v-model=\"form.email\" placeholder=\"请输入电子邮箱\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"户口性质\" prop=\"householdType\">\n                  <el-select v-model=\"form.householdType\" placeholder=\"请选择户口性质\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in householdTypeOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"24\">\n                <el-form-item label=\"家庭住址\" prop=\"homeAdd\">\n                  <el-input v-model=\"form.homeAdd\" placeholder=\"请输入家庭住址\"   maxlength=\"255\"\n  show-word-limit/>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"24\">\n                <el-form-item label=\"籍贯\" prop=\"homeTown\">\n                  <el-input v-model=\"form.homeTown\"  placeholder=\"请输入籍贯\"   maxlength=\"255\"\n  show-word-limit/>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"人员类别\" prop=\"staffsort\">\n                  <el-select v-model=\"form.staffsort\" placeholder=\"请选择人员类别\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in staffsortOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"是否在岗\" prop=\"isPost\">\n                  <el-select v-model=\"form.isPost\" placeholder=\"请选择人员状态\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in isPostOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"parseInt(dict.dictValue)\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"人员分类\" prop=\"kindCode\">\n                  <el-select v-model=\"form.kindCode\" placeholder=\"请选择人员分类\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in kindCodeOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"岗位名称\" prop=\"postCode\">\n                  <el-select v-model=\"form.postCode\" placeholder=\"请选择岗位名称\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in postNameOptions\"\n                      :key=\"dict.postCode\"\n                      :label=\"dict.postName\"\n                      :value=\"dict.postCode\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"来院时间\" prop=\"inhospitalDate\">\n                  <el-date-picker clearable size=\"mini\"\n                                  v-model=\"form.inhospitalDate\"\n                                  type=\"date\"\n                                  value-format=\"yyyy-MM-dd\"\n                                  placeholder=\"选择来院时间\" class=\"common\">\n                  </el-date-picker>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"职称\" prop=\"titleCode\">\n                  <el-select v-model=\"form.titleCode\" placeholder=\"请选择职称\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in titleCodeOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"职称级别\" prop=\"titleLevel\">\n                  <el-select v-model=\"form.titleLevel\" placeholder=\"请选择职称级别\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in titleLevelOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"职称系列\" prop=\"titleKindCode\">\n                  <el-select v-model=\"form.titleKindCode\" placeholder=\"请选择职称系列\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in titleKindCodeOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"学历\" prop=\"eduCode\">\n                  <el-select v-model=\"form.eduCode\" placeholder=\"请选择学历\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in eduNameOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"学位\" prop=\"degreeCode\">\n                  <el-select v-model=\"form.degreeCode\" placeholder=\"请选择学位\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in academicOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"毕业院校\" prop=\"graduateAcademy\">\n                  <el-input v-model=\"form.graduateAcademy\" placeholder=\"请输入毕业院校\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"所学专业\" prop=\"studySpecsort\">\n                  <el-input v-model=\"form.studySpecsort\" placeholder=\"请输入所学专业\"/>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"行政职务\" prop=\"duty\">\n                  <el-select v-model=\"form.duty\" placeholder=\"请选择行政职务\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in dutyOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"行政职务时间\" prop=\"dutydate\">\n                  <el-date-picker clearable size=\"small\"\n                                  v-model=\"form.dutydate\"\n                                  type=\"date\"\n                                  value-format=\"yyyy-MM-dd\"\n                                  placeholder=\"选择行政职务时间\" class=\"common\">\n                  </el-date-picker>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"8\">\n                <el-form-item label=\"行政职级\" prop=\"dutyLevel\">\n                  <el-select v-model=\"form.dutyLevel\" placeholder=\"请选择行政职级\" class=\"common\">\n                    <el-option\n                      v-for=\"dict in dutyLevelOptions\"\n                      :key=\"dict.dictValue\"\n                      :label=\"dict.dictLabel\"\n                      :value=\"dict.dictValue\"\n                    ></el-option>\n                  </el-select>\n                </el-form-item>\n              </el-col>\n              <el-col :span=\"24\">\n                <el-form-item label=\"附件\" prop=\"annex\">\n                  <el-input v-model=\"form.annex\" placeholder=\"请输入附件\"/>\n                </el-form-item>\n              </el-col>\n            </el-row>\n          </el-form>\n        </el-tab-pane>\n\n      </el-tabs>\n      <div slot=\"footer\" class=\"dialog-footer\">\n        <el-button type=\"primary\" @click=\"submitForm\">确 定</el-button>\n        <el-button @click=\"cancel\">取 消</el-button>\n      </div>\n    </el-dialog>\n\n  </div>\n</template>\n\n<script>\nimport {\n  listSysEmp,\n  getSysEmp,\n  delSysEmp,\n  addSysEmp,\n  updateSysEmp,\n  generateEmpCode,\n  exportSysEmp\n} from \"@/api/basic/sysEmp\";\n\nimport orgSearch from \"@/views/components/orgSearch\";\nimport { treeRoom, getEmpList } from \"@/api/until\";\nimport pinyin from \"js-pinyin\";\n//import formItem from \"@/views/components/formItem\";\n\nexport default {\n  name: \"add\",\n  components: {\n    orgSearch\n  },\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: [String, Number],\n      default: \"\"\n    },\n    proclnsIds: {\n      type: [String, Number],\n      default: \"\"\n    }\n  },\n  data() {\n    return {\n      empCode: \"\",\n      openDialog: this.open,\n      play: false,\n      activeName: \"first\",\n      title: \"新增\",\n      // 表单参数\n      form: {\n        compName: null,\n        compCode: null\n      },\n      deptList: [],\n      // 表单校验\n      rules: {\n        duty: [\n          { required: true, message: \"行政职务不能为空\", trigger: \"change\" }\n        ],\n        titleCode: [\n          { required: true, message: \"职称不能为空\", trigger: \"change\" }\n        ],\n        empCode: [{ required: true, message: \"工号不能为空\", trigger: \"blur\" }],\n        empName: [\n          { required: true, message: \"人员姓名不能为空\", trigger: \"blur\" }\n        ],\n        gender: [\n          { required: true, message: \"性别不能为空\", trigger: \"change\" }\n        ],\n        birthday: [\n          { required: true, message: \"出生日期不能为空\", trigger: \"blur\" }\n        ],\n        idNumber: [\n          { required: true, message: \"身份证号不能为空\", trigger: \"blur\" },\n          { validator: this.validID, trigger: \"blur\" }\n        ],\n        homeTown: [\n          { required: true, message: \"籍贯不能为空\", trigger: \"blur\" }\n        ],\n        studySpecsort: [\n          { required: true, message: \"所学专业不能为空\", trigger: \"blur\" }\n        ],\n        nationName: [\n          { required: true, message: \"民族不能为空\", trigger: \"change\" }\n        ],\n        eduName: [\n          { required: true, message: \"学历不能为空\", trigger: \"change\" }\n        ],\n        isPost: [\n          { required: true, message: \"是否在岗不能为空\", trigger: \"change\" }\n        ],\n        kindCode: [\n          { required: true, message: \"人员分类不能为空\", trigger: \"change\" }\n        ],\n        inhospitalDate: [\n          { required: true, message: \"来院时间不能为空\", trigger: \"blur\" }\n        ],\n        staffsort: [\n          { required: true, message: \"人员类别不能为空\", trigger: \"change\" }\n        ],\n        maritalStatus: [\n          { required: true, message: \"婚姻状况不能为空\", trigger: \"change\" }\n        ],\n        degreeCode: [\n          { required: true, message: \"学位不能为空\", trigger: \"change\" }\n        ],\n        graduateAcademy: [\n          { required: true, message: \"毕业院校不能为空\", trigger: \"blur\" }\n        ],\n        householdType: [\n          { required: true, message: \"户口性质不能为空\", trigger: \"change\" }\n        ],\n        homeAdd: [\n          { max: 100, message: \"长度不能大于100个字符\", trigger: \"blur\" },\n          { required: true, message: \"家庭住址不能为空\", trigger: \"blur\" }\n        ],\n        cardType: [\n          { required: true, message: \"证件类型不能为空\", trigger: \"change\" }\n        ],\n        compName: [\n          { required: true, message: \"单位不能为空\", trigger: \"change\" },\n          { required: true, message: \"单位不能为空\", trigger: \"blur\" }\n        ],\n        compCode: [\n          { required: true, message: \"单位不能为空\", trigger: \"change\" },\n          { required: true, message: \"单位不能为空\", trigger: \"blur\" }\n        ],\n        deptCode: [\n          { required: true, message: \"科室不能为空\", trigger: \"change\" }\n        ],\n        postCode: [\n          { required: true, message: \"岗位名称不能为空\", trigger: \"change\" }\n        ],\n        eduCode: [\n          { required: true, message: \"学历不能为空\", trigger: \"change\" }\n        ],\n        telephone: [\n          { required: true, message: \"联系方式不能为空\", trigger: \"change\" }\n        ]\n      },\n      sexOptions: [],\n      // 证件类型\n      cardTypeOptions: [],\n      // 性别字典\n      genderOptions: [],\n      // 婚姻状况字典\n      maritalStatusOptions: [],\n      // 民族字典\n      nationNameOptions: [],\n      //政治面貌\n      politicalNameOptions: [],\n      // 户口性质字典\n      householdTypeOptions: [],\n      // 人员类别字典\n      staffsortOptions: [],\n      // 人员状态字典\n      isPostOptions: [],\n      // 人员分类字典\n      kindCodeOptions: [],\n      // 岗位名称字典\n      postNameOptions: [],\n      // 职称字典\n      titleCodeOptions: [],\n      // 职称级别字典\n      titleLevelOptions: [],\n      // 职称系列字典\n      titleKindCodeOptions: [],\n      // 学历字典\n      eduNameOptions: [],\n      // 学位字典\n      academicOptions: [],\n      // 行政职务字典\n      dutyOptions: [],\n      // 行政职级字典\n      dutyLevelOptions: [],\n      // 卫生专业分类字典\n      santspecSortOptions: [],\n      // 开户行字典\n      bankOptions: [],\n      // 人员属性字典\n      personsTypeOptions: [],\n      // 是否军人字典\n      isArmyOptions: [],\n      // 军衔级别字典\n      soldierRankOptions: [],\n      // 技术职务字典\n      jobOptions: [],\n      // 技术级字典\n      techincClassOptions: [],\n      // 岗位分类字典\n      jobtypeOptions: [],\n      // 岗位级别字典\n      joblevelOptions: [],\n      //职称获得方式字典\n      titleGetOptions: [],\n      //健康状况\n      healthOptions: [],\n      //血型字典\n      bloodTypeOptions: [],\n      // 是否轮转字典\n      isInternOptions: [],\n      // 是否聘任字典\n      ifAppointOptions: [],\n      // 留学归国字典\n      ifAbroadOptions: [],\n\n      // 港澳台侨胞字典\n      overseaschineseOptions: [],\n      // 家庭关系字典\n      relationOptions: [],\n      // 民族字典\n      nationOptions: [],\n      // 职称名称字典\n      titleNameOptions: [],\n      // 职称级别字典\n      titleGradeCodeOptions: [],\n      // 获得方式字典\n      acquireWayCodeOptions: [],\n\n      // 原职务字典\n      outPostNameOptions: [],\n      // 现职务字典\n      inPostNameOptions: [],\n      // 是否认证字典\n      isAttOptions: [],\n      pym: \"\",\n      multiple2: true,\n      // 家庭成员信息表格数据\n      homeinfoList: [],\n      // 非多个禁用\n      multiple3: true,\n      multiple4: true,\n      multiple5: true,\n      multiple6: true,\n      multiple7: true,\n      // 工作经历信息表格数据\n      resumeinfoList: [],\n      // 学历变动表格数据\n      degreeschangeList: [],\n      // 学位变动表格数据\n      academicchangeList: [],\n      // 职称变动表格数据\n      posttitlechangeList: [],\n      // 职务调动表格数据\n      deptchangeList: [],\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 10,\n        empCode: null\n      },\n      // 用户字典\n      userOptions: [],\n      // 下级节点办理人\n      nextAssignee: []\n    };\n  },\n  watch: {\n    \"form.compCode\": {\n      handler(val) {\n        this.getTreeDept(val);\n      },\n      deep: true,\n      immediate: true\n    },\n    id: {\n      handler(val) {\n        this.reset();\n        if (val) {\n          this.play = true;\n          this.id = val;\n          this.title = \"人员基本信息 / 修改\";\n\n          this.getDetailInfo();\n        } else {\n          // 新增获取工号\n          this.generateEmpCode();\n          this.id = \"\";\n          this.play = false;\n          this.pym = \"系统自动生成\";\n          this.title = \"人员基本信息 / 新增\";\n        }\n      },\n      deep: true,\n      immediate: true\n    }\n  },\n  mounted() {\n    this.initDic();\n    let that = this;\n    getEmpList(\n      that,\n      this.$store.state.user.name,\n      this.proclnsIds,\n      this.userOptions,\n      this.btn1,\n      this.btn2,\n      this.btn3,\n      this.btn4,\n      this.btn5\n    );\n  },\n\n  methods: {\n    successSubmit() {\n      this.$emit(\"success\", false);\n    },\n    // 获取工号\n    generateEmpCode() {\n      generateEmpCode().then(res => {\n        console.log(res);\n        this.form.empCode = res;\n        let codeLength = res.length;\n      });\n    },\n    //获取科室列表\n    getTreeDept(deptId) {\n      let data = {\n        deptId: deptId\n      };\n      this.formDeptList = [];\n      treeRoom(data).then(response => {\n        if (response.code == 200) {\n          this.deptList = response.rows;\n        } else {\n          this.msgError(response.msg);\n        }\n      });\n    },\n    getDetailInfo() {\n      const loading = this.dataLoading()                   \n      getSysEmp(this.id).then(response => {\n        if (response.code == 200) {\n          this.form = response.data;\n          this.empCode = response.data.empCode;\n          this.queryParams.empCode = this.empCode;\n          loading.close()                          \n        } else {\n          this.msgError(response.msg);\n        }\n      }).catch(()=>{\n        loading.close();            \n      })\n    },\n    handleClick(tab, event) {\n      if (tab.label == \"人员信息详情\") {\n        let data = { empCode: this.empCode };\n        getEmpDetail(data).then(response => {\n          if (response.code == 200) {\n            if (response.data == undefined) {\n              this.empDetailFlag = false;\n            } else {\n              this.empDetailFlag = true;\n              this.form10 = response.data;\n            }\n          } else {\n            this.msgError(response.msg);\n          }\n        });\n      }\n    },\n    initDic() {\n      this.getDicts(\"DE02.01.025.00\").then(response => {\n        this.nationOptions = response.data;\n      });\n      this.getDicts(\"GBT4761.2008\").then(response => {\n        this.relationOptions = response.data;\n      });\n      this.getDicts(\"sys_user_sex\").then(response => {\n        this.sexOptions = response.data;\n      });\n      this.getDicts(\"hr_is_change\").then(response => {\n        this.overseaschineseOptions = response.data;\n      });\n      this.getDicts(\"hr_is_change\").then(response => {\n        this.ifAbroadOptions = response.data;\n      });\n      this.getDicts(\"hr_is_change\").then(response => {\n        this.ifAppointOptions = response.data;\n      });\n      this.getDicts(\"hr_is_change\").then(response => {\n        this.isInternOptions = response.data;\n      });\n\n      this.getDicts(\"CV04.50.005\").then(response => {\n        this.bloodTypeOptions = response.data;\n      });\n\n      this.getDicts(\"DE05.10.034.00\").then(response => {\n        this.healthOptions = response.data;\n      });\n\n      this.getDicts(\"hr_post_classification\").then(response => {\n        this.titleGetOptions = response.data;\n      });\n\n      this.getDicts(\"hr_staff_post_level\").then(response => {\n        this.joblevelOptions = response.data;\n      });\n      this.getDicts(\"hr_personnel_title_way\").then(response => {\n        this.jobtypeOptions = response.data;\n      });\n      this.getDicts(\"hr_is_change\").then(response => {\n        this.techincClassOptions = response.data;\n      });\n      this.getDicts(\"GBT8561.2001\").then(response => {\n        this.jobOptions = response.data;\n      });\n      // 证件类型\n      this.getDicts(\"CV02.01.101\").then(response => {\n        this.cardTypeOptions = response.data;\n      });\n      this.getDicts(\"sys_user_sex\").then(response => {\n        this.genderOptions = response.data;\n      });\n      this.getDicts(\"GBT2261.2.2003\").then(response => {\n        this.maritalStatusOptions = response.data;\n      });\n      this.getDicts(\"DE02.01.025.00\").then(response => {\n        this.nationNameOptions = response.data;\n      });\n      this.getDicts(\"hr_politics_face\").then(response => {\n        this.politicalNameOptions = response.data;\n      });\n      this.getDicts(\"MYD0052\").then(response => {\n        this.householdTypeOptions = response.data;\n      });\n      this.getDicts(\"hr_personnel_category\").then(response => {\n        this.staffsortOptions = response.data;\n      });\n      this.getDicts(\"hr_personnel_state\").then(response => {\n        this.isPostOptions = response.data;\n      });\n      this.getDicts(\"hr_personnel_classification\").then(response => {\n        this.kindCodeOptions = response.data;\n      });\n      this.getPostInfo().then(response => {\n        this.postNameOptions = response.data;\n      });\n      this.getDicts(\"DE02.01.049.00\").then(response => {\n        this.titleCodeOptions = response.data;\n      });\n      this.getDicts(\"hr_personnel_title_level\").then(response => {\n        this.titleLevelOptions = response.data;\n      });\n      this.getDicts(\"hr_personnel_title_series\").then(response => {\n        this.titleKindCodeOptions = response.data;\n      });\n      this.getDicts(\"GBT4658.1984\").then(response => {\n        this.eduNameOptions = response.data;\n      });\n      this.getDicts(\"GBT6864.2003\").then(response => {\n        this.academicOptions = response.data;\n      });\n      this.getDicts(\"hr_personnel_post\").then(response => {\n        this.dutyOptions = response.data;\n      });\n      this.getDicts(\"hr_administration_rank\").then(response => {\n        this.dutyLevelOptions = response.data;\n      });\n      this.getDicts(\"WS218.2002\").then(response => {\n        this.santspecSortOptions = response.data;\n      });\n      this.getDicts(\"hr_bank_deposit\").then(response => {\n        this.bankOptions = response.data;\n      });\n      this.getDicts(\"hr_personnel_attribute\").then(response => {\n        this.personsTypeOptions = response.data;\n      });\n      this.getDicts(\"hr_is_change\").then(response => {\n        this.isArmyOptions = response.data;\n      });\n      this.getDicts(\"hr_is_change\").then(response => {\n        this.soldierRankOptions = response.data;\n      });\n    },\n    // 职称系类字典翻译\n    titleKindCodeFormat(row, column) {\n      return this.selectDictLabel(this.titleKindCodeOptions, row.titleKindCode);\n    },\n    // 学历字典翻译\n    eduNameFormat(row, column) {\n      return this.selectDictLabel(this.eduNameOptions, row.eduName);\n    },\n    // 学位字典翻译\n    academicFormat(row, column) {\n      return this.selectDictLabel(this.academicOptions, row.academic);\n    },\n    // 性别字典翻译\n    sexFormat(row, column) {\n      return this.selectDictLabel(this.sexOptions, row.sex);\n    },\n    // 家庭关系字典翻译\n    relationFormat(row, column) {\n      return this.selectDictLabel(this.relationOptions, row.relation);\n    },\n    // 民族字典翻译\n    nationFormat(row, column) {\n      return this.selectDictLabel(this.nationOptions, row.nation);\n    },\n    // 职称名称字典翻译\n    titleNameFormat(row, column) {\n      return this.selectDictLabel(this.titleNameOptions, row.titleName);\n    },\n    // 职称级别字典翻译\n    titleGradeCodeFormat(row, column) {\n      return this.selectDictLabel(\n        this.titleGradeCodeOptions,\n        row.titleGradeCode\n      );\n    },\n    // 获得方式字典翻译\n    acquireWayCodeFormat(row, column) {\n      return this.selectDictLabel(\n        this.acquireWayCodeOptions,\n        row.acquireWayCode\n      );\n    },\n    // 原职务字典翻译\n    outPostNameFormat(row, column) {\n      return this.selectDictLabel(this.outPostNameOptions, row.outPostName);\n    },\n    // 现职务字典翻译\n    inPostNameFormat(row, column) {\n      return this.selectDictLabel(this.inPostNameOptions, row.inPostName);\n    },\n    // 是否认证字典翻译\n    isAttFormat(row, column) {\n      return this.selectDictLabel(this.isAttOptions, row.isAtt);\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compName: null,\n        compCode: null,\n        empCode: null,\n        empName: null,\n        formerName: null,\n        gender: null,\n        birthday: null,\n        idNumber: null,\n        homeAdd: null,\n        homePost: null,\n        photoUrl: null,\n        homeTown: null,\n        studySpecsort: null,\n        bankAccount: null,\n        postCode: null,\n        titleCode: null,\n        addMark: null,\n        spell: null,\n        isStock: null,\n        sysUserId: null,\n        empDesc: null,\n        nationName: null,\n        politicalName: null,\n        eduName: null,\n        deptCode: null,\n        isPost: null,\n        kindCode: null,\n        isStop: null,\n        isSyn: null,\n        isIntern: null,\n        isArmy: null,\n        bonusFactor: null,\n        deptType: null,\n        inhospitalDate: null,\n        job: null,\n        jobDate: null,\n        staffsort: null,\n        beenrolledinDate: null,\n        workdate: null,\n        duty: null,\n        dutydate: null,\n        techincClass: null,\n        technicClassDate: null,\n        civilserviceClass: null,\n        civilserviceClassDate: null,\n        santspecSort: null,\n        rootspecSort: null,\n        inputUser: null,\n        inputDate: null,\n        userDate: null,\n        deptGroup: null,\n        homeplace: null,\n        maritalStatus: null,\n        edu1: null,\n        graduateAcademy: null,\n        rank: null,\n        markUser: null,\n        userId: null,\n        jobTitle: null,\n        titleDate: null,\n        expert: null,\n        fileNo: null,\n        gl: null,\n        politicalTime: null,\n        titleLevel: null,\n        language: null,\n        languageLevel: null,\n        wyzhshshj: null,\n        ifReservecadres: null,\n        practice: null,\n        practiceData: null,\n        household: null,\n        householdType: null,\n        telephone: null,\n        email: null,\n        health: null,\n        overseaschinese: null,\n        titleGet: null,\n        titleTime: null,\n        ifAppoint: null,\n        appointDate: null,\n        ifAbroad: null,\n        dutyLevel: null,\n        rzhfsh: null,\n        jobtype: null,\n        joblevel: null,\n        joblevelname: null,\n        bank: null,\n        bangkCard: null,\n        jhcyDate: null,\n        jhAge: null,\n        jdAge: null,\n        inhospitalAge: null,\n        jdhospitalAge: null,\n        personsType: null,\n        ispayment: null,\n        staffHeight: null,\n        staffWeight: null,\n        bloodType: null,\n        jobdate: null,\n        isbraid: null,\n        titleKindCode: null,\n        deptName: null,\n        postName: null,\n        age: null,\n        branchCourts: null,\n        personsOther: null,\n        personsOther1: null,\n        staffid: null,\n        partyBranch: null,\n        source: null,\n        socialNumber: null,\n        salaryScale: null,\n        studyOverDate: null,\n        dateOfGradetitle: null,\n        dimissionType: null,\n        workid: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      };\n      this.resetForm(\"form\");\n    },\n    submitForm() {\n      this.$refs[\"form\"].validate(valid => {\n        if (valid) {\n          if (this.form.id != null) {\n            updateSysEmp(this.form).then(response => {\n              if (response.code == 200) {\n                this.msgSuccess(\"修改成功\");\n                this.$emit(\"success\");\n              } else {\n                this.msgError(response.msg);\n              }\n            });\n          } else {\n            addSysEmp(this.form).then(response => {\n              if (response.code == 200) {\n                this.msgSuccess(\"新增成功\");\n                this.$emit(\"success\");\n              } else {\n                this.msgError(response.msg);\n              }\n            });\n          }\n        }\n      });\n    },\n    idUserInfo() {\n      let info = this.getFromIdCard(this.form.idNumber);\n      let sexObj = {};\n      this.genderOptions.forEach(el => {\n        sexObj[el.dictLabel] = el.dictValue;\n      });\n      this.form.birthday = info.birthday;\n      this.form.gender = sexObj[info.sex];\n    },\n    // 获取拼音码\n    getPym() {\n      // 全是字母的情况下,拼音码等于所有字母\n      if (/^[a-zA-Z]*$/.test(this.form.empName)) {\n        this.form.spell = this.form.empName;\n        return;\n      }\n      // 有汉字的情况下,转为首字母\n      let fullName = pinyin.getCamelChars(this.form.empName).toUpperCase();\n      let pym = \"\";\n      for (var i = 0; i < fullName.length; i++) {\n        var c = fullName.charAt(i);\n        if (/^[A-Z]+$/.test(c)) {\n          pym += c;\n        }\n      }\n      this.form.spell = pym;\n    },\n    // 取消按钮\n    cancel() {\n      this.$emit(\"cancel\");\n    },\n    handleDialogClose() {\n      this.$emit(\"cancel\");\n    }\n  }\n};\n</script>\n\n<style scoped lang=\"scss\">\n.common {\n  width: 100%;\n}\n.mainDialog {\n  ::v-deep .el-dialog {\n    height: 80%;\n    .el-dialog__body {\n      height: calc(100% - 44px);\n      overflow: auto;\n    }\n  }\n}\n</style>\n"]}]}
{"remainingRequest":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\bonus\\personBonus\\view.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\bonus\\personBonus\\view.vue","mtime":1693362204761},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCgoKaW1wb3J0IHsgZ2V0WWVhck1vbnRoMiB9IGZyb20gJ0AvdXRpbHMvZGF0ZScKaW1wb3J0IHsgYWRkQXVkaXQsIGxpc3RBdWRpdCB9IGZyb20gJ0AvYXBpL2JvbnVzL2F1ZGl0JwppbXBvcnQgeyBnZXRBY2NvdW50UGVyc29uLCBsaXN0RG9jdG9yLCBsaXN0UGVyc29uQm9udXMgfSBmcm9tICdAL2FwaS9ldmFsdWF0ZURhdGEvZXZhbHVhdGVEYXRhUGVyc29uJwppbXBvcnQgZm9ybUl0ZW0gZnJvbSAnQC92aWV3cy9jb21wb25lbnRzL2Zvcm1JdGVtTmV3JwppbXBvcnQgYnRucyBmcm9tICdAL3ZpZXdzL2JvbnVzLy9idG5zL2luZGV4MicKaW1wb3J0IHsgZ2V0RW1wTGlzdCB9IGZyb20gJ0AvYXBpL3VudGlsJwppbXBvcnQgSnNvbkV4Y2VsIGZyb20gJ3Z1ZS1qc29uLWV4Y2VsJwppbXBvcnQgVnVlIGZyb20gJ3Z1ZScKaW1wb3J0IHNlbGVjdExpc3QgZnJvbSAnQC92aWV3cy9ib251cy9wZXJzb25Cb251cy9zZWxlY3REb2N0b3InClZ1ZS5jb21wb25lbnQoJ2Rvd25sb2FkRXhjZWwnLEpzb25FeGNlbCkKCmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRXZhbHVhdGVEYXRhJywKICBkZXB0Q29kZTogewogICAgdHlwZTogW1N0cmluZywgU3RyaW5nXSwKICAgIGRlZmF1bHQ6ICcnCiAgfSwKICBjb21wb25lbnRzOiB7CiAgICBmb3JtSXRlbSwgYnRucywgc2VsZWN0TGlzdAogIH0sCiAgZmlsdGVyczogewogICAgdHJhbnNUb1ZhbHVlKHZhbCwgaW5kZXgpIHsKICAgICAgcmV0dXJuIHZhbFtpbmRleF0KICAgIH0KICB9LAogIGNvbXB1dGVkOiB7CiAgICBjb21wdXRlZFN0YXR1cygpIHsKICAgICAgcmV0dXJuIGZ1bmN0aW9uKHJvdykgewogICAgICAgIGxldCByZXN1bHQgPSAwCiAgICAgICAgZm9yIChsZXQgdiBvZiB0aGlzLmluZGV4TGlzdCkgewogICAgICAgICAgcmVzdWx0ICs9IHBhcnNlRmxvYXQocm93W3YuZ3VpZGVDb2RlXSkKICAgICAgICB9CiAgICAgICAgcm93LnRvdGFsID0gcmVzdWx0LnRvRml4ZWQoMik7CiAgICAgICAgcmV0dXJuIHJlc3VsdC50b0ZpeGVkKDIpCgogICAgICB9CiAgICB9LAogICAgc3VtRGF0YUxpc3QoKXsKICAgICAgdGhpcy5zdW1EYXRhTGlzdF8ucHVzaCh7fSk7CiAgICAgIHRoaXMuc3VtRGF0YUxpc3RfLnB1c2godGhpcy5ib3R0b21Ub3RhbCk7CiAgICAgIHJldHVybiB0aGlzLnN1bURhdGFMaXN0XzsKICAgIH0sCiAgICBleGNlbE5hbWUoKXsKICAgICAgcmV0dXJuICLkurrlkZjlpZbph5EiK2dldFllYXJNb250aDIoKSsiLnhscyI7CiAgICB9CiAgfSwKICBtb3VudGVkKCkgewoKICB9LAogIHdhdGNoOiB7CgogIH0sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHByb2Nlc3NPcGVuOiBmYWxzZSwKICAgICAgaGVpZ2h0OiAnNTAwcHg7JywKICAgICAgc3JjOiAnJywKICAgICAgc2hvd0F1ZGl0OiBmYWxzZSwKICAgICAgaWQ6ICcnLAogICAgICBzaG93RGlhbG9nOiBmYWxzZSwKICAgICAgdXNlck9wdGlvbnM6IFtdLAogICAgICBhdWRpdFN0YXRlOiAnJywKICAgICAgc2F2ZUxvYWRpbmc6IGZhbHNlLAogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogZmFsc2UsCiAgICAgIC8vIOWvvOWHuumBrue9qeWxggogICAgICBleHBvcnRMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIGlkczogW10sCiAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICBzaW5nbGU6IHRydWUsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g6KGo5qC85pWw5o2uCiAgICAgIEV2YWx1YXRlRGF0YUxpc3Q6IFtdLAogICAgICBzdW1EYXRhTGlzdF86IFtdLAogICAgICBzZWxlY3Rpb25Sb3c6IFtdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICcnLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDMwLAogICAgICAgIGNvbXBDb2RlOiBudWxsLAogICAgICAgIGRlcHRDb2RlOiBudWxsLAogICAgICAgIGRlcHROYW1lOiBudWxsLAogICAgICAgIGFjY291bnRDb2RlOiBudWxsLAogICAgICAgIGd1aWRlQ29kZTogbnVsbCwKICAgICAgICBndWlkZVZhbHVlOiBudWxsLAogICAgICAgIGRlbEZsYWc6IG51bGwsCiAgICAgICAgYWN0RGF0ZTogZ2V0WWVhck1vbnRoMigpICsgJy0wMScsCiAgICAgICAgY3JlYXRlQnk6IG51bGwsCiAgICAgICAgY3JlYXRlVGltZTogbnVsbCwKICAgICAgICB1cGRhdGVCeTogbnVsbCwKICAgICAgICB1cGRhdGVUaW1lOiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbCwKICAgICAgICBkZXB0VHlwZTogbnVsbAogICAgICB9LAogICAgICAvLyDooajljZXlj4LmlbAKICAgICAgZm9ybTogeyBwcm9jZWR1cmVJZDogbnVsbCwgYXNzaWduZWU6IG51bGwgfSwKICAgICAgLy/nsbvlnosKICAgICAgaW5kZXhMaXN0OiBbXSwKICAgICAgbmV4dEFzc2lnbmVlOiBbXSwKICAgICAgLy8g5oyJ6ZKu57yW56CBCiAgICAgIGJ0bjE6IGZhbHNlLAogICAgICBidG4yOiBmYWxzZSwKICAgICAgYnRuMzogZmFsc2UsCiAgICAgIGJ0bjQ6IGZhbHNlLAogICAgICBidG41OiBmYWxzZSwKICAgICAgY29tbWVudDogJycsCiAgICAgIHByb2NsbnNJZHM6ICcnLAogICAgICBkYXRhczoge30sCiAgICAgIC8vIOWMu+eUn+mAieaLqeaYr+WQpuW8ueWHugogICAgICBvcGVuU2VsZWN0OiBmYWxzZSwKICAgICAgZG9jdG9yT3BlbjogZmFsc2UsCiAgICAgIGRvY1BhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IDIwCiAgICAgIH0sCiAgICAgIGRvY3Rvckxpc3Q6IFtdLAogICAgICBkb2NUb3RhbDogMCwKICAgICAgLy/ooajmoLzmoIfpopgKICAgICAgdGFibGVUaXRsZTogIuS6uuWRmOWllumHkeaVsOaNriIsCiAgICAgIC8v6KGo5qC85pWw5o2uCiAgICAgIGpzb25GaWVsZHM6IHsKICAgICAgICAi56eR5a6k5ZCN56ewIjonZGVwdFJvb21OYW1lJywKICAgICAgICAi5Lq65ZGY5aeT5ZCNIjonZG9jTmFtZScKICAgICAgfSwKICAgICAgYm90dG9tVG90YWw6ewogICAgICAgIGRlcHRSb29tTmFtZTogIuWQiOiuoSIsCiAgICAgICAgZG9jTmFtZTogIiIsCiAgICAgICAgdG90YWw6IDAKICAgICAgfQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0RGVwdCgpCiAgICB0aGlzLmdldERldGFpbEluZm8oKQoKICB9LAogIG1ldGhvZHM6IHsKICAgIC8qKiDmn6Xor6Lnp5HlrqTlr7nlupTkurrlkZjnmoTlpZbph5HmjIfmoIcgKi8KICAgIGdldERlcHQoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5hY3REYXRlID0gdGhpcy4kcm91dGUucGFyYW1zLmFjdERhdGUKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5ub3dEYXRlID0gdGhpcy4kcm91dGUucGFyYW1zLmFjdERhdGUKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5kZXB0Q29kZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5kZXB0Q29kZQogICAgICBnZXRBY2NvdW50UGVyc29uKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuaW5kZXhMaXN0ID0gcmVzcG9uc2UuZGF0YQogICAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgIH0sCgogICAgLyoqIOafpeivouenkeWupOWvueW6lOS6uuWRmOeahOWllumHkeaVsOaNriAqLwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICBpZiAoIXRoaXMucXVlcnlQYXJhbXMuYWN0RGF0ZSkgewogICAgICAgIHRoaXMucXVlcnlQYXJhbXMuYWN0RGF0ZSA9IGdldFllYXJNb250aDIoKSArICctMDEnCiAgICAgIH0KICAgICAgdGhpcy5xdWVyeVBhcmFtcy5kZXB0Q29kZSA9IHRoaXMuJHJvdXRlLnBhcmFtcy5kZXB0Q29kZQogICAgICBsaXN0UGVyc29uQm9udXModGhpcy5xdWVyeVBhcmFtcykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5FdmFsdWF0ZURhdGFMaXN0ID0gcmVzcG9uc2UuZGF0YQogICAgICAgIHRoaXMudGFibGVEb0xheW91dCgpOwogICAgICAgIHRoaXMuc3VtRGF0YUxpc3RfID0gW10uY29uY2F0KHJlc3BvbnNlLmRhdGEpCiAgICAgICAgZm9yIChsZXQgZXZhIGluIHRoaXMuRXZhbHVhdGVEYXRhTGlzdCkgewogICAgICAgICAgaWYgKHRoaXMuRXZhbHVhdGVEYXRhTGlzdFtldmFdWydyZW1hcmsnXSA9PSAnJyB8fCB0aGlzLkV2YWx1YXRlRGF0YUxpc3RbZXZhXVsncmVtYXJrJ10gPT0gbnVsbCkgewogICAgICAgICAgICB0aGlzLkV2YWx1YXRlRGF0YUxpc3RbZXZhXVsncmVtYXJrJ10gPSAnMCcKICAgICAgICAgIH0KICAgICAgICB9CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UKICAgICAgfSkKICAgICAgZm9yIChsZXQgaW5kZXggaW4gdGhpcy5pbmRleExpc3QpewogICAgICAgIHRoaXMuanNvbkZpZWxkc1t0aGlzLmluZGV4TGlzdFtpbmRleF0uaW5kZXhOYW1lXSA9IHRoaXMuaW5kZXhMaXN0W2luZGV4XS5ndWlkZUNvZGUKICAgICAgfQogICAgICB0aGlzLmpzb25GaWVsZHNbIuWQiOiuoSJdID0gInRvdGFsIgogICAgfSwKICAgIHN1Y2Nlc3NTdWJtaXQoZmxhZykgewogICAgICB0aGlzLm9wZW4gPSBmbGFnCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMub3BlbiA9IGZhbHNlCiAgICB9LAogICAgLy8g5Y+W5raI5oyJ6ZKuCiAgICBjYW5jZWxTZWxlY3QoKSB7CiAgICAgIHRoaXMub3BlblNlbGVjdCA9IGZhbHNlCiAgICB9LAogICAgLy8g6KGo5Y2V6YeN572uCiAgICByZXNldCgpIHsKICAgICAgdGhpcy5mb3JtID0gewogICAgICAgIGlkOiBudWxsLAogICAgICAgIGNvbXBDb2RlOiBudWxsLAogICAgICAgIGRlcHROYW1lOiBudWxsLAogICAgICAgIGFjY291bnRDb2RlOiBudWxsLAogICAgICAgIGd1aWRlQ29kZTogbnVsbCwKICAgICAgICBndWlkZVZhbHVlOiBudWxsLAogICAgICAgIGRlbEZsYWc6IG51bGwsCiAgICAgICAgYWN0RGF0ZTogbnVsbCwKICAgICAgICBjcmVhdGVCeTogbnVsbCwKICAgICAgICBjcmVhdGVUaW1lOiBudWxsLAogICAgICAgIHVwZGF0ZUJ5OiBudWxsLAogICAgICAgIHVwZGF0ZVRpbWU6IG51bGwsCiAgICAgICAgcmVtYXJrOiBudWxsCiAgICAgIH0KICAgICAgdGhpcy5yZXNldEZvcm0oJ2Zvcm0nKQogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxCiAgICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB9LAogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLwogICAgcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oJ3F1ZXJ5Rm9ybScpCiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKQogICAgfSwKICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLmRvY0NvZGUpCiAgICAgIHRoaXMuc2luZ2xlID0gc2VsZWN0aW9uLmxlbmd0aCAhPT0gMQogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGgKICAgICAgdGhpcy5zZWxlY3Rpb25Sb3cgPSBzZWxlY3Rpb24KICAgIH0sCiAgICByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgbGV0IHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlCiAgICAgIGxldCBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChjID0+IGMucm93SW5kZXggPT0gcm93LnJvd0luZGV4KQogICAgICBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvdy5sZW5ndGggPT0gMSkgewogICAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIGZhbHNlKQogICAgICAgIHJldHVybgogICAgICB9CiAgICAgIHJlZnNFbFRhYmxlLmNsZWFyU2VsZWN0aW9uKCkKICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdykKICAgIH0sCiAgICByb3dTdHlsZSh7IHJvdywgcm93SW5kZXggfSkgewogICAgICBPYmplY3QuZGVmaW5lUHJvcGVydHkocm93LCAncm93SW5kZXgnLCB7CiAgICAgICAgdmFsdWU6IHJvd0luZGV4LAogICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgIGVudW1lcmFibGU6IGZhbHNlCiAgICAgIH0pCiAgICB9LAogICAgcm93Q2xhc3NOYW1lKHsgcm93LCByb3dJbmRleCB9KSB7CiAgICAgIGxldCByb3dOYW1lID0gJycsCiAgICAgICAgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93LmZpbmQoYyA9PiBjLnJvd0luZGV4ID09PSByb3cucm93SW5kZXgpCiAgICAgIGlmIChmaW5kUm93KSB7CiAgICAgICAgcm93TmFtZSA9ICdjdXJyZW50LXJvdyAnCiAgICAgIH0KICAgICAgcmV0dXJuIHJvd05hbWUKICAgIH0sCiAgICB0YWJsZVJvd0NsYXNzTmFtZSh7IHJvdywgcm93SW5kZXggfSkgewogICAgICByb3cucm93X2luZGV4ID0gcm93SW5kZXgKICAgIH0sCiAgICAvLyDljLvnlJ/orr7nva7ljZXpgIkKICAgIGhhbmRsZVNlbGVjdGlvbkRvY0NoYW5nZShzZWxlY3Rpb24sIHJvdykgewogICAgICB0aGlzLnNpbmdsZVRhYmxlKHJvdykKICAgIH0sCiAgICBoYW5kbGVEb2NSb3dDbGljayhyb3cpIHsKICAgICAgdGhpcy5zaW5nbGVUYWJsZShyb3cpCiAgICB9LAogICAgc2luZ2xlVGFibGUocm93KSB7CiAgICAgIGxldCB0YWJsZVJlZiA9IHRoaXMuJHJlZnMuaXRzbURhdGFUYWJsZQogICAgICB0YWJsZVJlZi5jbGVhclNlbGVjdGlvbigpCiAgICAgIGlmICh0aGlzLmN1cnJlbnRSb3dJbmRleCA9PSByb3cucm93X2luZGV4KSB7CiAgICAgICAgdGFibGVSZWYudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpCiAgICAgICAgdGhpcy5jdXJyZW50Um93SW5kZXggPSBudWxsCiAgICAgICAgdGhpcy5kb2NTZWxlY3REYXRhID0gbnVsbAogICAgICB9IGVsc2UgewogICAgICAgIHRhYmxlUmVmLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3cpCiAgICAgICAgdGhpcy5jdXJyZW50Um93SW5kZXggPSByb3cucm93X2luZGV4CiAgICAgICAgdGhpcy5kb2NTZWxlY3REYXRhID0gcm93CiAgICAgIH0KICAgIH0sCiAgICBzZXhGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMuc2V4T3B0aW9ucywgcm93LmdlbmRlcikKICAgIH0sCiAgICAvKiog5a+85Ye65oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVFeHBvcnQoKSB7CiAgICAgIGNvbnN0IHF1ZXJ5UGFyYW1zID0gdGhpcy5xdWVyeVBhcmFtcwogICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7orqTlr7zlh7rnp5HlrqTlpZbph5HmlbDmja7pobk/JywgJ+itpuWRiicsIHsKICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogJ+ehruWumicsCiAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogJ+WPlua2iCcsCiAgICAgICAgdHlwZTogJ3dhcm5pbmcnCiAgICAgIH0pLnRoZW4oKCkgPT4gewogICAgICAgIGZvciAobGV0IGluZGV4IGluIHRoaXMuaW5kZXhMaXN0KXsKICAgICAgICAgIHRoaXMuanNvbkZpZWxkcy5wdXNoKHRoaXMuaW5kZXhMaXN0W2luZGV4XS5ndWlkZUNvZGUsdGhpcy5pbmRleExpc3RbaW5kZXhdLmd1aWRlQ29kZSkKICAgICAgICB9CiAgICAgICAgdGhpcy5leHBvcnRMb2FkaW5nID0gdHJ1ZQogICAgICB9KS5jYXRjaCgoKSA9PiB7CiAgICAgIH0pCiAgICB9LAoKICAgIC8vIOi/lOWbngogICAgZ29CYWNrKCkgewogICAgICAvLyDlhbPpl63lvZPliY3pobXpnaIKICAgICAgdGhpcy4kc3RvcmUuZGlzcGF0Y2goJ3RhZ3NWaWV3L2RlbFZpZXcnLCB0aGlzLiRyb3V0ZSkKICAgICAgLy8g6L+U5Zue5LiK5LiA6aG16Z2iCiAgICAgIHRoaXMuJHJvdXRlci5nbygtMSkKICAgIH0sCiAgICBwYWNrYWdlRGF0YSgpIHsKCiAgICAgIHRoaXMuJHJlZnMubXVsdGlwbGVUYWJsZS5kYXRhLmZvckVhY2goaXRlbSA9PiB7CiAgICAgICAgaXRlbS51bml0Q29kZSA9IGl0ZW0uZG9jQ29kZQogICAgICAgIGl0ZW0uZGVwdENvZGUgPSBpdGVtLmRlcHRSb29tQ29kZQogICAgICAgIGl0ZW0uYWN0RGF0ZSA9IHRoaXMucXVlcnlQYXJhbXMuYWN0RGF0ZQogICAgICB9KQoKICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgZGF0YTogdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlLmRhdGEsCiAgICAgICAgYXVkaXQ6IHsKICAgICAgICAgIGRlcHRDb2RlOiB0aGlzLiRyb3V0ZS5wYXJhbXMuZGVwdENvZGUsCiAgICAgICAgICBub3dEYXRlOiB0aGlzLnF1ZXJ5UGFyYW1zLmFjdERhdGUsCiAgICAgICAgICBjb21tZW50OiB0aGlzLmZvcm0uY29tbWVudCwKICAgICAgICAgIGFzc2lnbmVlOiB0aGlzLmZvcm0uYXNzaWduZWUKICAgICAgICB9CiAgICAgIH0KICAgICAgcmV0dXJuIGRhdGEKICAgIH0sCiAgICBmb3JtSXRlbVN1Y2Nlc3MoKSB7CiAgICAgIGxldCBkYXRhID0gdGhpcy5wYWNrYWdlRGF0YSgpCiAgICAgIGRhdGEuaXNDb21taXQgPSB0cnVlCiAgICAgIHRoaXMuc2F2ZUxvYWRpbmcgPSB0cnVlCiAgICAgIGFkZEF1ZGl0KGRhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMubXNnU3VjY2Vzcygn5o+Q5Lqk5oiQ5YqfJykKICAgICAgICB0aGlzLnNhdmVMb2FkaW5nID0gZmFsc2UKICAgICAgICB0aGlzLmF1ZGl0U3RhdGUgPSAnMScKICAgICAgfSkKICAgIH0sCiAgICBnZXREZXRhaWxJbmZvKCkgewogICAgICBsaXN0QXVkaXQoewogICAgICAgIGRlcHRDb2RlOiB0aGlzLiRyb3V0ZS5wYXJhbXMuZGVwdENvZGUsCiAgICAgICAgbm93RGF0ZTogdGhpcy5xdWVyeVBhcmFtcy5hY3REYXRlCiAgICAgIH0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5yb3dzLmxlbmd0aCA+IDApIHsKICAgICAgICAgIGxldCBhdWRpdCA9IHJlc3BvbnNlLnJvd3NbMF0KICAgICAgICAgIGxldCB0aGF0ID0gdGhpcwogICAgICAgICAgbGV0IHByb2NsbnNJZHMgPSBhdWRpdC5wcm9jZWR1cmVJZAogICAgICAgICAgdGhpcy5wcm9jbG5zSWRzID0gYXVkaXQucHJvY2VkdXJlSWQKICAgICAgICAgIHRoaXMuZm9ybS5wcm9jZWR1cmVJZCA9IHRoaXMucHJvY2xuc0lkcwogICAgICAgICAgdGhpcy5pZCA9IGF1ZGl0LmlkCiAgICAgICAgICB0aGlzLmF1ZGl0U3RhdGUgPSBhdWRpdC5hdWRpdFN0YXRlCiAgICAgICAgICBnZXRFbXBMaXN0KAogICAgICAgICAgICB0aGF0LAogICAgICAgICAgICB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLm5hbWUsCiAgICAgICAgICAgIHByb2NsbnNJZHMsCiAgICAgICAgICAgIHRoaXMudXNlck9wdGlvbnMsCiAgICAgICAgICAgIHRoaXMuYnRuMSwKICAgICAgICAgICAgdGhpcy5idG4yLAogICAgICAgICAgICB0aGlzLmJ0bjMsCiAgICAgICAgICAgIHRoaXMuYnRuNCwKICAgICAgICAgICAgdGhpcy5idG41CiAgICAgICAgICApCiAgICAgICAgfQogICAgICB9KQogICAgfSwKICAgIC8qKiDmtYHovazljoblj7LliJ3lp4vljJYgKi8KICAgIHByb2Nlc3NFeGFtaW5lRm9ybTIoKSB7CiAgICAgIHRoaXMuc3JjID0KICAgICAgICBgJHt0aGlzLnByb2Nlc3NVcmx9L2FwaS93Zi9wcm9jZXNzSGlzdG9yaWM/cHJvY0luc0lkPSR7dGhpcy5wcm9jbG5zSWRzfWAKICAgIH0sCiAgICAvKiog5rWB6L2s5Y6G5Y+y5oyJ6ZKu5pON5L2cICovCiAgICBwcm9jZXNzRXhhbWluZSgpIHsKICAgICAgbGV0IHByb2NlZHVyZUlkID0gdGhpcy5wcm9jbG5zSWRzCiAgICAgIGlmIChwcm9jZWR1cmVJZCA9PSBudWxsIHx8ICFwcm9jZWR1cmVJZCkgewogICAgICAgIHRoaXMubXNnRXJyb3IoJ+ayoeaciea1gei9rOWOhuWPsuaVsOaNru+8gScpCiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5wcm9jZXNzRXhhbWluZUZvcm0yKCkKICAgICAgICB0aGlzLnByb2Nlc3NPcGVuID0gdHJ1ZQogICAgICB9CiAgICB9LAogICAgLyoqIOa3u+WKoOS6uuWRmCAqLwogICAgZG9jQ29kZUxpc3QoZGF0YSl7CiAgICAgIGZvciAobGV0IGQgaW4gZGF0YVswXSl7CiAgICAgICAgbGV0IHRhYmxlQ29sID0gewogICAgICAgICAgZGVwdFJvb21Db2RlOiB0aGlzLkV2YWx1YXRlRGF0YUxpc3RbMF0uZGVwdFJvb21Db2RlLAogICAgICAgICAgZGVwdFJvb21OYW1lOiB0aGlzLkV2YWx1YXRlRGF0YUxpc3RbMF0uZGVwdFJvb21OYW1lLAogICAgICAgICAgZG9jQ29kZTogZGF0YVswXVtkXS5kb2NDb2RlLAogICAgICAgICAgZG9jTmFtZTogZGF0YVswXVtkXS5kb2NOYW1lCiAgICAgICAgfQogICAgICAgIGZvciAobGV0IGluZGV4IGluIHRoaXMuaW5kZXhMaXN0KSB7CiAgICAgICAgICB0YWJsZUNvbFt0aGlzLmluZGV4TGlzdFtpbmRleF0uZ3VpZGVDb2RlXSA9IDAKICAgICAgICAgIC8vIOaWsOWinuS6uuWRmOagh+ivhuS4ujHvvIzlj6/ku6Xov5vooYzliKDpmaTmk43kvZwKICAgICAgICAgIHRhYmxlQ29sWydyZW1hcmsnXSA9ICcxJwogICAgICAgIH0KICAgICAgICB0aGlzLkV2YWx1YXRlRGF0YUxpc3QucHVzaCh0YWJsZUNvbCkKICAgICAgfQogICAgfSwKICAgIGdldFN1bW1hcmllcyhwYXJhbSkgewogICAgICBjb25zdCB7IGNvbHVtbnMsIGRhdGEgfSA9IHBhcmFtOwogICAgICBjb25zdCBzdW1zID0gW107CiAgICAgIGNvbHVtbnMuZm9yRWFjaCgoY29sdW1uLCBpbmRleCkgPT4gewogICAgICAgIGlmIChpbmRleCA9PT0gMCkgewogICAgICAgICAgc3Vtc1tpbmRleF0gPSAn5ZCI6K6hJzsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgICAgY29uc3QgdmFsdWVzID0gZGF0YS5tYXAoaXRlbSA9PiBOdW1iZXIoaXRlbVtjb2x1bW4ucHJvcGVydHldKSk7CiAgICAgICAgaWYgKCF2YWx1ZXMuZXZlcnkodmFsdWUgPT4gaXNOYU4odmFsdWUpKSkgewogICAgICAgICAgc3Vtc1tpbmRleF0gPSB2YWx1ZXMucmVkdWNlKChwcmV2LCBjdXJyKSA9PiB7CiAgICAgICAgICAgIGNvbnN0IHZhbHVlID0gTnVtYmVyKGN1cnIpOwogICAgICAgICAgICBpZiAoIWlzTmFOKHZhbHVlKSkgewogICAgICAgICAgICAgIHJldHVybiBwcmV2ICsgY3VycjsKICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICByZXR1cm4gcHJldjsKICAgICAgICAgICAgfQogICAgICAgICAgfSwgMCk7CiAgICAgICAgICBpZihjb2x1bW4ucHJvcGVydHkgIT0gImRlcHRSb29tTmFtZSIgJiYgY29sdW1uLnByb3BlcnR5ICE9ICJkb2NOYW1lIil7CiAgICAgICAgICAgIHRoaXMuYm90dG9tVG90YWxbY29sdW1uLnByb3BlcnR5XSA9IHBhcnNlRmxvYXQoc3Vtc1tpbmRleF0pOwogICAgICAgICAgfQogICAgICAgICAgc3Vtc1tpbmRleF0gPSBzdW1zW2luZGV4XS50b0ZpeGVkKDIpOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICBzdW1zW2luZGV4XSA9ICdOL0EnOwogICAgICAgIH0KICAgICAgfSk7CiAgICAgIHJldHVybiBzdW1zOwogICAgfSwKICAgIHRhYmxlRG9MYXlvdXQoKXsKICAgICAgaWYodGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlKXsKICAgICAgICB0aGlzLiRuZXh0VGljaygoKT0+ewogICAgICAgICAgdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlLmRvTGF5b3V0KCk7CiAgICAgICAgfSkKICAgICAgfQogICAgfQogIH0KfQo="},{"version":3,"sources":["view.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"view.vue","sourceRoot":"src/views/bonus/personBonus","sourcesContent":["<template>\n  <div class=\"app-container\" style=\"padding: 2px 0 0 0\">\n    <div ref=\"search\">\n      <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\" hidden>\n        <el-form-item label=\"年月\" prop=\"actDate\">\n          <el-date-picker clearable size=\"small\"\n                          v-model=\"queryParams.actDate\"\n                          type=\"month\"\n                          value-format=\"yyyy-MM-dd\"\n                          placeholder=\"选择年月\"\n          >\n          </el-date-picker>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div ref=\"btns\">\n      <el-row :gutter=\"10\" class=\"mb8\">\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"info\"\n            icon=\"el-icon-back\"\n            size=\"mini\"\n            :loading=\"exportLoading\"\n            @click=\"goBack\"\n          >返回\n          </el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-notebook-2\"\n            size=\"mini\"\n            @click=\"processExamine\"\n            v-hasPermi=\"['bonus:calculation:list']\"\n          >流转历史\n          </el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <template>\n            <download-excel class=\"export-excel-wrapper\" :data=\"sumDataList\" :fields=\"jsonFields\" :header=\"title\" :name=\"excelName\">\n              <el-button\n                type=\"warning\"\n                icon=\"el-icon-document-copy\"\n                size=\"mini\"\n                @click=\"\"\n              >导出EXCEL\n              </el-button>\n            </download-excel>\n          </template>\n        </el-col>\n        <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n      </el-row>\n    </div>\n\n    <el-table border stripe v-loading=\"loading\" :data=\"EvaluateDataList\" height=\"calc(100vh - 180px)\"\n              @selection-change=\"handleSelectionChange\"\n              ref=\"multipleTable\" @row-click=\"rowClick\" :row-style=\"rowStyle\" :row-class-name=\"rowClassName\"\n              :show-summary=\"true\" :summary-method=\"getSummaries\">\n\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\"/>\n      <el-table-column sortable label=\"科室名称\" align=\"left\" prop=\"deptRoomName\"></el-table-column>\n      <el-table-column sortable label=\"人员姓名\" align=\"left\" prop=\"docName\"></el-table-column>\n\n      <el-table-column\n        v-for=\"(item,index) in indexList\"\n        :key=\"index\"\n        :label=\"item.indexName\"\n        :prop=\"item.guideCode\"\n        align=\"right\"\n      >\n<!--        <template slot-scope=\"scope\">\n          <div @click.stop.prevent style=\"display:inline\">\n          <el-input-number :precision=\"2\" :step=\"0.01\" :min=\"0\" v-model=\"scope.row[item.guideCode]\"\n                           controls-position=\"right\"/>\n          </div>\n        </template>-->\n      </el-table-column>\n      <el-table-column sortable label=\"合计\" align=\"right\" prop=\"total\">\n        <template slot-scope=\"scope\">\n          <span>{{ computedStatus(scope.row) }}</span>\n        </template>\n      </el-table-column>\n    </el-table>\n    <el-form ref=\"form\" :model=\"form\" label-width=\"80px\">\n      <formItem :showDialog.sync=\"showDialog\" :showBaseInfo=\"btn3\" :open=\"btn4\" :open2=\"btn5\" :comment=\"form\"\n                :userOptions=\"userOptions\" @success=\"formItemSuccess\"\n      ></formItem>\n    </el-form>\n\n    <el-dialog title=\"流转历史\" :visible.sync=\"processOpen\" width=\"1200px\" append-to-body :close-on-click-modal=\"false\"\n               custom-class=\"el-button--primary\"\n    >\n      <div v-loading=\"loading\" :style=\"'height:'+ height\">\n        <iframe :src=\"src\" frameborder=\"no\" style=\"width: 100%;height: 100%\" scrolling=\"auto\"/>\n      </div>\n    </el-dialog>\n  </div>\n</template>\n\n<script>\n\n\nimport { getYearMonth2 } from '@/utils/date'\nimport { addAudit, listAudit } from '@/api/bonus/audit'\nimport { getAccountPerson, listDoctor, listPersonBonus } from '@/api/evaluateData/evaluateDataPerson'\nimport formItem from '@/views/components/formItemNew'\nimport btns from '@/views/bonus//btns/index2'\nimport { getEmpList } from '@/api/until'\nimport JsonExcel from 'vue-json-excel'\nimport Vue from 'vue'\nimport selectList from '@/views/bonus/personBonus/selectDoctor'\nVue.component('downloadExcel',JsonExcel)\n\nexport default {\n  name: 'EvaluateData',\n  deptCode: {\n    type: [String, String],\n    default: ''\n  },\n  components: {\n    formItem, btns, selectList\n  },\n  filters: {\n    transToValue(val, index) {\n      return val[index]\n    }\n  },\n  computed: {\n    computedStatus() {\n      return function(row) {\n        let result = 0\n        for (let v of this.indexList) {\n          result += parseFloat(row[v.guideCode])\n        }\n        row.total = result.toFixed(2);\n        return result.toFixed(2)\n\n      }\n    },\n    sumDataList(){\n      this.sumDataList_.push({});\n      this.sumDataList_.push(this.bottomTotal);\n      return this.sumDataList_;\n    },\n    excelName(){\n      return \"人员奖金\"+getYearMonth2()+\".xls\";\n    }\n  },\n  mounted() {\n\n  },\n  watch: {\n\n  },\n  data() {\n    return {\n      processOpen: false,\n      height: '500px;',\n      src: '',\n      showAudit: false,\n      id: '',\n      showDialog: false,\n      userOptions: [],\n      auditState: '',\n      saveLoading: false,\n      // 遮罩层\n      loading: false,\n      // 导出遮罩层\n      exportLoading: false,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 表格数据\n      EvaluateDataList: [],\n      sumDataList_: [],\n      selectionRow: [],\n      // 弹出层标题\n      title: '',\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 30,\n        compCode: null,\n        deptCode: null,\n        deptName: null,\n        accountCode: null,\n        guideCode: null,\n        guideValue: null,\n        delFlag: null,\n        actDate: getYearMonth2() + '-01',\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null,\n        deptType: null\n      },\n      // 表单参数\n      form: { procedureId: null, assignee: null },\n      //类型\n      indexList: [],\n      nextAssignee: [],\n      // 按钮编码\n      btn1: false,\n      btn2: false,\n      btn3: false,\n      btn4: false,\n      btn5: false,\n      comment: '',\n      proclnsIds: '',\n      datas: {},\n      // 医生选择是否弹出\n      openSelect: false,\n      doctorOpen: false,\n      docParams: {\n        pageNum: 1,\n        pageSize: 20\n      },\n      doctorList: [],\n      docTotal: 0,\n      //表格标题\n      tableTitle: \"人员奖金数据\",\n      //表格数据\n      jsonFields: {\n        \"科室名称\":'deptRoomName',\n        \"人员姓名\":'docName'\n      },\n      bottomTotal:{\n        deptRoomName: \"合计\",\n        docName: \"\",\n        total: 0\n      }\n    }\n  },\n  created() {\n    this.getDept()\n    this.getDetailInfo()\n\n  },\n  methods: {\n    /** 查询科室对应人员的奖金指标 */\n    getDept() {\n      this.loading = true\n      this.queryParams.actDate = this.$route.params.actDate\n      this.queryParams.nowDate = this.$route.params.actDate\n      this.queryParams.deptCode = this.$route.params.deptCode\n      getAccountPerson(this.queryParams).then(response => {\n        this.indexList = response.data\n        this.getList()\n        this.loading = false\n      })\n    },\n\n    /** 查询科室对应人员的奖金数据 */\n    getList() {\n      this.loading = true\n      if (!this.queryParams.actDate) {\n        this.queryParams.actDate = getYearMonth2() + '-01'\n      }\n      this.queryParams.deptCode = this.$route.params.deptCode\n      listPersonBonus(this.queryParams).then(response => {\n        this.EvaluateDataList = response.data\n        this.tableDoLayout();\n        this.sumDataList_ = [].concat(response.data)\n        for (let eva in this.EvaluateDataList) {\n          if (this.EvaluateDataList[eva]['remark'] == '' || this.EvaluateDataList[eva]['remark'] == null) {\n            this.EvaluateDataList[eva]['remark'] = '0'\n          }\n        }\n        this.loading = false\n      })\n      for (let index in this.indexList){\n        this.jsonFields[this.indexList[index].indexName] = this.indexList[index].guideCode\n      }\n      this.jsonFields[\"合计\"] = \"total\"\n    },\n    successSubmit(flag) {\n      this.open = flag\n      this.getList()\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false\n    },\n    // 取消按钮\n    cancelSelect() {\n      this.openSelect = false\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: null,\n        deptName: null,\n        accountCode: null,\n        guideCode: null,\n        guideValue: null,\n        delFlag: null,\n        actDate: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      }\n      this.resetForm('form')\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1\n      this.getList()\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm('queryForm')\n      this.handleQuery()\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      this.ids = selection.map(item => item.docCode)\n      this.single = selection.length !== 1\n      this.multiple = !selection.length\n      this.selectionRow = selection\n    },\n    rowClick(row, column, event) {\n      let refsElTable = this.$refs.multipleTable\n      let findRow = this.selectionRow.find(c => c.rowIndex == row.rowIndex)\n      if (findRow && this.selectionRow.length == 1) {\n        refsElTable.toggleRowSelection(row, false)\n        return\n      }\n      refsElTable.clearSelection()\n      refsElTable.toggleRowSelection(row)\n    },\n    rowStyle({ row, rowIndex }) {\n      Object.defineProperty(row, 'rowIndex', {\n        value: rowIndex,\n        writable: true,\n        enumerable: false\n      })\n    },\n    rowClassName({ row, rowIndex }) {\n      let rowName = '',\n        findRow = this.selectionRow.find(c => c.rowIndex === row.rowIndex)\n      if (findRow) {\n        rowName = 'current-row '\n      }\n      return rowName\n    },\n    tableRowClassName({ row, rowIndex }) {\n      row.row_index = rowIndex\n    },\n    // 医生设置单选\n    handleSelectionDocChange(selection, row) {\n      this.singleTable(row)\n    },\n    handleDocRowClick(row) {\n      this.singleTable(row)\n    },\n    singleTable(row) {\n      let tableRef = this.$refs.itsmDataTable\n      tableRef.clearSelection()\n      if (this.currentRowIndex == row.row_index) {\n        tableRef.toggleRowSelection(row, false)\n        this.currentRowIndex = null\n        this.docSelectData = null\n      } else {\n        tableRef.toggleRowSelection(row)\n        this.currentRowIndex = row.row_index\n        this.docSelectData = row\n      }\n    },\n    sexFormat(row, column) {\n      return this.selectDictLabel(this.sexOptions, row.gender)\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      const queryParams = this.queryParams\n      this.$confirm('是否确认导出科室奖金数据项?', '警告', {\n        confirmButtonText: '确定',\n        cancelButtonText: '取消',\n        type: 'warning'\n      }).then(() => {\n        for (let index in this.indexList){\n          this.jsonFields.push(this.indexList[index].guideCode,this.indexList[index].guideCode)\n        }\n        this.exportLoading = true\n      }).catch(() => {\n      })\n    },\n\n    // 返回\n    goBack() {\n      // 关闭当前页面\n      this.$store.dispatch('tagsView/delView', this.$route)\n      // 返回上一页面\n      this.$router.go(-1)\n    },\n    packageData() {\n\n      this.$refs.multipleTable.data.forEach(item => {\n        item.unitCode = item.docCode\n        item.deptCode = item.deptRoomCode\n        item.actDate = this.queryParams.actDate\n      })\n\n      let data = {\n        data: this.$refs.multipleTable.data,\n        audit: {\n          deptCode: this.$route.params.deptCode,\n          nowDate: this.queryParams.actDate,\n          comment: this.form.comment,\n          assignee: this.form.assignee\n        }\n      }\n      return data\n    },\n    formItemSuccess() {\n      let data = this.packageData()\n      data.isCommit = true\n      this.saveLoading = true\n      addAudit(data).then(response => {\n        this.msgSuccess('提交成功')\n        this.saveLoading = false\n        this.auditState = '1'\n      })\n    },\n    getDetailInfo() {\n      listAudit({\n        deptCode: this.$route.params.deptCode,\n        nowDate: this.queryParams.actDate\n      }).then(response => {\n        if (response.rows.length > 0) {\n          let audit = response.rows[0]\n          let that = this\n          let proclnsIds = audit.procedureId\n          this.proclnsIds = audit.procedureId\n          this.form.procedureId = this.proclnsIds\n          this.id = audit.id\n          this.auditState = audit.auditState\n          getEmpList(\n            that,\n            this.$store.state.user.name,\n            proclnsIds,\n            this.userOptions,\n            this.btn1,\n            this.btn2,\n            this.btn3,\n            this.btn4,\n            this.btn5\n          )\n        }\n      })\n    },\n    /** 流转历史初始化 */\n    processExamineForm2() {\n      this.src =\n        `${this.processUrl}/api/wf/processHistoric?procInsId=${this.proclnsIds}`\n    },\n    /** 流转历史按钮操作 */\n    processExamine() {\n      let procedureId = this.proclnsIds\n      if (procedureId == null || !procedureId) {\n        this.msgError('没有流转历史数据！')\n      } else {\n        this.processExamineForm2()\n        this.processOpen = true\n      }\n    },\n    /** 添加人员 */\n    docCodeList(data){\n      for (let d in data[0]){\n        let tableCol = {\n          deptRoomCode: this.EvaluateDataList[0].deptRoomCode,\n          deptRoomName: this.EvaluateDataList[0].deptRoomName,\n          docCode: data[0][d].docCode,\n          docName: data[0][d].docName\n        }\n        for (let index in this.indexList) {\n          tableCol[this.indexList[index].guideCode] = 0\n          // 新增人员标识为1，可以进行删除操作\n          tableCol['remark'] = '1'\n        }\n        this.EvaluateDataList.push(tableCol)\n      }\n    },\n    getSummaries(param) {\n      const { columns, data } = param;\n      const sums = [];\n      columns.forEach((column, index) => {\n        if (index === 0) {\n          sums[index] = '合计';\n          return;\n        }\n        const values = data.map(item => Number(item[column.property]));\n        if (!values.every(value => isNaN(value))) {\n          sums[index] = values.reduce((prev, curr) => {\n            const value = Number(curr);\n            if (!isNaN(value)) {\n              return prev + curr;\n            } else {\n              return prev;\n            }\n          }, 0);\n          if(column.property != \"deptRoomName\" && column.property != \"docName\"){\n            this.bottomTotal[column.property] = parseFloat(sums[index]);\n          }\n          sums[index] = sums[index].toFixed(2);\n        } else {\n          sums[index] = 'N/A';\n        }\n      });\n      return sums;\n    },\n    tableDoLayout(){\n      if(this.$refs.multipleTable){\n        this.$nextTick(()=>{\n          this.$refs.multipleTable.doLayout();\n        })\n      }\n    }\n  }\n}\n</script>\n\n\n"]}]}
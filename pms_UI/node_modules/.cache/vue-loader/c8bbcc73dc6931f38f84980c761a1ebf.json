{"remainingRequest":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\foundation\\equivalent\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\foundation\\equivalent\\index.vue","mtime":1726651535618},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7bGlzdEVxdWl2YWxlbnQsIGdldEVxdWl2YWxlbnREZXB0LCBnZXRFcXVpdmFsZW50SXRlbSwgZ2V0TWF0Y2hEZXB0fSBmcm9tICJAL2FwaS9mb3VuZGF0aW9uL2VxdWl2YWxlbnQiOwppbXBvcnQgYWRkRWRpdCBmcm9tICIuL2FkZEVkaXQiOwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICJlcXVpdmFsZW50IiwKICBjb21wb25lbnRzOiB7CmFkZEVkaXQKICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZUhlaWdodDogImF1dG8iLAogICAgICBhZGRTdGF0ZTp0cnVlLAogICAgICBzdG9wQnRuOiBmYWxzZSwKICAgICAgc3RhcnRCdG46IGZhbHNlLAoKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGl0ZW1Mb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g5a+85Ye66YGu572p5bGCCiAgICAgIGV4cG9ydExvYWRpbmc6IGZhbHNlLAogICAgICAvLyDpgInkuK3mlbDnu4QKICAgICAgaWRzOiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g5by55Ye65bGC5qCH6aKYCiAgICAgIHRpdGxlOiAiIiwKICAgICAgLy8g5piv5ZCm5pi+56S65by55Ye65bGCCiAgICAgIG9wZW46IGZhbHNlLAogICAgICBlcXVpdmFsZW50RGVwdExpc3Q6IFtdLAogICAgICBlcXVpdmFsZW50SXRlbUxpc3Q6IFtdLAogICAgICBlcXVpdmFsZW50TGlzdDogW10sCiAgICAgIG1hdGNoRGVwdExpc3Q6IFtdLAogICAgICAvLyDmn6Xor6Llj4LmlbAKICAgICAgcXVlcnlQYXJhbXM6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiAzMCwKICAgICAgICBlcXVpdmFsZW50RGVwdENvZGU6IG51bGwsCiAgICAgICAgZXF1aXZhbGVudEl0ZW1Db2RlOiBudWxsLAogICAgICAgIG1hdGNoRGVwdE5hbWU6IG51bGwsCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7CiAgICAgIH0KICAgIH07CiAgfSwKICB3YXRjaDp7CiAgICBsaXN0RGF0YSh2YWwpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHRoYXQucmVzaXplSGFuZGxlcigpOwogICAgICB9LCAzMDApOwogICAgfSwKICB9LAogIGNyZWF0ZWQoKSB7CiAgICB0aGlzLmdldEVxdWl2YWxlbnREZXB0KCk7CiAgICB0aGlzLmdldE1hdGNoRGVwdCgpOwogICAgLy8gdGhpcy5nZXRFcXVpdmFsZW50SXRlbSgpOwogICAgdGhpcy5nZXRMaXN0KCk7CgogIH0sCiAgbW91bnRlZCgpewogICAgdGhpcy4kbmV4dFRpY2soKCkgPT4gewogICAgICB0aGlzLnJlc2l6ZUhhbmRsZXIoKTsKICAgICAgd2luZG93LmFkZEV2ZW50TGlzdGVuZXIoInJlc2l6ZSIsIHRoaXMucmVzaXplSGFuZGxlcik7CiAgICB9KTsKICB9LAogIG1ldGhvZHM6IHsKCiAgICByZXNpemVIYW5kbGVyKCkgewogICAgICBsZXQgYSA9IHRoaXMuJHJlZnMuc2VhcmNoLm9mZnNldEhlaWdodDsKICAgICAgbGV0IGIgPSB0aGlzLiRyZWZzLmJ0bnMub2Zmc2V0SGVpZ2h0OwogICAgICBsZXQgaCA9IGEgKyBiICsgMTgyIDsKICAgICAgaCA9IGggKyAicHgiOwogICAgICB0aGlzLnRhYmxlSGVpZ2h0ID0gYGNhbGMoMTAwdmggLSAke2h9KWA7CiAgICB9LAogICAgaGFuZGxlQ2xlYXIoKSB7CiAgICAgIHRoaXMuZXF1aXZhbGVudEl0ZW1MaXN0ID0gbnVsbDsKICAgIH0sCiAgICBnZXRNYXRjaERlcHQoKXsKICAgICAgZ2V0TWF0Y2hEZXB0KCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5tYXRjaERlcHRMaXN0ID0gcmVzcG9uc2UuZGF0YTsKICAgICAgfSk7CiAgICB9LAogICAgZ2V0RXF1aXZhbGVudERlcHQoKXsKICAgICAgZ2V0RXF1aXZhbGVudERlcHQoKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICB0aGlzLmVxdWl2YWxlbnREZXB0TGlzdCA9IHJlc3BvbnNlLmRhdGE7CiAgICAgIH0pOwogICAgfSwKICAgIGdldEVxdWl2YWxlbnRJdGVtKGtleSl7CiAgICAgIGlmKCcnICE9PSBrZXkpewogICAgICAgIHRoaXMuaXRlbUxvYWRpbmcgPSB0cnVlOwogICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgZ2V0RXF1aXZhbGVudEl0ZW0oIGtleSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIHRoaXMuaXRlbUxvYWRpbmcgPSBmYWxzZTsKICAgICAgICAgICAgdGhpcy5lcXVpdmFsZW50SXRlbUxpc3QgPSByZXNwb25zZS5kYXRhOwogICAgICAgICAgfSk7CiAgICAgICAgfSwgMjAwKTsKICAgICAgfWVsc2V7CiAgICAgICAgdGhpcy5lcXVpdmFsZW50SXRlbUxpc3QgPSBudWxsOwogICAgICB9CgogICAgfSwKICAgIC8qKiDmn6Xor6LmjIfmoIfpm4bliIbnsbvliJfooaggKi8KICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGxpc3RFcXVpdmFsZW50KHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIHRoaXMuZXF1aXZhbGVudExpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgIHRoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgfSk7CiAgICB9LAoJc3VjY2Vzc1N1Ym1pdChmbGFnKSB7CiAgICAgIHRoaXMub3BlbiA9IGZsYWc7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBlcXVpdmFsZW50RGVwdENvZGU6IG51bGwsCiAgICAgICAgZXF1aXZhbGVudEl0ZW1Db2RlOiBudWxsLAogICAgICAgIG1hdGNoRGVwdE5hbWU6IG51bGwsCiAgICAgIH07CiAgICAgIHRoaXMucmVzZXRGb3JtKCJmb3JtIik7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi8KICAgIHJlc2V0UXVlcnkoKSB7CiAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm0iKTsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfSwKICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewogICAgICBsZXQgcmVmc0VsVGFibGUgPSB0aGlzLiRyZWZzLm11bHRpcGxlVGFibGU7CiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID4gMSkgewogICAgICAgIHJlZnNFbFRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7CiAgICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKAogICAgICAgICAgc2VsZWN0aW9uW3NlbGVjdGlvbi5sZW5ndGggLSAxXSwKICAgICAgICAgIHRydWUKICAgICAgICApOwogICAgICAgIHNlbGVjdGlvbiA9IEFycmF5KHNlbGVjdGlvbltzZWxlY3Rpb24ubGVuZ3RoIC0gMV0pOwogICAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHsKICAgICAgICBzZWxlY3Rpb24gPSBBcnJheShzZWxlY3Rpb25bc2VsZWN0aW9uLmxlbmd0aCAtIDFdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWxlY3Rpb24gPSBbXTsKICAgICAgfQogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLmlkKQogICAgICB0aGlzLmJzY0NvZGVzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uYnNjQ29kZSkKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoIT09MQogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGgKICAgICAgdGhpcy5zZWxlY3Rpb25Sb3c9c2VsZWN0aW9uCgogICAgICBpZihzZWxlY3Rpb24gJiYgc2VsZWN0aW9uLmxlbmd0aCA9PSAxKXsKICAgICAgICB0aGlzLnBhcmVudENvZGUgPSBzZWxlY3Rpb25bMF0uYnNjQ29kZQogICAgICAgIC8vIOmdnuacq+e6p+S4jeiDveaWsOWingogICAgICAgIGxldCBpc0xhc3QgPSBzZWxlY3Rpb25bMF0uaXNMYXN0CiAgICAgICAgaWYoaXNMYXN0ID09IDApewogICAgICAgICAgdGhpcy5hZGRTdGF0ZSA9IGZhbHNlCiAgICAgICAgfWVsc2V7CiAgICAgICAgICB0aGlzLmFkZFN0YXRlID0gdHJ1ZQogICAgICAgIH0KICAgICAgICBsZXQgaXNTdG9wID0gc2VsZWN0aW9uWzBdLmlzU3RvcAogICAgICAgIGlmKGlzU3RvcCA9PSAxKXsKICAgICAgICAgIC8vIOeCueWBnOeUqAogICAgICAgICAgdGhpcy5zdG9wQnRuID0gZmFsc2UKICAgICAgICAgIHRoaXMuc3RhcnRCdG4gPSB0cnVlCiAgICAgICAgfWVsc2V7CiAgICAgICAgICB0aGlzLnN0b3BCdG4gPSB0cnVlCiAgICAgICAgICB0aGlzLnN0YXJ0QnRuID0gZmFsc2UKICAgICAgICB9CiAgICAgIH1lbHNlewogICAgICAgIHRoaXMucGFyZW50Q29kZSA9IG51bGwKICAgICAgfQoKICAgIH0sCiAgICByb3dDbGljayhyb3csIGNvbHVtbiwgZXZlbnQpIHsKICAgICAgbGV0IHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlOwogICAgICBsZXQgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93LmZpbmQoYyA9PiBjLnJvd0luZGV4ID09IHJvdy5yb3dJbmRleCk7CiAgICAgIGlmIChmaW5kUm93ICYmIHRoaXMuc2VsZWN0aW9uUm93Lmxlbmd0aCA9PSAxKSB7CiAgICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOwogICAgICAgIHJldHVybjsKICAgICAgfQogICAgICByZWZzRWxUYWJsZS5jbGVhclNlbGVjdGlvbigpOwogICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93KTsKICAgIH0sCiAgICByb3dTdHlsZSh7CiAgICAgIHJvdywKICAgICAgcm93SW5kZXgKICAgIH0pIHsKICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdywgJ3Jvd0luZGV4JywgewogICAgICAgIHZhbHVlOiByb3dJbmRleCwKICAgICAgICB3cml0YWJsZTogdHJ1ZSwKICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgICB9KQogICAgfSwKICAgIHJvd0NsYXNzTmFtZSh7CiAgICAgIHJvdywKICAgICAgcm93SW5kZXgKICAgIH0pIHsKICAgICAgaWYgKHJvdy5pc1N0b3AgPT0gIjAiKSB7CiAgICAgICAgcmV0dXJuICJ3YXJuaW5nLXJvdyI7CiAgICAgIH0gZWxzZSB7CiAgICAgICAgaWYgKHJvd0luZGV4ICUgMiA9PT0gMSkgewogICAgICAgICAgcmV0dXJuICJzdHJpcGVkIjsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgcmV0dXJuICIiOwogICAgICAgIH0KICAgICAgfQogICAgfSwKICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy5yZXNldCgpOwogICAgICBjb25zdCBpZCA9IHJvdy5pZCB8fCB0aGlzLmlkc1swXTsKICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgICAgdGhpcy5hZGRFZGl0SWQgPSBpZDsgLy8gaWTotYvlgLwKICAgICAgY29uc29sZS5sb2coImFkZEVkaXRJZC0tLSIgKyBhZGRFZGl0KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAwFA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/foundation/equivalent","sourcesContent":["<template>\n  <div class=\"app-container\">\n  <div ref=\"search\">\n    <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"75px\">\n      <el-form-item label=\"科室名称\" prop=\"equivalentDeptCode\">\n        <el-select class=\"search_w220\" v-model=\"queryParams.equivalentDeptCode\" filterable clearable placeholder=\"请选择科室名称\" >\n          <el-option\n            v-for=\"dict in equivalentDeptList\"\n            :key=\"dict.equivalentDeptCode\"\n            :label=\"dict.equivalentDeptName\"\n            :value=\"dict.equivalentDeptCode\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"项目名称\" prop=\"equivalentItemCode\">\n        <el-select class=\"search_w220\" v-model=\"queryParams.equivalentItemCode\" filterable clearable placeholder=\"请选择项目名称\"\n                   @clear=\"handleClear\"\n                   remote\n                   :remote-method=\"getEquivalentItem\"\n                   :loading=\"itemLoading\"  >\n          <el-option\n            v-for=\"item in equivalentItemList\"\n            :key=\"item.equivalentItemCode\"\n            :label=\"item.equivalentItemName\"\n            :value=\"item.equivalentItemCode\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item label=\"对应科室\" prop=\"matchDeptName\">\n        <el-select class=\"search_w220\" v-model=\"queryParams.matchDeptName\" filterable clearable placeholder=\"请选择对应科室名称\" >\n          <el-option\n            v-for=\"dict in matchDeptList\"\n            :key=\"dict.matchDeptName\"\n            :label=\"dict.matchDeptName\"\n            :value=\"dict.matchDeptName\"\n          ></el-option>\n        </el-select>\n      </el-form-item>\n      <el-form-item>\n        <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n        <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n      </el-form-item>\n    </el-form>\n\t</div>\n\t<div ref=\"btns\">\n    <el-row :gutter=\"10\" class=\"mb8\">\n      <el-col :span=\"1.5\">\n        <el-button\n          type=\"success\"\n          icon=\"el-icon-edit\"\n          size=\"mini\"\n          :disabled=\"single\"\n          @click=\"handleUpdate\"\n          v-hasPermi=\"['foundation:equivalent:edit']\"\n        >修改</el-button>\n      </el-col>\n      <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n    </el-row>\n\t</div>\n\n    <el-table border :height=\"tableHeight\" stripe v-loading=\"loading\" :data=\"equivalentList\" @selection-change=\"handleSelectionChange\" ref=\"multipleTable\" @row-click=\"rowClick\" :row-style=\"rowStyle\" :row-class-name=\"rowClassName\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column sortable label=\"科室编码\" align=\"center\" prop=\"equivalentDeptCode\"  />\n      <el-table-column sortable label=\"科室名称\" align=\"center\" prop=\"equivalentDeptName\" />\n      <el-table-column sortable label=\"项目编码\" align=\"center\" prop=\"equivalentItemCode\" />\n      <el-table-column sortable label=\"项目名称\" align=\"center\" prop=\"equivalentItemName\" />\n      <el-table-column sortable label=\"类别\" align=\"center\" prop=\"equivalentTypeName\" />\n      <el-table-column sortable label=\"规格\" align=\"center\" prop=\"equivalentUnit\" />\n      <el-table-column sortable label=\"价格\" align=\"center\" prop=\"equivalentPrice\" />\n      <el-table-column sortable label=\"医嘱标准当量\" align=\"center\" prop=\"doctorAdviceNum\" width=\"140\"/>\n      <el-table-column sortable label=\"医技标准当量\" align=\"center\" prop=\"doctorTechNum\" width=\"140\"/>\n      <el-table-column sortable label=\"护理标准当量\" align=\"center\" prop=\"doctorNurseNum\" width=\"140\"/>\n      <el-table-column sortable label=\"分组名称\" align=\"center\" prop=\"groupName\" />\n\n    </el-table>\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n\t<addEdit v-if=\"open\" :open=\"open\" :id=\"addEditId\" @cancel=\"cancel\" :parentCode=\"parentCode\" @success=\"successSubmit\"></addEdit>\n\n  </div>\n</template>\n\n<script>\nimport {listEquivalent, getEquivalentDept, getEquivalentItem, getMatchDept} from \"@/api/foundation/equivalent\";\nimport addEdit from \"./addEdit\";\n\nexport default {\n  name: \"equivalent\",\n  components: {\naddEdit\n  },\n  data() {\n    return {\n      tableHeight: \"auto\",\n      addState:true,\n      stopBtn: false,\n      startBtn: false,\n\n      // 遮罩层\n      loading: true,\n      itemLoading: false,\n      // 导出遮罩层\n      exportLoading: false,\n      // 选中数组\n      ids: [],\n      // 非单个禁用\n      single: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      equivalentDeptList: [],\n      equivalentItemList: [],\n      equivalentList: [],\n      matchDeptList: [],\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: 30,\n        equivalentDeptCode: null,\n        equivalentItemCode: null,\n        matchDeptName: null,\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {\n      }\n    };\n  },\n  watch:{\n    listData(val) {\n      var that = this;\n      setTimeout(function() {\n        that.resizeHandler();\n      }, 300);\n    },\n  },\n  created() {\n    this.getEquivalentDept();\n    this.getMatchDept();\n    // this.getEquivalentItem();\n    this.getList();\n\n  },\n  mounted(){\n    this.$nextTick(() => {\n      this.resizeHandler();\n      window.addEventListener(\"resize\", this.resizeHandler);\n    });\n  },\n  methods: {\n\n    resizeHandler() {\n      let a = this.$refs.search.offsetHeight;\n      let b = this.$refs.btns.offsetHeight;\n      let h = a + b + 182 ;\n      h = h + \"px\";\n      this.tableHeight = `calc(100vh - ${h})`;\n    },\n    handleClear() {\n      this.equivalentItemList = null;\n    },\n    getMatchDept(){\n      getMatchDept().then(response => {\n        this.matchDeptList = response.data;\n      });\n    },\n    getEquivalentDept(){\n      getEquivalentDept().then(response => {\n        this.equivalentDeptList = response.data;\n      });\n    },\n    getEquivalentItem(key){\n      if('' !== key){\n        this.itemLoading = true;\n        setTimeout(() => {\n          getEquivalentItem( key).then(response => {\n            this.itemLoading = false;\n            this.equivalentItemList = response.data;\n          });\n        }, 200);\n      }else{\n        this.equivalentItemList = null;\n      }\n\n    },\n    /** 查询指标集分类列表 */\n    getList() {\n      this.loading = true;\n      listEquivalent(this.queryParams).then(response => {\n        this.equivalentList = response.rows;\n        this.total = response.total;\n        this.loading = false;\n      });\n    },\n\tsuccessSubmit(flag) {\n      this.open = flag;\n      this.getList();\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        equivalentDeptCode: null,\n        equivalentItemCode: null,\n        matchDeptName: null,\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      let refsElTable = this.$refs.multipleTable;\n      if (selection.length > 1) {\n        refsElTable.clearSelection();\n        refsElTable.toggleRowSelection(\n          selection[selection.length - 1],\n          true\n        );\n        selection = Array(selection[selection.length - 1]);\n      } else if (selection.length === 1) {\n        selection = Array(selection[selection.length - 1]);\n      } else {\n        selection = [];\n      }\n      this.ids = selection.map(item => item.id)\n      this.bscCodes = selection.map(item => item.bscCode)\n      this.single = selection.length!==1\n      this.multiple = !selection.length\n      this.selectionRow=selection\n\n      if(selection && selection.length == 1){\n        this.parentCode = selection[0].bscCode\n        // 非末级不能新增\n        let isLast = selection[0].isLast\n        if(isLast == 0){\n          this.addState = false\n        }else{\n          this.addState = true\n        }\n        let isStop = selection[0].isStop\n        if(isStop == 1){\n          // 点停用\n          this.stopBtn = false\n          this.startBtn = true\n        }else{\n          this.stopBtn = true\n          this.startBtn = false\n        }\n      }else{\n        this.parentCode = null\n      }\n\n    },\n    rowClick(row, column, event) {\n      let refsElTable = this.$refs.multipleTable;\n      let findRow = this.selectionRow.find(c => c.rowIndex == row.rowIndex);\n      if (findRow && this.selectionRow.length == 1) {\n        refsElTable.toggleRowSelection(row, false);\n        return;\n      }\n      refsElTable.clearSelection();\n      refsElTable.toggleRowSelection(row);\n    },\n    rowStyle({\n      row,\n      rowIndex\n    }) {\n      Object.defineProperty(row, 'rowIndex', {\n        value: rowIndex,\n        writable: true,\n        enumerable: false\n      })\n    },\n    rowClassName({\n      row,\n      rowIndex\n    }) {\n      if (row.isStop == \"0\") {\n        return \"warning-row\";\n      } else {\n        if (rowIndex % 2 === 1) {\n          return \"striped\";\n        } else {\n          return \"\";\n        }\n      }\n    },\n    handleUpdate(row) {\n      this.reset();\n      const id = row.id || this.ids[0];\n      this.open = true;\n      this.addEditId = id; // id赋值\n      console.log(\"addEditId---\" + addEdit);\n    }\n  }\n};\n</script>\n"]}]}
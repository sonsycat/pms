{"remainingRequest":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\pms_oracle\\pms_UI\\src\\views\\basic\\relationUserAccount\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\pms_oracle\\pms_UI\\src\\views\\basic\\relationUserAccount\\index.vue","mtime":1693362204000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbGlzdFJlbGF0aW9uVXNlckFjY291bnQsCiAgYWRkUmVsYXRpb25Vc2VyQWNjb3VudAp9IGZyb20gIkAvYXBpL2Jhc2ljL3JlbGF0aW9uVXNlckFjY291bnQiOwppbXBvcnQgeyBsaXN0QWNjb3VudFVzZXIgfSBmcm9tICJAL2FwaS9iYXNpYy9hY2NvdW50IjsKaW1wb3J0IHsgbGlzdFVzZXIgfSBmcm9tICJAL2FwaS9zeXN0ZW0vdXNlciI7CgpleHBvcnQgZGVmYXVsdCB7CiAgLy9uYW1lOiAiUmVsYXRpb25Vc2VyU3RvcmUiLAogIGNvbXBvbmVudHM6IHt9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICB0YWJsZUhlaWdodDogImF1dG8iLAogICAgICBzdGFibGVIZWlnaHQ6ICJhdXRvIiwKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIGFjY291bnRMaXN0VXNlckxvYWRpbmc6ZmFsc2UsCiAgICAgIGFjY291bnRMaXN0TG9hZGluZzpmYWxzZSwKICAgICAgLy8g5a+85Ye66YGu572p5bGCCiAgICAgIGV4cG9ydExvYWRpbmc6IGZhbHNlLAogICAgICAvLyDnlKjmiLfpgInkuK3mlbDnu4QKICAgICAgaWRzVXNlcjogW10sCiAgICAgIC8vIOacquWFs+iBlOi0puWll+mAieS4reaVsOe7hAogICAgICBpZHNBY2NvdW50OiBbXSwKICAgICAgLy8g5bey5YWz6IGU6LSm5aWX6YCJ5Lit5pWw57uECiAgICAgIGlkc0FjY291bnRVc2VyOiBbXSwKICAgICAgLy8g6LSm5aWX57yW56CBCiAgICAgIGFjY291bnRDb2RlOiBbXSwKICAgICAgLy8g6LSm5aWX5ZCN56ewCiAgICAgIGFjY291bnROYW1lOiBbXSwKICAgICAgLy8g6LSm5aWX5YiG57G7CiAgICAgIHN0b3JlVHlwZTogW10sCiAgICAgIC8vIOWNleS9jee8lueggQogICAgICBjb21wQ29kZTogW10sCiAgICAgIC8vIOWNleS9jQogICAgICBjb21wTmFtZTogW10sCiAgICAgIC8vIOmAieaLqeeUqOaIt+e8lueggQogICAgICB1c2VySWRQb3N0OiBbXSwKICAgICAgLy8g6YCJ5oup5YWz6IGU6LSm5aWX5YiX6KGoCiAgICAgIGFjY291bnRDb2RlTGlzdDogW10sCiAgICAgIC8vIOmdnuWNleS4quemgeeUqAogICAgICBzaW5nbGVVc2VyOiB0cnVlLAogICAgICAvLyDpnZ7lpJrkuKrnpoHnlKgKICAgICAgbXVsdGlwbGU6IHRydWUsCiAgICAgIC8vIOaYvuekuuaQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoOiB0cnVlLAogICAgICAvLyDmmL7npLrnlKjmiLfmkJzntKLmnaHku7YKICAgICAgc2hvd1NlYXJjaFVzZXI6IHRydWUsCiAgICAgIC8vIOaYvuekuuacquWFs+iBlOi0puWll+aQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoQWNjb3VudDogdHJ1ZSwKICAgICAgLy8g5pi+56S655So5oi35YWz6IGU6LSm5aWX5pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2hBY2NvdW50VXNlcjogdHJ1ZSwKICAgICAgLy8g55So5oi35oC75p2h5pWwCiAgICAgIHRvdGFsVXNlcjogMCwKICAgICAgLy8g5pyq5YWz6IGU6LSm5aWX5oC75p2h5pWwCiAgICAgIHRvdGFsQWNjb3VudDogMCwKICAgICAgLy8g55So5oi35YWz6IGU6LSm5aWX5oC75p2h5pWwCiAgICAgIHRvdGFsQWNjb3VudFVzZXI6IDAsCiAgICAgIC8vIOeUqOaIt+i0puWll+WFs+iBlOihqOagvOaVsOaNrgogICAgICByZWxhdGlvblVzZXJBY2NvdW50TGlzdDogW10sCiAgICAgIC8vIOeUqOaIt+aVsOaNrgogICAgICB1c2VyTGlzdDogW10sCiAgICAgIC8vIOeUqOaIt+acquWFs+iBlOi0puWll+aVsOaNrgogICAgICBhY2NvdW50TGlzdDogW10sCiAgICAgIC8vIOeUqOaIt+WFs+iBlOi0puWll+aVsOaNrgogICAgICBhY2NvdW50TGlzdFVzZXI6IFtdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICIiLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IHRoaXMuJHN0b3JlLnN0YXRlLnNldHRpbmdzLnBhZ2VTaXplLAogICAgICAgIGNvbXBDb2RlOiBudWxsLAogICAgICAgIGRlcHRDb2RlOiBudWxsLAogICAgICAgIHVzZXJJZDogbnVsbCwKICAgICAgICBhY2NvdW50Q29kZTogbnVsbAogICAgICB9LAogICAgICAvL+eUqOaIt+afpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtc1VzZXI6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5wYWdlU2l6ZSwKICAgICAgICB1c2VyTmFtZTogdW5kZWZpbmVkLAogICAgICAgIHBob25lbnVtYmVyOiB1bmRlZmluZWQsCiAgICAgICAgc3RhdHVzOiB1bmRlZmluZWQsCiAgICAgICAgZGVwdElkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZAogICAgICB9LAogICAgICAvL+eUqOaIt+acquWFs+iBlOi0puWll+afpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtc0FjY291bnQ6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5wYWdlU2l6ZSwKICAgICAgICBjb21wQ29kZTogbnVsbCwKICAgICAgICBhY2NvdW50Q29kZTogbnVsbCwKICAgICAgICBhY2NvdW50TmFtZTogbnVsbCwKICAgICAgICBpc1VzZXI6IG51bGwsCiAgICAgICAgdXNlcklkOiBudWxsLAogICAgICAgIHF1ZXJ5Q29kZTogbnVsbAogICAgICB9LAogICAgICAvL+eUqOaIt+WFs+iBlOi0puWll+afpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtc0FjY291bnRVc2VyOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MucGFnZVNpemUsCiAgICAgICAgY29tcENvZGU6IG51bGwsCiAgICAgICAgYWNjb3VudENvZGU6IG51bGwsCiAgICAgICAgYWNjb3VudE5hbWU6IG51bGwsCiAgICAgICAgaXNVc2VyOiBudWxsLAogICAgICAgIHVzZXJJZDogbnVsbCwKICAgICAgICBxdWVyeUNvZGU6IG51bGwKICAgICAgfSwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHt9LAogICAgICBkZWZhdWx0U29ydDogeyBwcm9wOiAiY3JlYXRlVGltZSIsIG9yZGVyOiAiZGVzY2VuZGluZyIgfSwKICAgICAgc2VsZWN0aW9uUm93OiBbXQogICAgfTsKICB9LAogIGNvbXB1dGVkOiB7CiAgICBsaXN0RGF0YSgpIHsKICAgICAgcmV0dXJuIHRoaXMuJHN0b3JlLnN0YXRlLmFwcC5zaWRlYmFyLm9wZW5lZDsKICAgIH0KICB9LAogIHdhdGNoOiB7CiAgICBsaXN0RGF0YSh2YWwpIHsKICAgICAgdmFyIHRoYXQgPSB0aGlzOwogICAgICBzZXRUaW1lb3V0KGZ1bmN0aW9uKCkgewogICAgICAgIHRoYXQucmVzaXplSGFuZGxlcigpOwogICAgICB9LCAzMDApOwogICAgfSwKICAgIGFjY291bnRMaXN0VXNlcih2YWwpIHsKICAgICAgdGhpcy50b3RhbEFjY291bnRVc2VyID0gdmFsLmxlbmd0aDsKICAgIH0sCiAgICBhY2NvdW50TGlzdCh2YWwpIHsKICAgICAgdGhpcy50b3RhbEFjY291bnQgPSB2YWwubGVuZ3RoOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdFVzZXIoKTsKICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHRoaXMucmVzaXplSGFuZGxlcigpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5yZXNpemVIYW5kbGVyKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgcmVzaXplSGFuZGxlcigpIHsKICAgICAgbGV0IGEgPSB0aGlzLiRyZWZzLnNlYXJjaC5vZmZzZXRIZWlnaHQ7CiAgICAgIGxldCBiID0gdGhpcy4kcmVmcy5idG5zLm9mZnNldEhlaWdodDsKICAgICAgbGV0IGggPSBhICsgYiArIHRoaXMuJHN0b3JlLnN0YXRlLnNldHRpbmdzLnRhYmxlSGVpZ2h0ICsgMjQ7CiAgICAgIGggPSBoICsgInB4IjsKICAgICAgdGhpcy50YWJsZUhlaWdodCA9IGBjYWxjKDEwMHZoIC0gJHtofSlgOwogICAgICBsZXQgYyA9IHRoaXMuJHJlZnMuc3NlYXJjaC5vZmZzZXRIZWlnaHQ7CiAgICAgIGxldCBzaCA9IGIgKyBjICsgdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MudGFibGVIZWlnaHQgKyAxMzQ7CiAgICAgIHNoID0gc2ggKyAicHgiOwogICAgICB0aGlzLnN0YWJsZUhlaWdodCA9IGBjYWxjKCgxMDB2aCAtICR7c2h9KS8yKWA7CiAgICB9LAogICAgdGFibGVSb3dDbGFzc05hbWUoeyByb3csIHJvd0luZGV4IH0pIHsKICAgICAgcm93LnJvd19pbmRleCA9IHJvd0luZGV4OwogICAgfSwKICAgIC8qKiDmn6Xor6LnlKjmiLfotKblpZflhbPogZTliJfooaggKi8KICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWU7CiAgICAgIGxpc3RSZWxhdGlvblVzZXJBY2NvdW50KHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy5yZWxhdGlvblVzZXJBY2NvdW50TGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubXNnRXJyb3IocmVzcG9uc2UubXNnKTsKICAgICAgICB9CiAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgIH0pOwogICAgfSwKICAgIC8qKiDmn6Xor6LnlKjmiLfliJfooaggKi8KICAgIGdldExpc3RVc2VyKCkgewogICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlOwoKICAgICAgbGlzdFVzZXIodGhpcy5hZGREYXRlUmFuZ2UodGhpcy5xdWVyeVBhcmFtc1VzZXIsIHRoaXMuZGF0ZVJhbmdlKSkudGhlbigKICAgICAgICByZXNwb25zZSA9PiB7CiAgICAgICAgICB0aGlzLnVzZXJMaXN0ID0gcmVzcG9uc2Uucm93czsKICAgICAgICAgIHRoaXMudG90YWxVc2VyID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZTsKICAgICAgICB9CiAgICAgICk7CiAgICB9LAogICAgLyoqIOafpeivoumdnueUqOaIt+WFs+iBlOi0puWll+WIl+ihqCAqLwogICAgZ2V0TGlzdEFjY291bnQoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXNBY2NvdW50LmlzVXNlciA9ICIyIjsKICAgICAgaWYgKHRoaXMucXVlcnlQYXJhbXNBY2NvdW50LnVzZXJJZCAhPSBudWxsKSB7CiAgICAgICAgdGhpcy5hY2NvdW50TGlzdExvYWRpbmcgPSB0cnVlCiAgICAgICAgbGlzdEFjY291bnRVc2VyKHRoaXMucXVlcnlQYXJhbXNBY2NvdW50KS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICB0aGlzLmFjY291bnRMaXN0ID0gcmVzcG9uc2Uucm93czsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5hY2NvdW50TGlzdCwgInN0b3JlIik7CiAgICAgICAgICAgIHRoaXMudG90YWxBY2NvdW50ID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgICAgIHRoaXMuYWNjb3VudExpc3RMb2FkaW5nID0gZmFsc2UKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMubXNnRXJyb3IocmVzcG9uc2UubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8qKiDmn6Xor6LnlKjmiLflhbPogZTotKblpZfliJfooaggKi8KICAgIGdldExpc3RBY2NvdW50VXNlcigpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtc0FjY291bnRVc2VyLmlzVXNlciA9ICIxIjsKICAgICAgaWYgKHRoaXMucXVlcnlQYXJhbXNBY2NvdW50VXNlci51c2VySWQgIT0gbnVsbCkgewogICAgICAgIHRoaXMuYWNjb3VudExpc3RVc2VyTG9hZGluZz0gdHJ1ZQogICAgICAgIGxpc3RBY2NvdW50VXNlcih0aGlzLnF1ZXJ5UGFyYW1zQWNjb3VudFVzZXIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuYWNjb3VudExpc3RVc2VyID0gcmVzcG9uc2Uucm93czsKICAgICAgICAgICAgY29uc29sZS5sb2codGhpcy5hY2NvdW50TGlzdFVzZXIsICJzdG9yZVVzZXIiKTsKICAgICAgICAgICAgdGhpcy50b3RhbEFjY291bnRVc2VyID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgICAgIHRoaXMuYWNjb3VudExpc3RVc2VyTG9hZGluZz0gZmFsc2UKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMubXNnRXJyb3IocmVzcG9uc2UubXNnKTsKICAgICAgICAgIH0KICAgICAgICB9KTsKICAgICAgfQogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBjb21wQ29kZTogbnVsbCwKICAgICAgICBkZXB0Q29kZTogbnVsbCwKICAgICAgICB1c2VySWQ6IG51bGwsCiAgICAgICAgYWNjb3VudENvZGU6IG51bGwsCiAgICAgICAgcXVlcnlDb2RlOiBudWxsLAogICAgICAgIGRlbEZsYWc6IG51bGwsCiAgICAgICAgY3JlYXRlQnk6IG51bGwsCiAgICAgICAgY3JlYXRlVGltZTogbnVsbCwKICAgICAgICB1cGRhdGVCeTogbnVsbCwKICAgICAgICB1cGRhdGVUaW1lOiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgfSwKICAgIC8qKiDnlKjmiLfmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5VXNlcigpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtc1VzZXIucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdFVzZXIoKTsKICAgIH0sCiAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLyoqIOacquWFs+iBlOi0puWll+aQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnlBY2NvdW50KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zQWNjb3VudC5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0QWNjb3VudCgpOwogICAgfSwKICAgIC8qKiDlhbPogZTotKblpZfmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5QWNjb3VudFVzZXIoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXNBY2NvdW50VXNlci5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0QWNjb3VudFVzZXIoKTsKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtVXNlciIpOwogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtQWNjb3VudCIpOwogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtQWNjb3VudFVzZXIiKTsKICAgICAgdGhpcy5hY2NvdW50TGlzdFVzZXIgPSBbXTsKICAgICAgdGhpcy5hY2NvdW50TGlzdCA9IFtdCiAgICAgIHRoaXMuaGFuZGxlUXVlcnlVc2VyKCk7CiAgICB9LAogICAgaGFuZGxlUm93Q2xpY2socm93LCBmbGFnID0gdHJ1ZSkgewogICAgICBsZXQgdXNlckxpc3RSZWYgPSB0aGlzLiRyZWZzLnVzZXJMaXN0UmVmOwogICAgICBpZiAoZmxhZykgewogICAgICAgIGxldCBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChjID0+IGMudXNlcklkID09IHJvdy51c2VySWQpOwogICAgICAgIGlmIChmaW5kUm93KSB7CiAgICAgICAgICB1c2VyTGlzdFJlZi50b2dnbGVSb3dTZWxlY3Rpb24ocm93LCBmYWxzZSk7CiAgICAgICAgICByZXR1cm47CiAgICAgICAgfQogICAgICB9CiAgICAgIHVzZXJMaXN0UmVmLmNsZWFyU2VsZWN0aW9uKCk7IC8v5riF56m65YiX6KGo55qE6YCJ5LitCiAgICAgIHVzZXJMaXN0UmVmLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIHRydWUpOwogICAgfSwKICAgIGhhbmRsZVNvcnRDaGFuZ2UoKSB7fSwKICAgIC8vIOeUqOaIt+WkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlVXNlcihzZWxlY3Rpb24pIHsKICAgICAgbGV0IHVzZXJMaXN0UmVmID0gdGhpcy4kcmVmcy51c2VyTGlzdFJlZjsKICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPiAxKSB7CiAgICAgICAgdXNlckxpc3RSZWYuY2xlYXJTZWxlY3Rpb24oKTsgLy/muIXnqbrliJfooajnmoTpgInkuK0KICAgICAgICB1c2VyTGlzdFJlZi50b2dnbGVSb3dTZWxlY3Rpb24oc2VsZWN0aW9uW3NlbGVjdGlvbi5sZW5ndGggLSAxXSwgdHJ1ZSk7IC8v5Y+q5pi+56S66YCJ5Lit5pyA5ZCO5LiA5LiqIOi/meaXtnNlbGVjdGlvbui/mOaYr+WkmumAieeahOWIl+ihqCjlsLHmmK/kvaDpgInkuK3nmoTlh6DkuKrmlbDmja4pCiAgICAgICAgc2VsZWN0aW9uID0gQXJyYXkoc2VsZWN0aW9uW3NlbGVjdGlvbi5sZW5ndGggLSAxXSk7CiAgICAgIH0gZWxzZSBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PT0gMSkgewogICAgICAgIHNlbGVjdGlvbiA9IEFycmF5KHNlbGVjdGlvbltzZWxlY3Rpb24ubGVuZ3RoIC0gMV0pOwogICAgICB9IGVsc2UgewogICAgICAgIHNlbGVjdGlvbiA9IFtdOwogICAgICB9CiAgICAgIC8vIOaWueS+v+eCueWHu+ihjOWPlua2iOmAieS4rQogICAgICB0aGlzLnNlbGVjdGlvblJvdyA9IHNlbGVjdGlvbjsKICAgICAgdGhpcy5pZHNSZWxhdGlvbiA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLnJlbGFDb2RlKTsKICAgICAgdGhpcy5zaW5nbGVSZWxhdGlvbiA9IHNlbGVjdGlvbi5sZW5ndGggIT09IDE7CiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aDsKCiAgICAgIHRoaXMuaWRzVXNlciA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLnVzZXJJZCk7CiAgICAgIHRoaXMuc2luZ2xlVXNlciA9IHNlbGVjdGlvbi5sZW5ndGggIT09IDE7CiAgICAgIHRoaXMubXVsdGlwbGUgPSAhc2VsZWN0aW9uLmxlbmd0aDsKCiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoICE9PSAxKSB7CiAgICAgICAgdGhpcy5hY2NvdW50TGlzdCA9IFtdOwogICAgICB9IGVsc2UgewogICAgICAgIHRoaXMucXVlcnlQYXJhbXNBY2NvdW50LnVzZXJJZCA9IHRoaXMuaWRzVXNlclswXTsKICAgICAgICB0aGlzLnVzZXJJZFBvc3QgPSB0aGlzLmlkc1VzZXJbMF07CiAgICAgICAgdGhpcy5nZXRMaXN0QWNjb3VudCgpOwogICAgICB9CgogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCAhPT0gMSkgewogICAgICAgIHRoaXMuYWNjb3VudExpc3RVc2VyID0gW107CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtc0FjY291bnRVc2VyLnVzZXJJZCA9IHRoaXMuaWRzVXNlclswXTsKICAgICAgICB0aGlzLmdldExpc3RBY2NvdW50VXNlcigpOwogICAgICB9CiAgICB9LAogICAgLy8g6LSm5aWX5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2VBY2NvdW50KHNlbGVjdGlvbikgewogICAgICB0aGlzLmlkc0FjY291bnQgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5pZCk7CiAgICB9LAoKICAgIC8vIOi0puWll+WkmumAieahhumAieS4reaVsOaNrgogICAgc2VsZWN0aW9uQWNjb3VudChzZWxlY3Rpb24sIHJvdykgewogICAgICB0aGlzLmlkc0FjY291bnQgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5pZCk7CgogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgbGV0IHsKICAgICAgICAgIGlkLAogICAgICAgICAgYWNjb3VudENvZGUsCiAgICAgICAgICBhY2NvdW50TmFtZSwKICAgICAgICB9ID0gc2VsZWN0aW9uWzBdOwogICAgICAgIHRoaXMuYWNjb3VudExpc3RVc2VyLnB1c2goewogICAgICAgICAgaWQsCiAgICAgICAgICBhY2NvdW50Q29kZSwKICAgICAgICAgIGFjY291bnROYW1lLAogICAgICAgIH0pOwogICAgICAgIHRoaXMuYWNjb3VudExpc3QgPSB0aGlzLmFjY291bnRMaXN0LmZpbHRlcihlbCA9PiBlbC5pZCAhPSBzZWxlY3Rpb25bMF0uaWQpOwogICAgICB9CiAgICB9LAogICAgLy8g5YWz6IGU55So5oi36LSm5aWX5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBoYW5kbGVTZWxlY3Rpb25DaGFuZ2VBY2NvdW50VXNlcihzZWxlY3Rpb24pIHsKICAgICAgdGhpcy5pZHNBY2NvdW50VXNlciA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLmlkKTsKICAgIH0sCiAgICAvLyDlhbPogZTnlKjmiLfotKblpZflpJrpgInmoYbpgInkuK3mlbDmja4KICAgIHNlbGVjdGlvbkFjY291bnRVc2VyKHNlbGVjdGlvbiwgcm93KSB7CiAgICAgIHRoaXMuaWRzQWNjb3VudFVzZXIgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5pZCk7CgogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA9PSAxKSB7CiAgICAgICAgbGV0IHsKICAgICAgICAgIGlkLAogICAgICAgICAgYWNjb3VudENvZGUsCiAgICAgICAgICBhY2NvdW50TmFtZSwKICAgICAgICB9ID0gc2VsZWN0aW9uWzBdOwogICAgICAgIHRoaXMuYWNjb3VudExpc3QucHVzaCh7CiAgICAgICAgICBpZCwKICAgICAgICAgIGFjY291bnRDb2RlLAogICAgICAgICAgYWNjb3VudE5hbWUsCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5hY2NvdW50TGlzdFVzZXIgPSB0aGlzLmFjY291bnRMaXN0VXNlci5maWx0ZXIoCiAgICAgICAgICBlbCA9PiBlbC5pZCAhPSBzZWxlY3Rpb25bMF0uaWQKICAgICAgICApOwogICAgICB9CiAgICB9LAogICAgLyoqIOS/neWtmOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlQWRkKHJvdykgewogICAgICBjb25zdCBpZHMgPSB0aGlzLmlkc1VzZXJbMF07CiAgICAgIHRoaXMuJGNvbmZpcm0oCiAgICAgICAgJ+aYr+WQpuehruiupOS/neWtmOeUqOaIt+e8luWPt+S4uiInICsgaWRzICsgJyLnmoTlhbPogZTotKblpZfmlbDmja4/JywKICAgICAgICAi5o+Q56S6IiwKICAgICAgICB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgIH0KICAgICAgKS50aGVuKCgpID0+IHsKICAgICAgICBsZXQgZGF0YSA9IHsKICAgICAgICAgIHVzZXJJZDogdGhpcy51c2VySWRQb3N0LAogICAgICAgICAgYXNzZXRzQmFzaWNBY2NvdW50czogdGhpcy5hY2NvdW50TGlzdFVzZXIKICAgICAgICB9OwogICAgICAgIGFkZFJlbGF0aW9uVXNlckFjY291bnQoZGF0YSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgdGhpcy5nZXRMaXN0VXNlcigpOwogICAgICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MoIuS/neWtmOaIkOWKnyIpOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5tc2dFcnJvcihyZXNwb25zZS5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICB9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+IA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/basic/relationUserAccount","sourcesContent":["<template>\n<!-- 对应关系设置 - 用户与账套对应关系 -->\n  <div class=\"app-container\">\n    <div ref=\"btns\">\n      <el-row :gutter=\"10\" class=\"mb8\">\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"primary\"\n            size=\"mini\"\n            @click=\"handleAdd\"\n            :disabled=\"singleUser\"\n          >保存</el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            icon=\"el-icon-refresh\"\n            size=\"mini\"\n            @click=\"resetQuery\">重置</el-button>\n        </el-col>\n\n        <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getListUser\"></right-toolbar>\n      </el-row>\n  </div>\n\n\n<el-row :gutter=\"15\">\n    <el-col :span=\"12\" >\n    <el-card>\n        <div ref=\"search\">\n          <el-form :model=\"queryParamsUser\" ref=\"queryFormUser\" :inline=\"true\" v-show=\"showSearchUser\" label-width=\"68px\">\n            <el-form-item label=\"\" prop=\"userName\" >\n              <el-input\n                v-model=\"queryParamsUser.userName\"\n                placeholder=\"输入信息（人员、单位）\"\n                clearable\n                size=\"small\"\n                @input=\"handleQueryUser\"\n                @keyup.enter.native=\"handleQueryUser\"\n              />\n            </el-form-item>\n          </el-form>\n      </div>\n        <el-table :height=\"tableHeight\" v-loading=\"loading\" ref=\"userListRef\" :data=\"userList\" @selection-change=\"handleSelectionChangeUser\" :default-sort=\"defaultSort\" @sort-change=\"handleSortChange\"  highlight-current-row @row-click=\"handleRowClick\">\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n          <el-table-column label=\"编号\" align=\"left\" key=\"userId\" prop=\"userId\" />\n          <el-table-column label=\"登录名\" align=\"left\" key=\"userName\" prop=\"userName\" />\n          <el-table-column label=\"姓名\" align=\"left\" key=\"nickName\" prop=\"nickName\" />\n          <el-table-column label=\"单位\" align=\"left\" key=\"deptName\" prop=\"dept.deptName\"/>\n          <el-table-column label=\"科室\" align=\"left\"  prop=\"\" />\n        </el-table>\n        <pagination\n          v-show=\"totalUser>0\"\n          :total=\"totalUser\"\n          :page.sync=\"queryParamsUser.pageNum\"\n          :limit.sync=\"queryParamsUser.pageSize\"\n          @pagination=\"getListUser\"\n        />\n      </el-card>\n    </el-col>\n\n    <el-col :span=\"12\" >\n      <el-col :span=\"24\" class=\"mb10\">\n        <el-card>\n          <div ref=\"ssearch\">\n            <el-form :model=\"queryParamsAccountUser\" ref=\"queryFormAccountUser\" :inline=\"true\" v-show=\"showSearchAccountUser\" label-width=\"68px\" row-class-name=\"tableRowClassName\">\n              <el-col :span=\"24\">\n                <el-form-item  label=\"已选账套\" prop=\"\">\n                </el-form-item>\n              </el-col>\n              <el-form-item  label=\"\" prop=\"queryCode\">\n                <el-input\n                  v-model=\"queryParamsAccountUser.queryCode\"\n                  placeholder=\"输入信息（账套id、编码、名称）\"\n                  clearable\n                  size=\"small\"\n                  @keyup.enter.native=\"handleQueryAccountUser\"\n                  @input=\"handleQueryAccountUser\"\n                />\n              </el-form-item>\n            </el-form>\n        </div>\n        <el-table  v-loading=\"accountListUserLoading\" :data=\"accountListUser\" :height=\"stableHeight\" @selection-change=\"handleSelectionChangeAccountUser\" @select=\"selectionAccountUser\">\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n          <el-table-column label=\"账套id\" align=\"left\" prop=\"id\" />\n          <el-table-column label=\"账套编码\" align=\"left\" prop=\"accountCode\" />\n          <el-table-column label=\"账套名称\" align=\"left\" prop=\"accountName\" show-overflow-tooltip/>\n        </el-table>\n        <pagination\n          v-show=\"totalAccountUser>0\"\n          :total=\"totalAccountUser\"\n          :page.sync=\"queryParamsAccountUser.pageNum\"\n          :limit.sync=\"queryParamsAccountUser.pageSize\"\n          @pagination=\"getListAccountUser\"\n        />\n          </el-card>\n      </el-col>\n      <el-col :span=\"24\" >\n        <el-card>\n        <el-form :model=\"queryParamsAccount\" ref=\"queryFormAccount\" :inline=\"true\" v-show=\"showSearchAccount\" label-width=\"68px\" row-class-name=\"tableRowClassName\">\n          <el-col :span=\"24\">\n            <el-form-item  label=\"待选账套\" prop=\"\">\n            </el-form-item>\n          </el-col>\n          <el-form-item  label=\"\" prop=\"queryCode\">\n            <el-input\n              v-model=\"queryParamsAccount.queryCode\"\n              placeholder=\"输入信息（账套id、编码、名称）\"\n              clearable\n              size=\"small\"\n              @keyup.enter.native=\"handleQueryAccount\"\n              @input=\"handleQueryAccount\"\n            />\n          </el-form-item>\n        </el-form>\n\n        <el-table  v-loading=\"accountListLoading\" :data=\"accountList\" :height=\"stableHeight\"  @selection-change=\"handleSelectionChangeAccount\" @select=\"selectionAccount\">\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n          <el-table-column label=\"账套id\" align=\"left\" prop=\"id\" />\n          <el-table-column label=\"账套编码\" align=\"left\" prop=\"accountCode\" />\n          <el-table-column label=\"账套名称\" align=\"left\" prop=\"accountName\" show-overflow-tooltip/>\n        </el-table>\n        <pagination\n          v-show=\"totalAccount>0\"\n          :total=\"totalAccount\"\n          :page.sync=\"queryParamsAccount.pageNum\"\n          :limit.sync=\"queryParamsAccount.pageSize\"\n          @pagination=\"getListAccount\"\n        />\n        </el-card>\n      </el-col>\n    </el-col>\n\n</el-row>\n\n\n\n\n\n\n  </div>\n</template>\n\n<script>\nimport {\n  listRelationUserAccount,\n  addRelationUserAccount\n} from \"@/api/basic/relationUserAccount\";\nimport { listAccountUser } from \"@/api/basic/account\";\nimport { listUser } from \"@/api/system/user\";\n\nexport default {\n  //name: \"RelationUserStore\",\n  components: {},\n  data() {\n    return {\n      tableHeight: \"auto\",\n      stableHeight: \"auto\",\n      // 遮罩层\n      loading: true,\n      accountListUserLoading:false,\n      accountListLoading:false,\n      // 导出遮罩层\n      exportLoading: false,\n      // 用户选中数组\n      idsUser: [],\n      // 未关联账套选中数组\n      idsAccount: [],\n      // 已关联账套选中数组\n      idsAccountUser: [],\n      // 账套编码\n      accountCode: [],\n      // 账套名称\n      accountName: [],\n      // 账套分类\n      storeType: [],\n      // 单位编码\n      compCode: [],\n      // 单位\n      compName: [],\n      // 选择用户编码\n      userIdPost: [],\n      // 选择关联账套列表\n      accountCodeList: [],\n      // 非单个禁用\n      singleUser: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 显示用户搜索条件\n      showSearchUser: true,\n      // 显示未关联账套搜索条件\n      showSearchAccount: true,\n      // 显示用户关联账套搜索条件\n      showSearchAccountUser: true,\n      // 用户总条数\n      totalUser: 0,\n      // 未关联账套总条数\n      totalAccount: 0,\n      // 用户关联账套总条数\n      totalAccountUser: 0,\n      // 用户账套关联表格数据\n      relationUserAccountList: [],\n      // 用户数据\n      userList: [],\n      // 用户未关联账套数据\n      accountList: [],\n      // 用户关联账套数据\n      accountListUser: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        compCode: null,\n        deptCode: null,\n        userId: null,\n        accountCode: null\n      },\n      //用户查询参数\n      queryParamsUser: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        userName: undefined,\n        phonenumber: undefined,\n        status: undefined,\n        deptId: this.$store.state.user.userInfo.deptId\n      },\n      //用户未关联账套查询参数\n      queryParamsAccount: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        compCode: null,\n        accountCode: null,\n        accountName: null,\n        isUser: null,\n        userId: null,\n        queryCode: null\n      },\n      //用户关联账套查询参数\n      queryParamsAccountUser: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        compCode: null,\n        accountCode: null,\n        accountName: null,\n        isUser: null,\n        userId: null,\n        queryCode: null\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {},\n      defaultSort: { prop: \"createTime\", order: \"descending\" },\n      selectionRow: []\n    };\n  },\n  computed: {\n    listData() {\n      return this.$store.state.app.sidebar.opened;\n    }\n  },\n  watch: {\n    listData(val) {\n      var that = this;\n      setTimeout(function() {\n        that.resizeHandler();\n      }, 300);\n    },\n    accountListUser(val) {\n      this.totalAccountUser = val.length;\n    },\n    accountList(val) {\n      this.totalAccount = val.length;\n    }\n  },\n  created() {\n    this.getListUser();\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.resizeHandler();\n      window.addEventListener(\"resize\", this.resizeHandler);\n    });\n  },\n  methods: {\n    resizeHandler() {\n      let a = this.$refs.search.offsetHeight;\n      let b = this.$refs.btns.offsetHeight;\n      let h = a + b + this.$store.state.settings.tableHeight + 24;\n      h = h + \"px\";\n      this.tableHeight = `calc(100vh - ${h})`;\n      let c = this.$refs.ssearch.offsetHeight;\n      let sh = b + c + this.$store.state.settings.tableHeight + 134;\n      sh = sh + \"px\";\n      this.stableHeight = `calc((100vh - ${sh})/2)`;\n    },\n    tableRowClassName({ row, rowIndex }) {\n      row.row_index = rowIndex;\n    },\n    /** 查询用户账套关联列表 */\n    getList() {\n      this.loading = true;\n      listRelationUserAccount(this.queryParams).then(response => {\n        if (response.code == 200) {\n          this.relationUserAccountList = response.rows;\n          this.total = response.total;\n        } else {\n          this.msgError(response.msg);\n        }\n        this.loading = false;\n      });\n    },\n    /** 查询用户列表 */\n    getListUser() {\n      this.loading = true;\n\n      listUser(this.addDateRange(this.queryParamsUser, this.dateRange)).then(\n        response => {\n          this.userList = response.rows;\n          this.totalUser = response.total;\n          this.loading = false;\n        }\n      );\n    },\n    /** 查询非用户关联账套列表 */\n    getListAccount() {\n      this.queryParamsAccount.isUser = \"2\";\n      if (this.queryParamsAccount.userId != null) {\n        this.accountListLoading = true\n        listAccountUser(this.queryParamsAccount).then(response => {\n          if (response.code == 200) {\n            this.accountList = response.rows;\n            console.log(this.accountList, \"store\");\n            this.totalAccount = response.total;\n            this.accountListLoading = false\n          } else {\n            this.msgError(response.msg);\n          }\n        });\n      }\n    },\n    /** 查询用户关联账套列表 */\n    getListAccountUser() {\n      this.queryParamsAccountUser.isUser = \"1\";\n      if (this.queryParamsAccountUser.userId != null) {\n        this.accountListUserLoading= true\n        listAccountUser(this.queryParamsAccountUser).then(response => {\n          if (response.code == 200) {\n            this.accountListUser = response.rows;\n            console.log(this.accountListUser, \"storeUser\");\n            this.totalAccountUser = response.total;\n            this.accountListUserLoading= false\n          } else {\n            this.msgError(response.msg);\n          }\n        });\n      }\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: null,\n        deptCode: null,\n        userId: null,\n        accountCode: null,\n        queryCode: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 用户搜索按钮操作 */\n    handleQueryUser() {\n      this.queryParamsUser.pageNum = 1;\n      this.getListUser();\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 未关联账套搜索按钮操作 */\n    handleQueryAccount() {\n      this.queryParamsAccount.pageNum = 1;\n      this.getListAccount();\n    },\n    /** 关联账套搜索按钮操作 */\n    handleQueryAccountUser() {\n      this.queryParamsAccountUser.pageNum = 1;\n      this.getListAccountUser();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryFormUser\");\n      this.resetForm(\"queryFormAccount\");\n      this.resetForm(\"queryFormAccountUser\");\n      this.accountListUser = [];\n      this.accountList = []\n      this.handleQueryUser();\n    },\n    handleRowClick(row, flag = true) {\n      let userListRef = this.$refs.userListRef;\n      if (flag) {\n        let findRow = this.selectionRow.find(c => c.userId == row.userId);\n        if (findRow) {\n          userListRef.toggleRowSelection(row, false);\n          return;\n        }\n      }\n      userListRef.clearSelection(); //清空列表的选中\n      userListRef.toggleRowSelection(row, true);\n    },\n    handleSortChange() {},\n    // 用户多选框选中数据\n    handleSelectionChangeUser(selection) {\n      let userListRef = this.$refs.userListRef;\n      if (selection.length > 1) {\n        userListRef.clearSelection(); //清空列表的选中\n        userListRef.toggleRowSelection(selection[selection.length - 1], true); //只显示选中最后一个 这时selection还是多选的列表(就是你选中的几个数据)\n        selection = Array(selection[selection.length - 1]);\n      } else if (selection.length === 1) {\n        selection = Array(selection[selection.length - 1]);\n      } else {\n        selection = [];\n      }\n      // 方便点击行取消选中\n      this.selectionRow = selection;\n      this.idsRelation = selection.map(item => item.relaCode);\n      this.singleRelation = selection.length !== 1;\n      this.multiple = !selection.length;\n\n      this.idsUser = selection.map(item => item.userId);\n      this.singleUser = selection.length !== 1;\n      this.multiple = !selection.length;\n\n      if (selection.length !== 1) {\n        this.accountList = [];\n      } else {\n        this.queryParamsAccount.userId = this.idsUser[0];\n        this.userIdPost = this.idsUser[0];\n        this.getListAccount();\n      }\n\n      if (selection.length !== 1) {\n        this.accountListUser = [];\n      } else {\n        this.queryParamsAccountUser.userId = this.idsUser[0];\n        this.getListAccountUser();\n      }\n    },\n    // 账套多选框选中数据\n    handleSelectionChangeAccount(selection) {\n      this.idsAccount = selection.map(item => item.id);\n    },\n\n    // 账套多选框选中数据\n    selectionAccount(selection, row) {\n      this.idsAccount = selection.map(item => item.id);\n\n      if (selection.length == 1) {\n        let {\n          id,\n          accountCode,\n          accountName,\n        } = selection[0];\n        this.accountListUser.push({\n          id,\n          accountCode,\n          accountName,\n        });\n        this.accountList = this.accountList.filter(el => el.id != selection[0].id);\n      }\n    },\n    // 关联用户账套多选框选中数据\n    handleSelectionChangeAccountUser(selection) {\n      this.idsAccountUser = selection.map(item => item.id);\n    },\n    // 关联用户账套多选框选中数据\n    selectionAccountUser(selection, row) {\n      this.idsAccountUser = selection.map(item => item.id);\n\n      if (selection.length == 1) {\n        let {\n          id,\n          accountCode,\n          accountName,\n        } = selection[0];\n        this.accountList.push({\n          id,\n          accountCode,\n          accountName,\n        });\n        this.accountListUser = this.accountListUser.filter(\n          el => el.id != selection[0].id\n        );\n      }\n    },\n    /** 保存按钮操作 */\n    handleAdd(row) {\n      const ids = this.idsUser[0];\n      this.$confirm(\n        '是否确认保存用户编号为\"' + ids + '\"的关联账套数据?',\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }\n      ).then(() => {\n        let data = {\n          userId: this.userIdPost,\n          assetsBasicAccounts: this.accountListUser\n        };\n        addRelationUserAccount(data).then(response => {\n          if (response.code == 200) {\n            this.getListUser();\n            this.msgSuccess(\"保存成功\");\n          } else {\n            this.msgError(response.msg);\n          }\n        });\n      });\n    }\n  }\n};\n</script>\n"]}]}
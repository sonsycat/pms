{"remainingRequest":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\basic\\relationUserStore\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\basic\\relationUserStore\\index.vue","mtime":1693362204444},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbGlzdFJlbGF0aW9uVXNlclN0b3JlLAogIGFkZFJlbGF0aW9uVXNlclN0b3JlCn0gZnJvbSAiQC9hcGkvYmFzaWMvcmVsYXRpb25Vc2VyU3RvcmUiOwppbXBvcnQgeyBsaXN0U3RvcmVVc2VyIH0gZnJvbSAiQC9hcGkvYmFzaWMvc3RvcmUiOwppbXBvcnQgeyBsaXN0VXNlciB9IGZyb20gIkAvYXBpL3N5c3RlbS91c2VyIjsKCmV4cG9ydCBkZWZhdWx0IHsKICAvL25hbWU6ICJSZWxhdGlvblVzZXJTdG9yZSIsCiAgY29tcG9uZW50czoge30sCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIHRhYmxlSGVpZ2h0OiAiYXV0byIsCiAgICAgIHN0YWJsZUhlaWdodDogImF1dG8iLAogICAgICAvLyDpga7nvanlsYIKICAgICAgbG9hZGluZzogdHJ1ZSwKICAgICAgc3RvcmVMaXN0VXNlckxvYWRpbmc6ZmFsc2UsCiAgICAgIHN0b3JlTGlzdExvYWRpbmc6ZmFsc2UsCiAgICAgIC8vIOWvvOWHuumBrue9qeWxggogICAgICBleHBvcnRMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g55So5oi36YCJ5Lit5pWw57uECiAgICAgIGlkc1VzZXI6IFtdLAogICAgICAvLyDmnKrlhbPogZTku5PlupPpgInkuK3mlbDnu4QKICAgICAgaWRzU3RvcmU6IFtdLAogICAgICAvLyDlt7LlhbPogZTku5PlupPpgInkuK3mlbDnu4QKICAgICAgaWRzU3RvcmVVc2VyOiBbXSwKICAgICAgLy8g5LuT5bqT57yW56CBCiAgICAgIHN0b3JlQ29kZTogW10sCiAgICAgIC8vIOS7k+W6k+WQjeensAogICAgICBzdG9yZU5hbWU6IFtdLAogICAgICAvLyDku5PlupPliIbnsbsKICAgICAgc3RvcmVUeXBlOiBbXSwKICAgICAgLy8g5Y2V5L2N57yW56CBCiAgICAgIGNvbXBDb2RlOiBbXSwKICAgICAgLy8g5Y2V5L2NCiAgICAgIGNvbXBOYW1lOiBbXSwKICAgICAgLy8g6YCJ5oup55So5oi357yW56CBCiAgICAgIHVzZXJDb2RlUG9zdDogW10sCiAgICAgIC8vIOmAieaLqeWFs+iBlOS7k+W6k+WIl+ihqAogICAgICBzdG9yZUNvZGVMaXN0OiBbXSwKICAgICAgLy8g6Z2e5Y2V5Liq56aB55SoCiAgICAgIHNpbmdsZVVzZXI6IHRydWUsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaYvuekuueUqOaIt+aQnOe0ouadoeS7tgogICAgICBzaG93U2VhcmNoVXNlcjogdHJ1ZSwKICAgICAgLy8g5pi+56S65pyq5YWz6IGU5LuT5bqT5pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2hTdG9yZTogdHJ1ZSwKICAgICAgLy8g5pi+56S655So5oi35YWz6IGU5LuT5bqT5pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2hTdG9yZVVzZXI6IHRydWUsCiAgICAgIC8vIOeUqOaIt+aAu+adoeaVsAogICAgICB0b3RhbFVzZXI6IDAsCiAgICAgIC8vIOacquWFs+iBlOS7k+W6k+aAu+adoeaVsAogICAgICB0b3RhbFN0b3JlOiAwLAogICAgICAvLyDnlKjmiLflhbPogZTku5PlupPmgLvmnaHmlbAKICAgICAgdG90YWxTdG9yZVVzZXI6IDAsCiAgICAgIC8vIOeUqOaIt+S7k+W6k+WFs+iBlOihqOagvOaVsOaNrgogICAgICByZWxhdGlvblVzZXJTdG9yZUxpc3Q6IFtdLAogICAgICAvLyDnlKjmiLfmlbDmja4KICAgICAgdXNlckxpc3Q6IFtdLAogICAgICAvLyDnlKjmiLfmnKrlhbPogZTku5PlupPmlbDmja4KICAgICAgc3RvcmVMaXN0OiBbXSwKICAgICAgLy8g55So5oi35YWz6IGU5LuT5bqT5pWw5o2uCiAgICAgIHN0b3JlTGlzdFVzZXI6IFtdLAogICAgICAvLyDlvLnlh7rlsYLmoIfpopgKICAgICAgdGl0bGU6ICIiLAogICAgICAvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKICAgICAgb3BlbjogZmFsc2UsCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IHRoaXMuJHN0b3JlLnN0YXRlLnNldHRpbmdzLnBhZ2VTaXplLAogICAgICAgIGNvbXBDb2RlOiBudWxsLAogICAgICAgIGRlcHRDb2RlOiBudWxsLAogICAgICAgIHVzZXJDb2RlOiBudWxsLAogICAgICAgIHN0b3JlQ29kZTogbnVsbAogICAgICB9LAogICAgICAvL+eUqOaIt+afpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtc1VzZXI6IHsKICAgICAgICBwYWdlTnVtOiAxLAogICAgICAgIHBhZ2VTaXplOiB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy5wYWdlU2l6ZSwKICAgICAgICB1c2VyTmFtZTogdW5kZWZpbmVkLAogICAgICAgIHBob25lbnVtYmVyOiB1bmRlZmluZWQsCiAgICAgICAgc3RhdHVzOiB1bmRlZmluZWQsCiAgICAgICAgZGVwdElkOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZAogICAgICB9LAogICAgICAvL+eUqOaIt+acquWFs+iBlOS7k+W6k+afpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtc1N0b3JlOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MucGFnZVNpemUsCiAgICAgICAgY29tcENvZGU6IG51bGwsCiAgICAgICAgc3RvcmVDb2RlOiBudWxsLAogICAgICAgIHN0b3JlTmFtZTogbnVsbCwKICAgICAgICBpc1VzZXI6IG51bGwsCiAgICAgICAgdXNlckNvZGU6IG51bGwsCiAgICAgICAgcXVlcnlDb2RlOiBudWxsCiAgICAgIH0sCiAgICAgIC8v55So5oi35YWz6IGU5LuT5bqT5p+l6K+i5Y+C5pWwCiAgICAgIHF1ZXJ5UGFyYW1zU3RvcmVVc2VyOiB7CiAgICAgICAgcGFnZU51bTogMSwKICAgICAgICBwYWdlU2l6ZTogdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MucGFnZVNpemUsCiAgICAgICAgY29tcENvZGU6IG51bGwsCiAgICAgICAgc3RvcmVDb2RlOiBudWxsLAogICAgICAgIHN0b3JlTmFtZTogbnVsbCwKICAgICAgICBpc1VzZXI6IG51bGwsCiAgICAgICAgdXNlckNvZGU6IG51bGwsCiAgICAgICAgcXVlcnlDb2RlOiBudWxsCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g6KGo5Y2V5qCh6aqMCiAgICAgIHJ1bGVzOiB7fSwKICAgICAgc3RvcmVUeXBlT3B0aW9uczogW10sCiAgICAgIGRlZmF1bHRTb3J0OiB7IHByb3A6ICJjcmVhdGVUaW1lIiwgb3JkZXI6ICJkZXNjZW5kaW5nIiB9LAogICAgICBzZWxlY3Rpb25Sb3c6IFtdCiAgICB9OwogIH0sCiAgY29tcHV0ZWQ6IHsKICAgIGxpc3REYXRhKCkgewogICAgICByZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnNpZGViYXIub3BlbmVkOwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgIGxpc3REYXRhKHZhbCkgewogICAgICB2YXIgdGhhdCA9IHRoaXM7CiAgICAgIHNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CiAgICAgICAgdGhhdC5yZXNpemVIYW5kbGVyKCk7CiAgICAgIH0sIDMwMCk7CiAgICB9LAogICAgc3RvcmVMaXN0VXNlcih2YWwpIHsKICAgICAgdGhpcy50b3RhbFN0b3JlVXNlciA9IHZhbC5sZW5ndGg7CiAgICB9LAogICAgc3RvcmVMaXN0KHZhbCkgewogICAgICB0aGlzLnRvdGFsU3RvcmUgPSB2YWwubGVuZ3RoOwogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdFVzZXIoKTsKICAgIHRoaXMuZ2V0RGljdHMoImJhc2ljX3N0b3JlX3R5cGUiKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgdGhpcy5zdG9yZVR5cGVPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIH0pOwogIH0sCiAgbW91bnRlZCgpIHsKICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgdGhpcy5yZXNpemVIYW5kbGVyKCk7CiAgICAgIHdpbmRvdy5hZGRFdmVudExpc3RlbmVyKCJyZXNpemUiLCB0aGlzLnJlc2l6ZUhhbmRsZXIpOwogICAgfSk7CiAgfSwKICBtZXRob2RzOiB7CiAgICByZXNpemVIYW5kbGVyKCkgewogICAgICBsZXQgYSA9IHRoaXMuJHJlZnMuc2VhcmNoLm9mZnNldEhlaWdodDsKICAgICAgbGV0IGIgPSB0aGlzLiRyZWZzLmJ0bnMub2Zmc2V0SGVpZ2h0OwogICAgICBsZXQgaCA9IGEgKyBiICsgdGhpcy4kc3RvcmUuc3RhdGUuc2V0dGluZ3MudGFibGVIZWlnaHQgKyAyNDsKICAgICAgaCA9IGggKyAicHgiOwogICAgICB0aGlzLnRhYmxlSGVpZ2h0ID0gYGNhbGMoMTAwdmggLSAke2h9KWA7CiAgICAgIGxldCBjID0gdGhpcy4kcmVmcy5zc2VhcmNoLm9mZnNldEhlaWdodDsKICAgICAgbGV0IHNoID0gYiArIGMgKyB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy50YWJsZUhlaWdodCArIDE2MDsKICAgICAgc2ggPSBzaCArICJweCI7CiAgICAgIHRoaXMuc3RhYmxlSGVpZ2h0ID0gYGNhbGMoKDEwMHZoIC0gJHtzaH0pLzIpYDsKICAgIH0sCiAgICB0YWJsZVJvd0NsYXNzTmFtZSh7IHJvdywgcm93SW5kZXggfSkgewogICAgICByb3cucm93X2luZGV4ID0gcm93SW5kZXg7CiAgICB9LAogICAgLyoqIOafpeivoueUqOaIt+S7k+W6k+WFs+iBlOWIl+ihqCAqLwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgbGlzdFJlbGF0aW9uVXNlclN0b3JlKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy5yZWxhdGlvblVzZXJTdG9yZUxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgfQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvKiog5p+l6K+i55So5oi35YiX6KGoICovCiAgICBnZXRMaXN0VXNlcigpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKCiAgICAgIGxpc3RVc2VyKHRoaXMuYWRkRGF0ZVJhbmdlKHRoaXMucXVlcnlQYXJhbXNVc2VyLCB0aGlzLmRhdGVSYW5nZSkpLnRoZW4oCiAgICAgICAgcmVzcG9uc2UgPT4gewogICAgICAgICAgdGhpcy51c2VyTGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgICB0aGlzLnRvdGFsVXNlciA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2U7CiAgICAgICAgfQogICAgICApOwogICAgfSwKICAgIC8qKiDmn6Xor6LpnZ7nlKjmiLflhbPogZTku5PlupPliJfooaggKi8KICAgIGdldExpc3RTdG9yZSgpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtc1N0b3JlLmlzVXNlciA9ICIyIjsKICAgICAgaWYgKHRoaXMucXVlcnlQYXJhbXNTdG9yZS51c2VyQ29kZSAhPSBudWxsKSB7CiAgICAgICAgdGhpcy5zdG9yZUxpc3RMb2FkaW5nID0gdHJ1ZQogICAgICAgIGxpc3RTdG9yZVVzZXIodGhpcy5xdWVyeVBhcmFtc1N0b3JlKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICB0aGlzLnN0b3JlTGlzdCA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RvcmVMaXN0LCAic3RvcmUiKTsKICAgICAgICAgICAgdGhpcy50b3RhbFN0b3JlID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgICAgIHRoaXMuc3RvcmVMaXN0TG9hZGluZyA9IGZhbHNlICAgICAgICAgICAgCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvKiog5p+l6K+i55So5oi35YWz6IGU5LuT5bqT5YiX6KGoICovCiAgICBnZXRMaXN0U3RvcmVVc2VyKCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zU3RvcmVVc2VyLmlzVXNlciA9ICIxIjsKICAgICAgaWYgKHRoaXMucXVlcnlQYXJhbXNTdG9yZVVzZXIudXNlckNvZGUgIT0gbnVsbCkgewogICAgICAgIHRoaXMuc3RvcmVMaXN0VXNlckxvYWRpbmc9IHRydWUKICAgICAgICBsaXN0U3RvcmVVc2VyKHRoaXMucXVlcnlQYXJhbXNTdG9yZVVzZXIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgIHRoaXMuc3RvcmVMaXN0VXNlciA9IHJlc3BvbnNlLnJvd3M7CiAgICAgICAgICAgIGNvbnNvbGUubG9nKHRoaXMuc3RvcmVMaXN0VXNlciwgInN0b3JlVXNlciIpOwogICAgICAgICAgICB0aGlzLnRvdGFsU3RvcmVVc2VyID0gcmVzcG9uc2UudG90YWw7CiAgICAgICAgICAgIHRoaXMuc3RvcmVMaXN0VXNlckxvYWRpbmc9IGZhbHNlICAgICAgICAgICAgCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0KICAgIH0sCiAgICAvLyDlupPmiL/liIbnsbvlrZflhbjnv7vor5EKICAgIHN0b3JlVHlwZUZvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy5zdG9yZVR5cGVPcHRpb25zLCByb3cuc3RvcmVUeXBlKTsKICAgIH0sCiAgICAvLyDlj5bmtojmjInpkq4KICAgIGNhbmNlbCgpIHsKICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgIHRoaXMucmVzZXQoKTsKICAgIH0sCiAgICAvLyDooajljZXph43nva4KICAgIHJlc2V0KCkgewogICAgICB0aGlzLmZvcm0gPSB7CiAgICAgICAgaWQ6IG51bGwsCiAgICAgICAgY29tcENvZGU6IG51bGwsCiAgICAgICAgZGVwdENvZGU6IG51bGwsCiAgICAgICAgdXNlckNvZGU6IG51bGwsCiAgICAgICAgc3RvcmVDb2RlOiBudWxsLAogICAgICAgIHF1ZXJ5Q29kZTogbnVsbCwKICAgICAgICBkZWxGbGFnOiBudWxsLAogICAgICAgIGNyZWF0ZUJ5OiBudWxsLAogICAgICAgIGNyZWF0ZVRpbWU6IG51bGwsCiAgICAgICAgdXBkYXRlQnk6IG51bGwsCiAgICAgICAgdXBkYXRlVGltZTogbnVsbCwKICAgICAgICByZW1hcms6IG51bGwKICAgICAgfTsKICAgICAgdGhpcy5yZXNldEZvcm0oImZvcm0iKTsKICAgIH0sCiAgICAvKiog55So5oi35pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeVVzZXIoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXNVc2VyLnBhZ2VOdW0gPSAxOwogICAgICB0aGlzLmdldExpc3RVc2VyKCk7CiAgICB9LAogICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlUXVlcnkoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIC8qKiDmnKrlhbPogZTku5PlupPmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5U3RvcmUoKSB7CiAgICAgIHRoaXMucXVlcnlQYXJhbXNTdG9yZS5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0U3RvcmUoKTsKICAgIH0sCiAgICAvKiog5YWz6IGU5LuT5bqT5pCc57Si5oyJ6ZKu5pON5L2cICovCiAgICBoYW5kbGVRdWVyeVN0b3JlVXNlcigpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtc1N0b3JlVXNlci5wYWdlTnVtID0gMTsKICAgICAgdGhpcy5nZXRMaXN0U3RvcmVVc2VyKCk7CiAgICB9LAogICAgLyoqIOmHjee9ruaMiemSruaTjeS9nCAqLwogICAgcmVzZXRRdWVyeSgpIHsKICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybVVzZXIiKTsKICAgICAgdGhpcy5yZXNldEZvcm0oInF1ZXJ5Rm9ybVN0b3JlIik7CiAgICAgIHRoaXMucmVzZXRGb3JtKCJxdWVyeUZvcm1TdG9yZVVzZXIiKTsKICAgICAgdGhpcy5oYW5kbGVRdWVyeSgpOwogICAgfSwKICAgIGhhbmRsZVJvd0NsaWNrKHJvdywgZmxhZyA9IHRydWUpIHsKICAgICAgbGV0IHVzZXJMaXN0UmVmID0gdGhpcy4kcmVmcy51c2VyTGlzdFJlZjsKICAgICAgaWYgKGZsYWcpIHsKICAgICAgICBsZXQgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93LmZpbmQoYyA9PiBjLnVzZXJJZCA9PSByb3cudXNlcklkKTsKICAgICAgICBpZiAoZmluZFJvdykgewogICAgICAgICAgdXNlckxpc3RSZWYudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOwogICAgICAgICAgcmV0dXJuOwogICAgICAgIH0KICAgICAgfQogICAgICB1c2VyTGlzdFJlZi5jbGVhclNlbGVjdGlvbigpOyAvL+a4heepuuWIl+ihqOeahOmAieS4rQogICAgICB1c2VyTGlzdFJlZi50b2dnbGVSb3dTZWxlY3Rpb24ocm93LCB0cnVlKTsKICAgIH0sCiAgICBoYW5kbGVTb3J0Q2hhbmdlKCkge30sCiAgICAvLyDnlKjmiLflpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZVVzZXIoc2VsZWN0aW9uKSB7CiAgICAgIGxldCB1c2VyTGlzdFJlZiA9IHRoaXMuJHJlZnMudXNlckxpc3RSZWY7CiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoID4gMSkgewogICAgICAgIHVzZXJMaXN0UmVmLmNsZWFyU2VsZWN0aW9uKCk7IC8v5riF56m65YiX6KGo55qE6YCJ5LitCiAgICAgICAgdXNlckxpc3RSZWYudG9nZ2xlUm93U2VsZWN0aW9uKHNlbGVjdGlvbltzZWxlY3Rpb24ubGVuZ3RoIC0gMV0sIHRydWUpOyAvL+WPquaYvuekuumAieS4reacgOWQjuS4gOS4qiDov5nml7ZzZWxlY3Rpb27ov5jmmK/lpJrpgInnmoTliJfooago5bCx5piv5L2g6YCJ5Lit55qE5Yeg5Liq5pWw5o2uKQogICAgICAgIHNlbGVjdGlvbiA9IEFycmF5KHNlbGVjdGlvbltzZWxlY3Rpb24ubGVuZ3RoIC0gMV0pOwogICAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHsKICAgICAgICBzZWxlY3Rpb24gPSBBcnJheShzZWxlY3Rpb25bc2VsZWN0aW9uLmxlbmd0aCAtIDFdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWxlY3Rpb24gPSBbXTsKICAgICAgfQogICAgICAvLyDmlrnkvr/ngrnlh7vooYzlj5bmtojpgInkuK0KICAgICAgdGhpcy5zZWxlY3Rpb25Sb3cgPSBzZWxlY3Rpb247CiAgICAgIHRoaXMuaWRzUmVsYXRpb24gPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5yZWxhQ29kZSk7CiAgICAgIHRoaXMuc2luZ2xlUmVsYXRpb24gPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGg7CgogICAgICB0aGlzLmlkc1VzZXIgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS51c2VySWQpOwogICAgICB0aGlzLnNpbmdsZVVzZXIgPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGg7CgogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCAhPT0gMSkgewogICAgICAgIHRoaXMuc3RvcmVMaXN0ID0gW107CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtc1N0b3JlLnVzZXJDb2RlID0gdGhpcy5pZHNVc2VyWzBdOwogICAgICAgIHRoaXMudXNlckNvZGVQb3N0ID0gdGhpcy5pZHNVc2VyWzBdOwogICAgICAgIHRoaXMuZ2V0TGlzdFN0b3JlKCk7CiAgICAgIH0KCiAgICAgIGlmIChzZWxlY3Rpb24ubGVuZ3RoICE9PSAxKSB7CiAgICAgICAgdGhpcy5zdG9yZUxpc3RVc2VyID0gW107CiAgICAgIH0gZWxzZSB7CiAgICAgICAgdGhpcy5xdWVyeVBhcmFtc1N0b3JlVXNlci51c2VyQ29kZSA9IHRoaXMuaWRzVXNlclswXTsKICAgICAgICB0aGlzLmdldExpc3RTdG9yZVVzZXIoKTsKICAgICAgfQogICAgfSwKICAgIC8vIOS7k+W6k+WkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlU3RvcmUoc2VsZWN0aW9uKSB7CiAgICAgIHRoaXMuaWRzU3RvcmUgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5zdG9yZUNvZGUpOwogICAgfSwKCiAgICAvLyDku5PlupPlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIHNlbGVjdGlvblN0b3JlKHNlbGVjdGlvbiwgcm93KSB7CiAgICAgIHRoaXMuaWRzU3RvcmUgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5zdG9yZUNvZGUpOwoKICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT0gMSkgewogICAgICAgIGxldCB7CiAgICAgICAgICBzdG9yZUNvZGUsCiAgICAgICAgICBzdG9yZU5hbWUsCiAgICAgICAgICBzdG9yZVR5cGUsCiAgICAgICAgICBjb21wTmFtZSwKICAgICAgICAgIGNvbXBDb2RlCiAgICAgICAgfSA9IHNlbGVjdGlvblswXTsKICAgICAgICB0aGlzLnN0b3JlTGlzdFVzZXIucHVzaCh7CiAgICAgICAgICBzdG9yZUNvZGUsCiAgICAgICAgICBzdG9yZU5hbWUsCiAgICAgICAgICBzdG9yZVR5cGUsCiAgICAgICAgICBjb21wTmFtZSwKICAgICAgICAgIGNvbXBDb2RlCiAgICAgICAgfSk7CiAgICAgICAgdGhpcy5zdG9yZUxpc3QgPSB0aGlzLnN0b3JlTGlzdC5maWx0ZXIoZWwgPT4gZWwuaWQgIT0gc2VsZWN0aW9uWzBdLmlkKTsKICAgICAgfQogICAgfSwKICAgIC8vIOWFs+iBlOeUqOaIt+S7k+W6k+WkmumAieahhumAieS4reaVsOaNrgogICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlU3RvcmVVc2VyKHNlbGVjdGlvbikgewogICAgICB0aGlzLmlkc1N0b3JlVXNlciA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLnN0b3JlQ29kZSk7CiAgICB9LAogICAgLy8g5YWz6IGU55So5oi35LuT5bqT5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCiAgICBzZWxlY3Rpb25TdG9yZVVzZXIoc2VsZWN0aW9uLCByb3cpIHsKICAgICAgdGhpcy5pZHNTdG9yZVVzZXIgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5zdG9yZUNvZGUpOwoKICAgICAgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT0gMSkgewogICAgICAgIGxldCB7CiAgICAgICAgICBzdG9yZUNvZGUsCiAgICAgICAgICBzdG9yZU5hbWUsCiAgICAgICAgICBzdG9yZVR5cGUsCiAgICAgICAgICBjb21wTmFtZSwKICAgICAgICAgIGNvbXBDb2RlCiAgICAgICAgfSA9IHNlbGVjdGlvblswXTsKICAgICAgICB0aGlzLnN0b3JlTGlzdC5wdXNoKHsKICAgICAgICAgIHN0b3JlQ29kZSwKICAgICAgICAgIHN0b3JlTmFtZSwKICAgICAgICAgIHN0b3JlVHlwZSwKICAgICAgICAgIGNvbXBOYW1lLAogICAgICAgICAgY29tcENvZGUKICAgICAgICB9KTsKICAgICAgICB0aGlzLnN0b3JlTGlzdFVzZXIgPSB0aGlzLnN0b3JlTGlzdFVzZXIuZmlsdGVyKAogICAgICAgICAgZWwgPT4gZWwuaWQgIT0gc2VsZWN0aW9uWzBdLmlkCiAgICAgICAgKTsKICAgICAgfQogICAgfSwKICAgIC8qKiDkv53lrZjmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZUFkZChyb3cpIHsKICAgICAgY29uc3QgaWRzID0gdGhpcy5pZHNVc2VyWzBdOwogICAgICB0aGlzLiRjb25maXJtKAogICAgICAgICfmmK/lkKbnoa7orqTkv53lrZjnlKjmiLfnvJblj7fkuLoiJyArIGlkcyArICci55qE5YWz6IGU5LuT5bqT5pWw5o2uPycsCiAgICAgICAgIuaPkOekuiIsCiAgICAgICAgewogICAgICAgICAgY29uZmlybUJ1dHRvblRleHQ6ICLnoa7lrpoiLAogICAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCiAgICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgICB9CiAgICAgICkudGhlbigoKSA9PiB7CiAgICAgICAgbGV0IGRhdGEgPSB7CiAgICAgICAgICB1c2VyQ29kZTogdGhpcy51c2VyQ29kZVBvc3QsCiAgICAgICAgICBhc3NldHNCYXNpY1N0b3JlTGlzdDogdGhpcy5zdG9yZUxpc3RVc2VyCiAgICAgICAgfTsKICAgICAgICBhZGRSZWxhdGlvblVzZXJTdG9yZShkYXRhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICB0aGlzLmdldExpc3RVc2VyKCk7CiAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5L+d5a2Y5oiQ5YqfIik7CiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgICB9CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAoJA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/basic/relationUserStore","sourcesContent":["<template>\n<!-- 对应关系设置 - 用户与仓库对应关系 -->\n  <div class=\"app-container\">\n    <div ref=\"btns\">\n      <el-row :gutter=\"10\" class=\"mb8\">\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"primary\"\n            icon=\"el-icon-plus\"\n            size=\"mini\"\n            @click=\"handleAdd\"\n            :disabled=\"singleUser\"\n            v-hasPermi=\"['basic:relationUserStore:add']\"\n          >保存</el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            icon=\"el-icon-refresh\"\n            size=\"mini\"\n            @click=\"resetQuery\">重置</el-button>\n        </el-col>\n\n        <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getListUser\"></right-toolbar>\n      </el-row>\n  </div>\n\n\n<el-row :gutter=\"15\">\n    <el-col :span=\"12\" >\n    <el-card>\n        <div ref=\"search\">\n          <el-form :model=\"queryParamsUser\" ref=\"queryFormUser\" :inline=\"true\" v-show=\"showSearchUser\" label-width=\"68px\">\n            <el-form-item label=\"\" prop=\"userName\" >\n              <el-input\n                v-model=\"queryParamsUser.userName\"\n                placeholder=\"输入信息（人员、单位）\"\n                clearable\n                size=\"small\"\n                @input=\"handleQueryUser\"\n                @keyup.enter.native=\"handleQueryUser\"\n              />\n            </el-form-item>\n          </el-form>\n      </div>\n        <el-table :height=\"tableHeight\" v-loading=\"loading\" ref=\"userListRef\" :data=\"userList\" @selection-change=\"handleSelectionChangeUser\" :default-sort=\"defaultSort\" @sort-change=\"handleSortChange\"  highlight-current-row @row-click=\"handleRowClick\">\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n          <el-table-column label=\"编号\" align=\"left\" key=\"userId\" prop=\"userId\" />\n          <el-table-column label=\"登录名\" align=\"left\" key=\"userName\" prop=\"userName\" />\n          <el-table-column label=\"姓名\" align=\"left\" key=\"nickName\" prop=\"nickName\" />\n          <el-table-column label=\"单位\" align=\"left\" key=\"deptName\" prop=\"dept.deptName\"/>\n          <el-table-column label=\"科室\" align=\"left\"  prop=\"\" />\n        </el-table>\n        <pagination\n          v-show=\"totalUser>0\"\n          :total=\"totalUser\"\n          :page.sync=\"queryParamsUser.pageNum\"\n          :limit.sync=\"queryParamsUser.pageSize\"\n          @pagination=\"getListUser\"\n        />\n      </el-card>\n    </el-col>\n\n    <el-col :span=\"12\" >\n      <el-col :span=\"24\" class=\"mb10\">\n        <el-card>\n          <div ref=\"ssearch\">\n            <el-form :model=\"queryParamsStoreUser\" ref=\"queryFormStoreUser\" :inline=\"true\" v-show=\"showSearchStoreUser\" label-width=\"68px\" row-class-name=\"tableRowClassName\">\n              <el-col :span=\"24\">\n                <el-form-item  label=\"已选仓库\" prop=\"\">\n                </el-form-item>\n              </el-col>\n              <el-form-item  label=\"\" prop=\"queryCode\">\n                <el-input\n                  v-model=\"queryParamsStoreUser.queryCode\"\n                  placeholder=\"输入信息（仓库、单位）\"\n                  clearable\n                  size=\"small\"\n                  @keyup.enter.native=\"handleQueryStoreUser\"\n                  @input=\"handleQueryStoreUser\"\n                />\n              </el-form-item>\n            </el-form>\n        </div>\n        <el-table  v-loading=\"storeListUserLoading\" :data=\"storeListUser\" :height=\"stableHeight\" @selection-change=\"handleSelectionChangeStoreUser\" @select=\"selectionStoreUser\">\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n          <el-table-column label=\"仓库编码\" align=\"left\" prop=\"storeCode\" />\n          <el-table-column label=\"仓库名称\" align=\"left\" prop=\"storeName\" show-overflow-tooltip/>\n          <el-table-column label=\"库房分类\" align=\"left\" prop=\"storeType\" :formatter=\"storeTypeFormat\" />\n          <el-table-column label=\"单位\" align=\"left\" prop=\"compName\" show-overflow-tooltip/>\n        </el-table>\n        <pagination\n          v-show=\"totalStoreUser>0\"\n          :total=\"totalStoreUser\"\n          :page.sync=\"queryParamsStoreUser.pageNum\"\n          :limit.sync=\"queryParamsStoreUser.pageSize\"\n          @pagination=\"getListStoreUser\"\n        />\n          </el-card>\n      </el-col>\n      <el-col :span=\"24\" >\n        <el-card>\n        <el-form :model=\"queryParamsStore\" ref=\"queryFormStore\" :inline=\"true\" v-show=\"showSearchStore\" label-width=\"68px\" row-class-name=\"tableRowClassName\">\n          <el-col :span=\"24\">\n            <el-form-item  label=\"待选仓库\" prop=\"\">\n            </el-form-item>\n          </el-col>\n          <el-form-item  label=\"\" prop=\"queryCode\">\n            <el-input\n              v-model=\"queryParamsStore.queryCode\"\n              placeholder=\"输入信息（仓库、单位）\"\n              clearable\n              size=\"small\"\n              @keyup.enter.native=\"handleQueryStore\"\n              @input=\"handleQueryStore\"\n            />\n          </el-form-item>\n        </el-form>\n\n        <el-table  v-loading=\"storeListLoading\" :data=\"storeList\" :height=\"stableHeight\"  @selection-change=\"handleSelectionChangeStore\" @select=\"selectionStore\">\n          <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n          <el-table-column label=\"仓库编码\" align=\"left\" prop=\"storeCode\" />\n          <el-table-column label=\"仓库名称\" align=\"left\" prop=\"storeName\" show-overflow-tooltip/>\n          <el-table-column label=\"库房分类\" align=\"left\" prop=\"storeType\" :formatter=\"storeTypeFormat\" />\n          <!--<el-table-column label=\"单位编码\" align=\"left\" prop=\"compCode\" show-overflow-tooltip/>-->\n          <el-table-column label=\"单位\" align=\"left\" prop=\"compName\" show-overflow-tooltip/>\n        </el-table>\n        <pagination\n          v-show=\"totalStore>0\"\n          :total=\"totalStore\"\n          :page.sync=\"queryParamsStore.pageNum\"\n          :limit.sync=\"queryParamsStore.pageSize\"\n          @pagination=\"getListStore\"\n        />\n        </el-card>\n      </el-col>\n    </el-col>\n\n</el-row>\n\n\n\n\n\n\n  </div>\n</template>\n\n<script>\nimport {\n  listRelationUserStore,\n  addRelationUserStore\n} from \"@/api/basic/relationUserStore\";\nimport { listStoreUser } from \"@/api/basic/store\";\nimport { listUser } from \"@/api/system/user\";\n\nexport default {\n  //name: \"RelationUserStore\",\n  components: {},\n  data() {\n    return {\n      tableHeight: \"auto\",\n      stableHeight: \"auto\",\n      // 遮罩层\n      loading: true,\n      storeListUserLoading:false,\n      storeListLoading:false,\n      // 导出遮罩层\n      exportLoading: false,\n      // 用户选中数组\n      idsUser: [],\n      // 未关联仓库选中数组\n      idsStore: [],\n      // 已关联仓库选中数组\n      idsStoreUser: [],\n      // 仓库编码\n      storeCode: [],\n      // 仓库名称\n      storeName: [],\n      // 仓库分类\n      storeType: [],\n      // 单位编码\n      compCode: [],\n      // 单位\n      compName: [],\n      // 选择用户编码\n      userCodePost: [],\n      // 选择关联仓库列表\n      storeCodeList: [],\n      // 非单个禁用\n      singleUser: true,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 显示用户搜索条件\n      showSearchUser: true,\n      // 显示未关联仓库搜索条件\n      showSearchStore: true,\n      // 显示用户关联仓库搜索条件\n      showSearchStoreUser: true,\n      // 用户总条数\n      totalUser: 0,\n      // 未关联仓库总条数\n      totalStore: 0,\n      // 用户关联仓库总条数\n      totalStoreUser: 0,\n      // 用户仓库关联表格数据\n      relationUserStoreList: [],\n      // 用户数据\n      userList: [],\n      // 用户未关联仓库数据\n      storeList: [],\n      // 用户关联仓库数据\n      storeListUser: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        compCode: null,\n        deptCode: null,\n        userCode: null,\n        storeCode: null\n      },\n      //用户查询参数\n      queryParamsUser: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        userName: undefined,\n        phonenumber: undefined,\n        status: undefined,\n        deptId: this.$store.state.user.userInfo.deptId\n      },\n      //用户未关联仓库查询参数\n      queryParamsStore: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        compCode: null,\n        storeCode: null,\n        storeName: null,\n        isUser: null,\n        userCode: null,\n        queryCode: null\n      },\n      //用户关联仓库查询参数\n      queryParamsStoreUser: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        compCode: null,\n        storeCode: null,\n        storeName: null,\n        isUser: null,\n        userCode: null,\n        queryCode: null\n      },\n      // 表单参数\n      form: {},\n      // 表单校验\n      rules: {},\n      storeTypeOptions: [],\n      defaultSort: { prop: \"createTime\", order: \"descending\" },\n      selectionRow: []\n    };\n  },\n  computed: {\n    listData() {\n      return this.$store.state.app.sidebar.opened;\n    }\n  },\n  watch: {\n    listData(val) {\n      var that = this;\n      setTimeout(function() {\n        that.resizeHandler();\n      }, 300);\n    },\n    storeListUser(val) {\n      this.totalStoreUser = val.length;\n    },\n    storeList(val) {\n      this.totalStore = val.length;\n    }\n  },\n  created() {\n    this.getListUser();\n    this.getDicts(\"basic_store_type\").then(response => {\n      this.storeTypeOptions = response.data;\n    });\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.resizeHandler();\n      window.addEventListener(\"resize\", this.resizeHandler);\n    });\n  },\n  methods: {\n    resizeHandler() {\n      let a = this.$refs.search.offsetHeight;\n      let b = this.$refs.btns.offsetHeight;\n      let h = a + b + this.$store.state.settings.tableHeight + 24;\n      h = h + \"px\";\n      this.tableHeight = `calc(100vh - ${h})`;\n      let c = this.$refs.ssearch.offsetHeight;\n      let sh = b + c + this.$store.state.settings.tableHeight + 160;\n      sh = sh + \"px\";\n      this.stableHeight = `calc((100vh - ${sh})/2)`;\n    },\n    tableRowClassName({ row, rowIndex }) {\n      row.row_index = rowIndex;\n    },\n    /** 查询用户仓库关联列表 */\n    getList() {\n      this.loading = true;\n      listRelationUserStore(this.queryParams).then(response => {\n        if (response.code == 200) {\n          this.relationUserStoreList = response.rows;\n          this.total = response.total;\n        } else {\n          this.msgError(response.msg);\n        }\n        this.loading = false;\n      });\n    },\n    /** 查询用户列表 */\n    getListUser() {\n      this.loading = true;\n\n      listUser(this.addDateRange(this.queryParamsUser, this.dateRange)).then(\n        response => {\n          this.userList = response.rows;\n          this.totalUser = response.total;\n          this.loading = false;\n        }\n      );\n    },\n    /** 查询非用户关联仓库列表 */\n    getListStore() {\n      this.queryParamsStore.isUser = \"2\";\n      if (this.queryParamsStore.userCode != null) {\n        this.storeListLoading = true\n        listStoreUser(this.queryParamsStore).then(response => {\n          if (response.code == 200) {\n            this.storeList = response.rows;\n            console.log(this.storeList, \"store\");\n            this.totalStore = response.total;\n            this.storeListLoading = false            \n          } else {\n            this.msgError(response.msg);\n          }\n        });\n      }\n    },\n    /** 查询用户关联仓库列表 */\n    getListStoreUser() {\n      this.queryParamsStoreUser.isUser = \"1\";\n      if (this.queryParamsStoreUser.userCode != null) {\n        this.storeListUserLoading= true\n        listStoreUser(this.queryParamsStoreUser).then(response => {\n          if (response.code == 200) {\n            this.storeListUser = response.rows;\n            console.log(this.storeListUser, \"storeUser\");\n            this.totalStoreUser = response.total;\n            this.storeListUserLoading= false            \n          } else {\n            this.msgError(response.msg);\n          }\n        });\n      }\n    },\n    // 库房分类字典翻译\n    storeTypeFormat(row, column) {\n      return this.selectDictLabel(this.storeTypeOptions, row.storeType);\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: null,\n        deptCode: null,\n        userCode: null,\n        storeCode: null,\n        queryCode: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 用户搜索按钮操作 */\n    handleQueryUser() {\n      this.queryParamsUser.pageNum = 1;\n      this.getListUser();\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 未关联仓库搜索按钮操作 */\n    handleQueryStore() {\n      this.queryParamsStore.pageNum = 1;\n      this.getListStore();\n    },\n    /** 关联仓库搜索按钮操作 */\n    handleQueryStoreUser() {\n      this.queryParamsStoreUser.pageNum = 1;\n      this.getListStoreUser();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryFormUser\");\n      this.resetForm(\"queryFormStore\");\n      this.resetForm(\"queryFormStoreUser\");\n      this.handleQuery();\n    },\n    handleRowClick(row, flag = true) {\n      let userListRef = this.$refs.userListRef;\n      if (flag) {\n        let findRow = this.selectionRow.find(c => c.userId == row.userId);\n        if (findRow) {\n          userListRef.toggleRowSelection(row, false);\n          return;\n        }\n      }\n      userListRef.clearSelection(); //清空列表的选中\n      userListRef.toggleRowSelection(row, true);\n    },\n    handleSortChange() {},\n    // 用户多选框选中数据\n    handleSelectionChangeUser(selection) {\n      let userListRef = this.$refs.userListRef;\n      if (selection.length > 1) {\n        userListRef.clearSelection(); //清空列表的选中\n        userListRef.toggleRowSelection(selection[selection.length - 1], true); //只显示选中最后一个 这时selection还是多选的列表(就是你选中的几个数据)\n        selection = Array(selection[selection.length - 1]);\n      } else if (selection.length === 1) {\n        selection = Array(selection[selection.length - 1]);\n      } else {\n        selection = [];\n      }\n      // 方便点击行取消选中\n      this.selectionRow = selection;\n      this.idsRelation = selection.map(item => item.relaCode);\n      this.singleRelation = selection.length !== 1;\n      this.multiple = !selection.length;\n\n      this.idsUser = selection.map(item => item.userId);\n      this.singleUser = selection.length !== 1;\n      this.multiple = !selection.length;\n\n      if (selection.length !== 1) {\n        this.storeList = [];\n      } else {\n        this.queryParamsStore.userCode = this.idsUser[0];\n        this.userCodePost = this.idsUser[0];\n        this.getListStore();\n      }\n\n      if (selection.length !== 1) {\n        this.storeListUser = [];\n      } else {\n        this.queryParamsStoreUser.userCode = this.idsUser[0];\n        this.getListStoreUser();\n      }\n    },\n    // 仓库多选框选中数据\n    handleSelectionChangeStore(selection) {\n      this.idsStore = selection.map(item => item.storeCode);\n    },\n\n    // 仓库多选框选中数据\n    selectionStore(selection, row) {\n      this.idsStore = selection.map(item => item.storeCode);\n\n      if (selection.length == 1) {\n        let {\n          storeCode,\n          storeName,\n          storeType,\n          compName,\n          compCode\n        } = selection[0];\n        this.storeListUser.push({\n          storeCode,\n          storeName,\n          storeType,\n          compName,\n          compCode\n        });\n        this.storeList = this.storeList.filter(el => el.id != selection[0].id);\n      }\n    },\n    // 关联用户仓库多选框选中数据\n    handleSelectionChangeStoreUser(selection) {\n      this.idsStoreUser = selection.map(item => item.storeCode);\n    },\n    // 关联用户仓库多选框选中数据\n    selectionStoreUser(selection, row) {\n      this.idsStoreUser = selection.map(item => item.storeCode);\n\n      if (selection.length == 1) {\n        let {\n          storeCode,\n          storeName,\n          storeType,\n          compName,\n          compCode\n        } = selection[0];\n        this.storeList.push({\n          storeCode,\n          storeName,\n          storeType,\n          compName,\n          compCode\n        });\n        this.storeListUser = this.storeListUser.filter(\n          el => el.id != selection[0].id\n        );\n      }\n    },\n    /** 保存按钮操作 */\n    handleAdd(row) {\n      const ids = this.idsUser[0];\n      this.$confirm(\n        '是否确认保存用户编号为\"' + ids + '\"的关联仓库数据?',\n        \"提示\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }\n      ).then(() => {\n        let data = {\n          userCode: this.userCodePost,\n          assetsBasicStoreList: this.storeListUser\n        };\n        addRelationUserStore(data).then(response => {\n          if (response.code == 200) {\n            this.getListUser();\n            this.msgSuccess(\"保存成功\");\n          } else {\n            this.msgError(response.msg);\n          }\n        });\n      });\n    }\n  }\n};\n</script>\n"]}]}
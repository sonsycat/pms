{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\views\\skill\\achieve\\addEdit.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\skill\\achieve\\addEdit.vue","mtime":1682043108572},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGFkZEFjaGlldmUsIGdldEFjaGlldmUsIGxpc3RBY2hpZXZlLCB1cGRhdGVBY2hpZXZlLCB1cGRhdGVBY2hpZXZlMSB9IGZyb20gJ0AvYXBpL3NraWxsL2FjaGlldmUnCmltcG9ydCB7IGdldEVtcExpc3QsIHRyZWVSb29tIH0gZnJvbSAnQC9hcGkvdW50aWwnCmltcG9ydCBidG5zIGZyb20gJ0Avdmlld3Mvc2tpbGwvYWNoaWV2ZS9idG5zJwppbXBvcnQgZm9ybUl0ZW0gZnJvbSAnQC92aWV3cy9jb21wb25lbnRzL2Zvcm1JdGVtTmV3JwoKZXhwb3J0IGRlZmF1bHQgewogIG5hbWU6ICdhZGRFZGl0JywKICBwcm9wczogewogICAgb3BlbjogewogICAgICB0eXBlOiBCb29sZWFuLAogICAgICBkZWZhdWx0OiBmYWxzZQogICAgfSwKICAgIGlkOiB7CiAgICAgIHR5cGU6IFtTdHJpbmcsIE51bWJlcl0sCiAgICAgIGRlZmF1bHQ6ICcnCiAgICB9LAogICAgcHJvY2xuc0lkczogewogICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLAogICAgICBkZWZhdWx0OiAnJwogICAgfQogIH0sCiAgd2F0Y2g6IHsKICAgICdmb3JtLmNvbXBDb2RlJzogewogICAgICBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMuZ2V0VHJlZURlcHQodmFsKQogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBpZDogewogICAgICBoYW5kbGVyKHZhbCkgewogICAgICAgIHRoaXMucmVzZXQoKQogICAgICAgIGlmICh2YWwpIHsKICAgICAgICAgIHRoaXMuaWQgPSB2YWwKICAgICAgICAgIGlmICh2YWwgIT0gMCkgewogICAgICAgICAgICB0aGlzLnRpdGxlID0gJ+aIkOaenOeuoeeQhiAvIOS/ruaUuScKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHRoaXMudGl0bGUgPSAn5oiQ5p6c566h55CGIC8g5paw5aKeJwogICAgICAgICAgfQogICAgICAgICAgdGhpcy5nZXREZXRhaWxJbmZvKCkKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5pZCA9ICcnCiAgICAgICAgICB0aGlzLnRpdGxlID0gJ+aIkOaenOeuoeeQhi3mlrDlop4nCiAgICAgICAgfQogICAgICB9LAogICAgICBkZWVwOiB0cnVlLAogICAgICBpbW1lZGlhdGU6IHRydWUKICAgIH0sCiAgICBvcGVuOiB7CiAgICAgIGhhbmRsZXIodmFsKSB7CiAgICAgICAgdGhpcy5vcGVuRGlhbG9nID0gdmFsCiAgICAgIH0sCiAgICAgIGRlZXA6IHRydWUKICAgIH0KICB9LAogIGNvbXBvbmVudHM6IHsKICAgIGJ0bnMsIGZvcm1JdGVtCiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgc2hvd0RpYWxvZzogZmFsc2UsCiAgICAgIHRpdGxlOiAn5oiQ5p6c566h55CGLeaWsOWinicsCiAgICAgIG9wZW5EaWFsb2c6IHRoaXMub3BlbiwKICAgICAgLy8g6KGo5Y2V5Y+C5pWwCiAgICAgIGZvcm06IHt9LAogICAgICBpc0V4dGVuc2lvbk9wdGlvbnM6IFtdLAogICAgICBhcHByb3ZlT3B0aW9uczogW10sCiAgICAgIHRhc2tTb3VyY2VPcHRpb25zOiBbXSwKICAgICAgYXdhcmRMZXZlbE9wdGlvbnM6IFtdLAogICAgICBleHRlbnNpb25TY29wZU9wdGlvbnM6IFtdLAogICAgICBhY2hpZXZlTmF0dXJlT3B0aW9uczogW10sCiAgICAgIHBhdGVudFR5cGVPcHRpb25zOiBbXSwKICAgICAgZGVwdExpc3Q6IFtdLAogICAgICAvL+eUqOaIt+WIl+ihqAogICAgICB1c2VyT3B0aW9uczogW10sCiAgICAgIC8v5a2m5Y6GCiAgICAgIGVkdWNhdGlvbk9wdGlvbnM6IFtdLAogICAgICBzcGVjaWFsT3B0aW9uczogW10sCiAgICAgIHRpdGxlQ29kZU9wdGlvbnM6IFtdLAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBhY2hpZXZlQ29kZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+aIkOaenOe8luWPt+S4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBhY2hpZXZlTmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+aIkOaenOWQjeensOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBkZXB0Q29kZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+enkeWupOe8lueggeS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBjb21wbGV0ZVVuaXQ6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfkuLvopoHlrozmiJDljZXkvY3kuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgcGVyc29uQ29kZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+WujOaIkOS6uuS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBlZHVjYXRpb246IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICflrozmiJDkurrlrabljobkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgc3BlY2lhbDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+WujOaIkOS6uuS4k+S4muS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICB0aXRsZUNvZGU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfogYznp7DkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgYXdhcmRDYXRlZ29yeTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+iOt+Wlluexu+WIq+S4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBhd2FyZExldmVsOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6I635aWW57qn5Yir5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdLAogICAgICAgIGlzRXh0ZW5zaW9uOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5piv5ZCm5o6o5bm/5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgICAgYXdhcmRUaW1lOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn6I635aWW5pe26Ze05LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2JsdXInIH0KICAgICAgICBdLAogICAgICAgIGV4dGVuc2lvbkluY29tZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+iOt+WlluaUtuebiuS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBhcHByb3ZlOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5om55YeG5Y2V5L2N5LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgICAgdGFza1NvdXJjZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+S7u+WKoeadpea6kOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdLAogICAgICAgIGV4dGVuc2lvblNjb3BlOiBbCiAgICAgICAgICB7IHJlcXVpcmVkOiB0cnVlLCBtZXNzYWdlOiAn5o6o5bm/6IyD5Zu05LiN6IO95Li656m6JywgdHJpZ2dlcjogJ2NoYW5nZScgfQogICAgICAgIF0sCiAgICAgICAgYWNoaWV2ZU5hdHVyZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+aIkOaenOaAp+i0qOS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdLAogICAgICAgIGRydWdBcHByb3ZhbDogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+iNr+aJueWPt+S4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBwYXRlbnRJbmNvbWU6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfkuJPliKnmlLbnm4rkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgcGF0ZW50Tm86IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfkuJPliKnlj7fkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgcGF0ZW50VHlwZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+S4k+WIqeexu+WIq+S4jeiDveS4uuepuicsIHRyaWdnZXI6ICdjaGFuZ2UnIH0KICAgICAgICBdLAogICAgICAgIHN1YmplY3RXb3JkczogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogJ+S4u+mimOivjeS4jeiDveS4uuepuicsIHRyaWdnZXI6ICdibHVyJyB9CiAgICAgICAgXSwKICAgICAgICBhY2hpZXZlQWJzdHJhY3Q6IFsKICAgICAgICAgIHsgcmVxdWlyZWQ6IHRydWUsIG1lc3NhZ2U6ICfmiJDmnpzmkZjopoHkuI3og73kuLrnqbonLCB0cmlnZ2VyOiAnYmx1cicgfQogICAgICAgIF0sCiAgICAgICAgYXNzaWduZWU6IFsKICAgICAgICAgIHsKICAgICAgICAgICAgcmVxdWlyZWQ6IHRydWUsCiAgICAgICAgICAgIG1lc3NhZ2U6ICfkuIvkuIDoioLngrnlrqHmoLjkurrkuI3og73kuLrnqbonLAogICAgICAgICAgICB0cmlnZ2VyOiAnY2hhbmdlJwogICAgICAgICAgfQogICAgICAgIF0KICAgICAgfSwKICAgICAgLy8g5LiL57qn6IqC54K55Yqe55CG5Lq6CiAgICAgIG5leHRBc3NpZ25lZTogW10sCiAgICAgIC8vIOaMiemSrue8lueggQogICAgICBidG4xOiBmYWxzZSwKICAgICAgYnRuMjogZmFsc2UsCiAgICAgIGJ0bjM6IGZhbHNlLAogICAgICBidG40OiBmYWxzZSwKICAgICAgYnRuNTogZmFsc2UsCiAgICAgIGRhdGFzOiB7fQogICAgfQogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpCiAgICB0aGlzLmdldERpY3RzKCdocl9pc19jaGFuZ2UnKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgdGhpcy5pc0V4dGVuc2lvbk9wdGlvbnMgPSByZXNwb25zZS5kYXRhCiAgICB9KQogICAgdGhpcy5nZXREaWN0cygnU0tJTExfQVBQUk9WRScpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICB0aGlzLmFwcHJvdmVPcHRpb25zID0gcmVzcG9uc2UuZGF0YQogICAgfSkKICAgIHRoaXMuZ2V0RGljdHMoJ1NLSUxMX1RBU0tfU09VUkNFJykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMudGFza1NvdXJjZU9wdGlvbnMgPSByZXNwb25zZS5kYXRhCiAgICB9KQogICAgdGhpcy5nZXREaWN0cygnc2tpbGxfa3dkaicpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICB0aGlzLmF3YXJkTGV2ZWxPcHRpb25zID0gcmVzcG9uc2UuZGF0YQogICAgfSkKICAgIHRoaXMuZ2V0RGljdHMoJ0VYVEVOU0lPTl9TQ09QRScpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICB0aGlzLmV4dGVuc2lvblNjb3BlT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGEKICAgIH0pCiAgICB0aGlzLmdldERpY3RzKCdBQ0hJRVZFX05BVFVSRScpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICB0aGlzLmFjaGlldmVOYXR1cmVPcHRpb25zID0gcmVzcG9uc2UuZGF0YQogICAgfSkKICAgIHRoaXMuZ2V0RGljdHMoJ1NLSUxMX1BBVEVOVF9UWVBFJykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMucGF0ZW50VHlwZU9wdGlvbnMgPSByZXNwb25zZS5kYXRhCiAgICB9KQogICAgdGhpcy5nZXREaWN0cygnR0JUNDY1OC4yMDA2JykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMuZWR1Y2F0aW9uT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGEKICAgIH0pCiAgICB0aGlzLmdldERpY3RzKCdERTAyLjAxLjAzNy4wMCcpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICB0aGlzLnNwZWNpYWxPcHRpb25zID0gcmVzcG9uc2UuZGF0YQogICAgfSkKICAgIHRoaXMuZ2V0RGljdHMoJ0RFMDIuMDEuMDUwLjAwJykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgIHRoaXMudGl0bGVDb2RlT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGEKICAgIH0pCiAgfSwKICBtZXRob2RzOiB7CiAgICBzdWNjZXNzU3VibWl0KCkgewogICAgICB0aGlzLiRlbWl0KCdzdWNjZXNzJywgZmFsc2UpCiAgICB9LAogICAgLy/ojrflj5bnp5HlrqTliJfooagKICAgIGdldFRyZWVEZXB0KGRlcHRJZCkgewogICAgICBsZXQgZGF0YSA9IHsKICAgICAgICBkZXB0SWQ6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkCiAgICAgIH0KICAgICAgdGhpcy5mb3JtRGVwdExpc3QgPSBbXQogICAgICB0cmVlUm9vbShkYXRhKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgIHRoaXMuZGVwdExpc3QgPSByZXNwb25zZS5yb3dzCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHRoaXMubXNnRXJyb3IocmVzcG9uc2UubXNnKQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBnZXREZXRhaWxJbmZvKCkgewogICAgICBnZXRBY2hpZXZlKHRoaXMuaWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKQogICAgICAgIHRoaXMuZm9ybSA9IHJlc3BvbnNlLmRhdGEKICAgICAgICBsZXQgdGhhdCA9IHRoaXMKICAgICAgICBsZXQgcHJvY2xuc0lkcyA9IHJlc3BvbnNlLmRhdGEucHJvY2VkdXJlSWQKICAgICAgICB0aGlzLmRhdGFzID0ge30KICAgICAgICBnZXRFbXBMaXN0KAogICAgICAgICAgdGhhdCwKICAgICAgICAgIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIubmFtZSwKICAgICAgICAgIHByb2NsbnNJZHMsCiAgICAgICAgICB0aGlzLnVzZXJPcHRpb25zLAogICAgICAgICAgdGhpcy5idG4xLAogICAgICAgICAgdGhpcy5idG4yLAogICAgICAgICAgdGhpcy5idG4zLAogICAgICAgICAgdGhpcy5idG40LAogICAgICAgICAgdGhpcy5idG41CiAgICAgICAgKQogICAgICB9KQogICAgfSwKICAgIC8qKiDmn6Xor6LmiJDmnpzliJfooaggKi8KICAgIGdldExpc3QoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgbGlzdEFjaGlldmUodGhpcy5xdWVyeVBhcmFtcykudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5hY2hpZXZlTGlzdCA9IHJlc3BvbnNlLnJvd3MKICAgICAgICB0aGlzLnRvdGFsID0gcmVzcG9uc2UudG90YWwKICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICB9KQogICAgfSwKICAgIC8vIOaYr+WQpuaOqOW5v+Wtl+WFuOe/u+ivkQogICAgaXNFeHRlbnNpb25Gb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMuaXNFeHRlbnNpb25PcHRpb25zLCByb3cuaXNFeHRlbnNpb24pCiAgICB9LAogICAgLy8g5om55YeG5Y2V5L2N5a2X5YW457+76K+RCiAgICBhcHByb3ZlRm9ybWF0KHJvdywgY29sdW1uKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdERpY3RMYWJlbCh0aGlzLmFwcHJvdmVPcHRpb25zLCByb3cuYXBwcm92ZSkKICAgIH0sCiAgICAvLyDku7vliqHmnaXmupDlrZflhbjnv7vor5EKICAgIHRhc2tTb3VyY2VGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMudGFza1NvdXJjZU9wdGlvbnMsIHJvdy50YXNrU291cmNlKQogICAgfSwKICAgIC8vIOiOt+Wlluexu+WIq+WPiuetiee6p+Wtl+WFuOe/u+ivkQogICAgYXdhcmRMZXZlbEZvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy5hd2FyZExldmVsT3B0aW9ucywgcm93LmF3YXJkTGV2ZWwpCiAgICB9LAogICAgLy8g5o6o5bm/6IyD5Zu05a2X5YW457+76K+RCiAgICBleHRlbnNpb25TY29wZUZvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy5leHRlbnNpb25TY29wZU9wdGlvbnMsIHJvdy5leHRlbnNpb25TY29wZSkKICAgIH0sCiAgICAvLyDmiJDmnpzmgKfotKjlrZflhbjnv7vor5EKICAgIGFjaGlldmVOYXR1cmVGb3JtYXQocm93LCBjb2x1bW4pIHsKICAgICAgcmV0dXJuIHRoaXMuc2VsZWN0RGljdExhYmVsKHRoaXMuYWNoaWV2ZU5hdHVyZU9wdGlvbnMsIHJvdy5hY2hpZXZlTmF0dXJlKQogICAgfSwKICAgIC8vIOS4k+WIqeexu+WIq+Wtl+WFuOe/u+ivkQogICAgcGF0ZW50VHlwZUZvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy5wYXRlbnRUeXBlT3B0aW9ucywgcm93LnBhdGVudFR5cGUpCiAgICB9LAogICAgLy8g5by55qGG5YWz6ZetCiAgICBoYW5kbGVEaWFsb2dDbG9zZSgpIHsKICAgICAgdGhpcy4kZW1pdCgnY2FuY2VsJywgZmFsc2UpCiAgICB9LAogICAgLy8g5Y+W5raICiAgICBjYW5jZWwoKSB7CiAgICAgIHRoaXMuJGVtaXQoJ2NhbmNlbCcsIGZhbHNlKQogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBjb21wQ29kZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQsCiAgICAgICAgYWNjb3VudENvZGU6IG51bGwsCiAgICAgICAgYWNoaWV2ZUNvZGU6IG51bGwsCiAgICAgICAgYWNoaWV2ZU5hbWU6IG51bGwsCiAgICAgICAgZGVwdENvZGU6IG51bGwsCiAgICAgICAgY29tcGxldGVVbml0OiBudWxsLAogICAgICAgIHBlcnNvbkNvZGU6IG51bGwsCiAgICAgICAgZWR1Y2F0aW9uOiBudWxsLAogICAgICAgIHNwZWNpYWw6IG51bGwsCiAgICAgICAgdGl0bGVDb2RlOiBudWxsLAogICAgICAgIGF3YXJkQ2F0ZWdvcnk6IG51bGwsCiAgICAgICAgYXdhcmRMZXZlbDogbnVsbCwKICAgICAgICBpc0V4dGVuc2lvbjogbnVsbCwKICAgICAgICBhd2FyZFRpbWU6IG51bGwsCiAgICAgICAgZXh0ZW5zaW9uSW5jb21lOiBudWxsLAogICAgICAgIGFwcHJvdmU6IG51bGwsCiAgICAgICAgdGFza1NvdXJjZTogbnVsbCwKICAgICAgICBleHRlbnNpb25TY29wZTogbnVsbCwKICAgICAgICBhY2hpZXZlTmF0dXJlOiBudWxsLAogICAgICAgIGRydWdBcHByb3ZhbDogbnVsbCwKICAgICAgICBwYXRlbnRJbmNvbWU6IG51bGwsCiAgICAgICAgcGF0ZW50Tm86IG51bGwsCiAgICAgICAgcGF0ZW50VHlwZTogbnVsbCwKICAgICAgICBzdWJqZWN0V29yZHM6IG51bGwsCiAgICAgICAgYWNoaWV2ZUFic3RyYWN0OiBudWxsLAogICAgICAgIGFubmV4OiBudWxsLAogICAgICAgIGF1ZGl0U3RhdGU6IG51bGwsCiAgICAgICAgcHJvY2VkdXJlSWQ6IG51bGwsCiAgICAgICAgZGVsRmxhZzogbnVsbCwKICAgICAgICBjcmVhdGVCeTogbnVsbCwKICAgICAgICBjcmVhdGVUaW1lOiBudWxsLAogICAgICAgIHVwZGF0ZUJ5OiBudWxsLAogICAgICAgIHVwZGF0ZVRpbWU6IG51bGwsCiAgICAgICAgcmVtYXJrOiBudWxsCiAgICAgIH0KICAgICAgdGhpcy5yZXNldEZvcm0oJ2Zvcm0nKQogICAgfSwKICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KICAgIHN1Ym1pdEZvcm0oKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICBsZXQgc2F2ZUxvYWRpbmcgPSB0aGlzLnNhdmVMb2FkaW5nKCkKICAgICAgICAgIHRoaXMuZm9ybS5jb21wQ29kZSA9IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkCiAgICAgICAgICBpZiAodGhpcy5mb3JtLmlkICE9IG51bGwpIHsKICAgICAgICAgICAgdXBkYXRlQWNoaWV2ZSh0aGlzLmZvcm0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygn5L+u5pS55oiQ5YqfJykKICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzdWNjZXNzJywgZmFsc2UpCiAgICAgICAgICAgICAgc2F2ZUxvYWRpbmcuY2xvc2UoKQogICAgICAgICAgICB9KQogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgYWRkQWNoaWV2ZSh0aGlzLmZvcm0pLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygn5paw5aKe5oiQ5YqfJykKICAgICAgICAgICAgICB0aGlzLiRlbWl0KCdzdWNjZXNzJywgZmFsc2UpCiAgICAgICAgICAgICAgc2F2ZUxvYWRpbmcuY2xvc2UoKQogICAgICAgICAgICB9KQogICAgICAgICAgfQogICAgICAgIH0KICAgICAgfSkKICAgIH0sCiAgICBzdWJtaXRGb3JtQ29udGludWUoKSB7CiAgICAgIHRoaXMuJHJlZnNbJ2Zvcm0nXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAvLyDkuIvnuqflrqHmoLjkurrlvLnmoYYKICAgICAgICAgIHRoaXMuc2hvd0RpYWxvZyA9IHRydWUKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5tc2dFcnJvcign6K+36L6T5YWl5b+F5aGr6aG5JykKICAgICAgICB9CiAgICAgIH0pCiAgICB9LAogICAgZm9ybUl0ZW1TdWNjZXNzKGRhdGEpIHsKICAgICAgdGhpcy5mb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShkYXRhKSkKICAgICAgdGhpcy5mb3JtLmNvbXBDb2RlID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQKICAgICAgbGV0IHNhdmVMb2FkaW5nID0gdGhpcy5zYXZlTG9hZGluZygpCiAgICAgIHVwZGF0ZUFjaGlldmUxKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCfkv67mlLnmiJDlip8nKQogICAgICAgIHRoaXMuJGVtaXQoJ3N1Y2Nlc3MnLCBmYWxzZSkKICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpCiAgICAgIH0pLmNhdGNoKCgpID0+IHsKICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpCiAgICAgIH0pCgogICAgfQogIH0KfQo="},{"version":3,"sources":["addEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA6MA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA","file":"addEdit.vue","sourceRoot":"src/views/skill/achieve","sourcesContent":["<template>\n  <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"50%\" custom-class=\"el-button--primary\" append-to-body\n             :close-on-click-modal=\"false\" @close=\"handleDialogClose\"\n  >\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\">\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"成果编码\" prop=\"achieveCode\">\n            <el-input v-model=\"form.achieveCode\" placeholder=\"请输入成果编码\" maxlength=\"20\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"成果名称\" prop=\"achieveName\">\n            <el-input v-model=\"form.achieveName\" placeholder=\"请输入成果名称\" maxlength=\"100\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"科室\" prop=\"deptCode\">\n            <el-select v-model=\"form.deptCode\" clearable placeholder=\"请选择科室\" class=\"w100\" filterable clearable>\n              <el-option\n                v-for=\"item in deptList\"\n                :key=\"item.deptRoomId\"\n                :label=\"item.deptRoomName\"\n                :value=\"item.deptRoomId\"\n              >\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"主要完成单位\" prop=\"completeUnit\">\n            <el-input v-model=\"form.completeUnit\" placeholder=\"请输入主要完成单位\" maxlength=\"100\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"主要完成人\" prop=\"personCode\">\n            <el-input v-model=\"form.personCode\" placeholder=\"请输入完成人\" maxlength=\"20\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"完成人学历\" prop=\"education\">\n            <el-select v-model=\"form.education\" placeholder=\"请选择完成人学历\" class=\"w100\" filterable clearable>\n              <el-option\n                v-for=\"dict in educationOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"完成人职称\" prop=\"titleCode\">\n            <el-select v-model=\"form.titleCode\" placeholder=\"请选择完成人职称\" class=\"w100\" filterable clearable>\n              <el-option\n                v-for=\"dict in titleCodeOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n            <el-form-item label=\"获奖类别及等级\" prop=\"awardLevel\">\n              <el-select v-model=\"form.awardLevel\" placeholder=\"请选择获奖类别及等级\" class=\"w100\">\n                <el-option\n                  v-for=\"dict in awardLevelOptions\"\n                  :key=\"dict.dictValue\"\n                  :label=\"dict.dictLabel\"\n                  :value=\"dict.dictValue\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"是否推广应用\" prop=\"isExtension\">\n            <el-select v-model=\"form.isExtension\" placeholder=\"请选择是否推广\" class=\"w100\">\n              <el-option\n                v-for=\"dict in isExtensionOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"获奖时间\" prop=\"awardTime\">\n            <el-date-picker clearable size=\"small\" class=\"w100\"\n                            v-model=\"form.awardTime\"\n                            type=\"date\"\n                            value-format=\"yyyy-MM-dd\"\n                            placeholder=\"选择获奖时间\"\n            >\n            </el-date-picker>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"推广收益\" prop=\"extensionIncome\">\n            <el-input-number v-model=\"form.extensionIncome\" max=\"99999999999999999\" :precision=\"2\" controls-position=\"right\" :min=\"0\" :step=\"1\" @click.native.stop class=\"w100\"/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"批准单位\" prop=\"approve\">\n            <el-select v-model=\"form.approve\" placeholder=\"请选择批准单位\" class=\"w100\">\n              <el-option\n                v-for=\"dict in approveOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"任务来源\" prop=\"taskSource\">\n            <el-select v-model=\"form.taskSource\" placeholder=\"请选择任务来源\" class=\"w100\">\n              <el-option\n                v-for=\"dict in taskSourceOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"推广范围\" prop=\"extensionScope\">\n            <el-select v-model=\"form.extensionScope\" placeholder=\"请选择推广范围\" class=\"w100\">\n              <el-option\n                v-for=\"dict in extensionScopeOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"成果性质\" prop=\"achieveNature\">\n            <el-select v-model=\"form.achieveNature\" placeholder=\"请选择成果性质\" class=\"w100\">\n              <el-option\n                v-for=\"dict in achieveNatureOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"新药批文号\" prop=\"drugApproval\">\n            <el-input v-model=\"form.drugApproval\" placeholder=\"请输入新药批文号\" maxlength=\"50\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"专利收益\" prop=\"patentIncome\">\n            <el-input-number v-model=\"form.patentIncome\" max=\"99999999999999999\" :precision=\"2\" controls-position=\"right\" :min=\"0\" :step=\"1\" @click.native.stop class=\"w100\"/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"专利号\" prop=\"patentNo\">\n            <el-input v-model=\"form.patentNo\" placeholder=\"请输入专利号\" maxlength=\"50\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"专利类别\" prop=\"patentType\">\n            <el-select v-model=\"form.patentType\" placeholder=\"请选择专利类别\" class=\"w100\">\n              <el-option\n                v-for=\"dict in patentTypeOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"主题词\" prop=\"subjectWords\">\n            <el-input v-model=\"form.subjectWords\" placeholder=\"请输入主题词\" maxlength=\"100\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"成果摘要\" prop=\"achieveAbstract\">\n            <el-input v-model=\"form.achieveAbstract\" placeholder=\"请输入成果摘要\" maxlength=\"200\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <formItem :showDialog.sync=\"showDialog\" :showBaseInfo=\"btn3\" :open=\"btn4\" :open2=\"btn5\" :comment=\"form\"\n                :userOptions=\"userOptions\" @success=\"formItemSuccess\"\n      ></formItem>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <btns v-if=\"btn3\" @success=\"successSubmit\" :open=\"btn3\" :id=\"id\" :proclnsIds=\"proclnsIds\" :comment=\"form.comment\"\n            :assignee=\"form.assignee\"\n      ></btns>\n      <el-button v-if=\"btn2\" type=\"primary\" @click=\"submitFormContinue\">保存并提交</el-button>\n      <el-button v-if=\"btn1\" type=\"primary\" @click=\"submitForm\">保 存</el-button>\n      <el-button @click=\"cancel\">取 消</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { addAchieve, getAchieve, listAchieve, updateAchieve, updateAchieve1 } from '@/api/skill/achieve'\nimport { getEmpList, treeRoom } from '@/api/until'\nimport btns from '@/views/skill/achieve/btns'\nimport formItem from '@/views/components/formItemNew'\n\nexport default {\n  name: 'addEdit',\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: [String, Number],\n      default: ''\n    },\n    proclnsIds: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  watch: {\n    'form.compCode': {\n      handler(val) {\n        this.getTreeDept(val)\n      },\n      deep: true,\n      immediate: true\n    },\n    id: {\n      handler(val) {\n        this.reset()\n        if (val) {\n          this.id = val\n          if (val != 0) {\n            this.title = '成果管理 / 修改'\n          } else {\n            this.title = '成果管理 / 新增'\n          }\n          this.getDetailInfo()\n        } else {\n          this.id = ''\n          this.title = '成果管理-新增'\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    open: {\n      handler(val) {\n        this.openDialog = val\n      },\n      deep: true\n    }\n  },\n  components: {\n    btns, formItem\n  },\n  data() {\n    return {\n      showDialog: false,\n      title: '成果管理-新增',\n      openDialog: this.open,\n      // 表单参数\n      form: {},\n      isExtensionOptions: [],\n      approveOptions: [],\n      taskSourceOptions: [],\n      awardLevelOptions: [],\n      extensionScopeOptions: [],\n      achieveNatureOptions: [],\n      patentTypeOptions: [],\n      deptList: [],\n      //用户列表\n      userOptions: [],\n      //学历\n      educationOptions: [],\n      specialOptions: [],\n      titleCodeOptions: [],\n      // 表单校验\n      rules: {\n        achieveCode: [\n          { required: true, message: '成果编号不能为空', trigger: 'blur' }\n        ],\n        achieveName: [\n          { required: true, message: '成果名称不能为空', trigger: 'blur' }\n        ],\n        deptCode: [\n          { required: true, message: '科室编码不能为空', trigger: 'blur' }\n        ],\n        completeUnit: [\n          { required: true, message: '主要完成单位不能为空', trigger: 'blur' }\n        ],\n        personCode: [\n          { required: true, message: '完成人不能为空', trigger: 'blur' }\n        ],\n        education: [\n          { required: true, message: '完成人学历不能为空', trigger: 'blur' }\n        ],\n        special: [\n          { required: true, message: '完成人专业不能为空', trigger: 'blur' }\n        ],\n        titleCode: [\n          { required: true, message: '职称不能为空', trigger: 'blur' }\n        ],\n        awardCategory: [\n          { required: true, message: '获奖类别不能为空', trigger: 'blur' }\n        ],\n        awardLevel: [\n          { required: true, message: '获奖级别不能为空', trigger: 'blur' }\n        ],\n        isExtension: [\n          { required: true, message: '是否推广不能为空', trigger: 'change' }\n        ],\n        awardTime: [\n          { required: true, message: '获奖时间不能为空', trigger: 'blur' }\n        ],\n        extensionIncome: [\n          { required: true, message: '获奖收益不能为空', trigger: 'blur' }\n        ],\n        approve: [\n          { required: true, message: '批准单位不能为空', trigger: 'change' }\n        ],\n        taskSource: [\n          { required: true, message: '任务来源不能为空', trigger: 'change' }\n        ],\n        extensionScope: [\n          { required: true, message: '推广范围不能为空', trigger: 'change' }\n        ],\n        achieveNature: [\n          { required: true, message: '成果性质不能为空', trigger: 'change' }\n        ],\n        drugApproval: [\n          { required: true, message: '药批号不能为空', trigger: 'blur' }\n        ],\n        patentIncome: [\n          { required: true, message: '专利收益不能为空', trigger: 'blur' }\n        ],\n        patentNo: [\n          { required: true, message: '专利号不能为空', trigger: 'blur' }\n        ],\n        patentType: [\n          { required: true, message: '专利类别不能为空', trigger: 'change' }\n        ],\n        subjectWords: [\n          { required: true, message: '主题词不能为空', trigger: 'blur' }\n        ],\n        achieveAbstract: [\n          { required: true, message: '成果摘要不能为空', trigger: 'blur' }\n        ],\n        assignee: [\n          {\n            required: true,\n            message: '下一节点审核人不能为空',\n            trigger: 'change'\n          }\n        ]\n      },\n      // 下级节点办理人\n      nextAssignee: [],\n      // 按钮编码\n      btn1: false,\n      btn2: false,\n      btn3: false,\n      btn4: false,\n      btn5: false,\n      datas: {}\n    }\n  },\n  created() {\n    this.getList()\n    this.getDicts('hr_is_change').then(response => {\n      this.isExtensionOptions = response.data\n    })\n    this.getDicts('SKILL_APPROVE').then(response => {\n      this.approveOptions = response.data\n    })\n    this.getDicts('SKILL_TASK_SOURCE').then(response => {\n      this.taskSourceOptions = response.data\n    })\n    this.getDicts('skill_kwdj').then(response => {\n      this.awardLevelOptions = response.data\n    })\n    this.getDicts('EXTENSION_SCOPE').then(response => {\n      this.extensionScopeOptions = response.data\n    })\n    this.getDicts('ACHIEVE_NATURE').then(response => {\n      this.achieveNatureOptions = response.data\n    })\n    this.getDicts('SKILL_PATENT_TYPE').then(response => {\n      this.patentTypeOptions = response.data\n    })\n    this.getDicts('GBT4658.2006').then(response => {\n      this.educationOptions = response.data\n    })\n    this.getDicts('DE02.01.037.00').then(response => {\n      this.specialOptions = response.data\n    })\n    this.getDicts('DE02.01.050.00').then(response => {\n      this.titleCodeOptions = response.data\n    })\n  },\n  methods: {\n    successSubmit() {\n      this.$emit('success', false)\n    },\n    //获取科室列表\n    getTreeDept(deptId) {\n      let data = {\n        deptId: this.$store.state.user.userInfo.deptId\n      }\n      this.formDeptList = []\n      treeRoom(data).then(response => {\n        if (response.code == 200) {\n          this.deptList = response.rows\n        } else {\n          this.msgError(response.msg)\n        }\n      })\n    },\n    getDetailInfo() {\n      getAchieve(this.id).then(response => {\n        console.log(response)\n        this.form = response.data\n        let that = this\n        let proclnsIds = response.data.procedureId\n        this.datas = {}\n        getEmpList(\n          that,\n          this.$store.state.user.name,\n          proclnsIds,\n          this.userOptions,\n          this.btn1,\n          this.btn2,\n          this.btn3,\n          this.btn4,\n          this.btn5\n        )\n      })\n    },\n    /** 查询成果列表 */\n    getList() {\n      this.loading = true\n      listAchieve(this.queryParams).then(response => {\n        this.achieveList = response.rows\n        this.total = response.total\n        this.loading = false\n      })\n    },\n    // 是否推广字典翻译\n    isExtensionFormat(row, column) {\n      return this.selectDictLabel(this.isExtensionOptions, row.isExtension)\n    },\n    // 批准单位字典翻译\n    approveFormat(row, column) {\n      return this.selectDictLabel(this.approveOptions, row.approve)\n    },\n    // 任务来源字典翻译\n    taskSourceFormat(row, column) {\n      return this.selectDictLabel(this.taskSourceOptions, row.taskSource)\n    },\n    // 获奖类别及等级字典翻译\n    awardLevelFormat(row, column) {\n      return this.selectDictLabel(this.awardLevelOptions, row.awardLevel)\n    },\n    // 推广范围字典翻译\n    extensionScopeFormat(row, column) {\n      return this.selectDictLabel(this.extensionScopeOptions, row.extensionScope)\n    },\n    // 成果性质字典翻译\n    achieveNatureFormat(row, column) {\n      return this.selectDictLabel(this.achieveNatureOptions, row.achieveNature)\n    },\n    // 专利类别字典翻译\n    patentTypeFormat(row, column) {\n      return this.selectDictLabel(this.patentTypeOptions, row.patentType)\n    },\n    // 弹框关闭\n    handleDialogClose() {\n      this.$emit('cancel', false)\n    },\n    // 取消\n    cancel() {\n      this.$emit('cancel', false)\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: this.$store.state.user.userInfo.deptId,\n        accountCode: null,\n        achieveCode: null,\n        achieveName: null,\n        deptCode: null,\n        completeUnit: null,\n        personCode: null,\n        education: null,\n        special: null,\n        titleCode: null,\n        awardCategory: null,\n        awardLevel: null,\n        isExtension: null,\n        awardTime: null,\n        extensionIncome: null,\n        approve: null,\n        taskSource: null,\n        extensionScope: null,\n        achieveNature: null,\n        drugApproval: null,\n        patentIncome: null,\n        patentNo: null,\n        patentType: null,\n        subjectWords: null,\n        achieveAbstract: null,\n        annex: null,\n        auditState: null,\n        procedureId: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      }\n      this.resetForm('form')\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          let saveLoading = this.saveLoading()\n          this.form.compCode = this.$store.state.user.userInfo.deptId\n          if (this.form.id != null) {\n            updateAchieve(this.form).then(response => {\n              this.msgSuccess('修改成功')\n              this.$emit('success', false)\n              saveLoading.close()\n            })\n          } else {\n            addAchieve(this.form).then(response => {\n              this.msgSuccess('新增成功')\n              this.$emit('success', false)\n              saveLoading.close()\n            })\n          }\n        }\n      })\n    },\n    submitFormContinue() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          // 下级审核人弹框\n          this.showDialog = true\n        } else {\n          this.msgError('请输入必填项')\n        }\n      })\n    },\n    formItemSuccess(data) {\n      this.form = JSON.parse(JSON.stringify(data))\n      this.form.compCode = this.$store.state.user.userInfo.deptId\n      let saveLoading = this.saveLoading()\n      updateAchieve1(this.form).then(response => {\n        this.msgSuccess('修改成功')\n        this.$emit('success', false)\n        saveLoading.close()\n      }).catch(() => {\n        saveLoading.close()\n      })\n\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .el-dialog {\n  height: 70%;\n  overflow: hidden;\n\n  .el-dialog__body {\n    height: calc(100% - 100px);\n    overflow: auto;\n\n    .el-form-item__label {\n      width: 120px !important;\n    }\n\n    .el-form-item__content {\n      margin-left: 120px !important;\n    }\n  }\n}\n</style>\n"]}]}
{"remainingRequest":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\tool\\formProcess\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\tool\\formProcess\\index.vue","mtime":1718087161015},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRlcGxveUxpc3Qsc2F2ZURlc2lnbixnZXRGb3JtLHRlc3RGb3JtLGdldEZvcm1EZXRhaWxzLGFkZFNhdmVGb3JtLGRlbEZvcm19IGZyb20gJ0AvYXBpL3V0aWxzJzsKaW1wb3J0IHtnZXREZXB0SW5mb0ZvclBtcyxnZXRGb3JtVGFibGVMaXN0LGVkaXRBZGRGb3JtRGVzaWdufSBmcm9tICJAL2FwaS9mb3JtRGVzaWduL2Zvcm1EZXNpZ24iOwppbXBvcnQgeyBsaXN0RGV0YWlsIH0gZnJvbSAiQC9hcGkvcXVhbGl0eS9kZXRhaWwiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CmltcG9ydCB7IGdldEZvcm1EZXNpZ24gfSBmcm9tICcuLi8uLi8uLi9hcGkvZm9ybURlc2lnbi9mb3JtRGVzaWduJwpleHBvcnQgZGVmYXVsdCB7CglkYXRhKCl7CiAgICAgICAgcmV0dXJuewoJCQkJCXRhYmxlSGVpZ2h0OidhdXRvJywKCQkJCQlpc0FkZDpmYWxzZSwKICAgICAgICAJaWRkOm51bGwsCiAgICAgICAgCS8vIOS/ruaUuWlkCiAgICAgIAkJYWRkRWRpdElkOiAiIiwKICAgICAgICAJbGlzdHM6W10sCiAgICAgICAgCWxpc3RzMjpbXSwKICAgICAgICAJY29sczpbXSwKICAgICAgICAgIAlqc29uRGF0YTp7CiAgICAgICAgICAJCWxpc3Q6W10sCiAgICAgICAgICAJfSwKICAgICAgICAgIAlmb3JtRGVzaWduSWQ6IiIsCiAgICAgICAgICAJLy8gZm9ybURlc2lnbklkOnRoaXMuJHJvdXRlLm5hbWUsCiAgICAgICAgICAJZm9ybU5hbWU6IiIsCiAgICAgICAgICAgCS8vIOmBrue9qeWxggoJICAgICAgCWxvYWRpbmc6IGZhbHNlLAoJICAgICAgCS8vIOWvvOWHuumBrue9qeWxggoJICAgICAgCWV4cG9ydExvYWRpbmc6IGZhbHNlLAoJICAgICAgCS8vIOmAieS4reaVsOe7hAoJICAgICAgCWlkczogW10sCgkgICAgICAJLy8g6Z2e5Y2V5Liq56aB55SoCgkgICAgICAJc2luZ2xlOiB0cnVlLAoJICAgICAgCS8vIOmdnuWkmuS4quemgeeUqAoJICAgICAgCW11bHRpcGxlOiB0cnVlLAoJICAgICAgCS8vIOaYvuekuuaQnOe0ouadoeS7tgoJICAgICAgCXNob3dTZWFyY2g6IHRydWUsCgkgICAgICAJLy8g5oC75p2h5pWwCgkgICAgICAJdG90YWw6IDAsCgkgICAgICAJLy8g6Ieq5a6a5LmJ6KGo5Y2V6KGo5qC85pWw5o2uCgkgICAgICAJZm9ybURlc2lnbkxpc3Q6IFtdLAoJICAgICAgCS8vIOW8ueWHuuWxguagh+mimAoJICAgICAgCXRpdGxlOiAiIiwKCQkJCQlzZWFyY2hUaXRsZToiIiwKCSAgICAgIAkvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKCSAgICAgIAlvcGVuOiBmYWxzZSwKCQkJCQlvcGVuX3NlYXJjaDpmYWxzZSwKCSAgICAgIAkvLyDmn6Xor6Llj4LmlbAKCSAgICAgIAlxdWVyeVBhcmFtczogewoJICAgICAgICAJcGFnZU51bTogMSwKCQkJCQkJcGFnZVNpemU6IDMwLAoJICAgICAgCX0sCgkgICAgICAJLy8g6KGo5Y2V5Y+C5pWwCgkgICAgICAJZm9ybToge2xpc3RzMjpbXX0sCgkgICAgICAJLy8g6KGo5Y2V5qCh6aqMCgkJCQkJcnVsZXM6IHt9LAoJCQkJCXNlbGVjdGlvblJvdzpbXSwKCQkJCQl0YWJsZUxvYWRpbmc6ZmFsc2UsCgkJCQkJZm9ybURhdGFMaXN0OltdLAoJCQkJCWZvcm1EYXRhTGlzdDE6W10sCgkJCQkJZm9ybURhdGFMaXN0MjpbXSwKCQkJCQltYnB4VHlwZU9wdGlvbnM6W10sCgkJCQkJcXVlcnlUeXBlT3B0aW9uczpbXSwKCQkJCQlpc1Btc0d1aWRhbmNlOmZhbHNlLAoJCQkJCWlzUG1zUmVzdWx0OmZhbHNlLAoJCQkJCWlzQWRkU2hvdzpmYWxzZSwKCQkJCQl0YXJnZXRWYWx1ZTpbXSwvL+aMh+agh+aVsOaNrgoJCQkJCWl0ZW1BbGlnbjonJwogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOnt9LAogICAgY3JlYXRlZCgpIHsKICAgICAgY29uc29sZS5sb2coIui/m+WFpeS/oeaBryIpOwoJCQkJdGhpcy5nZXREaWN0cygicG1zX21icHhfdHlwZSIpLnRoZW4ocmVzcG9uc2UgPT4gewoJCQkJCXRoaXMubWJweFR5cGVPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKCQkJCX0pOwoJCQkJdGhpcy5nZXREaWN0cygicG1zX21ic3hfdGoiKS50aGVuKHJlc3BvbnNlID0+IHsKCQkJCQl0aGlzLnF1ZXJ5VHlwZU9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwoJCQkJfSk7CgogICAgICBjb25zb2xlLmxvZygiLiRyb3V0ZS5wYXRoPSIrdGhpcy4kcm91dGUucGF0aCk7CiAgICAgIGdldEZvcm1EZXNpZ24odGhpcy4kcm91dGUubmFtZSkudGhlbigocmVzcG9uc2UpID0+ewogICAgICAgIGNvbnNvbGUubG9nKCLkv67mlLnliY1mb3JtRGVzaWduSWQ9Iit0aGlzLmZvcm1EZXNpZ25JZCk7CiAgICAgICAgdGhpcy5mb3JtRGVzaWduSWQgPSByZXNwb25zZS5kYXRhLmlkOwogICAgICAgIHRoaXMuZm9ybU5hbWUgPSByZXNwb25zZS5kYXRhLmZvcm1OYW1lOwogICAgICAgIGNvbnNvbGUubG9nKCLkv67mlLnlkI5mb3JtRGVzaWduSWQ9Iit0aGlzLmZvcm1EZXNpZ25JZCk7CgogICAgICB9KQogICAgICBjb25zb2xlLmxvZygiY3JlYXRlZCDkuK1mb3JtRGVzaWduSWQ9Iit0aGlzLmZvcm1EZXNpZ25JZCk7CgkJCQl0aGlzLmdldExpc3QoKTsKCQkJCXRoaXMuJG5leHRUaWNrKCgpID0+IHsKCQkJCQl0aGlzLnJlc2l6ZUhhbmRsZXIoKTsKCQkJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5yZXNpemVIYW5kbGVyKTsKCQkJCX0pOwoJCX0sCgkJY29tcHV0ZWQ6IHsKCQkJbGlzdERhdGEoKSB7CgkJCQlyZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnNpZGViYXIub3BlbmVkOwoJCQl9CgkJfSwKCQl3YXRjaDogewoJCQlsaXN0RGF0YSh2YWwpIHsKCQkJCXZhciB0aGF0ID0gdGhpczsKCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJdGhhdC5yZXNpemVIYW5kbGVyKCk7CgkJCQl9LCAzMDApOwoJCQl9CgkJfSwKICAgIG1ldGhvZHM6ewoJCQloYW5kbGVDbGlja1RhYmxlTmFtZShkYXRhKSB7CiAgICAgICAgLy8g6YCJ5Lit5b2T5YmN6KGMCiAgICAgICAgdGhpcy5yb3dDbGljayhkYXRhLCBmYWxzZSk7CiAgICAgICAgdGhpcy5oYW5kbGVVcGRhdGUoZGF0YSk7CiAgICAgIH0sCgkJCXJlc2l6ZUhhbmRsZXIoKSB7CgkJCQlsZXQgYSA9IHRoaXMuJHJlZnMuYnRucy5vZmZzZXRIZWlnaHQ7CgkJCQlsZXQgYiA9IHRoaXMuJHJlZnMuc2VhcmNocy5vZmZzZXRIZWlnaHQ7CgkJCQlsZXQgaCA9YSArIGIgKyAxOCArIDQ1ICsgODQgKyAzNjsKCQkJCWggPSBoIDsKCQkJCS8vIGBjYWxjKDEwMHZoIC0gJHtofSlgOwoJCQkJdGhpcy50YWJsZUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSBoICsgInB4IjsKCQkJCS8vIGNvbnNvbGUubG9nKHRoaXMudGFibGVIZWlnaHQpCgoJCQl9LAogICAgCXN0YXRlRm9ybWF0KHJvdywgY29sdW1uLCBjZWxsVmFsdWUpIHsKCQkJCWxldCBhcnIgPSB0aGlzLmxpc3RzOwogICAgCQlmb3IobGV0IGk9MDtpPGFyci5sZW5ndGg7aSsrKXsKICAgIAkJCWlmKGFycltpXS5maWVsZE5hbWU9PWNvbHVtbi5wcm9wZXJ0eSl7CgkJCQkJCWlmKGFycltpXS5maWVsZE5hbWU9PSJjc190YXJnZXQiKXsKCQkJCQkJCXJldHVybiB0aGlzLnNlbGVjdERpY3RJbmRleExhYmVsKGFycltpXS5vcHRpb25zLGNlbGxWYWx1ZSkKCQkJCQkJfWVsc2V7CgkJCQkJCQlyZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwoYXJyW2ldLm9wdGlvbnMsY2VsbFZhbHVlKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfSwKICAgIAkvKiog5p+l6K+i6Ieq5a6a5LmJ6KGo5Y2V5YiX6KGoICovCgkgICAgZ2V0TGlzdCgpIHsKCSAgICAgIAkvLyB0aGlzLmxvYWRpbmcgPSB0cnVlOwoJICAgIAkJbGV0IGRhdGEgPSB7CgkJCQkJCS8vIGZvcm1EZXNpZ25JZDp0aGlzLmZvcm1EZXNpZ25JZCwKCQkJCQkJZm9ybURlc2lnbklkOnRoaXMuJHJvdXRlLm5hbWUsCgkgICAgICAgIH0KICAgICAgICBjb25zb2xlLmxvZygibGlzdCDkuK1mb3JtRGVzaWduSWQ9Iit0aGlzLmZvcm1EZXNpZ25JZCk7CgkgICAgICAgIGRlcGxveUxpc3QoZGF0YSkudGhlbihyZXNwb25zZSA9PiB7CgkgICAgICAgIAkvLyBjb25zb2xlLmxvZyhyZXNwb25zZSk7CgkgICAgICAgIAl0aGlzLmxpc3RzID0gcmVzcG9uc2UuZGF0YTsKCSAgICAgICAgCXRoaXMubGlzdHMyID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmxpc3RzKSkKCSAgICAgICAgCXRoaXMuZm9ybSA9IHsKCSAgICAgICAgCQlsaXN0czI6dGhpcy5saXN0czIKCQkJCQkJfQoJICAgICAgICAJZm9yKGxldCBpPTA7aTx0aGlzLmxpc3RzLmxlbmd0aDtpKyspewoJICAgICAgICAJCXRoaXMuJHNldCggdGhpcy5saXN0c1tpXSwgdGhpcy5saXN0c1tpXS5maWVsZE5hbWUsIG51bGwgKQoJCQkJCQkJdGhpcy4kc2V0KCB0aGlzLmxpc3RzW2ldLCAidmFsIiwgbnVsbCApCgkJCQkJCQlpZih0aGlzLmxpc3RzW2ldLmZpZWxkVHlwZT09InNlbGVjdCIpewoJCQkJCQkJCWlmKHRoaXMubGlzdHNbaV0uZmllbGROYW1lPT0iY3NfdGFyZ2V0Iil7CgkJCQkJCQkJCQlsZXQgcGFyYW1zPXsKCQkJCQkJCQkJCQkJaW5kZXhDb2RlOnRoaXMubGlzdHNbaV0uaW5kZXhDb2RlLAoJCQkJCQkJCQkJCQljb21wQ29kZTp0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZCAgLy8g5b+F5LygCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlsaXN0RGV0YWlsKHBhcmFtcykudGhlbihyZXNwb25zZT0+ewoJCQkJCQkJCQkJCQlpZihyZXNwb25zZS5jb2RlPT09MjAwKXsKCQkJCQkJCQkJCQkJCXRoaXMuJHNldCggdGhpcy5saXN0c1tpXSwgIm9wdGlvbnMiLHJlc3BvbnNlLnJvd3MgKTsKCQkJCQkJCQkJCQkJCXRoaXMudGFyZ2V0VmFsdWU9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5yb3dzKSkKCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJfSkKCQkJCQkJCQl9ZWxzZSBpZih0aGlzLmxpc3RzW2ldLmZpZWxkTmFtZT09ImNzX2RlcHQiKXsKCQkJCQkJCQkJbGV0IHBhcmFtcz0gewoJCQkJCQkJCQkJY29tcENvZGU6dGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQKCQkJCQkJCQkJfQoJCQkJCQkJCQlnZXREZXB0SW5mb0ZvclBtcyhwYXJhbXMpLnRoZW4ocmVzPT57CgkJCQkJCQkJCQkJaWYocmVzLmNvZGU9PT0yMDApewoJCQkJCQkJCQkJCQkJdGhpcy4kc2V0KCB0aGlzLmxpc3RzW2ldLCAib3B0aW9ucyIscmVzLmRhdGEgKQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJfSkKCQkJCQkJCQl9ZWxzZXsKCQkJCQkJCQkJdGhpcy5nZXREaWN0cyh0aGlzLmxpc3RzW2ldLmRpY3RUeXBlKS50aGVuKHJlc3BvbnNlID0+IHsKCQkJCQkJCQkJCXRoaXMuJHNldCggdGhpcy5saXN0c1tpXSwgIm9wdGlvbnMiLCByZXNwb25zZS5kYXRhICkKCQkJCQkJCQkJfSk7CgkJCQkJCQkJfQoJCQkJCQkJfQoJICAgICAgICAJCWlmKHRoaXMubGlzdHNbaV0uZmllbGRUeXBlPT0icmFkaW8iKXsKCSAgICAgICAgCQkJdGhpcy5saXN0c1tpXS5vcHRpb25zID0gSlNPTi5wYXJzZSh0aGlzLmxpc3RzW2ldLm9wdGlvbnMpCgkgICAgICAgIAkJfQoJICAgICAgICAJCWlmKHRoaXMubGlzdHNbaV0uZmllbGRUeXBlPT0iY2hlY2tib3giKXsKCSAgICAgICAgCQkJdGhpcy5saXN0c1tpXS5vcHRpb25zID0gSlNPTi5wYXJzZSh0aGlzLmxpc3RzW2ldLm9wdGlvbnMpCgkgICAgICAgIAkJCXRoaXMuJHNldCggdGhpcy5saXN0c1tpXSwgInZhbCIsIFtdKQoJICAgICAgICAJCX0KCQkJCQlpZih0aGlzLmxpc3RzW2ldLmZpZWxkVHlwZT09ImRhdGUiJiZ0aGlzLmxpc3RzW2ldLnF1ZXJ5VHlwZT09ImJldHdlZW4iKXsKCQkJCQkJdGhpcy4kc2V0KCB0aGlzLmxpc3RzW2ldLCAidmFsIiwgW21vbWVudCgpLnN0YXJ0T2YoJ21vbnRoJykuZm9ybWF0KCdZWVlZLU1NLUREJyksbW9tZW50KCkuZW5kT2YoJ21vbnRoJykuZm9ybWF0KCdZWVlZLU1NLUREJyldKQoJCQkJCX0KCQkJCQkJfQoJICAgICAgICAJZm9yKGxldCBpPTA7aTx0aGlzLmxpc3RzMi5sZW5ndGg7aSsrKXsKCSAgICAgICAgCQl0aGlzLiRzZXQoIHRoaXMubGlzdHMyW2ldLCB0aGlzLmxpc3RzMltpXS5maWVsZE5hbWUsIG51bGwgKTsKCQkJCQkJCXRoaXMuJHNldCggdGhpcy5saXN0czJbaV0sICJ2YWwiLCB0aGlzLmxpc3RzMltpXS5kZWZhdWx0VmFsdWUgKTsKCSAgICAgICAgCQlpZih0aGlzLmxpc3RzMltpXS5maWVsZFR5cGU9PSJzZWxlY3QiKXsKCQkJCQkJCQlpZih0aGlzLmxpc3RzMltpXS5maWVsZE5hbWU9PSJjc190YXJnZXQiKXsKCQkJCQkJCQkJbGV0IHBhcmFtcz17CgkJCQkJCQkJCQkJaW5kZXhDb2RlOnRoaXMubGlzdHMyW2ldLmluZGV4Q29kZSwKCQkJCQkJCQkJCSAgY29tcENvZGU6dGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQgICAvL+W/heS8oAoJCQkJCQkJCQl9CgkJCQkJCQkJCWxpc3REZXRhaWwocGFyYW1zKS50aGVuKHJlc3BvbnNlPT57CgkJCQkJCQkJCQkJaWYocmVzcG9uc2UuY29kZT09PTIwMCl7CgkJCQkJCQkJCQkJCXRoaXMuJHNldCggdGhpcy5saXN0czJbaV0sICJvcHRpb25zIixyZXNwb25zZS5yb3dzICkKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCX0pCgkJCQkJCQkJfWVsc2UgaWYodGhpcy5saXN0czJbaV0uZmllbGROYW1lPT0iY3NfZGVwdCIpewoJCQkJCQkJCQlsZXQgcGFyYW1zPSB7CgkJCQkJCQkJCQljb21wQ29kZTp0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZAoJCQkJCQkJCQl9CgkJCQkJCQkJCWdldERlcHRJbmZvRm9yUG1zKHBhcmFtcykudGhlbihyZXM9PnsKCQkJCQkJCQkJCQlpZihyZXMuY29kZT09PTIwMCl7CgkJCQkJCQkJCQkJCQl0aGlzLiRzZXQoIHRoaXMubGlzdHMyW2ldLCAib3B0aW9ucyIscmVzLmRhdGEgKQoJCQkJCQkJCQkJCX0KCQkJCQkJCQkJfSkKCQkJCQkJCQl9ZWxzZXsKCQkJCQkJCQkJdGhpcy5nZXREaWN0cyh0aGlzLmxpc3RzMltpXS5kaWN0VHlwZSkudGhlbihyZXNwb25zZSA9PiB7CgkJCQkJCQkJCQl0aGlzLiRzZXQoIHRoaXMubGlzdHMyW2ldLCAib3B0aW9ucyIsIHJlc3BvbnNlLmRhdGEgKQoJCQkJCQkJCQl9KTsKCQkJCQkJCQl9CgkJCQkJCQl9CgkgICAgICAgIAkJaWYodGhpcy5saXN0czJbaV0uZmllbGRUeXBlPT0icmFkaW8iKXsKCSAgICAgICAgCQkJdGhpcy5saXN0czJbaV0ub3B0aW9ucyA9IEpTT04ucGFyc2UodGhpcy5saXN0czJbaV0ub3B0aW9ucykKCSAgICAgICAgCQl9CgkgICAgICAgIAkJaWYodGhpcy5saXN0czJbaV0uZmllbGRUeXBlPT0iY2hlY2tib3giKXsKCSAgICAgICAgCQkJdGhpcy5saXN0czJbaV0ub3B0aW9ucyA9IEpTT04ucGFyc2UodGhpcy5saXN0czJbaV0ub3B0aW9ucykKCSAgICAgICAgCQkJdGhpcy4kc2V0KCB0aGlzLmxpc3RzMltpXSwgInZhbCIsIFtdKQoJCQkJCQkJfQoJCQkJCQl9CgkJCQkJCS8vIGNvbnNvbGUubG9nKHRoaXMubGlzdHMyLCd0aGlzLmxpc3RzMi0tLScpCgkJCQkJCWxldCBsaXN0ID0gcmVzcG9uc2UuZGF0YTsKCQkJCQkJLy8gY29uc29sZS5sb2cobGlzdCwnbGlzdCcpCgkgICAgICAgIAlsZXQgYXJyID0gW107CgkgICAgICAgIAlmb3IobGV0IGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7CgkJCQkJCQlsZXQgb2JqID0ge307CgkJCQkJCQlpZihsaXN0W2ldLmZpZWxkTmFtZSE9InBtc19zdGF0ZSIpewoJCQkJCQkJCWlmKGxpc3RbaV0uZmllbGROYW1lIT0iZGVwdF90cmFjayIpewoJCQkJCQkJCQlvYmoubGFiZWwgPSBsaXN0W2ldLmZpZWxkRGVzYzsKCQkJCQkJCQkJb2JqLnByb3AgPSBsaXN0W2ldLmZpZWxkTmFtZTsKCQkJCQkJCQkJb2JqLmlzTGlzdCA9IGxpc3RbaV0uaXNMaXN0OwoJCQkJCQkJCQlvYmouZmllbGRUeXBlID0gbGlzdFtpXS5maWVsZFR5cGU7CgkJCQkJCQkJCWlmKGxpc3RbaV0uZmllbGROYW1lPT0nY3Nfc2NvcmUnKXsKCQkJCQkJCQkJCW9iai5kZWNpbWxEaWdpdCA9IGxpc3RbaV0uZGVjaW1sRGlnaXQKCQkJCQkJCQkJfQoJCQkJCQkJCQlpZihvYmoucHJvcD09J2NzX2RhdGUnKXsKCQkJCQkJCQkJCW9iai5hbGlnbj0nY2VudGVyJzsKCQkJCQkJCQkJfWVsc2UgaWYob2JqLnByb3A9PSdjc19zY29yZScpewoJCQkJCQkJCQkJb2JqLmFsaWduPSdyaWdodCc7CgkJCQkJCQkJCX1lbHNlewoJCQkJCQkJCQkJb2JqLmFsaWduPSdsZWZ0JzsKCQkJCQkJCQkJfQoJCQkJCQkJCQlhcnIucHVzaChvYmopCgkJCQkJCQkJfQoKCQkJCQkJCX0KCQkJCQkJfQoJICAgICAgICAJdGhpcy5jb2xzID0gYXJyOwoJCQkJdGhpcy5oYW5kbGVRdWVyeSgpOwoJICAgICAgICAJLy8gdGhpcy4kc2V0KCB0aGlzLnF1ZXJ5UGFyYW1zLCAiZm9ybURlc2lnbklkIiwgdGhpcy5mb3JtRGVzaWduSWQgKQoJCQkJLy8gCQl0aGlzLmdldFRhYmxlKCk7CgkgICAgICAgIH0pCgkJCX0sCgkgICAgLy8g5Y+W5raI5oyJ6ZKuCgkgICAgY2FuY2VsKCkgewoJICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CgkJCQl0aGlzLnJlc2V0KCk7CgkJCQl0aGlzLmdldFRhYmxlKCk7CgkgICAgfSwKCSAgICAvLyDooajljZXph43nva4KCSAgICByZXNldCgpIHsKCQkJCXRoaXMuaWRkID0gbnVsbDsKCQkJCWxldCBsaXN0czJMZW5ndGg9dGhpcy5mb3JtLmxpc3RzMi5maWx0ZXIoXz0+e3JldHVybiBfLmZpZWxkTmFtZT09ImRlcHRfdHJhY2sifSk7CiAgICAJCWZvcihsZXQgaT0wO2k8dGhpcy5mb3JtLmxpc3RzMi5sZW5ndGg7aSsrKXsKCQkJCQkJdGhpcy5mb3JtLmxpc3RzMltpXS52YWwgPSB0aGlzLmZvcm0ubGlzdHMyW2ldLmRlZmF1bHRWYWx1ZTsKCiAgICAgICAgCQlpZih0aGlzLmZvcm0ubGlzdHMyW2ldLmZpZWxkVHlwZT09ImNoZWNrYm94Iil7CiAgICAgICAgCQkJdGhpcy4kc2V0KHRoaXMuZm9ybS5saXN0czJbaV0sICJ2YWwiLCBbXSkKCQkJCQkJfQoKCQkJCQl9CgkJCQkJaWYobGlzdHMyTGVuZ3RoLmxlbmd0aCE9MCl7CgkJCQkJCQlsZXQgZ3VpZGFuY2U9dGhpcy5mb3JtLmxpc3RzMi5maW5kKChfPT57cmV0dXJuIF8uZmllbGROYW1lPT0ncG1zX2d1aWRhbmNlJ30pKTsKCQkJCQkJCWxldCByZXN1bHRQbXM9dGhpcy5mb3JtLmxpc3RzMi5maW5kKChfPT57cmV0dXJuIF8uZmllbGROYW1lPT0ncG1zX3Jlc3VsdCd9KSk7CgkJCQkJCQlndWlkYW5jZS5pc0VkaXQ9IjAiOwoJCQkJCQkJcmVzdWx0UG1zLmlzRWRpdD0iMCI7CgkJCQkJCQlndWlkYW5jZS5maWVsZFZhbHVlPW51bGw7CgkJCQkJCQlyZXN1bHRQbXMuZmllbGRWYWx1ZT1udWxsOwoJCQkJCX0KCQkJCQkvLyBjb25zb2xlLmxvZyh0aGlzLmZvcm0ubGlzdHMyLCdyZXNldCcpCiAgICAJCXRoaXMucmVzZXRGb3JtKCJmb3JtIik7CgkgICAgfSwKCSAgICAvKiog5pCc57Si5oyJ6ZKu5pON5L2cICovCgkgICAgaGFuZGxlUXVlcnkoKSB7CgkgICAgCWxldCBsaXN0ID0gdGhpcy5saXN0czsKCSAgICAJbGV0IGRhdGEgPSB7fTsKICAgICAgICAJZm9yKGxldCBpPTA7aTxsaXN0Lmxlbmd0aDtpKyspewogICAgCQkJdGhpcy5xdWVyeVBhcmFtc1tsaXN0W2ldLmZpZWxkTmFtZV0gPSBsaXN0W2ldLnZhbDsKICAgICAgICAJfQogICAgICAgIAl0aGlzLiRzZXQoIHRoaXMucXVlcnlQYXJhbXMsICJmb3JtRGVzaWduSWQiLCB0aGlzLmZvcm1EZXNpZ25JZCApCgkgICAgICAJdGhpcy5xdWVyeVBhcmFtcy5wYWdlTnVtID0gMTsKICAgICAgICAJdGhpcy5xdWVyeVBhcmFtcy5wYWdlU2l6ZSA9IDMwOwogICAgICAgIAl0aGlzLmdldFRhYmxlKCk7CgkJCX0sCgkJCS8v6KGo5qC85pWw5o2uCgkgICAgZ2V0VGFibGUoKXsKCQkJCXRoaXMubG9hZGluZyA9IHRydWU7CgkJCQkvLyB0aGlzLiRzZXQoIHRoaXMucXVlcnlQYXJhbXMsICJmb3JtRGVzaWduSWQiLCB0aGlzLmZvcm1EZXNpZ25JZCApOwoJCQkJdGhpcy4kc2V0KCB0aGlzLnF1ZXJ5UGFyYW1zLCAiZm9ybURlc2lnbklkIiwgdGhpcy4kcm91dGUubmFtZSApOwoJCQkJdGhpcy4kc2V0KCB0aGlzLnF1ZXJ5UGFyYW1zLCAiY29tcF9jb2RlIiwgdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQgKTsKCSAgICAJLy8gdGVzdEZvcm0odGhpcy5xdWVyeVBhcmFtcyx0aGlzLmZvcm1EZXNpZ25JZCkudGhlbihyZXNwb25zZSA9PiB7CgkgICAgCXRlc3RGb3JtKHRoaXMucXVlcnlQYXJhbXMsdGhpcy4kcm91dGUubmFtZSkudGhlbihyZXNwb25zZSA9PiB7CgkJCQkJCS8vIGNvbnNvbGUubG9nKHJlc3BvbnNlLCdyZXMnKTsKCQkJCQkJaWYocmVzcG9uc2UuY29kZT09MjAwKXsKCQkJCQkJCXRoaXMuZm9ybURlc2lnbkxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgIAkJCXRoaXMudG90YWwgPSByZXNwb25zZS50b3RhbDsKCQkJCQkJCXRoaXMubG9hZGluZyA9IGZhbHNlOwoJCQkJCQl9CgoJCSAgICB9KTsKCSAgICB9LAoJCQkvL+afpeivouiuvue9ri3ooajmoLzliJfooajmlbDmja4KICAgICAgZ2V0Rm9ybVRhYmxlTGlzdCgpewogICAgICAgIHRoaXMudGFibGVMb2FkaW5nPXRydWU7CiAgICAgICAgZ2V0Rm9ybVRhYmxlTGlzdCh7Zm9ybURlc2lnbklkOnRoaXMuZm9ybURlc2lnbklkfSkudGhlbihyZXNwb25zZT0+ewogICAgICAgICAgaWYocmVzcG9uc2UuY29kZT09PTIwMCl7CgkJCQkJCXRoaXMuZm9ybURhdGFMaXN0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YSkpOwoJCQkJCQl0aGlzLmZvcm1EYXRhTGlzdDE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLmZpbHRlcigoaXRlKT0+ewoJCQkJCQkJcmV0dXJuIGl0ZS5pc1F1ZXJ5PT0xICYmIGl0ZS5pc0xpc3RRdWVyeT09MQoJCQkJCQl9KSkpCiAgICAgICAgICAgdGhpcy5mb3JtRGF0YUxpc3QyPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5maWx0ZXIoKGl0ZSk9PnsKICAgICAgICAgICAgIHJldHVybiBpdGUuaXNTb3J0PT0xCiAgICAgICAgICAgfSkpKTsKICAgICAgICAgICB0aGlzLnRhYmxlTG9hZGluZz1mYWxzZTsKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9LAoJICAgIC8qKiDph43nva7mjInpkq7mk43kvZwgKi8KCSAgICByZXNldFF1ZXJ5KCkgewoJICAgIAlsZXQgbGlzdCA9IHRoaXMubGlzdHM7CiAgICAgICAgCWZvcihsZXQgaT0wO2k8bGlzdC5sZW5ndGg7aSsrKXsKICAgICAgICAJCWxpc3RbaV0udmFsID0gbnVsbDsKICAgICAgICAJCWlmKGxpc3RbaV0uZmllbGRUeXBlPT0iY2hlY2tib3giKXsKICAgICAgICAJCQl0aGlzLiRzZXQobGlzdFtpXSwgInZhbCIsIFtdKQoJICAgICAgICAJfQogICAgICAgIAl9CgkgICAgICAJdGhpcy5oYW5kbGVRdWVyeSgpOwoJICAgIH0sCgkgICAgLy8g5aSa6YCJ5qGG6YCJ5Lit5pWw5o2uCgkgICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlKHNlbGVjdGlvbikgewoJICAgIAkvLyBjb25zb2xlLmxvZyhzZWxlY3Rpb24pCgkgICAgICAJdGhpcy5pZHMgPSBzZWxlY3Rpb24ubWFwKGl0ZW0gPT4gaXRlbS5pZCkKCQkJCQl0aGlzLnNpbmdsZSA9IHNlbGVjdGlvbi5sZW5ndGghPT0xCgkJCQkJaWYoc2VsZWN0aW9uLmxlbmd0aCE9PTAmJnNlbGVjdGlvblswXS5wbXNfc3RhdGUgJiYgc2VsZWN0aW9uLmxlbmd0aD09MSl7CgkJCQkJCXRoaXMubXVsdGlwbGUgPSBzZWxlY3Rpb25bMF0ucG1zX3N0YXRlIT09IjEiCgkJCQkJfWVsc2V7CgkJCQkJCXRoaXMubXVsdGlwbGUgPSBzZWxlY3Rpb24ubGVuZ3RoIT09MQoJCQkJCX0KCQkJCQl0aGlzLnNlbGVjdGlvblJvdz1zZWxlY3Rpb24KCQkJfSwKCQkJcm93Q2xpY2socm93LCBjb2x1bW4sIGV2ZW50KSB7CiAgICAgICAgbGV0IHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlOwogICAgICAgIGxldCBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChjID0+IGMucm93SW5kZXggPT0gcm93LnJvd0luZGV4KTsKICAgICAgICAvLyBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvdy5sZW5ndGggPT0gMSkgewogICAgICAgIC8vICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOwogICAgICAgIC8vICAgcmV0dXJuOwogICAgICAgIC8vIH0KICAgICAgICByZWZzRWxUYWJsZS5jbGVhclNlbGVjdGlvbigpOwogICAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3cpOwogICAgICB9LAogICAgICByb3dTdHlsZSh7CgkJCQkJcm93LAoJCQkJCXJvd0luZGV4CgkJCQl9KSB7CiAgICAgICAgT2JqZWN0LmRlZmluZVByb3BlcnR5KHJvdywgJ3Jvd0luZGV4JywgewogICAgICAgICAgdmFsdWU6IHJvd0luZGV4LAogICAgICAgICAgd3JpdGFibGU6IHRydWUsCiAgICAgICAgICBlbnVtZXJhYmxlOiBmYWxzZQogICAgICAgIH0pCiAgICAgIH0sCiAgICAgIHJvd0NsYXNzTmFtZSh7CgkJCQkJcm93LAoJCQkJCXJvd0luZGV4CgkJCQl9KSB7CiAgICAgICAgbGV0IHJvd05hbWUgPSAiIiwKICAgICAgICAgIGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvdy5maW5kKGMgPT4gYy5yb3dJbmRleCA9PT0gcm93LnJvd0luZGV4KTsKICAgICAgICBpZiAoZmluZFJvdykgewogICAgICAgICAgcm93TmFtZSA9ICJjdXJyZW50LXJvdyAiOwogICAgICAgIH0KICAgICAgICByZXR1cm4gcm93TmFtZTsKICAgICAgfSwKCgkgICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqLwoJICAgIGhhbmRsZUFkZCgpIHsKCQkJCQl0aGlzLnJlc2V0KCk7CgkgICAgICAJdGhpcy5vcGVuID0gdHJ1ZTsKCQkJCQl0aGlzLmFkZEVkaXRJZCA9ICIiOwoJCQkJCXRoaXMuaXNBZGQ9dHJ1ZTsKCQkJCQl0aGlzLnRpdGxlID0gdGhpcy5mb3JtTmFtZSsiLea3u+WKoCI7CgkgICAgfSwKCSAgICAvKiog5L+u5pS55oyJ6ZKu5pON5L2cICovCgkgICAgaGFuZGxlVXBkYXRlKHJvdykgewoJCQkJCXRoaXMuaXNBZGQ9ZmFsc2U7CgkgICAgICAJdGhpcy5yZXNldCgpOwoJICAgICAgCWNvbnN0IGlkID0gcm93LmlkIHx8IHRoaXMuaWRzCgkgICAgICAJdGhpcy5hZGRFZGl0SWQgPSB0aGlzLmlkc1swXTsKCSAgICAgIAlsZXQgZm9ybURlc2lnbklkID0gdGhpcy5mb3JtRGVzaWduSWQ7CiAgICAgIAkJdGhpcy5vcGVuID0gdHJ1ZTsKCSAgICAgIAl0aGlzLnRpdGxlID0gdGhpcy5mb3JtTmFtZSsiLee8lui+kSI7CgkgICAgICAJZ2V0Rm9ybURldGFpbHMoZm9ybURlc2lnbklkLGlkKS50aGVuKHJlc3BvbnNlID0+IHsKCQkJCQkJbGV0IGxpc3RzID0gcmVzcG9uc2UuZGF0YS5kYXRhczsKCSAgICAgIAkJdGhpcy5mb3JtID0gewoJICAgICAgICAJCWxpc3RzMjpsaXN0cwoJICAgICAgICAJfQoJCQkJCQl0aGlzLmlkZCA9IHJlc3BvbnNlLmRhdGEuaWQ7CgkJCQkJCWxldCBsaXN0czJMZW5ndGg9dGhpcy5mb3JtLmxpc3RzMi5maWx0ZXIoXz0+e3JldHVybiBfLmZpZWxkTmFtZT09ImRlcHRfdHJhY2sifSk7CgkJCQkJCS8vIGNvbnNvbGUubG9nKHRoaXMuZm9ybS5saXN0czIsJ2Zvcm0ubGlzdHMyJykKCSAgICAgIAkJZm9yKGxldCBpPTA7aTx0aGlzLmZvcm0ubGlzdHMyLmxlbmd0aDtpKyspewoJCQkJCQkJdGhpcy4kc2V0KHRoaXMuZm9ybS5saXN0czJbaV0sInZhbCIsIHRoaXMuZm9ybS5saXN0czJbaV0uZmllbGRWYWx1ZSApCiAgCQkJCQlpZih0aGlzLmZvcm0ubGlzdHMyW2ldLmZpZWxkVHlwZT09InNlbGVjdCIpewoJCQkJCQkJLy/mjIfmoIfor6bmg4XmlbDmja4KCQkJCQkJCWlmKHRoaXMuZm9ybS5saXN0czJbaV0uZmllbGROYW1lPT0iY3NfdGFyZ2V0Iil7CgkJCQkJCQkJCXRoaXMuJHNldCh0aGlzLmZvcm0ubGlzdHMyW2ldLCJ2YWwiLCBudWxsICkKCQkJCQkJCQlsZXQgcGFyYW1zPXsKCQkJCQkJCQkJCQlpbmRleENvZGU6dGhpcy5mb3JtLmxpc3RzMltpXS5pbmRleENvZGUsCgkJCQkJCQkJCQkJY29tcENvZGU6dGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQgIC8vIOW/heS8oAoJCQkJCQkJCX07CgkJCQkJCQkJbGlzdERldGFpbChwYXJhbXMpLnRoZW4ocmVzcG9uc2U9PnsKCQkJCQkJCQkJCWlmKHJlc3BvbnNlLmNvZGU9PT0yMDApewoJCQkJCQkJCQkJCXRoaXMuJHNldCggdGhpcy5mb3JtLmxpc3RzMltpXSwgIm9wdGlvbnMiLHJlc3BvbnNlLnJvd3MgKTsKCQkJCQkJCQkJCQlsZXQJdGFyZ2V0VmFsdWU9cmVzcG9uc2Uucm93cy5maWx0ZXIoXz0+ewoJCQkJCQkJCQkJCQlpZihfLmlkPT10aGlzLmZvcm0ubGlzdHMyW2ldLmZpZWxkVmFsdWUgfHwgXy5ldmFDb250PT10aGlzLmZvcm0ubGlzdHMyW2ldLmZpZWxkVmFsdWUpewoJCQkJCQkJCQkJCQkJcmV0dXJuIF8KCQkJCQkJCQkJCQkJfQoJCQkJCQkJCQkJCX0pOwoJCQkJCQkJCQkJCXRoaXMuJHNldCh0aGlzLmZvcm0ubGlzdHMyW2ldLCJ2YWwiLCB0YXJnZXRWYWx1ZVswXS5ldmFDb250ICkKCQkJCQkJCQkJCX0KCQkJCQkJCQl9KQoJCQkJCQkJfWVsc2UgaWYodGhpcy5mb3JtLmxpc3RzMltpXS5maWVsZE5hbWU9PSJjc19kZXB0Iil7CgkJCQkJCQkJLy/pg6jpl6jor6bmg4XmlbDmja4KCQkJCQkJCQkJbGV0IHBhcmFtcz0gewoJCQkJCQkJCQkJCWNvbXBDb2RlOnRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkCgkJCQkJCQkJCQl9CgkJCQkJCQkJCQlnZXREZXB0SW5mb0ZvclBtcyhwYXJhbXMpLnRoZW4ocmVzPT57CgkJCQkJCQkJCQkJCWlmKHJlcy5jb2RlPT09MjAwKXsKCQkJCQkJCQkJCQkJCQl0aGlzLiRzZXQoIHRoaXMuZm9ybS5saXN0czJbaV0sICJvcHRpb25zIixyZXMuZGF0YSApCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0pCgkJCQkJCQl9ZWxzZXsKCQkJCQkJCQl0aGlzLmdldERpY3RzKHRoaXMuZm9ybS5saXN0czJbaV0uZGljdFR5cGUpLnRoZW4ocmVzcG9uc2UgPT4gewoJCQkgICAgICAgIAkJdGhpcy4kc2V0KHRoaXMuZm9ybS5saXN0czJbaV0sICJvcHRpb25zIiwgcmVzcG9uc2UuZGF0YSApCgkJCQkgICAgICAJfSk7CgkJCQkJCQl9CgkJCQkJCX0KICAJCQkJCWlmKHRoaXMuZm9ybS5saXN0czJbaV0uZmllbGRUeXBlPT0icmFkaW8iKXsKCSAgICAgICAgCQkJdGhpcy5mb3JtLmxpc3RzMltpXS5vcHRpb25zID0gSlNPTi5wYXJzZSh0aGlzLmZvcm0ubGlzdHMyW2ldLm9wdGlvbnMpCgkgICAgICAgIAkJfQogIAkJCQkJaWYodGhpcy5mb3JtLmxpc3RzMltpXS5maWVsZFR5cGU9PSJjaGVja2JveCIpewoJICAgICAgICAJCQl0aGlzLmZvcm0ubGlzdHMyW2ldLm9wdGlvbnMgPSBKU09OLnBhcnNlKHRoaXMuZm9ybS5saXN0czJbaV0ub3B0aW9ucykKCSAgICAgICAgCQkJbGV0IGFyciA9IHRoaXMuZm9ybS5saXN0czJbaV0uZmllbGRWYWx1ZS5zcGxpdCgnLCcpOwoJICAgICAgICAJCQl0aGlzLiRzZXQodGhpcy5mb3JtLmxpc3RzMltpXSwidmFsIixhcnIpCgkJCQkJCQl9CgkJCQkJCQkvL+aYr+enkeWupOi3n+i4quaXti3nvJbovpHlop7liqDnirbmgIHliKTmlq0KCQkJCQkJCWlmKGxpc3RzMkxlbmd0aC5sZW5ndGghPTApewoJCQkJCQkJCQlsZXQgZ3VpZGFuY2U9dGhpcy5mb3JtLmxpc3RzMi5maW5kKChfPT57cmV0dXJuIF8uZmllbGROYW1lPT0ncG1zX2d1aWRhbmNlJ30pKTsKCQkJCQkJCQkJbGV0IHJlc3VsdFBtcz10aGlzLmZvcm0ubGlzdHMyLmZpbmQoKF89PntyZXR1cm4gXy5maWVsZE5hbWU9PSdwbXNfcmVzdWx0J30pKTsKCQkJCQkJCQkJCWlmKHRoaXMuc2VsZWN0aW9uUm93WzBdLnBtc19zdGF0ZT09IjEiKXsKCQkJCQkJCQkJCQkJZ3VpZGFuY2UuaXNFZGl0PSIxIjsKCQkJCQkJCQkJCQkJcmVzdWx0UG1zLmlzRWRpdD0iMCI7CgkJCQkJCQkJCQl9ZWxzZSBpZih0aGlzLnNlbGVjdGlvblJvd1swXS5wbXNfc3RhdGU9PSIyIiB8fCB0aGlzLnNlbGVjdGlvblJvd1swXS5wbXNfc3RhdGU9PSIzIil7CgkJCQkJCQkJCQkJCWd1aWRhbmNlLmlzRWRpdD0iMSIKCQkJCQkJCQkJCQkJcmVzdWx0UG1zLmlzRWRpdD0iMSIKCQkJCQkJCQkJCX1lbHNlewoJCQkJCQkJCQkJCWd1aWRhbmNlLmlzRWRpdD0iMCI7CgkJCQkJCQkJCQkJcmVzdWx0UG1zLmlzRWRpdD0iMCIKCQkJCQkJCQkJCX0KCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQkvLyBjb25zb2xlLmxvZyh0aGlzLnNlbGVjdGlvblJvd1swXSwncm93JykKCQkJCQkJLy8gY29uc29sZS5sb2codGhpcy5mb3JtLmxpc3RzMiwnYmlhbmppJykKCSAgICAgICAgCXRoaXMub3BlbiA9IHRydWU7CgkgICAgICAgIAl0aGlzLnRpdGxlID0gIue8lui+kSIrdGhpcy5mb3JtTmFtZTsKCSAgICAgIAl9KTsKCSAgICB9LAoJICAgIC8qKiDmj5DkuqTmjInpkq4gKi8KCSAgICBzdWJtaXRGb3JtKCkgewogICAgICAgIHRyeSB7CiAgICAgICAgICBsZXQgbGlzdCA9IHRoaXMuZm9ybS5saXN0czI7CiAgICAgICAgICAvLyBwbXNfc3RhdGUKICAgICAgICAgIC8vIGNvbnNvbGUubG9nKGxpc3QsJ2xpc3QnKQogICAgICAgICAgZm9yIChsZXQgaSA9IDA7IGkgPCBsaXN0Lmxlbmd0aDsgaSsrKSB7CiAgICAgICAgICAgIHRoaXMuZm9ybVtsaXN0W2ldLmZpZWxkTmFtZV0gPSBsaXN0W2ldLnZhbDsKICAgICAgICAgIH0KICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0sICJmb3JtRGVzaWduSWQiLCB0aGlzLmZvcm1EZXNpZ25JZCkKICAgICAgICAgIHRoaXMuJHNldCh0aGlzLmZvcm0sICJpZCIsIHRoaXMuaWRkKQogICAgICAgICAgdGhpcy4kcmVmc1siZm9ybSJdLnZhbGlkYXRlKHZhbGlkID0+IHsKICAgICAgICAgICAgaWYgKHZhbGlkKSB7CiAgICAgICAgICAgICAgbGV0IGZvcm0gPSBKU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuZm9ybSkpCiAgICAgICAgICAgICAgZGVsZXRlIGZvcm0ubGlzdHMyOwogICAgICAgICAgICAgIGxldCBib29sID0gZm9ybS5oYXNPd25Qcm9wZXJ0eSgnZGVwdF90cmFjaycpOwogICAgICAgICAgICAgIGlmIChib29sICYmIHRoaXMuaXNBZGQpIHsKICAgICAgICAgICAgICAgIGZvcm0ucG1zX3N0YXRlID0gIjEiOwogICAgICAgICAgICAgICAgZm9ybS5wbXNfcmVzdWx0ID0gbnVsbDsKICAgICAgICAgICAgICAgIGZvcm0ucG1zX2d1aWRhbmNlID0gbnVsbDsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgbGV0IHNhdmVMb2FkaW5nID0gdGhpcy5zYXZlTG9hZGluZygpCiAgICAgICAgICAgICAgZm9ybS5jc19zY29yZSA9IGZvcm0uY3Nfc2NvcmUgPyBmb3JtLmNzX3Njb3JlICogMSA6IDA7CiAgICAgICAgICAgICAgaWYgKHRoaXMuZm9ybS5pZCAhPSBudWxsKSB7CiAgICAgICAgICAgICAgICBpZiAoZm9ybS5wbXNfZ3VpZGFuY2UpIHsKICAgICAgICAgICAgICAgICAgZm9ybS5wbXNfc3RhdGUgPSAiMiIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGlmIChmb3JtLnBtc19ndWlkYW5jZSAmJiBmb3JtLnBtc19yZXN1bHQpIHsKICAgICAgICAgICAgICAgICAgZm9ybS5wbXNfc3RhdGUgPSAiMyIKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIC8v5oyH5qCH6YeN5paw6LWL5YC85Li6aWQKICAgICAgICAgICAgICAgIGxldCBmb3JtVGFyZ2V0ID0gdGhpcy50YXJnZXRWYWx1ZS5maWx0ZXIoXyA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChfLmV2YUNvbnQgPT0gZm9ybS5jc190YXJnZXQgfHwgXy5pZCA9PSBmb3JtLmNzX3RhcmdldCkgewogICAgICAgICAgICAgICAgICAgIHJldHVybiBfCiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pCiAgICAgICAgICAgICAgICBpZihmb3JtVGFyZ2V0ICYmIGZvcm1UYXJnZXQubGVuZ3RoID4gMCl7CiAgICAgICAgICAgICAgICAgIGZvcm0uY3NfdGFyZ2V0ID0gZm9ybVRhcmdldFswXS5pZDsKICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIGFkZFNhdmVGb3JtKGZvcm0sIHRoaXMuZm9ybURlc2lnbklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCLnvJbovpHmiJDlip8iKTsKICAgICAgICAgICAgICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICAgICAgZm9ybS5jb21wX2NvZGUgPSB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZDsKICAgICAgICAgICAgICAgIGZvcm0uY3Nfc2NvcmUgPSBmb3JtLmNzX3Njb3JlICsgIiI7CiAgICAgICAgICAgICAgICAvLyBjb25zb2xlLmxvZyhmb3JtKQogICAgICAgICAgICAgICAgYWRkU2F2ZUZvcm0oZm9ybSwgdGhpcy5mb3JtRGVzaWduSWQpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgICAgICAgICAgICBpZiAocmVzcG9uc2UuY29kZSA9PSAyMDApIHsKICAgICAgICAgICAgICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MoIuaWsOWinuaIkOWKnyIpOwogICAgICAgICAgICAgICAgICAgIHNhdmVMb2FkaW5nLmNsb3NlKCk7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5vcGVuID0gZmFsc2U7CiAgICAgICAgICAgICAgICAgIH0KICAgICAgICAgICAgICAgIH0pOwogICAgICAgICAgICAgIH0KICAgICAgICAgICAgfQogICAgICAgICAgfSk7CiAgICAgICAgfSBjYXRjaCAoZSkgewogICAgICAgICAgdGhpcy5zYXZlTG9hZGluZygpLmNsb3NlKCk7CiAgICAgICAgICB0aGlzLiRtZXNzYWdlKHsKICAgICAgICAgICAgc2hvd0Nsb3NlOiB0cnVlLAogICAgICAgICAgICBtZXNzYWdlOiAn5Ye66ZSZ5LqG77yM6K+36IGU57O7566h55CG5ZGYJywKICAgICAgICAgICAgdHlwZTogJ2Vycm9yJywKICAgICAgICAgICAgZHVyYXRpb246IDgwMAogICAgICAgICAgfSk7CiAgICAgICAgfQoJCQl9LAoJCQkvL+afpeivouiuvue9ruS/neWtmAoJCQlzdWJtaXRGb3JtU2VhcmNoU2V0KCl7CgkJCQlsZXQgZmRjTGlzdD1bXTsKCQkJCWZvcihsZXQgaSA9IDA7IGkgPCB0aGlzLmZvcm1EYXRhTGlzdC5sZW5ndGg7IGkrKykgewoJCQkJCWxldCB0ZW1wQXJyMSA9IHRoaXMuZm9ybURhdGFMaXN0W2ldCgkJCQkJZm9yKGxldCBqID0gMDsgaiA8IHRoaXMuZm9ybURhdGFMaXN0MS5sZW5ndGg7IGorKykgewoJCQkJCQlsZXQgdGVtcEFycjIgPSB0aGlzLmZvcm1EYXRhTGlzdDFbal07CgkJCQkJCWlmKHRlbXBBcnIyLmlkID09PSB0ZW1wQXJyMS5pZCl7CgkJCQkJCQl0ZW1wQXJyMS5xdWVyeVR5cGU9dGVtcEFycjIucXVlcnlUeXBlOwoJCQkJCQkJdGVtcEFycjEucXVlcnlEZWZhdWx0PXRlbXBBcnIyLnF1ZXJ5RGVmYXVsdDsKCQkJCQkJCWJyZWFrOwoJCQkJCQl9CgkJCQkJfQoJCQkJCWZvcihsZXQgaz0wO2s8dGhpcy5mb3JtRGF0YUxpc3QyLmxlbmd0aDtrKyspewoJCQkJCQkJbGV0IHRlbXBBcnIyID0gdGhpcy5mb3JtRGF0YUxpc3QyW2tdOwoJCQkJCQkJaWYodGVtcEFycjIuaWQgPT09IHRlbXBBcnIxLmlkKXsKCQkJCQkJCQl0ZW1wQXJyMS5zb29ydFR5cGU9dGVtcEFycjIuc29vcnRUeXBlOwoJCQkJCQkJCWJyZWFrOwoJCQkJCQl9CgkJCQkJfQoJCQkJCWZkY0xpc3QucHVzaCh0ZW1wQXJyMSkKCQkJCX0KCQkJCWxldCBzYXZlTG9hZGluZz10aGlzLnNhdmVMb2FkaW5nKCkKCQkJCQllZGl0QWRkRm9ybURlc2lnbih7ZmRjTGlzdDpmZGNMaXN0fSkudGhlbihyZXNwb25zZSA9PiB7CgkJCQkJCWlmKHJlc3BvbnNlLmNvZGU9PT0yMDApewoJCQkJCQkJdGhpcy5tc2dTdWNjZXNzKCLkv53lrZjmiJDlip8iKTsKCQkJCQkJCXRoaXMuY2FuY2VsU2VhcmNoKCk7CgkJCQkJCQlzYXZlTG9hZGluZy5jbG9zZSgpOwoJCQkJCQl9CgkJCQkgIH0pCgkJCX0sCgkJCS8v5p+l6K+i5oyJ6ZKu5pON5L2cCgkJCWhhbmRsZVNlYXJjaCgpewoJICAgICAgbGV0IGZvcm1EZXNpZ25JZCA9IHRoaXMuZm9ybURlc2lnbklkOwoJCQkJdGhpcy5nZXRGb3JtVGFibGVMaXN0KCk7CgkJCQl0aGlzLnNlYXJjaFRpdGxlPSLliqjmgIHooajljZUv5p+l6K+i6K6+572uIjsKCQkJCXRoaXMub3Blbl9zZWFyY2g9dHJ1ZTsKCQkJfSwKCQkJLy/lhbPpl63mn6Xor6LmoYYKCQkJY2FuY2VsU2VhcmNoKCl7CgkJCQl0aGlzLm9wZW5fc2VhcmNoPWZhbHNlOwoJCQkJdGhpcy5nZXRUYWJsZSgpOwoJCQl9LAoJICAgIC8qKiDliKDpmaTmjInpkq7mk43kvZwgKi8KCSAgICBoYW5kbGVEZWxldGUocm93KSB7CgkgICAgICBjb25zdCBpZHMgPSByb3cuaWQgfHwgdGhpcy5pZHM7CgkgICAgICBsZXQgZm9ybURlc2lnbklkID0gdGhpcy5mb3JtRGVzaWduSWQ7CgkgICAgICB0aGlzLiRjb25maXJtKCfmmK/lkKbnoa7orqTliKDpmaToh6rlrprkuYnooajljZXnvJblj7fkuLoiJyArIGlkcyArICci55qE5pWw5o2u6aG5PycsICLorablkYoiLCB7CgkgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKCSAgICAgICAgY2FuY2VsQnV0dG9uVGV4dDogIuWPlua2iCIsCgkgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgoJICAgICAgfSkudGhlbihmdW5jdGlvbigpIHsKCSAgICAgICAgcmV0dXJuIGRlbEZvcm0oZm9ybURlc2lnbklkLGlkcyk7CgkgICAgICB9KS50aGVuKCgpID0+IHsKCSAgICAgICAgdGhpcy5nZXRUYWJsZSgpOwoJICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MoIuWIoOmZpOaIkOWKnyIpOwoJICAgICAgfSkuY2F0Y2goKCkgPT4ge30pOwoJICAgIH0sCiAgICB9LAp9Cg=="},null]}
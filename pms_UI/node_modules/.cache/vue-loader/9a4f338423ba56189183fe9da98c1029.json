{"remainingRequest":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\tool\\formDesignData\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\tool\\formDesignData\\index.vue","mtime":1693362206759},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGdldEZvcm1EZXNpZ24gfSBmcm9tICJAL2FwaS9mb3JtRGVzaWduL2Zvcm1EZXNpZ24iOwppbXBvcnQgeyBzYXZlRGF0YSB9IGZyb20gIkAvYXBpL2Zvcm1EZXNpZ25EYXRhL2Zvcm1EZXNpZ25EYXRhIjsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhICgpIHsKICAgIHJldHVybiB7CiAgICAgIGpzb25EYXRhOiB7Imxpc3QiOlt7InR5cGUiOiJpbnB1dCIsImljb24iOiJpY29uLWlucHV0Iiwib3B0aW9ucyI6eyJ3aWR0aCI6IjEwMCUiLCJkZWZhdWx0VmFsdWUiOiIiLCJyZXF1aXJlZCI6ZmFsc2UsImRhdGFUeXBlIjoic3RyaW5nIiwicGF0dGVybiI6IiIsInBsYWNlaG9sZGVyIjoiIiwiZGlzYWJsZWQiOmZhbHNlLCJyZW1vdGVGdW5jIjoiZnVuY18xNjI3NjE1MTk4MDAwXzk2ODc4In0sIm5hbWUiOiLljZXooYzmlofmnKwiLCJrZXkiOiIxNjI3NjE1MTk4MDAwXzk2ODc4IiwibW9kZWwiOiJpbnB1dF8xNjI3NjE1MTk4MDAwXzk2ODc4IiwicnVsZXMiOlt7InR5cGUiOiJzdHJpbmciLCJtZXNzYWdlIjoi5Y2V6KGM5paH5pys5qC85byP5LiN5q2j56GuIn1dfSx7InR5cGUiOiJyYWRpbyIsImljb24iOiJpY29uLXJhZGlvLWFjdGl2ZSIsIm9wdGlvbnMiOnsiaW5saW5lIjpmYWxzZSwiZGVmYXVsdFZhbHVlIjoiIiwic2hvd0xhYmVsIjpmYWxzZSwib3B0aW9ucyI6W3sidmFsdWUiOiJPcHRpb24gMSIsImxhYmVsIjoiT3B0aW9uIDEifSx7InZhbHVlIjoiT3B0aW9uIDIiLCJsYWJlbCI6Ik9wdGlvbiAyIn0seyJ2YWx1ZSI6Ik9wdGlvbiAzIiwibGFiZWwiOiJPcHRpb24gMyJ9XSwicmVxdWlyZWQiOmZhbHNlLCJ3aWR0aCI6IiIsInJlbW90ZSI6ZmFsc2UsInJlbW90ZU9wdGlvbnMiOltdLCJwcm9wcyI6eyJ2YWx1ZSI6InZhbHVlIiwibGFiZWwiOiJsYWJlbCJ9LCJyZW1vdGVGdW5jIjoiZnVuY18xNjI3ODY3MzY4MDAwXzI3NTY3IiwiZGlzYWJsZWQiOmZhbHNlfSwibmFtZSI6IuWNlemAieahhue7hCIsImtleSI6IjE2Mjc4NjczNjgwMDBfMjc1NjciLCJtb2RlbCI6InJhZGlvXzE2Mjc4NjczNjgwMDBfMjc1NjciLCJydWxlcyI6W119LHsidHlwZSI6ImNoZWNrYm94IiwiaWNvbiI6Imljb24tY2hlY2stYm94Iiwib3B0aW9ucyI6eyJpbmxpbmUiOmZhbHNlLCJkZWZhdWx0VmFsdWUiOltdLCJzaG93TGFiZWwiOmZhbHNlLCJvcHRpb25zIjpbeyJ2YWx1ZSI6Ik9wdGlvbiAxIn0seyJ2YWx1ZSI6Ik9wdGlvbiAyIn0seyJ2YWx1ZSI6Ik9wdGlvbiAzIn1dLCJyZXF1aXJlZCI6ZmFsc2UsIndpZHRoIjoiIiwicmVtb3RlIjpmYWxzZSwicmVtb3RlT3B0aW9ucyI6W10sInByb3BzIjp7InZhbHVlIjoidmFsdWUiLCJsYWJlbCI6ImxhYmVsIn0sInJlbW90ZUZ1bmMiOiJmdW5jXzE2Mjc4NjczNzAwMDBfNTE3ODciLCJkaXNhYmxlZCI6ZmFsc2V9LCJuYW1lIjoi5aSa6YCJ5qGG57uEIiwia2V5IjoiMTYyNzg2NzM3MDAwMF81MTc4NyIsIm1vZGVsIjoiY2hlY2tib3hfMTYyNzg2NzM3MDAwMF81MTc4NyIsInJ1bGVzIjpbXX0seyJ0eXBlIjoiZGF0ZSIsImljb24iOiJpY29uLWRhdGUiLCJvcHRpb25zIjp7ImRlZmF1bHRWYWx1ZSI6IiIsInJlYWRvbmx5IjpmYWxzZSwiZGlzYWJsZWQiOmZhbHNlLCJlZGl0YWJsZSI6dHJ1ZSwiY2xlYXJhYmxlIjp0cnVlLCJwbGFjZWhvbGRlciI6IiIsInN0YXJ0UGxhY2Vob2xkZXIiOiIiLCJlbmRQbGFjZWhvbGRlciI6IiIsInR5cGUiOiJkYXRlIiwiZm9ybWF0IjoieXl5eS1NTS1kZCIsInRpbWVzdGFtcCI6ZmFsc2UsInJlcXVpcmVkIjpmYWxzZSwid2lkdGgiOiIiLCJyZW1vdGVGdW5jIjoiZnVuY18xNjI3ODY3MzcxMDAwXzkzOTEwIn0sIm5hbWUiOiLml6XmnJ/pgInmi6nlmagiLCJrZXkiOiIxNjI3ODY3MzcxMDAwXzkzOTEwIiwibW9kZWwiOiJkYXRlXzE2Mjc4NjczNzEwMDBfOTM5MTAiLCJydWxlcyI6W119XSwiY29uZmlnIjp7ImxhYmVsV2lkdGgiOjEwMCwibGFiZWxQb3NpdGlvbiI6InJpZ2h0Iiwic2l6ZSI6InNtYWxsIiwiY3VzdG9tQ2xhc3MiOiIifX0sCiAgICAgIC8vZWRpdERhdGE6IHt9CiAgICB9CiAgfSwKICBjcmVhdGVkKCkgewogICAgLy90aGlzLnNldEZvcm0oKTsKICAgIHRoaXMuc2V0RGF0YSgpOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlU3VibWl0ICgpIHsKICAgICAgY29uc3QgZm9ybURlc2lnbklkID0gdGhpcy4kcm91dGUucXVlcnkuZm9ybURlc2lnbklkOwogICAgICB0aGlzLiRyZWZzLmdlbmVyYXRlRm9ybS5nZXREYXRhKCkudGhlbihkYXRhID0+IHsKICAgICAgICBzYXZlRGF0YShmb3JtRGVzaWduSWQsIGRhdGEpOwogICAgICB9KS5jYXRjaChlID0+IHsKICAgICAgICAvLyBkYXRhIGNoZWNrIGZhaWxlZAogICAgICB9KQogICAgfSwKICAgIHNldEZvcm0oKSB7CiAgICAgIGNvbnN0IGZvcm1EZXNpZ25JZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmZvcm1EZXNpZ25JZDsKICAgICAgY29uc29sZS5sb2coJ2Zvcm1EZXNpZ25JZD09PScgKyBmb3JtRGVzaWduSWQpCiAgICAgIGdldEZvcm1EZXNpZ24oZm9ybURlc2lnbklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZS5kYXRhLmZvcm1Kc29uKQogICAgICAgIHRoaXMuanNvbkRhdGEgPSByZXNwb25zZS5kYXRhLmZvcm1Kc29uOwogICAgICAgIHRoaXMuJG5leHRUaWNrKCgpID0+IHsKICAgICAgICAgIHRoaXMuJHJlZnMuZ2VuZXJhdGVGb3JtLnJlZnJlc2goKTsKICAgICAgICB9KQogICAgICB9KTsKICAgIH0sCiAgICBzZXREYXRhKCkgewogICAgICBjb25zdCBmb3JtRGVzaWduSWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5mb3JtRGVzaWduSWQ7CiAgICAgIGNvbnNvbGUubG9nKCdmb3JtRGVzaWduSWQ9PT0nICsgZm9ybURlc2lnbklkKQogICAgICBnZXRGb3JtRGVzaWduKGZvcm1EZXNpZ25JZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgY29uc3QgZm9ybURhdGEgPSByZXNwb25zZS5kYXRhLmZvcm1EYXRhOwogICAgICAgIGNvbnNvbGUubG9nKGZvcm1EYXRhKQogICAgICAgIHRoaXMuJHJlZnMuZ2VuZXJhdGVGb3JtLnNldERhdGEoZm9ybURhdGEpCiAgICAgICAgLy90aGlzLiRyZWZzLmdlbmVyYXRlRm9ybS5yZXNldCgpCiAgICAgIH0pOwogICAgfQogIH0KfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;AAUA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/tool/formDesignData","sourcesContent":["<template>\n  <div>\n    <fm-generate-form :data=\"jsonData\" ref=\"generateForm\">\n\n    </fm-generate-form>\n    <el-button type=\"primary\" @click=\"handleSubmit\">提交</el-button>\n  </div>\n</template>\n\n<script>\nimport { getFormDesign } from \"@/api/formDesign/formDesign\";\nimport { saveData } from \"@/api/formDesignData/formDesignData\";\n\nexport default {\n  data () {\n    return {\n      jsonData: {\"list\":[{\"type\":\"input\",\"icon\":\"icon-input\",\"options\":{\"width\":\"100%\",\"defaultValue\":\"\",\"required\":false,\"dataType\":\"string\",\"pattern\":\"\",\"placeholder\":\"\",\"disabled\":false,\"remoteFunc\":\"func_1627615198000_96878\"},\"name\":\"单行文本\",\"key\":\"1627615198000_96878\",\"model\":\"input_1627615198000_96878\",\"rules\":[{\"type\":\"string\",\"message\":\"单行文本格式不正确\"}]},{\"type\":\"radio\",\"icon\":\"icon-radio-active\",\"options\":{\"inline\":false,\"defaultValue\":\"\",\"showLabel\":false,\"options\":[{\"value\":\"Option 1\",\"label\":\"Option 1\"},{\"value\":\"Option 2\",\"label\":\"Option 2\"},{\"value\":\"Option 3\",\"label\":\"Option 3\"}],\"required\":false,\"width\":\"\",\"remote\":false,\"remoteOptions\":[],\"props\":{\"value\":\"value\",\"label\":\"label\"},\"remoteFunc\":\"func_1627867368000_27567\",\"disabled\":false},\"name\":\"单选框组\",\"key\":\"1627867368000_27567\",\"model\":\"radio_1627867368000_27567\",\"rules\":[]},{\"type\":\"checkbox\",\"icon\":\"icon-check-box\",\"options\":{\"inline\":false,\"defaultValue\":[],\"showLabel\":false,\"options\":[{\"value\":\"Option 1\"},{\"value\":\"Option 2\"},{\"value\":\"Option 3\"}],\"required\":false,\"width\":\"\",\"remote\":false,\"remoteOptions\":[],\"props\":{\"value\":\"value\",\"label\":\"label\"},\"remoteFunc\":\"func_1627867370000_51787\",\"disabled\":false},\"name\":\"多选框组\",\"key\":\"1627867370000_51787\",\"model\":\"checkbox_1627867370000_51787\",\"rules\":[]},{\"type\":\"date\",\"icon\":\"icon-date\",\"options\":{\"defaultValue\":\"\",\"readonly\":false,\"disabled\":false,\"editable\":true,\"clearable\":true,\"placeholder\":\"\",\"startPlaceholder\":\"\",\"endPlaceholder\":\"\",\"type\":\"date\",\"format\":\"yyyy-MM-dd\",\"timestamp\":false,\"required\":false,\"width\":\"\",\"remoteFunc\":\"func_1627867371000_93910\"},\"name\":\"日期选择器\",\"key\":\"1627867371000_93910\",\"model\":\"date_1627867371000_93910\",\"rules\":[]}],\"config\":{\"labelWidth\":100,\"labelPosition\":\"right\",\"size\":\"small\",\"customClass\":\"\"}},\n      //editData: {}\n    }\n  },\n  created() {\n    //this.setForm();\n    this.setData();\n  },\n  methods: {\n    handleSubmit () {\n      const formDesignId = this.$route.query.formDesignId;\n      this.$refs.generateForm.getData().then(data => {\n        saveData(formDesignId, data);\n      }).catch(e => {\n        // data check failed\n      })\n    },\n    setForm() {\n      const formDesignId = this.$route.query.formDesignId;\n      console.log('formDesignId===' + formDesignId)\n      getFormDesign(formDesignId).then(response => {\n        console.log(response.data.formJson)\n        this.jsonData = response.data.formJson;\n        this.$nextTick(() => {\n          this.$refs.generateForm.refresh();\n        })\n      });\n    },\n    setData() {\n      const formDesignId = this.$route.query.formDesignId;\n      console.log('formDesignId===' + formDesignId)\n      getFormDesign(formDesignId).then(response => {\n        const formData = response.data.formData;\n        console.log(formData)\n        this.$refs.generateForm.setData(formData)\n        //this.$refs.generateForm.reset()\n      });\n    }\n  }\n}\n</script>\n"]}]}
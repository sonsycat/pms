{"remainingRequest":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\components\\orgDept\\index.vue?vue&type=style&index=0&id=7a25b826&lang=scss&scoped=true&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\components\\orgDept\\index.vue","mtime":1693362205166},{"path":"F:\\pms_UI\\node_modules\\css-loader\\dist\\cjs.js","mtime":1693361949271},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1693362179282},{"path":"F:\\pms_UI\\node_modules\\postcss-loader\\src\\index.js","mtime":1693362110683},{"path":"F:\\pms_UI\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1693362152666},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCi5wYWdpbmF0aW9uLWNvbnRhaW5lciB7CiAgaGVpZ2h0OiAzNnB4ICFpbXBvcnRhbnQ7Cn0KCi5sYWJlbEVtcHR5IHsKICA6OnYtZGVlcCAuZWwtZm9ybS1pdGVtIHsKICAgIG1hcmdpbi1ib3R0b206IDEycHg7CiAgfQogIDo6di1kZWVwIC5lbC1mb3JtLWl0ZW1fX2NvbnRlbnQgewogICAgbWFyZ2luLWxlZnQ6IDAgIWltcG9ydGFudDsKICB9Cn0K"},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuMA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/components/orgDept","sourcesContent":["<template>\n<!-- 货架 -->\n    <el-form-item :label=\"label\" :prop=\"formProp\" :rules=\"rules\" >\n        <el-popover\n          placement=\"bottom\"\n          ref=\"popover\"\n          width=\"1000\"\n          trigger=\"click\"\n          :disabled = \"disabled\">\n          <el-table  :data=\"tableData\" @cell-click=\"clickRow\"  border stripe height=\"280px\">\n            <el-table-column label=\"项目编码\" align=\"center\" prop=\"projectCode\" />\n            <el-table-column label=\"项目名称\" align=\"left\" prop=\"projectName\" />\n            <el-table-column label=\"项目类型\" align=\"center\" prop=\"projectType\" :formatter=\"projectTypeFormat\" />\n            <el-table-column label=\"成本属性\" align=\"center\" prop=\"costProperty\" :formatter=\"costPropertyFormat\" />\n            <el-table-column label=\"是否可控\" align=\"center\" prop=\"isControl\" :formatter=\"isControlFormat\"/>\n            <el-table-column label=\"是否核算\" align=\"center\" prop=\"isCostCalculate\" :formatter=\"isAccountFormat\" />\n            <el-table-column label=\"资本性成本\" align=\"center\" prop=\"phonenumber\" :formatter=\"isCostCapitalFormat\"/>\n            <el-table-column label=\"医疗成本\" align=\"center\" prop=\"sex1\" :formatter=\"isCostHealthFormat\"/>\n            <el-table-column label=\"计算机入成本\" align=\"center\" prop=\"phonenumber1\" :formatter=\"isCostCalculateFormat\"/>\n          </el-table>\n          <pagination\n            layout=\"total, prev, pager, next\"\n            v-show=\"total>0\"\n            :total=\"total\"\n            :page.sync=\"params.pageNum\"\n            :limit.sync=\"params.pageSize\"\n            @pagination=\"handleInput\"\n          />\n          <el-input slot=\"reference\" :style=\"{marginTop:'10px'}\" v-model=\"queryParams[setProp]\" :placeholder=\"'请选择'+label\" @input=\"handleInput\" @keyup.enter.native=\"handleInput\"  @focus=\"handleInput\"/>\n        </el-popover>\n      </el-form-item>\n</template>\n\n<script>\nimport {searchForProject} from \"@/api/project/num\";\n\n// label 为空时  调用组件 增加class labelEmpty\nexport default {\n  name: \"index\",\n  props: {\n    // 是否禁用\n    disabled: {\n      type: Boolean,\n      default: false\n    },\n    // 传参为form表单 方便数据回显渲染\n    queryParams: {\n      type: [Object, Array]\n    },\n    datas: {\n      type: Object,\n      default() {\n        return {};\n      }\n    },\n    label: {\n      type: String,\n      default: \"\"\n    },\n    projectCode: {\n      type: [String, Number],\n      default: \"\"\n    },\n    compCode: {\n      type: [String, Number],\n      default: \"\"\n    },\n    setProp: {\n      type: String,\n      default: \"projectCode\"\n    },\n    formProp: {\n      type: String,\n      default: \"projectCode\"\n    },\n    rules: {\n      type: Array,\n      default() {\n        return [ ];\n      }\n    },\n  },\n  data() {\n    return {\n      // 表格数据\n      tableData: [],\n      formData: this.queryParams,\n      params: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.popPageSize,\n      },\n      total: 0,\n      costPropertyOptions:[],\n      projectLevelOptions:[],\n      projectTypeOptions:[],\n      isControlOptions: [],\n      isAccountOptions: [],\n      isCostCapitalOptions: [],\n      isCostHealthOptions: [],\n      isCostCalculateOptions: [],\n\n    };\n  },\n  watch: {\n    setProp: {\n      handler(val) {\n        if (val != \"projectCode\" && this.formProp == \"projectCode\") {\n          this.formProp = val;\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    rules: {\n      type: Array,\n      default() {\n        return [ ];\n      }\n    },\n  },\n  created(){\n    this.getDicts(\"cost_xm_jb\").then(response => {\n      this.projectLevelOptions = response.data;\n    });\n    this.getDicts(\"cost_xm_lx\").then(response => {\n      this.projectTypeOptions = response.data;\n    });\n    this.getDicts(\"cost_cb_sx\").then(response => {\n      this.costPropertyOptions = response.data;\n    });\n    this.getDicts(\"hr_is_change\").then(response => {\n      this.isCostCalculateOptions = response.data;\n      this.isControlOptions = response.data;\n      this.isCostHealthOptions = response.data;\n      this.isCostCapitalOptions = response.data;\n      this.isAccountOptions = response.data;\n    });\n  },\n  methods: {\n    // 搜索数据\n    handleInput(e) {\n      if(e.target){\n         this.params={\n          deptCode:this.datas.deptCode,\n          nowDate:this.datas.nowDate,\n          queryString:e.target.value,\n          compCode: this.$store.state.user.userInfo.deptId,          \n        }\n        // console.log(this.params,'params')\n         searchForProject(this.params).then(response => {\n            this.tableData = response.rows\n            this.total = response.total;\n        });\n      }\n     \n    },\n    // 点击表格行\n    clickRow(row, column, cell, event) {\n      this.queryParams[this.setProp] = row.projectCode;\n      this.$emit(\"click\", row);\n      this.$refs.popover.doClose();\n    },\n     //科室类型字典翻译\n      deptTypeFormat(row, column) {\n          return this.selectDictLabel(this.deptTypeOptions, row.deptType);\n      },\n     // 项目类型字典翻译\n      projectTypeFormat(row, column) {\n        return this.selectDictLabel(this.projectTypeOptions, row.projectType);\n      },\n      // 成本属性字典翻译\n      costPropertyFormat(row, column) {\n        return this.selectDictLabel(this.costPropertyOptions, row.costProperty);\n      },\n      // 是否可控字典翻译\n      isControlFormat(row, column) {\n        return this.selectDictLabel(this.isControlOptions, row.isControl);\n      },\n      // 是否核算字典翻译\n      isAccountFormat(row, column) {\n        return this.selectDictLabel(this.isAccountOptions, row.isAccount);\n      },\n      // 是否资本性成本字典翻译\n      isCostCapitalFormat(row, column) {\n        return this.selectDictLabel(this.isCostCapitalOptions, row.isCostCapital);\n      },\n      // 是否医疗成本字典翻译\n      isCostHealthFormat(row, column) {\n        return this.selectDictLabel(this.isCostHealthOptions, row.isCostHealth);\n      },\n      // 是否计算计入成本字典翻译\n      isCostCalculateFormat(row, column) {\n        return this.selectDictLabel(this.isCostCalculateOptions, row.isCostCalculate);\n      },\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n.pagination-container {\n  height: 36px !important;\n}\n\n.labelEmpty {\n  ::v-deep .el-form-item {\n    margin-bottom: 12px;\n  }\n  ::v-deep .el-form-item__content {\n    margin-left: 0 !important;\n  }\n}\n</style>\n"]}]}
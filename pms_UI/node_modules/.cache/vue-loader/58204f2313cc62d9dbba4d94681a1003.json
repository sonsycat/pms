{"remainingRequest":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\work\\pms_oracle\\pms_UI\\src\\views\\basic\\store\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\work\\pms_oracle\\pms_UI\\src\\views\\basic\\store\\index.vue","mtime":1693362204000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924000},{"path":"D:\\work\\pms_oracle\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7CiAgbGlzdFN0b3JlLAogIGdldFN0b3JlLAogIGRlbFN0b3JlLAogIGFkZFN0b3JlLAogIHVwZGF0ZVN0b3JlLAogIGV4cG9ydFN0b3JlCn0gZnJvbSAiQC9hcGkvYmFzaWMvc3RvcmUiOwppbXBvcnQgeyBsaXN0VXNlciB9IGZyb20gIkAvYXBpL3N5c3RlbS91c2VyIjsKaW1wb3J0IG9yZ1NlYXJjaCBmcm9tICJAL3ZpZXdzL2NvbXBvbmVudHMvb3JnU2VhcmNoIjsKaW1wb3J0IHBpbnlpbiBmcm9tICJqcy1waW55aW4iOwppbXBvcnQgYWRkRWRpdCBmcm9tICIuL2FkZEVkaXQiOwpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogIlN0b3JlIiwKICBjb21wb25lbnRzOiB7CiAgICBvcmdTZWFyY2gsCiAgICBhZGRFZGl0CiAgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgLy8g6YGu572p5bGCCiAgICAgIGxvYWRpbmc6IHRydWUsCiAgICAgIC8vIOWvvOWHuumBrue9qeWxggogICAgICBleHBvcnRMb2FkaW5nOiBmYWxzZSwKICAgICAgLy8g6YCJ5Lit5pWw57uECiAgICAgIGlkczogW10sCiAgICAgIGlzU3RvcHM6IFtdLAogICAgICAvLyDpnZ7ljZXkuKrnpoHnlKgKICAgICAgc2luZ2xlOiB0cnVlLAogICAgICBzdGFydDI6IGZhbHNlLAogICAgICBzdG9wMjogZmFsc2UsCiAgICAgIC8vIOmdnuWkmuS4quemgeeUqAogICAgICBtdWx0aXBsZTogdHJ1ZSwKICAgICAgLy8g5pi+56S65pCc57Si5p2h5Lu2CiAgICAgIHNob3dTZWFyY2g6IHRydWUsCiAgICAgIC8vIOaAu+adoeaVsAogICAgICB0b3RhbDogMCwKICAgICAgLy8g5LuT5bqT566h55CG6KGo5qC85pWw5o2uCiAgICAgIHN0b3JlTGlzdDogW10sCiAgICAgIC8vIOW8ueWHuuWxguagh+mimAogICAgICB0aXRsZTogIiIsCiAgICAgIC8vIOaYr+WQpuaYvuekuuW8ueWHuuWxggogICAgICBvcGVuOiBmYWxzZSwKICAgICAgLy8g5bqT5oi/5YiG57G75a2X5YW4CiAgICAgIHN0b3JlVHlwZU9wdGlvbnM6IFtdLAogICAgICAvLyDmmK/lkKblgZznlKjlrZflhbgKICAgICAgaXNTdG9wT3B0aW9uczogW10sCiAgICAgIC8vIOaYr+WQpuS7o+mUgOWtl+WFuAogICAgICBpc1Byb3h5T3B0aW9uczogW10sCiAgICAgIC8vIOW6k+aIv+exu+Wei+Wtl+WFuAogICAgICBzdG9yZUNsYXNzT3B0aW9uczogW10sCiAgICAgIC8vIOafpeivouWPguaVsAogICAgICBxdWVyeVBhcmFtczogewogICAgICAgIHBhZ2VOdW06IDEsCiAgICAgICAgcGFnZVNpemU6IHRoaXMuJHN0b3JlLnN0YXRlLnNldHRpbmdzLnBhZ2VTaXplLAogICAgICAgIGNvbXBDb2RlOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZCwKICAgICAgICBjb21wTmFtZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0TmFtZSwKICAgICAgICBzdG9yZUNvZGU6IG51bGwsCiAgICAgICAgc3RvcmVOYW1lOiBudWxsLAogICAgICAgIHN0b3JlQ2xhc3M6IG51bGwsCiAgICAgIH0sCiAgICAgIC8vIOihqOWNleWPguaVsAogICAgICBmb3JtOiB7fSwKICAgICAgLy8g5paw5aKe5L+u5pS56KGo5Y2V5Y+C5pWwCiAgICAgIGFkZEVkaXRvckZvcm06IHt9LAogICAgICAvLyDooajljZXmoKHpqowKICAgICAgcnVsZXM6IHsKICAgICAgICBjb21wQ29kZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWNleS9jee8lueggeS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9CiAgICAgICAgXSwKICAgICAgICBjb21wTmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWNleS9jeS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9LAogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuWNleS9jeS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJjaGFuZ2UiIH0KICAgICAgICBdLAogICAgICAgIHN0b3JlTmFtZTogWwogICAgICAgICAgeyByZXF1aXJlZDogdHJ1ZSwgbWVzc2FnZTogIuS7k+W6k+WQjeensOS4jeiDveS4uuepuiIsIHRyaWdnZXI6ICJibHVyIiB9CiAgICAgICAgXQogICAgICB9LAogICAgICAvLyDmlrDlop7kv67mlLlpZAogICAgICBhZGRFZGl0SWQ6ICIiLAogICAgICBkZWZhdWx0U29ydDogeyBwcm9wOiAiY3JlYXRlVGltZSIsIG9yZGVyOiAiZGVzY2VuZGluZyIgfSwKICAgICAgc2VsZWN0aW9uUm93OiBbXSwKICAgICAgdGFibGVIZWlnaHQ6ICJhdXRvIiwKICAgICAgdXNlck9wdGlvbnM6IFtdCiAgICB9OwogIH0sCiAgY3JlYXRlZCgpIHsKICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgLy8gdGhpcy5nZXREaWN0cygiYmFzaWNfc3RvcmVfdHlwZSIpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgLy8gICB0aGlzLnN0b3JlVHlwZU9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgLy8gfSk7CiAgICAvLyB0aGlzLmdldERpY3RzKCJocl9pc19jaGFuZ2UiKS50aGVuKHJlc3BvbnNlID0+IHsKICAgIC8vICAgdGhpcy5pc1N0b3BPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKICAgIC8vIH0pOwogICAgLy8gdGhpcy5nZXREaWN0cygiaHJfaXNfY2hhbmdlIikudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgIHRoaXMuaXNQcm94eU9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgLy8gfSk7CiAgICAvLyB0aGlzLmdldFVzZXJJbmZvKCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAvLyAgIHRoaXMudXNlck9wdGlvbnMgPSByZXNwb25zZS5kYXRhOwogICAgLy8gfSk7CiAgfSwKICBjb21wdXRlZDogewogICAgbGlzdERhdGEoKSB7CiAgICAgIHJldHVybiB0aGlzLiRzdG9yZS5zdGF0ZS5hcHAuc2lkZWJhci5vcGVuZWQ7CiAgICB9CiAgfSwKICB3YXRjaDogewogICAgIiRzdG9yZS5zdGF0ZS5kaWN0cyI6IHsKICAgICAgaGFuZGxlcih2YWwpIHsKICAgICAgICBsZXQgYmFzZURpY3RzID0gdmFsLmJhc2VEaWN0czsKICAgICAgICAvLyDln7rnoYDlrZflhbgKICAgICAgICB0aGlzLmlzUHJveHlPcHRpb25zID0gYmFzZURpY3RzLmhySXNDaGFuZ2U7CiAgICAgICAgdGhpcy5pc1N0b3BPcHRpb25zID0gYmFzZURpY3RzLmhySXNDaGFuZ2U7CiAgICAgICAgdGhpcy5zdG9yZVR5cGVPcHRpb25zID0gYmFzZURpY3RzLmJhc2ljU3RvcmVUeXBlOwogICAgICAgIHRoaXMuc3RvcmVDbGFzc09wdGlvbnMgPSBiYXNlRGljdHMuc3RvcmVDbGFzczsKICAgICAgICAvLyDnibnmrooKICAgICAgICB0aGlzLnVzZXJPcHRpb25zID0gdmFsLnVzZXJPcHRzSW5mbzsKICAgICAgfSwKICAgICAgZGVlcDogdHJ1ZSwKICAgICAgaW1tZWRpYXRlOiB0cnVlCiAgICB9LAogICAgbGlzdERhdGEodmFsKSB7CiAgICAgIHZhciB0aGF0ID0gdGhpczsKICAgICAgc2V0VGltZW91dChmdW5jdGlvbigpIHsKICAgICAgICB0aGF0LnJlc2l6ZUhhbmRsZXIoKTsKICAgICAgfSwgMzAwKTsKICAgIH0KICB9LAogIG1vdW50ZWQoKSB7CiAgICB0aGlzLiRuZXh0VGljaygoKSA9PiB7CiAgICAgIHRoaXMucmVzaXplSGFuZGxlcigpOwogICAgICB3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5yZXNpemVIYW5kbGVyKTsKICAgIH0pOwogIH0sCiAgbWV0aG9kczogewogICAgaGFuZGxlQ2xpY2tUYWJsZU5hbWUoZGF0YSkgewogICAgICAvLyDpgInkuK3lvZPliY3ooYwKICAgICAgdGhpcy5oYW5kbGVSb3dDbGljayhkYXRhLCBmYWxzZSk7CiAgICAgIHRoaXMuaGFuZGxlVXBkYXRlKGRhdGEpOwogICAgfSwKICAgIHJlc2l6ZUhhbmRsZXIoKSB7CiAgICAgIGxldCBhID0gdGhpcy4kcmVmcy5zZWFyY2gub2Zmc2V0SGVpZ2h0OwogICAgICBsZXQgYiA9IHRoaXMuJHJlZnMuYnRucy5vZmZzZXRIZWlnaHQ7CiAgICAgIGxldCBoID0gYSArIGIgKyB0aGlzLiRzdG9yZS5zdGF0ZS5zZXR0aW5ncy50YWJsZUhlaWdodDsKICAgICAgaCA9IGggKyAicHgiOwogICAgICB0aGlzLnRhYmxlSGVpZ2h0ID0gYGNhbGMoMTAwdmggLSAke2h9KWA7CiAgICB9LAogICAgLyoqIOaLvOmfs+eggSAqLwogICAgaGFuZGxlU3BlbGwoKSB7CiAgICAgIHRoaXMuZm9ybS5zcGVsbCA9IHBpbnlpbi5nZXRDYW1lbENoYXJzKHRoaXMuZm9ybS5zdG9yZU5hbWUpLnRvVXBwZXJDYXNlKCk7CiAgICB9LAogICAgLyoqIOafpeivouS7k+W6k+euoeeQhuWIl+ihqCAqLwogICAgZ2V0TGlzdCgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZTsKICAgICAgbGlzdFN0b3JlKHRoaXMucXVlcnlQYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gewogICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgdGhpcy5zdG9yZUxpc3QgPSByZXNwb25zZS5yb3dzOwogICAgICAgICAgdGhpcy50b3RhbCA9IHJlc3BvbnNlLnRvdGFsOwogICAgICAgIH0gZWxzZSB7CiAgICAgICAgICB0aGlzLm1zZ0Vycm9yKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgfQogICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlOwogICAgICB9KTsKICAgIH0sCiAgICAvLyDlupPmiL/liIbnsbvlrZflhbjnv7vor5EKICAgIHN0b3JlVHlwZUZvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy5zdG9yZVR5cGVPcHRpb25zLCByb3cuc3RvcmVUeXBlKTsKICAgIH0sCiAgICAvLyBsaXN0VXNlciB0aGlzLnVzZXJPcHRpb25zCiAgICBsaXN0VXNlckZvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy51c2VyT3B0aW9ucywgcm93LnByaW5jaXBhbENvZGUpOwogICAgfSwKICAgIC8vIOaYr+WQpuWBnOeUqOWtl+WFuOe/u+ivkQogICAgaXNTdG9wRm9ybWF0KHJvdywgY29sdW1uKSB7CiAgICAgIHJldHVybiB0aGlzLnNlbGVjdERpY3RMYWJlbCh0aGlzLmlzU3RvcE9wdGlvbnMsIHJvdy5pc1N0b3ApOwogICAgfSwKICAgIC8vIOaYr+WQpuS7o+mUgOWtl+WFuOe/u+ivkQogICAgaXNQcm94eUZvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy5pc1Byb3h5T3B0aW9ucywgcm93LmlzUHJveHkpOwogICAgfSwKICAgIC8vIOW6k+aIv+exu+Wei+Wtl+WFuOe/u+ivkQogICAgc3RvcmVDbGFzc0Zvcm1hdChyb3csIGNvbHVtbikgewogICAgICByZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwodGhpcy5zdG9yZUNsYXNzT3B0aW9ucywgcm93LnN0b3JlQ2xhc3MpOwogICAgfSwKICAgIC8vIOWPlua2iOaMiemSrgogICAgY2FuY2VsKCkgewogICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgdGhpcy5yZXNldCgpOwogICAgfSwKICAgIC8vIOihqOWNlemHjee9rgogICAgcmVzZXQoKSB7CiAgICAgIHRoaXMuZm9ybSA9IHsKICAgICAgICBpZDogbnVsbCwKICAgICAgICBjb21wQ29kZTogbnVsbCwKICAgICAgICBjb21wTmFtZTogbnVsbCwKICAgICAgICBkZXB0Q29kZTogbnVsbCwKICAgICAgICBzdG9yZUNvZGU6IG51bGwsCiAgICAgICAgc3RvcmVOYW1lOiBudWxsLAogICAgICAgIHN0b3JlQ2xhc3M6IG51bGwsCiAgICAgICAgc3BlbGw6IG51bGwsCiAgICAgICAgc3RvcmVUeXBlOiBudWxsLAogICAgICAgIGFkZHJlc3M6IG51bGwsCiAgICAgICAgdGVsOiBudWxsLAogICAgICAgIHByaW5jaXBhbENvZGU6IG51bGwsCiAgICAgICAgY3VzdG9keUNvZGU6IG51bGwsCiAgICAgICAgYWNjb3VudGFudENvZGU6IG51bGwsCiAgICAgICAgaXNTdG9wOiAiMSIsCiAgICAgICAgaXNQcm94eTogIjEiLAogICAgICAgIGRlbEZsYWc6IG51bGwsCiAgICAgICAgY3JlYXRlQnk6IG51bGwsCiAgICAgICAgY3JlYXRlVGltZTogbnVsbCwKICAgICAgICB1cGRhdGVCeTogbnVsbCwKICAgICAgICB1cGRhdGVUaW1lOiBudWxsLAogICAgICAgIHJlbWFyazogbnVsbAogICAgICB9OwogICAgICB0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwogICAgfSwKICAgIC8qKiDmkJzntKLmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVF1ZXJ5KCkgewogICAgICB0aGlzLnF1ZXJ5UGFyYW1zLnBhZ2VOdW0gPSAxOwogICAgICB0aGlzLmdldExpc3QoKTsKICAgIH0sCiAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCiAgICByZXNldFF1ZXJ5KCkgewogICAgICB0aGlzLnJlc2V0Rm9ybSgicXVlcnlGb3JtIik7CiAgICAgIHRoaXMuaGFuZGxlUXVlcnkoKTsKICAgIH0sCiAgICBoYW5kbGVTb3J0Q2hhbmdlKGNvbHVtbiwgcHJvcCwgb3JkZXIpIHsKICAgICAgdGhpcy5xdWVyeVBhcmFtcy5vcmRlckJ5Q29sdW1uID0gY29sdW1uLnByb3A7CiAgICAgIHRoaXMucXVlcnlQYXJhbXMuaXNBc2MgPSBjb2x1bW4ub3JkZXI7CiAgICAgIHRoaXMuZ2V0TGlzdCgpOwogICAgfSwKICAgIGhhbmRsZVJvd0NsaWNrKHJvdywgZmxhZyA9IHRydWUpIHsKICAgICAgbGV0IHN0b3JlTGlzdFJlZiA9IHRoaXMuJHJlZnMuc3RvcmVMaXN0UmVmOwogICAgICBpZiAoZmxhZykgewogICAgICAgIGxldCBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChjID0+IGMuaWQgPT0gcm93LmlkKTsKICAgICAgICBpZiAoZmluZFJvdykgewogICAgICAgICAgc3RvcmVMaXN0UmVmLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIGZhbHNlKTsKICAgICAgICAgIHJldHVybjsKICAgICAgICB9CiAgICAgIH0KICAgICAgc3RvcmVMaXN0UmVmLmNsZWFyU2VsZWN0aW9uKCk7IC8v5riF56m65YiX6KGo55qE6YCJ5LitCiAgICAgIHN0b3JlTGlzdFJlZi50b2dnbGVSb3dTZWxlY3Rpb24ocm93LCB0cnVlKTsKICAgIH0sCiAgICAvLyDlpJrpgInmoYbpgInkuK3mlbDmja4KICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKICAgICAgbGV0IHN0b3JlTGlzdFJlZiA9IHRoaXMuJHJlZnMuc3RvcmVMaXN0UmVmOwogICAgICBpZiAoc2VsZWN0aW9uLmxlbmd0aCA+IDEpIHsKICAgICAgICBzdG9yZUxpc3RSZWYuY2xlYXJTZWxlY3Rpb24oKTsgLy/muIXnqbrliJfooajnmoTpgInkuK0KICAgICAgICBzdG9yZUxpc3RSZWYudG9nZ2xlUm93U2VsZWN0aW9uKHNlbGVjdGlvbltzZWxlY3Rpb24ubGVuZ3RoIC0gMV0sIHRydWUpOyAvL+WPquaYvuekuumAieS4reacgOWQjuS4gOS4qiDov5nml7ZzZWxlY3Rpb27ov5jmmK/lpJrpgInnmoTliJfooago5bCx5piv5L2g6YCJ5Lit55qE5Yeg5Liq5pWw5o2uKQogICAgICAgIHNlbGVjdGlvbiA9IEFycmF5KHNlbGVjdGlvbltzZWxlY3Rpb24ubGVuZ3RoIC0gMV0pOwogICAgICB9IGVsc2UgaWYgKHNlbGVjdGlvbi5sZW5ndGggPT09IDEpIHsKICAgICAgICBzZWxlY3Rpb24gPSBBcnJheShzZWxlY3Rpb25bc2VsZWN0aW9uLmxlbmd0aCAtIDFdKTsKICAgICAgfSBlbHNlIHsKICAgICAgICBzZWxlY3Rpb24gPSBbXTsKICAgICAgfQogICAgICAvLyDmlrnkvr/ngrnlh7vooYzlj5bmtojpgInkuK0KICAgICAgdGhpcy5zZWxlY3Rpb25Sb3cgPSBzZWxlY3Rpb247CiAgICAgIC8vIOiuvue9ruihjOmrmOS6rgogICAgICBzdG9yZUxpc3RSZWYuc2V0Q3VycmVudFJvdyhzZWxlY3Rpb25bMF0pOwogICAgICB0aGlzLmlkcyA9IHNlbGVjdGlvbi5tYXAoaXRlbSA9PiBpdGVtLmlkKTsKICAgICAgdGhpcy5zdG9yZUNvZGVzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uc3RvcmVDb2RlKTsKICAgICAgdGhpcy5pc1N0b3BzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uaXNTdG9wKTsKICAgICAgdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoICE9PSAxOwogICAgICBpZiAodGhpcy5zaW5nbGUgPT0gZmFsc2UpIHsKICAgICAgICBpZiAodGhpcy5pc1N0b3BzWzBdID09IDApIHsKICAgICAgICAgIHRoaXMuc3RhcnQyID0gdHJ1ZTsKICAgICAgICAgIHRoaXMuc3RvcDIgPSBmYWxzZTsKICAgICAgICB9IGVsc2UgewogICAgICAgICAgdGhpcy5zdG9wMiA9IHRydWU7CiAgICAgICAgICB0aGlzLnN0YXJ0MiA9IGZhbHNlOwogICAgICAgIH0KICAgICAgfSBlbHNlIHsKICAgICAgICB0aGlzLnN0b3AyID0gZmFsc2U7CiAgICAgICAgdGhpcy5zdGFydDIgPSBmYWxzZTsKICAgICAgfQogICAgICB0aGlzLm11bHRpcGxlID0gIXNlbGVjdGlvbi5sZW5ndGg7CiAgICB9LAogICAgLyoqIOaWsOWinuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlQWRkKCkgewogICAgICB0aGlzLiRyZWZzLnN0b3JlTGlzdFJlZi5jbGVhclNlbGVjdGlvbigpOwogICAgICB0aGlzLm9wZW4gPSB0cnVlOwogICAgICB0aGlzLmFkZEVkaXRJZCA9ICIiOwogICAgfSwKICAgIC8qKiDkv67mlLnmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsKICAgICAgdGhpcy5hZGRFZGl0SWQgPSB0aGlzLmlkc1swXTsKICAgICAgdGhpcy5vcGVuID0gdHJ1ZTsKICAgIH0sCiAgICAvKiog5o+Q5Lqk5oiQ5YqfICovCiAgICBzdWNjZXNzU3VibWl0KGZsYWcpIHsKICAgICAgdGhpcy5vcGVuID0gZmxhZzsKICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICB9LAogICAgLyoqIOWIoOmZpOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRGVsZXRlKHJvdykgewogICAgICBjb25zdCBpZHMgPSByb3cuaWQgfHwgdGhpcy5pZHM7CiAgICAgIGNvbnN0IHN0b3JlQ29kZXMgPSByb3cuc3RvcmVDb2RlIHx8IHRoaXMuc3RvcmVDb2RlczsKICAgICAgdGhpcy4kY29uZmlybSgKICAgICAgICAn5piv5ZCm56Gu6K6k5Yig6Zmk5LuT5bqT566h55CG57yW5Y+35Li6IicgKyBzdG9yZUNvZGVzICsgJyLnmoTmlbDmja7pobk/JywKICAgICAgICAi6K2m5ZGKIiwKICAgICAgICB7CiAgICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCiAgICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICAgIHR5cGU6ICJ3YXJuaW5nIgogICAgICAgIH0KICAgICAgKQogICAgICAgIC50aGVuKGZ1bmN0aW9uKCkgewogICAgICAgICAgcmV0dXJuIGRlbFN0b3JlKGlkcyk7CiAgICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmdldExpc3QoKTsKICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5Yig6Zmk5oiQ5YqfIik7CiAgICAgICAgfSkKICAgICAgICAuY2F0Y2goKCkgPT4ge30pOwogICAgfSwKICAgIC8qKiDlgZznlKjmjInpkq7mk43kvZwgKi8KICAgIGhhbmRsZVN0b3Aocm93KSB7CiAgICAgIGNvbnN0IGlkcyA9IHJvdy5pZCB8fCB0aGlzLmlkczsKICAgICAgY29uc3Qgc3RvcmVDb2RlcyA9IHJvdy5zdG9yZUNvZGUgfHwgdGhpcy5zdG9yZUNvZGVzOwogICAgICB0aGlzLiRjb25maXJtKAogICAgICAgICfmmK/lkKbnoa7orqTlgZznlKjku5PlupPnrqHnkIbnvJblj7fkuLoiJyArIHN0b3JlQ29kZXMgKyAnIueahOaVsOaNrumhuT8nLAogICAgICAgICLorablkYoiLAogICAgICAgIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgfQogICAgICApCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5mb3JtLmlkID0gaWRzWzBdOwogICAgICAgICAgdGhpcy5mb3JtLmlzU3RvcCA9ICIwIjsKICAgICAgICAgIHVwZGF0ZVN0b3JlKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5YGc55So5oiQ5YqfIik7CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5tc2dFcnJvcihyZXNwb25zZS5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAogICAgLyoqIOWQr+eUqOaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlU3RhcnQocm93KSB7CiAgICAgIGNvbnN0IGlkcyA9IHJvdy5pZCB8fCB0aGlzLmlkczsKICAgICAgY29uc3Qgc3RvcmVDb2RlcyA9IHJvdy5zdG9yZUNvZGUgfHwgdGhpcy5zdG9yZUNvZGVzOwogICAgICB0aGlzLiRjb25maXJtKAogICAgICAgICfmmK/lkKbnoa7orqTlkK/nlKjku5PlupPnrqHnkIbnvJblj7fkuLoiJyArIHN0b3JlQ29kZXMgKyAnIueahOaVsOaNrumhuT8nLAogICAgICAgICLorablkYoiLAogICAgICAgIHsKICAgICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAogICAgICAgICAgdHlwZTogIndhcm5pbmciCiAgICAgICAgfQogICAgICApCiAgICAgICAgLnRoZW4oKCkgPT4gewogICAgICAgICAgdGhpcy5mb3JtLmlkID0gaWRzWzBdOwogICAgICAgICAgdGhpcy5mb3JtLmlzU3RvcCA9ICIxIjsKICAgICAgICAgIHVwZGF0ZVN0b3JlKHRoaXMuZm9ybSkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5ZCv55So5oiQ5YqfIik7CiAgICAgICAgICAgICAgdGhpcy5nZXRMaXN0KCk7CiAgICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgICAgdGhpcy5tc2dFcnJvcihyZXNwb25zZS5tc2cpOwogICAgICAgICAgICB9CiAgICAgICAgICB9KTsKICAgICAgICB9KQogICAgICAgIC5jYXRjaCgoKSA9PiB7fSk7CiAgICB9LAogICAgLyoqIOWvvOWHuuaMiemSruaTjeS9nCAqLwogICAgaGFuZGxlRXhwb3J0KCkgewogICAgICBjb25zdCBxdWVyeVBhcmFtcyA9IHRoaXMucXVlcnlQYXJhbXM7CiAgICAgIHRoaXMuJGNvbmZpcm0oIuaYr+WQpuehruiupOWvvOWHuuaJgOacieS7k+W6k+euoeeQhuaVsOaNrumhuT8iLCAi6K2m5ZGKIiwgewogICAgICAgIGNvbmZpcm1CdXR0b25UZXh0OiAi56Gu5a6aIiwKICAgICAgICBjYW5jZWxCdXR0b25UZXh0OiAi5Y+W5raIIiwKICAgICAgICB0eXBlOiAid2FybmluZyIKICAgICAgfSkKICAgICAgICAudGhlbigoKSA9PiB7CiAgICAgICAgICB0aGlzLmV4cG9ydExvYWRpbmcgPSB0cnVlOwogICAgICAgICAgcmV0dXJuIGV4cG9ydFN0b3JlKHF1ZXJ5UGFyYW1zKTsKICAgICAgICB9KQogICAgICAgIC50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICB0aGlzLmRvd25sb2FkKHJlc3BvbnNlLm1zZyk7CiAgICAgICAgICAgIHRoaXMuZXhwb3J0TG9hZGluZyA9IGZhbHNlOwogICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgdGhpcy5tc2dFcnJvcihyZXNwb25zZS5tc2cpOwogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgICAgLmNhdGNoKCgpID0+IHt9KTsKICAgIH0KICB9Cn07Cg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA+HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"index.vue","sourceRoot":"src/views/basic/store","sourcesContent":["<template>\n    <!-- 基础信息 - 仓库信息管理 -->\n  <div class=\"app-container\">\n    <div ref=\"search\">\n      <el-form :model=\"queryParams\" ref=\"queryForm\" :inline=\"true\" v-show=\"showSearch\" label-width=\"68px\">\n        <orgSearch size=\"small\" label=\"单位名称\" :queryParams=\"queryParams\"  ></orgSearch>\n        <el-form-item label=\"仓库编码\" prop=\"storeCode\">\n          <el-input\n            v-model=\"queryParams.storeCode\"\n            placeholder=\"请输入仓库编码\"\n            clearable\n            size=\"small\"\n            @keyup.enter.native=\"handleQuery\"\n          />\n        </el-form-item>\n        <el-form-item label=\"仓库名称\" prop=\"storeName\">\n          <el-input\n            v-model=\"queryParams.storeName\"\n            placeholder=\"请输入仓库名称\"\n            clearable\n            size=\"small\"\n            @keyup.enter.native=\"handleQuery\"\n          />\n        </el-form-item>\n        <el-form-item label=\"库房类型\" prop=\"storeClass\">\n          <el-select v-model=\"queryParams.storeClass\" placeholder=\"请选择库房类型\" clearable size=\"small\">\n            <el-option\n              v-for=\"dict in storeClassOptions\"\n              :key=\"dict.dictValue\"\n              :label=\"dict.dictLabel\"\n              :value=\"dict.dictValue\"\n            ></el-option>\n          </el-select>\n        </el-form-item>\n        <el-form-item>\n          <el-button type=\"primary\" icon=\"el-icon-search\" size=\"mini\" @click=\"handleQuery\">搜索</el-button>\n          <el-button icon=\"el-icon-refresh\" size=\"mini\" @click=\"resetQuery\">重置</el-button>\n        </el-form-item>\n      </el-form>\n    </div>\n    <div ref=\"btns\">\n      <el-row :gutter=\"10\" class=\"mb8\">\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"primary\"\n\n            icon=\"el-icon-plus\"\n            size=\"mini\"\n            @click=\"handleAdd\"\n            v-hasPermi=\"['basic:store:add']\"\n          >新增</el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"success\"\n\n            icon=\"el-icon-edit\"\n            size=\"mini\"\n            :disabled=\"single\"\n            @click=\"handleUpdate\"\n            v-hasPermi=\"['basic:store:edit']\"\n          >修改</el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"danger\"\n            icon=\"el-icon-delete\"\n            size=\"mini\"\n            :disabled=\"multiple\"\n            @click=\"handleDelete\"\n            v-hasPermi=\"['basic:store:remove']\"\n          >删除</el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"success\"\n            icon=\"el-icon-circle-check\"\n            size=\"mini\"\n            :disabled=\"single||stop2\"\n            @click=\"handleStart\"\n            v-hasPermi=\"['basic:store:start']\"\n          >启用</el-button>\n        </el-col>\n        <el-col :span=\"1.5\">\n          <el-button\n            type=\"danger\"\n            icon=\"el-icon-remove-outline\"\n            size=\"mini\"\n            :disabled=\"single||start2\"\n            @click=\"handleStop\"\n            v-hasPermi=\"['basic:store:stop']\"\n          >停用</el-button>\n        </el-col>\n        <right-toolbar :showSearch.sync=\"showSearch\" @queryTable=\"getList\"></right-toolbar>\n      </el-row>\n    </div>\n    <el-table v-loading=\"loading\" :height=\"tableHeight\"  ref=\"storeListRef\" :data=\"storeList\" @selection-change=\"handleSelectionChange\" stripe  :default-sort=\"defaultSort\" @sort-change=\"handleSortChange\"  highlight-current-row @row-click=\"handleRowClick\">\n      <el-table-column type=\"selection\" width=\"55\" align=\"center\" />\n      <el-table-column show-overflow-tooltip label=\"仓库分类\" align=\"left\" prop=\"storeType\" :formatter=\"storeTypeFormat\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\"/>\n      <el-table-column show-overflow-tooltip label=\"仓库编码\" align=\"center\" prop=\"storeCode\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\"/>\n      <el-table-column show-overflow-tooltip label=\"仓库名称\" align=\"left\" prop=\"storeName\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\">\n        <template slot-scope=\"scope\">\n           <el-link type=\"primary\" :underline=\"false\" v-html=\"scope.row.storeName\" @click.stop=\"handleClickTableName(scope.row)\" class=\"displayBlock text-ellipsis \"></el-link>\n        </template>\n      </el-table-column>\n      <el-table-column show-overflow-tooltip label=\"库房类型\" width=\"120\" align=\"center\" prop=\"storeClass\" sortable=\"custom\" :formatter=\"storeClassFormat\" :sort-orders=\"['descending', 'ascending']\"/>\n      <el-table-column show-overflow-tooltip label=\"单位\" align=\"left\" prop=\"compName\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\"/>\n      <el-table-column show-overflow-tooltip label=\"负责人\" width=\"120\" align=\"center\" prop=\"principalCode\" :formatter=\"listUserFormat\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\"/>\n      <el-table-column show-overflow-tooltip label=\"电话\" width=\"120\" align=\"center\" prop=\"tel\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\"/>\n      <el-table-column show-overflow-tooltip label=\"是否代销\" width=\"120\" align=\"center\" prop=\"isProxy\" :formatter=\"isProxyFormat\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\"/>\n      <el-table-column show-overflow-tooltip label=\"是否停用\" width=\"120\" align=\"center\" prop=\"isStop\" :formatter=\"isStopFormat\" sortable=\"custom\" :sort-orders=\"['descending', 'ascending']\"/>\n    </el-table>\n\n    <pagination\n      v-show=\"total>0\"\n      :total=\"total\"\n      :page.sync=\"queryParams.pageNum\"\n      :limit.sync=\"queryParams.pageSize\"\n      @pagination=\"getList\"\n    />\n\n    <!-- 添加或修改仓库管理对话框 -->\n    <addEdit v-if=\"open\" :open=\"open\" :id=\"addEditId\" :addEditorForm=\"addEditorForm\" @cancel=\"cancel\" @success=\"successSubmit\"></addEdit>\n  </div>\n</template>\n\n<script>\nimport {\n  listStore,\n  getStore,\n  delStore,\n  addStore,\n  updateStore,\n  exportStore\n} from \"@/api/basic/store\";\nimport { listUser } from \"@/api/system/user\";\nimport orgSearch from \"@/views/components/orgSearch\";\nimport pinyin from \"js-pinyin\";\nimport addEdit from \"./addEdit\";\nexport default {\n  name: \"Store\",\n  components: {\n    orgSearch,\n    addEdit\n  },\n  data() {\n    return {\n      // 遮罩层\n      loading: true,\n      // 导出遮罩层\n      exportLoading: false,\n      // 选中数组\n      ids: [],\n      isStops: [],\n      // 非单个禁用\n      single: true,\n      start2: false,\n      stop2: false,\n      // 非多个禁用\n      multiple: true,\n      // 显示搜索条件\n      showSearch: true,\n      // 总条数\n      total: 0,\n      // 仓库管理表格数据\n      storeList: [],\n      // 弹出层标题\n      title: \"\",\n      // 是否显示弹出层\n      open: false,\n      // 库房分类字典\n      storeTypeOptions: [],\n      // 是否停用字典\n      isStopOptions: [],\n      // 是否代销字典\n      isProxyOptions: [],\n      // 库房类型字典\n      storeClassOptions: [],\n      // 查询参数\n      queryParams: {\n        pageNum: 1,\n        pageSize: this.$store.state.settings.pageSize,\n        compCode: this.$store.state.user.userInfo.deptId,\n        compName: this.$store.state.user.userInfo.deptName,\n        storeCode: null,\n        storeName: null,\n        storeClass: null,\n      },\n      // 表单参数\n      form: {},\n      // 新增修改表单参数\n      addEditorForm: {},\n      // 表单校验\n      rules: {\n        compCode: [\n          { required: true, message: \"单位编码不能为空\", trigger: \"blur\" }\n        ],\n        compName: [\n          { required: true, message: \"单位不能为空\", trigger: \"blur\" },\n          { required: true, message: \"单位不能为空\", trigger: \"change\" }\n        ],\n        storeName: [\n          { required: true, message: \"仓库名称不能为空\", trigger: \"blur\" }\n        ]\n      },\n      // 新增修改id\n      addEditId: \"\",\n      defaultSort: { prop: \"createTime\", order: \"descending\" },\n      selectionRow: [],\n      tableHeight: \"auto\",\n      userOptions: []\n    };\n  },\n  created() {\n    this.getList();\n    // this.getDicts(\"basic_store_type\").then(response => {\n    //   this.storeTypeOptions = response.data;\n    // });\n    // this.getDicts(\"hr_is_change\").then(response => {\n    //   this.isStopOptions = response.data;\n    // });\n    // this.getDicts(\"hr_is_change\").then(response => {\n    //   this.isProxyOptions = response.data;\n    // });\n    // this.getUserInfo().then(response => {\n    //   this.userOptions = response.data;\n    // });\n  },\n  computed: {\n    listData() {\n      return this.$store.state.app.sidebar.opened;\n    }\n  },\n  watch: {\n    \"$store.state.dicts\": {\n      handler(val) {\n        let baseDicts = val.baseDicts;\n        // 基础字典\n        this.isProxyOptions = baseDicts.hrIsChange;\n        this.isStopOptions = baseDicts.hrIsChange;\n        this.storeTypeOptions = baseDicts.basicStoreType;\n        this.storeClassOptions = baseDicts.storeClass;\n        // 特殊\n        this.userOptions = val.userOptsInfo;\n      },\n      deep: true,\n      immediate: true\n    },\n    listData(val) {\n      var that = this;\n      setTimeout(function() {\n        that.resizeHandler();\n      }, 300);\n    }\n  },\n  mounted() {\n    this.$nextTick(() => {\n      this.resizeHandler();\n      window.addEventListener(\"resize\", this.resizeHandler);\n    });\n  },\n  methods: {\n    handleClickTableName(data) {\n      // 选中当前行\n      this.handleRowClick(data, false);\n      this.handleUpdate(data);\n    },\n    resizeHandler() {\n      let a = this.$refs.search.offsetHeight;\n      let b = this.$refs.btns.offsetHeight;\n      let h = a + b + this.$store.state.settings.tableHeight;\n      h = h + \"px\";\n      this.tableHeight = `calc(100vh - ${h})`;\n    },\n    /** 拼音码 */\n    handleSpell() {\n      this.form.spell = pinyin.getCamelChars(this.form.storeName).toUpperCase();\n    },\n    /** 查询仓库管理列表 */\n    getList() {\n      this.loading = true;\n      listStore(this.queryParams).then(response => {\n        if (response.code == 200) {\n          this.storeList = response.rows;\n          this.total = response.total;\n        } else {\n          this.msgError(response.msg);\n        }\n        this.loading = false;\n      });\n    },\n    // 库房分类字典翻译\n    storeTypeFormat(row, column) {\n      return this.selectDictLabel(this.storeTypeOptions, row.storeType);\n    },\n    // listUser this.userOptions\n    listUserFormat(row, column) {\n      return this.selectDictLabel(this.userOptions, row.principalCode);\n    },\n    // 是否停用字典翻译\n    isStopFormat(row, column) {\n      return this.selectDictLabel(this.isStopOptions, row.isStop);\n    },\n    // 是否代销字典翻译\n    isProxyFormat(row, column) {\n      return this.selectDictLabel(this.isProxyOptions, row.isProxy);\n    },\n    // 库房类型字典翻译\n    storeClassFormat(row, column) {\n      return this.selectDictLabel(this.storeClassOptions, row.storeClass);\n    },\n    // 取消按钮\n    cancel() {\n      this.open = false;\n      this.reset();\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: null,\n        compName: null,\n        deptCode: null,\n        storeCode: null,\n        storeName: null,\n        storeClass: null,\n        spell: null,\n        storeType: null,\n        address: null,\n        tel: null,\n        principalCode: null,\n        custodyCode: null,\n        accountantCode: null,\n        isStop: \"1\",\n        isProxy: \"1\",\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      };\n      this.resetForm(\"form\");\n    },\n    /** 搜索按钮操作 */\n    handleQuery() {\n      this.queryParams.pageNum = 1;\n      this.getList();\n    },\n    /** 重置按钮操作 */\n    resetQuery() {\n      this.resetForm(\"queryForm\");\n      this.handleQuery();\n    },\n    handleSortChange(column, prop, order) {\n      this.queryParams.orderByColumn = column.prop;\n      this.queryParams.isAsc = column.order;\n      this.getList();\n    },\n    handleRowClick(row, flag = true) {\n      let storeListRef = this.$refs.storeListRef;\n      if (flag) {\n        let findRow = this.selectionRow.find(c => c.id == row.id);\n        if (findRow) {\n          storeListRef.toggleRowSelection(row, false);\n          return;\n        }\n      }\n      storeListRef.clearSelection(); //清空列表的选中\n      storeListRef.toggleRowSelection(row, true);\n    },\n    // 多选框选中数据\n    handleSelectionChange(selection) {\n      let storeListRef = this.$refs.storeListRef;\n      if (selection.length > 1) {\n        storeListRef.clearSelection(); //清空列表的选中\n        storeListRef.toggleRowSelection(selection[selection.length - 1], true); //只显示选中最后一个 这时selection还是多选的列表(就是你选中的几个数据)\n        selection = Array(selection[selection.length - 1]);\n      } else if (selection.length === 1) {\n        selection = Array(selection[selection.length - 1]);\n      } else {\n        selection = [];\n      }\n      // 方便点击行取消选中\n      this.selectionRow = selection;\n      // 设置行高亮\n      storeListRef.setCurrentRow(selection[0]);\n      this.ids = selection.map(item => item.id);\n      this.storeCodes = selection.map(item => item.storeCode);\n      this.isStops = selection.map(item => item.isStop);\n      this.single = selection.length !== 1;\n      if (this.single == false) {\n        if (this.isStops[0] == 0) {\n          this.start2 = true;\n          this.stop2 = false;\n        } else {\n          this.stop2 = true;\n          this.start2 = false;\n        }\n      } else {\n        this.stop2 = false;\n        this.start2 = false;\n      }\n      this.multiple = !selection.length;\n    },\n    /** 新增按钮操作 */\n    handleAdd() {\n      this.$refs.storeListRef.clearSelection();\n      this.open = true;\n      this.addEditId = \"\";\n    },\n    /** 修改按钮操作 */\n    handleUpdate(row) {\n      this.addEditId = this.ids[0];\n      this.open = true;\n    },\n    /** 提交成功 */\n    successSubmit(flag) {\n      this.open = flag;\n      this.getList();\n    },\n    /** 删除按钮操作 */\n    handleDelete(row) {\n      const ids = row.id || this.ids;\n      const storeCodes = row.storeCode || this.storeCodes;\n      this.$confirm(\n        '是否确认删除仓库管理编号为\"' + storeCodes + '\"的数据项?',\n        \"警告\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }\n      )\n        .then(function() {\n          return delStore(ids);\n        })\n        .then(() => {\n          this.getList();\n          this.msgSuccess(\"删除成功\");\n        })\n        .catch(() => {});\n    },\n    /** 停用按钮操作 */\n    handleStop(row) {\n      const ids = row.id || this.ids;\n      const storeCodes = row.storeCode || this.storeCodes;\n      this.$confirm(\n        '是否确认停用仓库管理编号为\"' + storeCodes + '\"的数据项?',\n        \"警告\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }\n      )\n        .then(() => {\n          this.form.id = ids[0];\n          this.form.isStop = \"0\";\n          updateStore(this.form).then(response => {\n            if (response.code == 200) {\n              this.msgSuccess(\"停用成功\");\n              this.getList();\n            } else {\n              this.msgError(response.msg);\n            }\n          });\n        })\n        .catch(() => {});\n    },\n    /** 启用按钮操作 */\n    handleStart(row) {\n      const ids = row.id || this.ids;\n      const storeCodes = row.storeCode || this.storeCodes;\n      this.$confirm(\n        '是否确认启用仓库管理编号为\"' + storeCodes + '\"的数据项?',\n        \"警告\",\n        {\n          confirmButtonText: \"确定\",\n          cancelButtonText: \"取消\",\n          type: \"warning\"\n        }\n      )\n        .then(() => {\n          this.form.id = ids[0];\n          this.form.isStop = \"1\";\n          updateStore(this.form).then(response => {\n            if (response.code == 200) {\n              this.msgSuccess(\"启用成功\");\n              this.getList();\n            } else {\n              this.msgError(response.msg);\n            }\n          });\n        })\n        .catch(() => {});\n    },\n    /** 导出按钮操作 */\n    handleExport() {\n      const queryParams = this.queryParams;\n      this.$confirm(\"是否确认导出所有仓库管理数据项?\", \"警告\", {\n        confirmButtonText: \"确定\",\n        cancelButtonText: \"取消\",\n        type: \"warning\"\n      })\n        .then(() => {\n          this.exportLoading = true;\n          return exportStore(queryParams);\n        })\n        .then(response => {\n          if (response.code == 200) {\n            this.download(response.msg);\n            this.exportLoading = false;\n          } else {\n            this.msgError(response.msg);\n          }\n        })\n        .catch(() => {});\n    }\n  }\n};\n</script>\n"]}]}
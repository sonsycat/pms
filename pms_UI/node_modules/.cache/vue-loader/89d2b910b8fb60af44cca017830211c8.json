{"remainingRequest":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\tool\\formDeploy\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\tool\\formDeploy\\index.vue","mtime":1682043106553},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgeyBkZXBsb3lMaXN0ICxzYXZlRGVwbG95TGlzdH0gZnJvbSAnQC9hcGkvdXRpbHMnCQ0KaW1wb3J0IHsgb3B0aW9uc2VsZWN0IGFzIGdldERpY3RPcHRpb25zZWxlY3QgfSBmcm9tICdAL2FwaS9zeXN0ZW0vZGljdC90eXBlJw0KICANCmV4cG9ydCBkZWZhdWx0IHsNCglkYXRhKCl7DQogICAgICAgIHJldHVybnsNCiAgICAgICAgCS8vIOWtl+WFuOS/oeaBrw0KICAgICAgICAJZGljdE9wdGlvbnM6IFtdLA0KICAgICAgICAgICAJLy8g6YGu572p5bGCDQoJICAgICAgCWxvYWRpbmc6IGZhbHNlLA0KCSAgICAgIAkvLyDlr7zlh7rpga7nvanlsYINCgkgICAgICAJZXhwb3J0TG9hZGluZzogZmFsc2UsDQoJICAgICAgCS8vIOmAieS4reaVsOe7hA0KCSAgICAgIAlpZHM6IFtdLA0KCSAgICAgIAkvLyDpnZ7ljZXkuKrnpoHnlKgNCgkgICAgICAJc2luZ2xlOiB0cnVlLA0KCSAgICAgIAkvLyDpnZ7lpJrkuKrnpoHnlKgNCgkgICAgICAJbXVsdGlwbGU6IHRydWUsDQoJICAgICAgCS8vIOaYvuekuuaQnOe0ouadoeS7tg0KCSAgICAgIAlzaG93U2VhcmNoOiB0cnVlLA0KCSAgICAgIAkvLyDmgLvmnaHmlbANCgkgICAgICAJdG90YWw6IDAsDQoJICAgICAgCS8vIOiHquWumuS5ieihqOWNleihqOagvOaVsOaNrg0KCSAgICAgIAlmb3JtRGVzaWduTGlzdDogW10sDQoJICAgICAgCS8vIOW8ueWHuuWxguagh+mimA0KCSAgICAgIAl0aXRsZTogIiIsDQoJICAgICAgCS8vIOaYr+WQpuaYvuekuuW8ueWHuuWxgg0KCSAgICAgIAlvcGVuOiBmYWxzZSwNCgkgICAgICAJLy8g5p+l6K+i5Y+C5pWwDQoJICAgICAgCXF1ZXJ5UGFyYW1zOiB7DQoJICAgICAgICAJcGFnZU51bTogMSwNCgkgICAgICAgIAlwYWdlU2l6ZTogMzAsDQoJICAgICAgCX0sDQoJICAgICAgCS8vIOihqOWNleWPguaVsA0KCSAgICAgIAlmb3JtOiB7fSwNCgkgICAgICAJDQogICAgICAgIH0NCiAgICB9LA0KICAgIGNvbXBvbmVudHM6e30sDQogICAgY3JlYXRlZCgpIHsNCiAgICAgIAl0aGlzLmZvcm1EZXNpZ25JZCA9IHRoaXMuJHJvdXRlLnF1ZXJ5LmZvcm1EZXNpZ25JZA0KICAgICAgCS8qKiDmn6Xor6LlrZflhbjkuIvmi4nliJfooaggKi8NCiAgICAgICAgZ2V0RGljdE9wdGlvbnNlbGVjdCgpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgIHRoaXMuZGljdE9wdGlvbnMgPSByZXNwb25zZS5kYXRhDQogICAgICAgIH0pDQogICAgICAgIHRoaXMuZ2V0TGlzdCgpOw0KICAgIH0sDQogICAgbWV0aG9kczp7DQogICAgCS8v5a2X5YW45LiL5ouJ5qGG54K55Ye75LqL5Lu2DQogICAgICAJaGFuZGxlQ2xpY2socm93KSB7DQogICAgICAJCS8vIGNvbnNvbGUubG9nKHJvdyk7DQogICAgICAgIAl0aGlzLiRzZXQodGhpcy5mb3JtRGVzaWduTGlzdFtyb3cuaW5kZXhdLCAnZGljdE9wdGlvbnMnLCB0aGlzLmRpY3RPcHRpb25zKQ0KICAgICAgCX0sDQogICAgCS8qKiDmn6Xor6Loh6rlrprkuYnooajljZXliJfooaggKi8NCgkgICAgZ2V0TGlzdCgpIHsNCgkgICAgCWxldCBkYXRhID0ge2Zvcm1EZXNpZ25JZDp0aGlzLmZvcm1EZXNpZ25JZH0NCgkgICAgICAJZGVwbG95TGlzdChkYXRhKS50aGVuKHJlc3BvbnNlID0+IHsNCgkJICAgICAgCWNvbnNvbGUubG9nKHJlc3BvbnNlKTsNCgkJICAgICAgICB0aGlzLmZvcm1EZXNpZ25MaXN0ID0gcmVzcG9uc2UuZGF0YTsNCgkJICAgIH0pDQoJICAgIH0sDQoJICAgIC8qKiDmj5DkuqTmjInpkq4gKi8NCiAgICAgIAlzdWJtaXRGb3JtKCkgew0KICAgICAgICAJbGV0IGRhdGEgPSB7DQogICAgICAgIAkJZm9ybURlc2lnbklkOnRoaXMuZm9ybURlc2lnbklkLA0KICAgICAgICAJCWZkY0xpc3Q6dGhpcy5mb3JtRGVzaWduTGlzdA0KICAgICAgICAJfQ0KICAgICAgICAJY29uc29sZS5sb2coZGF0YSk7DQogICAgICAgIAlzYXZlRGVwbG95TGlzdChkYXRhKS50aGVuKHJlc3BvbnNlID0+IHsNCgkJICAgICAgCWNvbnNvbGUubG9nKHJlc3BvbnNlKTsNCgkJCQl0aGlzLm1zZ1N1Y2Nlc3MoIuS/neWtmOaIkOWKnyIpDQoJICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT09IDIwMCkgew0KCSAgICAgICAgICAgIAl0aGlzLmNsb3NlKCk7DQoJICAgICAgICAgICAgfQ0KCQkgICAgfSkNCiAgICAgIAl9LA0KICAgICAgCS8qKiDlhbPpl63mjInpkq4gKi8NCiAgICAgIAljbG9zZSgpIHsNCiAgICAgICAgCXRoaXMuJHN0b3JlLmRpc3BhdGNoKCd0YWdzVmlldy9kZWxWaWV3JywgdGhpcy4kcm91dGUpDQogICAgICAgIAl0aGlzLiRyb3V0ZXIucHVzaCh7IHBhdGg6Jy90b29sL2Zvcm1EZXNpZ24nLCBxdWVyeTogeyB0OiBEYXRlLm5vdygpIH0gfSkNCiAgICAgIAl9LA0KICAgICAgCS8v5Yip55So5Y2V5YWD5qC855qEIGNsYXNzTmFtZSDnmoTlm57osIPmlrnms5XvvIznu5nooYzliJfntKLlvJXotYvlgLwNCiAgICAgIAl0YWJsZUNlbGxDbGFzc05hbWUoeyByb3csIGNvbHVtbiwgcm93SW5kZXgsIGNvbHVtbkluZGV4IH0pIHsvL+azqOaEj+i/memHjOaYr+ino+aehA0KICAgICAgIAkgCXJvdy5pbmRleCA9IHJvd0luZGV4DQogICAgICAgIAljb2x1bW4uaW5kZXggPSBjb2x1bW5JbmRleA0KICAgICAgCX0sDQogICAgICAJDQogICAgICAJDQogICAgICAJDQoJICAgIA0KICAgIH0sDQp9DQoNCg=="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA2EA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;AAKA;AACA","file":"index.vue","sourceRoot":"src/views/tool/formDeploy","sourcesContent":["<template>\r\n\t<div class=\"app-container\">\r\n\t\t<el-table border ref=\"dragTable\" :data=\"formDesignList\" :cell-class-name=\"tableCellClassName\">\r\n          <el-table-column label=\"页面字段\" prop=\"fieldDesc\" align=\"center\" />\r\n          <el-table-column label=\"编辑页面\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-checkbox true-label=\"1\" false-label=\"0\" v-model=\"scope.row.isEdit\"></el-checkbox>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"必填项\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-checkbox true-label=\"1\" false-label=\"0\" v-model=\"scope.row.isNotNull\"></el-checkbox>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"字典类型\" align=\"center\">\r\n          \t<template slot-scope=\"scope\">\r\n              <el-select clearable filterable placeholder=\"请选择\" v-model=\"scope.row.dictType\"\r\n                         v-on:click.native=\"handleClick(scope.row)\">\r\n                <el-option\r\n                  v-for=\"dict in scope.row.dictOptions\"\r\n                  :key=\"dict.dictType\"\r\n                  :label=\"dict.dictName\"\r\n                  :value=\"dict.dictType\">\r\n                  <span style=\"float: left\">{{ dict.dictName }}</span>\r\n                  <span style=\"float: right; color: #8492a6; font-size: 13px\">{{ dict.dictType }}</span>\r\n                </el-option>\r\n              </el-select>\r\n           \t</template>\r\n          </el-table-column>\r\n          <el-table-column label=\"字段长度\" align=\"center\">\r\n          \t<template slot-scope=\"scope\">\r\n              <el-input type=\"number\" min=\"1\" v-model=\"scope.row.fieldLength\"></el-input>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"效验方式\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-select v-model=\"scope.row.validType\" clearable>\r\n                <el-option label=\"邮箱地址\" value=\"email\"/>\r\n              </el-select>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"列表显示\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-checkbox true-label=\"1\" false-label=\"0\" v-model=\"scope.row.isList\"></el-checkbox>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"查询条件\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-checkbox true-label=\"1\" false-label=\"0\" v-model=\"scope.row.isQuery\"></el-checkbox>\r\n            </template>\r\n          </el-table-column>\r\n          <el-table-column label=\"查询匹配方式\" align=\"center\">\r\n            <template slot-scope=\"scope\">\r\n              <el-select v-model=\"scope.row.queryType\" clearable>\r\n                <el-option label=\"等于\" value=\"eq\"/>\r\n                <el-option label=\"不等于\" value=\"ne\"/>\r\n                <el-option label=\"大于\" value=\"gt\"/>\r\n                <el-option label=\"大于等于\" value=\"ge\"/>\r\n                <el-option label=\"小于\" value=\"lt\"/>\r\n                <el-option label=\"小于等于\" value=\"le\"/>\r\n                <el-option label=\"LIKE\" value=\"like\"/>\r\n              </el-select>\r\n            </template>\r\n          </el-table-column>\r\n        </el-table>\r\n        <el-form label-width=\"100px\">\r\n\t      <el-form-item style=\"text-align:center;margin-left:-100px;margin-top:10px;\">\r\n\t        <el-button type=\"primary\" @click=\"submitForm()\">提交</el-button>\r\n\t        <el-button @click=\"close()\">返回</el-button>\r\n\t      </el-form-item>\r\n\t    </el-form>\r\n\t</div>\r\n</template>\r\n\r\n<script>\r\nimport { deployList ,saveDeployList} from '@/api/utils'\t\r\nimport { optionselect as getDictOptionselect } from '@/api/system/dict/type'\r\n  \r\nexport default {\r\n\tdata(){\r\n        return{\r\n        \t// 字典信息\r\n        \tdictOptions: [],\r\n           \t// 遮罩层\r\n\t      \tloading: false,\r\n\t      \t// 导出遮罩层\r\n\t      \texportLoading: false,\r\n\t      \t// 选中数组\r\n\t      \tids: [],\r\n\t      \t// 非单个禁用\r\n\t      \tsingle: true,\r\n\t      \t// 非多个禁用\r\n\t      \tmultiple: true,\r\n\t      \t// 显示搜索条件\r\n\t      \tshowSearch: true,\r\n\t      \t// 总条数\r\n\t      \ttotal: 0,\r\n\t      \t// 自定义表单表格数据\r\n\t      \tformDesignList: [],\r\n\t      \t// 弹出层标题\r\n\t      \ttitle: \"\",\r\n\t      \t// 是否显示弹出层\r\n\t      \topen: false,\r\n\t      \t// 查询参数\r\n\t      \tqueryParams: {\r\n\t        \tpageNum: 1,\r\n\t        \tpageSize: 30,\r\n\t      \t},\r\n\t      \t// 表单参数\r\n\t      \tform: {},\r\n\t      \t\r\n        }\r\n    },\r\n    components:{},\r\n    created() {\r\n      \tthis.formDesignId = this.$route.query.formDesignId\r\n      \t/** 查询字典下拉列表 */\r\n        getDictOptionselect().then(response => {\r\n          this.dictOptions = response.data\r\n        })\r\n        this.getList();\r\n    },\r\n    methods:{\r\n    \t//字典下拉框点击事件\r\n      \thandleClick(row) {\r\n      \t\t// console.log(row);\r\n        \tthis.$set(this.formDesignList[row.index], 'dictOptions', this.dictOptions)\r\n      \t},\r\n    \t/** 查询自定义表单列表 */\r\n\t    getList() {\r\n\t    \tlet data = {formDesignId:this.formDesignId}\r\n\t      \tdeployList(data).then(response => {\r\n\t\t      \tconsole.log(response);\r\n\t\t        this.formDesignList = response.data;\r\n\t\t    })\r\n\t    },\r\n\t    /** 提交按钮 */\r\n      \tsubmitForm() {\r\n        \tlet data = {\r\n        \t\tformDesignId:this.formDesignId,\r\n        \t\tfdcList:this.formDesignList\r\n        \t}\r\n        \tconsole.log(data);\r\n        \tsaveDeployList(data).then(response => {\r\n\t\t      \tconsole.log(response);\r\n\t\t\t\tthis.msgSuccess(\"保存成功\")\r\n\t            if (response.code === 200) {\r\n\t            \tthis.close();\r\n\t            }\r\n\t\t    })\r\n      \t},\r\n      \t/** 关闭按钮 */\r\n      \tclose() {\r\n        \tthis.$store.dispatch('tagsView/delView', this.$route)\r\n        \tthis.$router.push({ path:'/tool/formDesign', query: { t: Date.now() } })\r\n      \t},\r\n      \t//利用单元格的 className 的回调方法，给行列索引赋值\r\n      \ttableCellClassName({ row, column, rowIndex, columnIndex }) {//注意这里是解构\r\n       \t \trow.index = rowIndex\r\n        \tcolumn.index = columnIndex\r\n      \t},\r\n      \t\r\n      \t\r\n      \t\r\n\t    \r\n    },\r\n}\r\n\r\n</script>\r\n\r\n<style>\r\n</style>"]}]}
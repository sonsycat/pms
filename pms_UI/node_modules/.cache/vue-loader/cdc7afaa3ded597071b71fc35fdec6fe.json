{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\views\\components\\bscList\\setTypeIndex.vue?vue&type=style&index=0&id=15227738&scoped=true&lang=css&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\components\\bscList\\setTypeIndex.vue","mtime":1682043105447},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1682058377861},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1682058382042},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1682058378631},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCjo6di1kZWVwIC52dWUtdHJlZXNlbGVjdF9fdmFsdWUtY29udGFpbmVyLAo6OnYtZGVlcCAudnVlLXRyZWVzZWxlY3RfX2NvbnRyb2wgewogIGhlaWdodDogMjdweDsKICBsaW5lLWhlaWdodDogMjZweDsKfQo6OnYtZGVlcCAudnVlLXRyZWVzZWxlY3RfX3BsYWNlaG9sZGVyLAo6OnYtZGVlcCAudnVlLXRyZWVzZWxlY3RfX3NpbmdsZS12YWx1ZSB7CiAgbGluZS1oZWlnaHQ6IDI2cHg7Cn0KOjp2LWRlZXAgLnZ1ZS10cmVlc2VsZWN0X19pbnB1dC1jb250YWluZXIgewogIGZvbnQtc2l6ZTogMTNweDsKfQo="},{"version":3,"sources":["setTypeIndex.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAmHA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"setTypeIndex.vue","sourceRoot":"src/views/components/bscList","sourcesContent":["<template>\n  <!-- 物资分类 -->\n  <el-form-item :label=\"label\" :prop=\"forItemProp\">\n    <treeselect\n      :placeholder=\"placeholder\"\n      no-options-text=\"暂无数据\"\n      v-model=\"form[forItemProp]\"\n      :normalizer=\"normalizer\"\n      :show-count=\"true\"\n      :options=\"bscOptions\"\n      @select=\"handleTreeSelect\"\n      :disable-branch-nodes=\"disableBranch\"\n      :disabled = \"disabled\"\n    />\n  </el-form-item>\n</template>\n\n<script>\n  import { spdMclist } from \"@/api/settype/settype\";\n  import Treeselect from \"@riophae/vue-treeselect\";\n  import \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\n  export default {\n    name: \"index\",\n    components: { Treeselect },\n    props: {\n      label: {\n        type: String,\n        default: \"指标集分类\"\n      },\n      forItemProp: {\n        type: String,\n        default: \"bscCode\"\n      },\n      placeholder: {\n        type: String,\n        default:\"请选择指标集分类\"\n      },\n      form: {\n        type: [Object, Array]\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      multiple: {\n        type: Boolean,\n        default: false\n      },\n      size: {\n        type: String,\n        default: \"mini\"\n      },\n      // 判断是否是用户关联的仓库接口\n      userStore: {\n        type: Boolean,\n        default: false\n      },\n      refresh: {\n        type: Boolean,\n        default: false\n      },\n      disableBranch:{\n        type: Boolean,\n        default: true\n      }\n    },\n    data() {\n      return {\n        bscOptions: []\n      };\n    },\n    watch:{\n      //监听是否需要刷新树结构数据\n      refresh:{\n        handler(){\n          this.getData()\n        },\n        immediate:true\n      }\n    },\n    mounted() {\n      this.getData()\n    },\n\n    methods: {\n      normalizer(node) {\n        return {\n          id: node.bscCode,\n          label: node.bscName,\n          children: node.children\n        };\n      },\n      // 搜索数据\n      getData() {\n        // let data = Object.assign(\n        //   // {\n        //   //   queryParam:this.queryParams[this.setProp]\n        //   // }\n        // );\n        spdMclist().then(response => {\n          this.bscOptions = this.handleTree(\n            response.data,\n            \"bscCode\",\n            \"parentCode\"\n          );\n        });\n      },\n      handleTreeSelect(val) {\n        this.$emit(\"selectTree\", val);\n      }\n    }\n  };\n</script>\n\n<style scoped>\n  ::v-deep .vue-treeselect__value-container,\n  ::v-deep .vue-treeselect__control {\n    height: 27px;\n    line-height: 26px;\n  }\n  ::v-deep .vue-treeselect__placeholder,\n  ::v-deep .vue-treeselect__single-value {\n    line-height: 26px;\n  }\n  ::v-deep .vue-treeselect__input-container {\n    font-size: 13px;\n  }\n</style>\n"]}]}
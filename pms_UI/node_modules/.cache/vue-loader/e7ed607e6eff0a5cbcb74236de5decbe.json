{"remainingRequest":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\views\\quality\\quality\\detailInfo.vue?vue&type=style&index=0&id=064ade4e&lang=scss&scoped=true&","dependencies":[{"path":"F:\\pms_UI\\src\\views\\quality\\quality\\detailInfo.vue","mtime":1693362205792},{"path":"F:\\pms_UI\\node_modules\\css-loader\\dist\\cjs.js","mtime":1693361949271},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1693362179282},{"path":"F:\\pms_UI\\node_modules\\postcss-loader\\src\\index.js","mtime":1693362110683},{"path":"F:\\pms_UI\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1693362152666},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCjo6di1kZWVwIC5lbC1kaWFsb2cgewogIG1pbi1oZWlnaHQ6IDEwJTsKICBoZWlnaHQ6IGF1dG8gIWltcG9ydGFudDsKICBtYXgtaGVpZ2h0OiA4MCU7CiAgb3ZlcmZsb3c6IGhpZGRlbjsKICAuZWwtZGlhbG9nX19ib2R5IHsKICAgIGhlaWdodDogY2FsYygxMDAlIC0gMTAwcHgpOwogICAgb3ZlcmZsb3c6IGF1dG87CiAgfQp9Cg=="},{"version":3,"sources":["detailInfo.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AA4fA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"detailInfo.vue","sourceRoot":"src/views/quality/quality","sourcesContent":["<template>\r\n <el-dialog :title=\"title\"  :visible.sync=\"openDialog\" width=\"30%\" custom-class=\"el-button--primary\" append-to-body :close-on-click-modal=\"false\" @close=\"handleDialogClose\">\r\n      <el-form ref=\"form\" :model=\"form\" :rules=\"rules\">\r\n        <el-row>\r\n\t    \t\t<template v-for=\"(item,i) in form.lists2\">\r\n\t\t      \t\t<template v-if=\"item.fieldType=='input'\">\r\n\t      \t\t\t\t<template v-if=\"item.isEdit=='1'\">\r\n\t      \t\t\t\t\t<template v-if=\"item.validType==null\">\r\n                    <el-col :span=\"item.span\">\r\n                      <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\r\n                      <el-input disabled class=\"w80\" :maxlength=\"item.fieldLength\" v-model=\"item.val\" placeholder=\"请输入\"/>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                        :label=\"item.fieldDesc\"\r\n                        v-else-if=\"item.isNotNull!='1'\"\r\n                        :prop=\"'lists2.' + i + '.val'\"\r\n                        >\r\n                        <el-input disabled class=\"w80\" :maxlength=\"item.fieldLength\" v-model=\"item.val\" placeholder=\"请输入\" />\r\n                      </el-form-item>\r\n                    </el-col>\r\n\t      \t\t\t\t\t</template>\r\n\t      \t\t\t\t\t<template v-else-if=\"item.validType=='email'\">\r\n                    <el-col :span=\"item.span\">\r\n                      <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      :rules=\"[\r\n                        { required: true, message: '请输入邮箱地址', trigger: 'blur' },\r\n                        { type: 'email', message: '请输入正确的邮箱地址', trigger: ['blur', 'change']}\r\n                      ]\"\r\n                  >\r\n                      <el-input disabled class=\"w80\" v-model=\"item.val\" />\r\n                    </el-form-item>\r\n                    </el-col>\r\n\t\t\t\t      \t\t</template>\r\n\t\t\t      \t\t</template>\r\n\t\t      \t\t</template>\r\n\r\n\t\t      \t\t<template v-else-if=\"item.fieldType=='select'\">\r\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\r\n                  <el-col :span=\"item.span\">\r\n                    <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\r\n                      <template slot-scope=\"scope\">\r\n                        <el-tooltip :content=\"item.val\" placement=\"top\" v-if=\"item.fieldName=='cs_target'\"> \r\n                          <el-select disabled v-model=\"item.val\" clearable filterable remote class=\"w80\" no-data-text>\r\n                            <el-option\r\n                                v-for=\"dict in item.options\"\r\n                                :key=\"dict.dictValue || dict.id\"\r\n                                :label=\"dict.dictLabel || dict.evaCont\"\r\n                                :value=\"dict.dictValue || dict.id\"\r\n                              >\r\n                              </el-option>\r\n                            </el-select>\r\n                        </el-tooltip>\r\n                        <el-select v-else disabled v-model=\"item.val\" clearable filterable remote class=\"w80\" no-data-text>\r\n                            <el-option\r\n                                v-for=\"dict in item.options\"\r\n                                :key=\"dict.dictValue || dict.id\"\r\n                                :label=\"dict.dictLabel || dict.evaCont\"\r\n                                :value=\"dict.dictValue || dict.id\"\r\n                              >\r\n                              </el-option>\r\n                            </el-select>\r\n                      </template>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      v-else-if=\"item.isNotNull!='1'\"\r\n                      :label=\"item.fieldDesc\"\r\n                    :prop=\"'lists2.' + i + '.val'\"\r\n                      >\r\n\t\t\t\t\t\t\t\t\t\t\t<el-tooltip :content=\"item.val\" placement=\"top\" v-if=\"item.fieldName=='cs_target'\"> \r\n                        <el-select disabled clearable filterable remote v-model=\"item.val\" class=\"w80\" no-data-text>\r\n                          <el-option\r\n                              v-for=\"dict in item.options\"\r\n                              :key=\"dict.dictValue || dict.id\"\r\n                              :label=\"dict.dictLabel || dict.evaCont\"\r\n                              :value=\"dict.dictValue || dict.id\"\r\n                            >\r\n                            </el-option>\r\n                          </el-select>\r\n\t\t\t\t\t\t\t\t\t\t\t\t</el-tooltip>\r\n                        <el-select v-else disabled clearable filterable remote v-model=\"item.val\" class=\"w80\" no-data-text>\r\n                          <el-option\r\n                              v-for=\"dict in item.options\"\r\n                              :key=\"dict.dictValue || dict.id\"\r\n                              :label=\"dict.dictLabel || dict.evaCont\"\r\n                              :value=\"dict.dictValue || dict.id\"\r\n                            >\r\n                            </el-option>\r\n                          </el-select>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\t\t\t      \t\t</template>\r\n\t\t\t      \t</template>\r\n\r\n\t\t\t      \t<template v-else-if=\"item.fieldType=='date'\">\r\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\r\n                  <el-col :span=\"item.span\">\r\n                    <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\r\n                      <el-date-picker\r\n                        disabled\r\n                        v-model=\"item.val\"\r\n                        class=\"w80\"\r\n                        value-format=\"yyyy-MM-dd\"\r\n                      ></el-date-picker>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      v-else\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\">\r\n                      <el-date-picker\r\n                        disabled\r\n                        v-model=\"item.val\"\r\n                        class=\"w80\"\r\n                        value-format=\"yyyy-MM-dd\"\r\n                      ></el-date-picker>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\t\t\t      \t\t</template>\r\n\t\t\t      \t</template>\r\n\r\n\t\t\t      \t<template v-else-if=\"item.fieldType=='time'\">\r\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\r\n                  <el-col :span=\"item.span\">\r\n                    <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\r\n                      <el-date-picker\r\n                      disabled\r\n                      v-model=\"item.val\"\r\n                      class=\"w80\"\r\n                      type=\"datetime\"\r\n                      value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                    ></el-date-picker>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      v-else\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\">\r\n                      <el-date-picker\r\n                      disabled\r\n                      v-model=\"item.val\"\r\n                      class=\"w80\"\r\n                      type=\"datetime\"\r\n                      value-format=\"yyyy-MM-dd HH:mm:ss\"\r\n                    ></el-date-picker>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\t\t\t      \t\t</template>\r\n\t\t\t      \t</template>\r\n\r\n\t\t\t      \t<template v-else-if=\"item.fieldType=='textarea'\">\r\n                <!-- v-if=\"item.isEdit=='1'\" -->\r\n\t\t\t      \t\t<template >\r\n                  <el-col :span=\"item.span\">\r\n                    <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\r\n                      <el-input disabled class=\"w90\" :maxlength=\"item.fieldLength\" type=\"textarea\" :rows=\"item.textLines\" v-model=\"item.val\" show-word-limit placeholder=\"请输入\"></el-input>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      v-else\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\">\r\n                      <el-input disabled class=\"w90\" :maxlength=\"item.fieldLength\" type=\"textarea\" :rows=\"item.textLines\" v-model=\"item.val\" show-word-limit placeholder=\"请输入\"></el-input>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\t\t\t      \t\t</template>\r\n\t\t\t      \t</template>\r\n\r\n\t\t\t      \t<template v-else-if=\"item.fieldType=='number'\">\r\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\r\n                  <el-col :span=\"item.span\">\r\n                    <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\r\n                      <el-input-number disabled class=\"w80\" controls-position=\"right\" :precision=\"item.decimlDigit *1\" :min=\"item.minValue * 1\" :max=\"item.maxValue * 1\" size=\"mini\" v-model=\"item.val\"></el-input-number>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      v-else\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\">\r\n                      <el-input-number disabled class=\"w80\" controls-position=\"right\" :precision=\"item.decimlDigit *1\" :min=\"item.minValue * 1\" :max=\"item.maxValue * 1\" size=\"mini\" v-model=\"item.val\"></el-input-number>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\t\t\t      \t\t</template>\r\n\t\t\t      \t</template>\r\n\r\n\t\t\t      \t<template v-else-if=\"item.fieldType=='rate'\">\r\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\r\n                  <el-col :span=\"item.span\">\r\n                    <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\r\n                      <el-rate disabled v-model=\"item.val\" class=\"w80\"></el-rate>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      v-else\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\">\r\n                      <el-rate disabled v-model=\"item.val\" class=\"w80\"></el-rate>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\t\t\t      \t\t</template>\r\n\t\t\t      \t</template>\r\n\r\n\t\t\t      \t<template v-else-if=\"item.fieldType=='color'\">\r\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\r\n                  <el-col :span=\"item.span\">\r\n                    <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\r\n                      <el-color-picker class=\"w80\" v-model=\"item.val\"></el-color-picker>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      v-else\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\">\r\n                      <el-color-picker disabled class=\"w80\" v-model=\"item.val\"></el-color-picker>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\t\t\t      \t\t</template>\r\n\t\t\t      \t</template>\r\n\r\n\t\t\t      \t<template v-else-if=\"item.fieldType=='switch'\">\r\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\r\n                  <el-col :span=\"item.span\">\r\n                    <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\r\n                      <el-switch disabled v-model=\"item.val\" active-value=\"打开\" inactive-value=\"关闭\"></el-switch>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      v-else\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\">\r\n                      <el-switch disabled v-model=\"item.val\" active-value=\"打开\" inactive-value=\"关闭\"></el-switch>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\t\t\t      \t\t</template>\r\n\t\t\t      \t</template>\r\n\r\n\t\t\t      \t<template v-else-if=\"item.fieldType=='radio'\">\r\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\r\n                  <el-col :span=\"item.span\">\r\n                    <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\r\n                      <el-radio-group disabled v-model=\"item.val\">\r\n                        <template v-for=\"(ite,ii) in item.options\">\r\n                          <el-radio :label=\"ite.label\">{{ite.value}}</el-radio>\r\n                        </template>\r\n                      </el-radio-group>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      v-else\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\">\r\n                      <el-radio-group disabled v-model=\"item.val\">\r\n                        <template v-for=\"(ite,ii) in item.options\">\r\n                          <el-radio :label=\"ite.label\">{{ite.value}}</el-radio>\r\n                        </template>\r\n                      </el-radio-group>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\t\t\t      \t\t</template>\r\n\t\t\t      \t</template>\r\n\r\n\t\t\t      \t<template v-else-if=\"item.fieldType=='checkbox'\">\r\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\r\n                  <el-col :span=\"item.span\">\r\n                    <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\">\r\n                    <el-checkbox-group disabled v-model=\"item.val\">\r\n                      <template v-for=\"(ite,ii) in item.options\">\r\n                        <el-checkbox :label=\"ite.value\"></el-checkbox>\r\n                      </template>\r\n                    </el-checkbox-group>\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                      v-else\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\">\r\n                      <el-checkbox-group disabled v-model=\"item.val\">\r\n                        <template v-for=\"(ite,ii) in item.options\">\r\n                          <el-checkbox :label=\"ite.value\"></el-checkbox>\r\n                        </template>\r\n                    </el-checkbox-group>\r\n                    </el-form-item>\r\n                  </el-col>\r\n\t\t\t      \t\t</template>\r\n\t\t\t      \t</template>\r\n\r\n\t\t\t      \t<template v-else>\r\n\t\t\t      \t\t<template v-if=\"item.isEdit=='1'\">\r\n                  <el-col :span=\"item.span\">\r\n                    <el-form-item\r\n                      :label=\"item.fieldDesc\"\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                      v-if=\"item.isNotNull=='1'\"\r\n                      :rules=\"{required: true, message:`${item.fieldDesc}不能为空`, trigger: 'change'}\"\r\n                    >\r\n                      <el-input disabled :maxlength=\"item.fieldLength\" v-model=\"item.val\" />\r\n                    </el-form-item>\r\n                    <el-form-item\r\n                        :label=\"item.fieldDesc\"\r\n                        v-else\r\n                      :prop=\"'lists2.' + i + '.val'\"\r\n                        >\r\n                        <el-input disabled :maxlength=\"item.fieldLength\" v-model=\"item.val\" />\r\n                      </el-form-item>\r\n                  </el-col>\r\n\t\t\t      \t\t</template>\r\n\t\t\t      \t</template>\r\n\t      \t\t</template>\r\n    \t\t</el-row>\r\n      </el-form>\r\n      <div slot=\"footer\" class=\"dialog-footer\">\r\n        <el-button @click=\"cancel\">关 闭</el-button>\r\n      </div>\r\n    </el-dialog>\r\n</template>\r\n\r\n<script>\r\nimport { validEmail } from'@/utils/validate'\r\nimport { getFormDetails} from '@/api/utils';\r\nimport { listDetail } from \"@/api/quality/detail\";\r\nimport {getDeptInfoForPms} from \"@/api/formDesign/formDesign\";\r\n\r\nexport default {\r\n  name: \"addEdit\",\r\n  props: {\r\n    open: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    id: {\r\n      type: [String, Number],\r\n      default: \"\"\r\n    },\r\n    ids:{\r\n      type: [String, Number],\r\n      default: \"\"\r\n    }\r\n  },\r\n  watch: {\r\n    id: {\r\n      handler(val) {\r\n        this.reset();\r\n        if (val) {\r\n          this.id = val;\r\n          this.title = \"查看详情 / 质量得分 / 得分明细 / 详细信息\";\r\n          this.getDetailInfo();\r\n        } \r\n      },\r\n      deep: true,\r\n      immediate: true\r\n    },\r\n    open: {\r\n      handler(val) {\r\n        this.openDialog = val;\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  components: {\r\n  },\r\n  data() {\r\n    return {\r\n      title: \"查看详情 / 质量得分 / 得分明细 / 详细信息\",\r\n      openDialog: this.open,\r\n      saveLoading: false,\r\n      // 表单参数\r\n      form: {},\r\n      // 表单校验\r\n      rules: {\r\n      },\r\n      queryParams:{},\r\n      qualityList:[],\r\n      loading:false,\r\n    };\r\n  },\r\n  created() {\r\n\r\n  },\r\n  methods: {\r\n  \tgetDetailInfo() {\r\n      getFormDetails(this.id,this.ids).then(response=>{\r\n          if(response.code===200){\r\n            // console.log(response,'res')\r\n            let lists = response.data.datas;\r\n            this.form = {\r\n\t        \t\tlists2:lists\r\n            }\r\n            let lists2Length=this.form.lists2.filter(_=>{return _.fieldName==\"dept_track\"});\r\n\t\t\t\t\t\t// console.log(this.form.lists2,'form.lists2')\r\n\t      \t\tfor(let i=0;i<this.form.lists2.length;i++){\r\n\t\t\t\t\t\t\tthis.$set(this.form.lists2[i],\"val\", this.form.lists2[i].fieldValue )\r\n  \t\t\t\t\tif(this.form.lists2[i].fieldType==\"select\"){\r\n\t\t\t\t\t\t\t//指标详情数据\r\n\t\t\t\t\t\t\tif(this.form.lists2[i].fieldName==\"cs_target\"){\r\n\t\t\t\t\t\t\t\t\tthis.$set(this.form.lists2[i],\"val\", null )\r\n\t\t\t\t\t\t\t\tlet params={\r\n\t\t\t\t\t\t\t\t\t\t\tindexCode:this.form.lists2[i].indexCode,\r\n\t\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId  // 必传\r\n\t\t\t\t\t\t\t\t};\r\n\t\t\t\t\t\t\t\tlistDetail(params).then(response=>{\r\n\t\t\t\t\t\t\t\t\t\tif(response.code===200){\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.form.lists2[i], \"options\",response.rows );\r\n\t\t\t\t\t\t\t\t\t\t\tlet\ttargetValue=response.rows.filter(_=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(_.id==this.form.lists2[i].fieldValue || _.evaCont==this.form.lists2[i].fieldValue){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\treturn _\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t\t});\r\n\t\t\t\t\t\t\t\t\t\t\tthis.$set(this.form.lists2[i],\"val\", targetValue[0].evaCont )\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}else if(this.form.lists2[i].fieldName==\"cs_dept\"){\r\n\t\t\t\t\t\t\t\t//部门详情数据\r\n\t\t\t\t\t\t\t\t\tlet params= {\r\n\t\t\t\t\t\t\t\t\t\t\tcompCode:this.$store.state.user.userInfo.deptId\r\n\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\tgetDeptInfoForPms(params).then(res=>{\r\n\t\t\t\t\t\t\t\t\t\t\t\tif(res.code===200){\r\n\t\t\t\t\t\t\t\t\t\t\t\t\t\tthis.$set( this.form.lists2[i], \"options\",res.data )\r\n\t\t\t\t\t\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t\t\t\t\t})\r\n\t\t\t\t\t\t\t}else{\r\n\t\t\t\t\t\t\t\tthis.getDicts(this.form.lists2[i].dictType).then(response => {\r\n\t\t\t        \t\tthis.$set(this.form.lists2[i], \"options\", response.data )\r\n\t\t\t\t      \t});\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n  \t\t\t\t\tif(this.form.lists2[i].fieldType==\"radio\"){\r\n\t        \t\t\tthis.form.lists2[i].options = JSON.parse(this.form.lists2[i].options)\r\n\t        \t\t}\r\n  \t\t\t\t\tif(this.form.lists2[i].fieldType==\"checkbox\"){\r\n\t        \t\t\tthis.form.lists2[i].options = JSON.parse(this.form.lists2[i].options)\r\n\t        \t\t\tlet arr = this.form.lists2[i].fieldValue.split(',');\r\n\t        \t\t\tthis.$set(this.form.lists2[i],\"val\",arr)\r\n\t\t\t\t\t\t\t}\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t\t// console.log(this.selectionRow[0],'row')\r\n\t\t\t\t\t\t// console.log(this.form.lists2,'bianji')\r\n          }\r\n        })\r\n    },\r\n    // 弹框关闭\r\n    handleDialogClose() {\r\n      this.$emit(\"cancel\", false);\r\n    },\r\n    // 取消\r\n    cancel() {\r\n      this.$emit(\"cancel\", false);\r\n    },\r\n    // 表单重置\r\n    reset() {\r\n      this.form = {\r\n        id: null,\r\n        compCode: null,\r\n        accountCode: null,\r\n        deptCode: null,\r\n        indexCode: null,\r\n        tempCode: null,\r\n        indexScore: null,\r\n        occureTime: null,\r\n        actualScore: null,\r\n        delFlag: null,\r\n        createBy: null,\r\n        createTime: null,\r\n        updateBy: null,\r\n        updateTime: null,\r\n        remark: null\r\n      };\r\n      this.resetForm(\"form\");\r\n    },\r\n}};\r\n</script>\r\n<style lang=\"scss\" scoped>\r\n  ::v-deep .el-dialog {\r\n    min-height: 10%;\r\n    height: auto !important;\r\n    max-height: 80%;\r\n    overflow: hidden;\r\n    .el-dialog__body {\r\n      height: calc(100% - 100px);\r\n      overflow: auto;\r\n    }\r\n  }\r\n</style>"]}]}
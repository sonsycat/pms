{"remainingRequest":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\tool\\formProcess\\index.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\src\\views\\tool\\formProcess\\index.vue","mtime":1682043106577},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\ys+jx\\ys+jx\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IGRlcGxveUxpc3Qsc2F2ZURlc2lnbixnZXRGb3JtLHRlc3RGb3JtLGdldEZvcm1EZXRhaWxzLGFkZFNhdmVGb3JtLGRlbEZvcm19IGZyb20gJ0AvYXBpL3V0aWxzJzsKaW1wb3J0IHtnZXREZXB0SW5mb0ZvclBtcyxnZXRGb3JtVGFibGVMaXN0LGVkaXRBZGRGb3JtRGVzaWdufSBmcm9tICJAL2FwaS9mb3JtRGVzaWduL2Zvcm1EZXNpZ24iOwppbXBvcnQgeyBsaXN0RGV0YWlsIH0gZnJvbSAiQC9hcGkvcXVhbGl0eS9kZXRhaWwiOwppbXBvcnQgbW9tZW50IGZyb20gIm1vbWVudCI7CgpleHBvcnQgZGVmYXVsdCB7CglkYXRhKCl7CiAgICAgICAgcmV0dXJuewoJCQkJCXRhYmxlSGVpZ2h0OidhdXRvJywKCQkJCQlpc0FkZDpmYWxzZSwKICAgICAgICAJaWRkOm51bGwsCiAgICAgICAgCS8vIOS/ruaUuWlkCiAgICAgIAkJYWRkRWRpdElkOiAiIiwKICAgICAgICAJbGlzdHM6W10sCiAgICAgICAgCWxpc3RzMjpbXSwKICAgICAgICAJY29sczpbXSwKICAgICAgICAgIAlqc29uRGF0YTp7CiAgICAgICAgICAJCWxpc3Q6W10sCiAgICAgICAgICAJfSwKICAgICAgICAgIAlmb3JtRGVzaWduSWQ6IiIsCiAgICAgICAgICAJZm9ybU5hbWU6IiIsCiAgICAgICAgICAgCS8vIOmBrue9qeWxggoJICAgICAgCWxvYWRpbmc6IGZhbHNlLAoJICAgICAgCS8vIOWvvOWHuumBrue9qeWxggoJICAgICAgCWV4cG9ydExvYWRpbmc6IGZhbHNlLAoJICAgICAgCS8vIOmAieS4reaVsOe7hAoJICAgICAgCWlkczogW10sCgkgICAgICAJLy8g6Z2e5Y2V5Liq56aB55SoCgkgICAgICAJc2luZ2xlOiB0cnVlLAoJICAgICAgCS8vIOmdnuWkmuS4quemgeeUqAoJICAgICAgCW11bHRpcGxlOiB0cnVlLAoJICAgICAgCS8vIOaYvuekuuaQnOe0ouadoeS7tgoJICAgICAgCXNob3dTZWFyY2g6IHRydWUsCgkgICAgICAJLy8g5oC75p2h5pWwCgkgICAgICAJdG90YWw6IDAsCgkgICAgICAJLy8g6Ieq5a6a5LmJ6KGo5Y2V6KGo5qC85pWw5o2uCgkgICAgICAJZm9ybURlc2lnbkxpc3Q6IFtdLAoJICAgICAgCS8vIOW8ueWHuuWxguagh+mimAoJICAgICAgCXRpdGxlOiAiIiwKCQkJCQlzZWFyY2hUaXRsZToiIiwKCSAgICAgIAkvLyDmmK/lkKbmmL7npLrlvLnlh7rlsYIKCSAgICAgIAlvcGVuOiBmYWxzZSwKCQkJCQlvcGVuX3NlYXJjaDpmYWxzZSwKCSAgICAgIAkvLyDmn6Xor6Llj4LmlbAKCSAgICAgIAlxdWVyeVBhcmFtczogewoJICAgICAgICAJcGFnZU51bTogMSwKCQkJCQkJcGFnZVNpemU6IDMwLAoJICAgICAgCX0sCgkgICAgICAJLy8g6KGo5Y2V5Y+C5pWwCgkgICAgICAJZm9ybToge2xpc3RzMjpbXX0sCgkgICAgICAJLy8g6KGo5Y2V5qCh6aqMCgkJCQkJcnVsZXM6IHt9LAoJCQkJCXNlbGVjdGlvblJvdzpbXSwKCQkJCQl0YWJsZUxvYWRpbmc6ZmFsc2UsCgkJCQkJZm9ybURhdGFMaXN0OltdLAoJCQkJCWZvcm1EYXRhTGlzdDE6W10sCgkJCQkJZm9ybURhdGFMaXN0MjpbXSwKCQkJCQltYnB4VHlwZU9wdGlvbnM6W10sCgkJCQkJcXVlcnlUeXBlT3B0aW9uczpbXSwKCQkJCQlpc1Btc0d1aWRhbmNlOmZhbHNlLAoJCQkJCWlzUG1zUmVzdWx0OmZhbHNlLAoJCQkJCWlzQWRkU2hvdzpmYWxzZSwKCQkJCQl0YXJnZXRWYWx1ZTpbXSwvL+aMh+agh+aVsOaNrgoJCQkJCWl0ZW1BbGlnbjonJwogICAgICAgIH0KICAgIH0sCiAgICBjb21wb25lbnRzOnt9LAogICAgY3JlYXRlZCgpIHsKCQkJCXRoaXMuZ2V0RGljdHMoInBtc19tYnB4X3R5cGUiKS50aGVuKHJlc3BvbnNlID0+IHsKCQkJCQl0aGlzLm1icHhUeXBlT3B0aW9ucyA9IHJlc3BvbnNlLmRhdGE7CgkJCQl9KTsKCQkJCXRoaXMuZ2V0RGljdHMoInBtc19tYnN4X3RqIikudGhlbihyZXNwb25zZSA9PiB7CgkJCQkJdGhpcy5xdWVyeVR5cGVPcHRpb25zID0gcmVzcG9uc2UuZGF0YTsKCQkJCX0pOwogICAgICAJdGhpcy5mb3JtRGVzaWduSWQgPSB0aGlzLiRyb3V0ZS5xdWVyeS5mb3JtRGVzaWduSWQKICAgICAgCXRoaXMuZm9ybU5hbWUgPSB0aGlzLiRyb3V0ZS5xdWVyeS5mb3JtTmFtZQogICAgICAgIC8vIGNvbnNvbGUubG9nKCJmb3JtRGVzaWduSWRfX19fIit0aGlzLmZvcm1EZXNpZ25JZCk7CiAgICAgICAgLy8gY29uc29sZS5sb2coImZvcm1OYW1lX19fXyIrdGhpcy5mb3JtTmFtZSk7CgkJCQl0aGlzLmdldExpc3QoKTsKCQkJCXRoaXMuJG5leHRUaWNrKCgpID0+IHsKCQkJCQl0aGlzLnJlc2l6ZUhhbmRsZXIoKTsKCQkJCQl3aW5kb3cuYWRkRXZlbnRMaXN0ZW5lcigicmVzaXplIiwgdGhpcy5yZXNpemVIYW5kbGVyKTsKCQkJCX0pOwoJCX0sCgkJY29tcHV0ZWQ6IHsKCQkJbGlzdERhdGEoKSB7CgkJCQlyZXR1cm4gdGhpcy4kc3RvcmUuc3RhdGUuYXBwLnNpZGViYXIub3BlbmVkOwoJCQl9CgkJfSwKCQl3YXRjaDogewoJCQlsaXN0RGF0YSh2YWwpIHsKCQkJCXZhciB0aGF0ID0gdGhpczsKCQkJCXNldFRpbWVvdXQoZnVuY3Rpb24oKSB7CgkJCQkJdGhhdC5yZXNpemVIYW5kbGVyKCk7CgkJCQl9LCAzMDApOwoJCQl9CgkJfSwKICAgIG1ldGhvZHM6ewoJCQloYW5kbGVDbGlja1RhYmxlTmFtZShkYXRhKSB7CiAgICAgICAgLy8g6YCJ5Lit5b2T5YmN6KGMCiAgICAgICAgdGhpcy5yb3dDbGljayhkYXRhLCBmYWxzZSk7CiAgICAgICAgdGhpcy5oYW5kbGVVcGRhdGUoZGF0YSk7CiAgICAgIH0sCgkJCXJlc2l6ZUhhbmRsZXIoKSB7CgkJCQlsZXQgYSA9IHRoaXMuJHJlZnMuYnRucy5vZmZzZXRIZWlnaHQ7CgkJCQlsZXQgYiA9IHRoaXMuJHJlZnMuc2VhcmNocy5vZmZzZXRIZWlnaHQ7CgkJCQlsZXQgaCA9YSArIGIgKyAxOCArIDQ1ICsgODQgKyAzNjsKCQkJCWggPSBoIDsKCQkJCS8vIGBjYWxjKDEwMHZoIC0gJHtofSlgOwoJCQkJdGhpcy50YWJsZUhlaWdodCA9IGRvY3VtZW50LmRvY3VtZW50RWxlbWVudC5jbGllbnRIZWlnaHQgLSBoICsgInB4IjsKCQkJCS8vIGNvbnNvbGUubG9nKHRoaXMudGFibGVIZWlnaHQpCgoJCQl9LAogICAgCXN0YXRlRm9ybWF0KHJvdywgY29sdW1uLCBjZWxsVmFsdWUpIHsKCQkJCWxldCBhcnIgPSB0aGlzLmxpc3RzOwogICAgCQlmb3IobGV0IGk9MDtpPGFyci5sZW5ndGg7aSsrKXsKICAgIAkJCWlmKGFycltpXS5maWVsZE5hbWU9PWNvbHVtbi5wcm9wZXJ0eSl7CgkJCQkJCWlmKGFycltpXS5maWVsZE5hbWU9PSJjc190YXJnZXQiKXsKCQkJCQkJCXJldHVybiB0aGlzLnNlbGVjdERpY3RJbmRleExhYmVsKGFycltpXS5vcHRpb25zLGNlbGxWYWx1ZSkKCQkJCQkJfWVsc2V7CgkJCQkJCQlyZXR1cm4gdGhpcy5zZWxlY3REaWN0TGFiZWwoYXJyW2ldLm9wdGlvbnMsY2VsbFZhbHVlKTsKCQkJCQkJfQoJCQkJCX0KCQkJCX0KCQkJfSwKICAgIAkvKiog5p+l6K+i6Ieq5a6a5LmJ6KGo5Y2V5YiX6KGoICovCgkgICAgZ2V0TGlzdCgpIHsKCSAgICAgIAkvLyB0aGlzLmxvYWRpbmcgPSB0cnVlOwoJICAgIAkJbGV0IGRhdGEgPSB7CgkJCQkJCWZvcm1EZXNpZ25JZDp0aGlzLmZvcm1EZXNpZ25JZCwKCSAgICAgICAgfQoJICAgICAgICBkZXBsb3lMaXN0KGRhdGEpLnRoZW4ocmVzcG9uc2UgPT4gewoJICAgICAgICAJLy8gY29uc29sZS5sb2cocmVzcG9uc2UpOwoJICAgICAgICAJdGhpcy5saXN0cyA9IHJlc3BvbnNlLmRhdGE7CgkgICAgICAgIAl0aGlzLmxpc3RzMiA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5saXN0cykpCgkgICAgICAgIAl0aGlzLmZvcm0gPSB7CgkgICAgICAgIAkJbGlzdHMyOnRoaXMubGlzdHMyCgkJCQkJCX0KCSAgICAgICAgCWZvcihsZXQgaT0wO2k8dGhpcy5saXN0cy5sZW5ndGg7aSsrKXsKCSAgICAgICAgCQl0aGlzLiRzZXQoIHRoaXMubGlzdHNbaV0sIHRoaXMubGlzdHNbaV0uZmllbGROYW1lLCBudWxsICkKCQkJCQkJCXRoaXMuJHNldCggdGhpcy5saXN0c1tpXSwgInZhbCIsIG51bGwgKQoJCQkJCQkJaWYodGhpcy5saXN0c1tpXS5maWVsZFR5cGU9PSJzZWxlY3QiKXsKCQkJCQkJCQlpZih0aGlzLmxpc3RzW2ldLmZpZWxkTmFtZT09ImNzX3RhcmdldCIpewoJCQkJCQkJCQkJbGV0IHBhcmFtcz17CgkJCQkJCQkJCQkJCWluZGV4Q29kZTp0aGlzLmxpc3RzW2ldLmluZGV4Q29kZSwKCQkJCQkJCQkJCQkJY29tcENvZGU6dGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQgIC8vIOW/heS8oAoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJbGlzdERldGFpbChwYXJhbXMpLnRoZW4ocmVzcG9uc2U9PnsKCQkJCQkJCQkJCQkJaWYocmVzcG9uc2UuY29kZT09PTIwMCl7CgkJCQkJCQkJCQkJCQl0aGlzLiRzZXQoIHRoaXMubGlzdHNbaV0sICJvcHRpb25zIixyZXNwb25zZS5yb3dzICk7CgkJCQkJCQkJCQkJCQl0aGlzLnRhcmdldFZhbHVlPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2Uucm93cykpCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCX0pCgkJCQkJCQkJfWVsc2UgaWYodGhpcy5saXN0c1tpXS5maWVsZE5hbWU9PSJjc19kZXB0Iil7CgkJCQkJCQkJCWxldCBwYXJhbXM9IHsKCQkJCQkJCQkJCWNvbXBDb2RlOnRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkCgkJCQkJCQkJCX0KCQkJCQkJCQkJZ2V0RGVwdEluZm9Gb3JQbXMocGFyYW1zKS50aGVuKHJlcz0+ewoJCQkJCQkJCQkJCWlmKHJlcy5jb2RlPT09MjAwKXsKCQkJCQkJCQkJCQkJCXRoaXMuJHNldCggdGhpcy5saXN0c1tpXSwgIm9wdGlvbnMiLHJlcy5kYXRhICkKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCX0pCgkJCQkJCQkJfWVsc2V7CgkJCQkJCQkJCXRoaXMuZ2V0RGljdHModGhpcy5saXN0c1tpXS5kaWN0VHlwZSkudGhlbihyZXNwb25zZSA9PiB7CgkJCQkJCQkJCQl0aGlzLiRzZXQoIHRoaXMubGlzdHNbaV0sICJvcHRpb25zIiwgcmVzcG9uc2UuZGF0YSApCgkJCQkJCQkJCX0pOwoJCQkJCQkJCX0KCQkJCQkJCX0KCSAgICAgICAgCQlpZih0aGlzLmxpc3RzW2ldLmZpZWxkVHlwZT09InJhZGlvIil7CgkgICAgICAgIAkJCXRoaXMubGlzdHNbaV0ub3B0aW9ucyA9IEpTT04ucGFyc2UodGhpcy5saXN0c1tpXS5vcHRpb25zKQoJICAgICAgICAJCX0KCSAgICAgICAgCQlpZih0aGlzLmxpc3RzW2ldLmZpZWxkVHlwZT09ImNoZWNrYm94Iil7CgkgICAgICAgIAkJCXRoaXMubGlzdHNbaV0ub3B0aW9ucyA9IEpTT04ucGFyc2UodGhpcy5saXN0c1tpXS5vcHRpb25zKQoJICAgICAgICAJCQl0aGlzLiRzZXQoIHRoaXMubGlzdHNbaV0sICJ2YWwiLCBbXSkKCSAgICAgICAgCQl9CgkJCQkJaWYodGhpcy5saXN0c1tpXS5maWVsZFR5cGU9PSJkYXRlIiYmdGhpcy5saXN0c1tpXS5xdWVyeVR5cGU9PSJiZXR3ZWVuIil7CgkJCQkJCXRoaXMuJHNldCggdGhpcy5saXN0c1tpXSwgInZhbCIsIFttb21lbnQoKS5zdGFydE9mKCdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCcpLG1vbWVudCgpLmVuZE9mKCdtb250aCcpLmZvcm1hdCgnWVlZWS1NTS1ERCcpXSkKCQkJCQl9CgkJCQkJCX0KCSAgICAgICAgCWZvcihsZXQgaT0wO2k8dGhpcy5saXN0czIubGVuZ3RoO2krKyl7CgkgICAgICAgIAkJdGhpcy4kc2V0KCB0aGlzLmxpc3RzMltpXSwgdGhpcy5saXN0czJbaV0uZmllbGROYW1lLCBudWxsICk7CgkJCQkJCQl0aGlzLiRzZXQoIHRoaXMubGlzdHMyW2ldLCAidmFsIiwgdGhpcy5saXN0czJbaV0uZGVmYXVsdFZhbHVlICk7CgkgICAgICAgIAkJaWYodGhpcy5saXN0czJbaV0uZmllbGRUeXBlPT0ic2VsZWN0Iil7CgkJCQkJCQkJaWYodGhpcy5saXN0czJbaV0uZmllbGROYW1lPT0iY3NfdGFyZ2V0Iil7CgkJCQkJCQkJCWxldCBwYXJhbXM9ewoJCQkJCQkJCQkJCWluZGV4Q29kZTp0aGlzLmxpc3RzMltpXS5pbmRleENvZGUsCgkJCQkJCQkJCQkgIGNvbXBDb2RlOnRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkICAgLy/lv4XkvKAKCQkJCQkJCQkJfQoJCQkJCQkJCQlsaXN0RGV0YWlsKHBhcmFtcykudGhlbihyZXNwb25zZT0+ewoJCQkJCQkJCQkJCWlmKHJlc3BvbnNlLmNvZGU9PT0yMDApewoJCQkJCQkJCQkJCQl0aGlzLiRzZXQoIHRoaXMubGlzdHMyW2ldLCAib3B0aW9ucyIscmVzcG9uc2Uucm93cyApCgkJCQkJCQkJCQkJfQoJCQkJCQkJCQl9KQoJCQkJCQkJCX1lbHNlIGlmKHRoaXMubGlzdHMyW2ldLmZpZWxkTmFtZT09ImNzX2RlcHQiKXsKCQkJCQkJCQkJbGV0IHBhcmFtcz0gewoJCQkJCQkJCQkJY29tcENvZGU6dGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQKCQkJCQkJCQkJfQoJCQkJCQkJCQlnZXREZXB0SW5mb0ZvclBtcyhwYXJhbXMpLnRoZW4ocmVzPT57CgkJCQkJCQkJCQkJaWYocmVzLmNvZGU9PT0yMDApewoJCQkJCQkJCQkJCQkJdGhpcy4kc2V0KCB0aGlzLmxpc3RzMltpXSwgIm9wdGlvbnMiLHJlcy5kYXRhICkKCQkJCQkJCQkJCQl9CgkJCQkJCQkJCX0pCgkJCQkJCQkJfWVsc2V7CgkJCQkJCQkJCXRoaXMuZ2V0RGljdHModGhpcy5saXN0czJbaV0uZGljdFR5cGUpLnRoZW4ocmVzcG9uc2UgPT4gewoJCQkJCQkJCQkJdGhpcy4kc2V0KCB0aGlzLmxpc3RzMltpXSwgIm9wdGlvbnMiLCByZXNwb25zZS5kYXRhICkKCQkJCQkJCQkJfSk7CgkJCQkJCQkJfQoJCQkJCQkJfQoJICAgICAgICAJCWlmKHRoaXMubGlzdHMyW2ldLmZpZWxkVHlwZT09InJhZGlvIil7CgkgICAgICAgIAkJCXRoaXMubGlzdHMyW2ldLm9wdGlvbnMgPSBKU09OLnBhcnNlKHRoaXMubGlzdHMyW2ldLm9wdGlvbnMpCgkgICAgICAgIAkJfQoJICAgICAgICAJCWlmKHRoaXMubGlzdHMyW2ldLmZpZWxkVHlwZT09ImNoZWNrYm94Iil7CgkgICAgICAgIAkJCXRoaXMubGlzdHMyW2ldLm9wdGlvbnMgPSBKU09OLnBhcnNlKHRoaXMubGlzdHMyW2ldLm9wdGlvbnMpCgkgICAgICAgIAkJCXRoaXMuJHNldCggdGhpcy5saXN0czJbaV0sICJ2YWwiLCBbXSkKCQkJCQkJCX0KCQkJCQkJfQoJCQkJCQkvLyBjb25zb2xlLmxvZyh0aGlzLmxpc3RzMiwndGhpcy5saXN0czItLS0nKQoJCQkJCQlsZXQgbGlzdCA9IHJlc3BvbnNlLmRhdGE7CgkJCQkJCS8vIGNvbnNvbGUubG9nKGxpc3QsJ2xpc3QnKQoJICAgICAgICAJbGV0IGFyciA9IFtdOwoJICAgICAgICAJZm9yKGxldCBpPTA7aTxsaXN0Lmxlbmd0aDtpKyspewoJCQkJCQkJbGV0IG9iaiA9IHt9OwoJCQkJCQkJaWYobGlzdFtpXS5maWVsZE5hbWUhPSJwbXNfc3RhdGUiKXsKCQkJCQkJCQlpZihsaXN0W2ldLmZpZWxkTmFtZSE9ImRlcHRfdHJhY2siKXsKCQkJCQkJCQkJb2JqLmxhYmVsID0gbGlzdFtpXS5maWVsZERlc2M7CgkJCQkJCQkJCW9iai5wcm9wID0gbGlzdFtpXS5maWVsZE5hbWU7CgkJCQkJCQkJCW9iai5pc0xpc3QgPSBsaXN0W2ldLmlzTGlzdDsKCQkJCQkJCQkJb2JqLmZpZWxkVHlwZSA9IGxpc3RbaV0uZmllbGRUeXBlOwoJCQkJCQkJCQlpZihsaXN0W2ldLmZpZWxkTmFtZT09J2NzX3Njb3JlJyl7CgkJCQkJCQkJCQlvYmouZGVjaW1sRGlnaXQgPSBsaXN0W2ldLmRlY2ltbERpZ2l0CgkJCQkJCQkJCX0KCQkJCQkJCQkJaWYob2JqLnByb3A9PSdjc19kYXRlJyl7CgkJCQkJCQkJCQlvYmouYWxpZ249J2NlbnRlcic7CgkJCQkJCQkJCX1lbHNlIGlmKG9iai5wcm9wPT0nY3Nfc2NvcmUnKXsKCQkJCQkJCQkJCW9iai5hbGlnbj0ncmlnaHQnOwoJCQkJCQkJCQl9ZWxzZXsKCQkJCQkJCQkJCW9iai5hbGlnbj0nbGVmdCc7CgkJCQkJCQkJCX0KCQkJCQkJCQkJYXJyLnB1c2gob2JqKQoJCQkJCQkJCX0KCgkJCQkJCQl9CgkJCQkJCX0KCSAgICAgICAgCXRoaXMuY29scyA9IGFycjsKCQkJCXRoaXMuaGFuZGxlUXVlcnkoKTsKCSAgICAgICAgCS8vIHRoaXMuJHNldCggdGhpcy5xdWVyeVBhcmFtcywgImZvcm1EZXNpZ25JZCIsIHRoaXMuZm9ybURlc2lnbklkICkKCQkJCS8vIAkJdGhpcy5nZXRUYWJsZSgpOwoJICAgICAgICB9KQoJCQl9LAoJICAgIC8vIOWPlua2iOaMiemSrgoJICAgIGNhbmNlbCgpIHsKCSAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwoJCQkJdGhpcy5yZXNldCgpOwoJCQkJdGhpcy5nZXRUYWJsZSgpOwoJICAgIH0sCgkgICAgLy8g6KGo5Y2V6YeN572uCgkgICAgcmVzZXQoKSB7CgkJCQl0aGlzLmlkZCA9IG51bGw7CgkJCQlsZXQgbGlzdHMyTGVuZ3RoPXRoaXMuZm9ybS5saXN0czIuZmlsdGVyKF89PntyZXR1cm4gXy5maWVsZE5hbWU9PSJkZXB0X3RyYWNrIn0pOwogICAgCQlmb3IobGV0IGk9MDtpPHRoaXMuZm9ybS5saXN0czIubGVuZ3RoO2krKyl7CgkJCQkJCXRoaXMuZm9ybS5saXN0czJbaV0udmFsID0gdGhpcy5mb3JtLmxpc3RzMltpXS5kZWZhdWx0VmFsdWU7CgogICAgICAgIAkJaWYodGhpcy5mb3JtLmxpc3RzMltpXS5maWVsZFR5cGU9PSJjaGVja2JveCIpewogICAgICAgIAkJCXRoaXMuJHNldCh0aGlzLmZvcm0ubGlzdHMyW2ldLCAidmFsIiwgW10pCgkJCQkJCX0KCgkJCQkJfQoJCQkJCWlmKGxpc3RzMkxlbmd0aC5sZW5ndGghPTApewoJCQkJCQkJbGV0IGd1aWRhbmNlPXRoaXMuZm9ybS5saXN0czIuZmluZCgoXz0+e3JldHVybiBfLmZpZWxkTmFtZT09J3Btc19ndWlkYW5jZSd9KSk7CgkJCQkJCQlsZXQgcmVzdWx0UG1zPXRoaXMuZm9ybS5saXN0czIuZmluZCgoXz0+e3JldHVybiBfLmZpZWxkTmFtZT09J3Btc19yZXN1bHQnfSkpOwoJCQkJCQkJZ3VpZGFuY2UuaXNFZGl0PSIwIjsKCQkJCQkJCXJlc3VsdFBtcy5pc0VkaXQ9IjAiOwoJCQkJCQkJZ3VpZGFuY2UuZmllbGRWYWx1ZT1udWxsOwoJCQkJCQkJcmVzdWx0UG1zLmZpZWxkVmFsdWU9bnVsbDsKCQkJCQl9CgkJCQkJLy8gY29uc29sZS5sb2codGhpcy5mb3JtLmxpc3RzMiwncmVzZXQnKQogICAgCQl0aGlzLnJlc2V0Rm9ybSgiZm9ybSIpOwoJICAgIH0sCgkgICAgLyoqIOaQnOe0ouaMiemSruaTjeS9nCAqLwoJICAgIGhhbmRsZVF1ZXJ5KCkgewoJICAgIAlsZXQgbGlzdCA9IHRoaXMubGlzdHM7CgkgICAgCWxldCBkYXRhID0ge307CiAgICAgICAgCWZvcihsZXQgaT0wO2k8bGlzdC5sZW5ndGg7aSsrKXsKICAgIAkJCXRoaXMucXVlcnlQYXJhbXNbbGlzdFtpXS5maWVsZE5hbWVdID0gbGlzdFtpXS52YWw7CiAgICAgICAgCX0KICAgICAgICAJdGhpcy4kc2V0KCB0aGlzLnF1ZXJ5UGFyYW1zLCAiZm9ybURlc2lnbklkIiwgdGhpcy5mb3JtRGVzaWduSWQgKQoJICAgICAgCXRoaXMucXVlcnlQYXJhbXMucGFnZU51bSA9IDE7CiAgICAgICAgCXRoaXMucXVlcnlQYXJhbXMucGFnZVNpemUgPSAzMDsKICAgICAgICAJdGhpcy5nZXRUYWJsZSgpOwoJCQl9LAoJCQkvL+ihqOagvOaVsOaNrgoJICAgIGdldFRhYmxlKCl7CgkJCQl0aGlzLmxvYWRpbmcgPSB0cnVlOwoJCQkJdGhpcy4kc2V0KCB0aGlzLnF1ZXJ5UGFyYW1zLCAiZm9ybURlc2lnbklkIiwgdGhpcy5mb3JtRGVzaWduSWQgKTsKCQkJCXRoaXMuJHNldCggdGhpcy5xdWVyeVBhcmFtcywgImNvbXBfY29kZSIsIHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkICk7CgkgICAgCXRlc3RGb3JtKHRoaXMucXVlcnlQYXJhbXMsdGhpcy5mb3JtRGVzaWduSWQpLnRoZW4ocmVzcG9uc2UgPT4gewoJCQkJCQkvLyBjb25zb2xlLmxvZyhyZXNwb25zZSwncmVzJyk7CgkJCQkJCWlmKHJlc3BvbnNlLmNvZGU9PTIwMCl7CgkJCQkJCQl0aGlzLmZvcm1EZXNpZ25MaXN0ID0gcmVzcG9uc2Uucm93czsKICAgICAgICAJCQl0aGlzLnRvdGFsID0gcmVzcG9uc2UudG90YWw7CgkJCQkJCQl0aGlzLmxvYWRpbmcgPSBmYWxzZTsKCQkJCQkJfQoKCQkgICAgfSk7CgkgICAgfSwKCQkJLy/mn6Xor6Lorr7nva4t6KGo5qC85YiX6KGo5pWw5o2uCiAgICAgIGdldEZvcm1UYWJsZUxpc3QoKXsKICAgICAgICB0aGlzLnRhYmxlTG9hZGluZz10cnVlOwogICAgICAgIGdldEZvcm1UYWJsZUxpc3Qoe2Zvcm1EZXNpZ25JZDp0aGlzLmZvcm1EZXNpZ25JZH0pLnRoZW4ocmVzcG9uc2U9PnsKICAgICAgICAgIGlmKHJlc3BvbnNlLmNvZGU9PT0yMDApewoJCQkJCQl0aGlzLmZvcm1EYXRhTGlzdD1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEpKTsKCQkJCQkJdGhpcy5mb3JtRGF0YUxpc3QxPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5maWx0ZXIoKGl0ZSk9PnsKCQkJCQkJCXJldHVybiBpdGUuaXNRdWVyeT09MSAmJiBpdGUuaXNMaXN0UXVlcnk9PTEKCQkJCQkJfSkpKQogICAgICAgICAgIHRoaXMuZm9ybURhdGFMaXN0Mj1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHJlc3BvbnNlLmRhdGEuZmlsdGVyKChpdGUpPT57CiAgICAgICAgICAgICByZXR1cm4gaXRlLmlzU29ydD09MQogICAgICAgICAgIH0pKSk7CiAgICAgICAgICAgdGhpcy50YWJsZUxvYWRpbmc9ZmFsc2U7CiAgICAgICAgICB9CiAgICAgICAgfSkKICAgICAgfSwKCSAgICAvKiog6YeN572u5oyJ6ZKu5pON5L2cICovCgkgICAgcmVzZXRRdWVyeSgpIHsKCSAgICAJbGV0IGxpc3QgPSB0aGlzLmxpc3RzOwogICAgICAgIAlmb3IobGV0IGk9MDtpPGxpc3QubGVuZ3RoO2krKyl7CiAgICAgICAgCQlsaXN0W2ldLnZhbCA9IG51bGw7CiAgICAgICAgCQlpZihsaXN0W2ldLmZpZWxkVHlwZT09ImNoZWNrYm94Iil7CiAgICAgICAgCQkJdGhpcy4kc2V0KGxpc3RbaV0sICJ2YWwiLCBbXSkKCSAgICAgICAgCX0KICAgICAgICAJfQoJICAgICAgCXRoaXMuaGFuZGxlUXVlcnkoKTsKCSAgICB9LAoJICAgIC8vIOWkmumAieahhumAieS4reaVsOaNrgoJICAgIGhhbmRsZVNlbGVjdGlvbkNoYW5nZShzZWxlY3Rpb24pIHsKCSAgICAJLy8gY29uc29sZS5sb2coc2VsZWN0aW9uKQoJICAgICAgCXRoaXMuaWRzID0gc2VsZWN0aW9uLm1hcChpdGVtID0+IGl0ZW0uaWQpCgkJCQkJdGhpcy5zaW5nbGUgPSBzZWxlY3Rpb24ubGVuZ3RoIT09MQoJCQkJCWlmKHNlbGVjdGlvbi5sZW5ndGghPT0wJiZzZWxlY3Rpb25bMF0ucG1zX3N0YXRlICYmIHNlbGVjdGlvbi5sZW5ndGg9PTEpewoJCQkJCQl0aGlzLm11bHRpcGxlID0gc2VsZWN0aW9uWzBdLnBtc19zdGF0ZSE9PSIxIgoJCQkJCX1lbHNlewoJCQkJCQl0aGlzLm11bHRpcGxlID0gc2VsZWN0aW9uLmxlbmd0aCE9PTEKCQkJCQl9CgkJCQkJdGhpcy5zZWxlY3Rpb25Sb3c9c2VsZWN0aW9uCgkJCX0sCgkJCXJvd0NsaWNrKHJvdywgY29sdW1uLCBldmVudCkgewogICAgICAgIGxldCByZWZzRWxUYWJsZSA9IHRoaXMuJHJlZnMubXVsdGlwbGVUYWJsZTsKICAgICAgICBsZXQgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93LmZpbmQoYyA9PiBjLnJvd0luZGV4ID09IHJvdy5yb3dJbmRleCk7CiAgICAgICAgLy8gaWYgKGZpbmRSb3cgJiYgdGhpcy5zZWxlY3Rpb25Sb3cubGVuZ3RoID09IDEpIHsKICAgICAgICAvLyAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIGZhbHNlKTsKICAgICAgICAvLyAgIHJldHVybjsKICAgICAgICAvLyB9CiAgICAgICAgcmVmc0VsVGFibGUuY2xlYXJTZWxlY3Rpb24oKTsKICAgICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93KTsKICAgICAgfSwKICAgICAgcm93U3R5bGUoewoJCQkJCXJvdywKCQkJCQlyb3dJbmRleAoJCQkJfSkgewogICAgICAgIE9iamVjdC5kZWZpbmVQcm9wZXJ0eShyb3csICdyb3dJbmRleCcsIHsKICAgICAgICAgIHZhbHVlOiByb3dJbmRleCwKICAgICAgICAgIHdyaXRhYmxlOiB0cnVlLAogICAgICAgICAgZW51bWVyYWJsZTogZmFsc2UKICAgICAgICB9KQogICAgICB9LAogICAgICByb3dDbGFzc05hbWUoewoJCQkJCXJvdywKCQkJCQlyb3dJbmRleAoJCQkJfSkgewogICAgICAgIGxldCByb3dOYW1lID0gIiIsCiAgICAgICAgICBmaW5kUm93ID0gdGhpcy5zZWxlY3Rpb25Sb3cuZmluZChjID0+IGMucm93SW5kZXggPT09IHJvdy5yb3dJbmRleCk7CiAgICAgICAgaWYgKGZpbmRSb3cpIHsKICAgICAgICAgIHJvd05hbWUgPSAiY3VycmVudC1yb3cgIjsKICAgICAgICB9CiAgICAgICAgcmV0dXJuIHJvd05hbWU7CiAgICAgIH0sCgoJICAgIC8qKiDmlrDlop7mjInpkq7mk43kvZwgKi8KCSAgICBoYW5kbGVBZGQoKSB7CgkJCQkJdGhpcy5yZXNldCgpOwoJICAgICAgCXRoaXMub3BlbiA9IHRydWU7CgkJCQkJdGhpcy5hZGRFZGl0SWQgPSAiIjsKCQkJCQl0aGlzLmlzQWRkPXRydWU7CgkJCQkJdGhpcy50aXRsZSA9IHRoaXMuZm9ybU5hbWUrIi3mt7vliqAiOwoJICAgIH0sCgkgICAgLyoqIOS/ruaUueaMiemSruaTjeS9nCAqLwoJICAgIGhhbmRsZVVwZGF0ZShyb3cpIHsKCQkJCQl0aGlzLmlzQWRkPWZhbHNlOwoJICAgICAgCXRoaXMucmVzZXQoKTsKCSAgICAgIAljb25zdCBpZCA9IHJvdy5pZCB8fCB0aGlzLmlkcwoJICAgICAgCXRoaXMuYWRkRWRpdElkID0gdGhpcy5pZHNbMF07CgkgICAgICAJbGV0IGZvcm1EZXNpZ25JZCA9IHRoaXMuZm9ybURlc2lnbklkOwogICAgICAJCXRoaXMub3BlbiA9IHRydWU7CgkgICAgICAJdGhpcy50aXRsZSA9IHRoaXMuZm9ybU5hbWUrIi3nvJbovpEiOwoJICAgICAgCWdldEZvcm1EZXRhaWxzKGZvcm1EZXNpZ25JZCxpZCkudGhlbihyZXNwb25zZSA9PiB7CgkJCQkJCWxldCBsaXN0cyA9IHJlc3BvbnNlLmRhdGEuZGF0YXM7CgkgICAgICAJCXRoaXMuZm9ybSA9IHsKCSAgICAgICAgCQlsaXN0czI6bGlzdHMKCSAgICAgICAgCX0KCQkJCQkJdGhpcy5pZGQgPSByZXNwb25zZS5kYXRhLmlkOwoJCQkJCQlsZXQgbGlzdHMyTGVuZ3RoPXRoaXMuZm9ybS5saXN0czIuZmlsdGVyKF89PntyZXR1cm4gXy5maWVsZE5hbWU9PSJkZXB0X3RyYWNrIn0pOwoJCQkJCQkvLyBjb25zb2xlLmxvZyh0aGlzLmZvcm0ubGlzdHMyLCdmb3JtLmxpc3RzMicpCgkgICAgICAJCWZvcihsZXQgaT0wO2k8dGhpcy5mb3JtLmxpc3RzMi5sZW5ndGg7aSsrKXsKCQkJCQkJCXRoaXMuJHNldCh0aGlzLmZvcm0ubGlzdHMyW2ldLCJ2YWwiLCB0aGlzLmZvcm0ubGlzdHMyW2ldLmZpZWxkVmFsdWUgKQogIAkJCQkJaWYodGhpcy5mb3JtLmxpc3RzMltpXS5maWVsZFR5cGU9PSJzZWxlY3QiKXsKCQkJCQkJCS8v5oyH5qCH6K+m5oOF5pWw5o2uCgkJCQkJCQlpZih0aGlzLmZvcm0ubGlzdHMyW2ldLmZpZWxkTmFtZT09ImNzX3RhcmdldCIpewoJCQkJCQkJCQl0aGlzLiRzZXQodGhpcy5mb3JtLmxpc3RzMltpXSwidmFsIiwgbnVsbCApCgkJCQkJCQkJbGV0IHBhcmFtcz17CgkJCQkJCQkJCQkJaW5kZXhDb2RlOnRoaXMuZm9ybS5saXN0czJbaV0uaW5kZXhDb2RlLAoJCQkJCQkJCQkJCWNvbXBDb2RlOnRoaXMuJHN0b3JlLnN0YXRlLnVzZXIudXNlckluZm8uZGVwdElkICAvLyDlv4XkvKAKCQkJCQkJCQl9OwoJCQkJCQkJCWxpc3REZXRhaWwocGFyYW1zKS50aGVuKHJlc3BvbnNlPT57CgkJCQkJCQkJCQlpZihyZXNwb25zZS5jb2RlPT09MjAwKXsKCQkJCQkJCQkJCQl0aGlzLiRzZXQoIHRoaXMuZm9ybS5saXN0czJbaV0sICJvcHRpb25zIixyZXNwb25zZS5yb3dzICk7CgkJCQkJCQkJCQkJbGV0CXRhcmdldFZhbHVlPXJlc3BvbnNlLnJvd3MuZmlsdGVyKF89PnsKCQkJCQkJCQkJCQkJaWYoXy5pZD09dGhpcy5mb3JtLmxpc3RzMltpXS5maWVsZFZhbHVlIHx8IF8uZXZhQ29udD09dGhpcy5mb3JtLmxpc3RzMltpXS5maWVsZFZhbHVlKXsKCQkJCQkJCQkJCQkJCXJldHVybiBfCgkJCQkJCQkJCQkJCX0KCQkJCQkJCQkJCQl9KTsKCQkJCQkJCQkJCQl0aGlzLiRzZXQodGhpcy5mb3JtLmxpc3RzMltpXSwidmFsIiwgdGFyZ2V0VmFsdWVbMF0uZXZhQ29udCApCgkJCQkJCQkJCQl9CgkJCQkJCQkJfSkKCQkJCQkJCX1lbHNlIGlmKHRoaXMuZm9ybS5saXN0czJbaV0uZmllbGROYW1lPT0iY3NfZGVwdCIpewoJCQkJCQkJCS8v6YOo6Zeo6K+m5oOF5pWw5o2uCgkJCQkJCQkJCWxldCBwYXJhbXM9IHsKCQkJCQkJCQkJCQljb21wQ29kZTp0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLnVzZXJJbmZvLmRlcHRJZAoJCQkJCQkJCQkJfQoJCQkJCQkJCQkJZ2V0RGVwdEluZm9Gb3JQbXMocGFyYW1zKS50aGVuKHJlcz0+ewoJCQkJCQkJCQkJCQlpZihyZXMuY29kZT09PTIwMCl7CgkJCQkJCQkJCQkJCQkJdGhpcy4kc2V0KCB0aGlzLmZvcm0ubGlzdHMyW2ldLCAib3B0aW9ucyIscmVzLmRhdGEgKQoJCQkJCQkJCQkJCQl9CgkJCQkJCQkJCQl9KQoJCQkJCQkJfWVsc2V7CgkJCQkJCQkJdGhpcy5nZXREaWN0cyh0aGlzLmZvcm0ubGlzdHMyW2ldLmRpY3RUeXBlKS50aGVuKHJlc3BvbnNlID0+IHsKCQkJICAgICAgICAJCXRoaXMuJHNldCh0aGlzLmZvcm0ubGlzdHMyW2ldLCAib3B0aW9ucyIsIHJlc3BvbnNlLmRhdGEgKQoJCQkJICAgICAgCX0pOwoJCQkJCQkJfQoJCQkJCQl9CiAgCQkJCQlpZih0aGlzLmZvcm0ubGlzdHMyW2ldLmZpZWxkVHlwZT09InJhZGlvIil7CgkgICAgICAgIAkJCXRoaXMuZm9ybS5saXN0czJbaV0ub3B0aW9ucyA9IEpTT04ucGFyc2UodGhpcy5mb3JtLmxpc3RzMltpXS5vcHRpb25zKQoJICAgICAgICAJCX0KICAJCQkJCWlmKHRoaXMuZm9ybS5saXN0czJbaV0uZmllbGRUeXBlPT0iY2hlY2tib3giKXsKCSAgICAgICAgCQkJdGhpcy5mb3JtLmxpc3RzMltpXS5vcHRpb25zID0gSlNPTi5wYXJzZSh0aGlzLmZvcm0ubGlzdHMyW2ldLm9wdGlvbnMpCgkgICAgICAgIAkJCWxldCBhcnIgPSB0aGlzLmZvcm0ubGlzdHMyW2ldLmZpZWxkVmFsdWUuc3BsaXQoJywnKTsKCSAgICAgICAgCQkJdGhpcy4kc2V0KHRoaXMuZm9ybS5saXN0czJbaV0sInZhbCIsYXJyKQoJCQkJCQkJfQoJCQkJCQkJLy/mmK/np5HlrqTot5/ouKrml7Yt57yW6L6R5aKe5Yqg54q25oCB5Yik5patCgkJCQkJCQlpZihsaXN0czJMZW5ndGgubGVuZ3RoIT0wKXsKCQkJCQkJCQkJbGV0IGd1aWRhbmNlPXRoaXMuZm9ybS5saXN0czIuZmluZCgoXz0+e3JldHVybiBfLmZpZWxkTmFtZT09J3Btc19ndWlkYW5jZSd9KSk7CgkJCQkJCQkJCWxldCByZXN1bHRQbXM9dGhpcy5mb3JtLmxpc3RzMi5maW5kKChfPT57cmV0dXJuIF8uZmllbGROYW1lPT0ncG1zX3Jlc3VsdCd9KSk7CgkJCQkJCQkJCQlpZih0aGlzLnNlbGVjdGlvblJvd1swXS5wbXNfc3RhdGU9PSIxIil7CgkJCQkJCQkJCQkJCWd1aWRhbmNlLmlzRWRpdD0iMSI7CgkJCQkJCQkJCQkJCXJlc3VsdFBtcy5pc0VkaXQ9IjAiOwoJCQkJCQkJCQkJfWVsc2UgaWYodGhpcy5zZWxlY3Rpb25Sb3dbMF0ucG1zX3N0YXRlPT0iMiIgfHwgdGhpcy5zZWxlY3Rpb25Sb3dbMF0ucG1zX3N0YXRlPT0iMyIpewoJCQkJCQkJCQkJCQlndWlkYW5jZS5pc0VkaXQ9IjEiCgkJCQkJCQkJCQkJCXJlc3VsdFBtcy5pc0VkaXQ9IjEiCgkJCQkJCQkJCQl9ZWxzZXsKCQkJCQkJCQkJCQlndWlkYW5jZS5pc0VkaXQ9IjAiOwoJCQkJCQkJCQkJCXJlc3VsdFBtcy5pc0VkaXQ9IjAiCgkJCQkJCQkJCQl9CgkJCQkJCQl9CgkJCQkJCX0KCQkJCQkJLy8gY29uc29sZS5sb2codGhpcy5zZWxlY3Rpb25Sb3dbMF0sJ3JvdycpCgkJCQkJCS8vIGNvbnNvbGUubG9nKHRoaXMuZm9ybS5saXN0czIsJ2JpYW5qaScpCgkgICAgICAgIAl0aGlzLm9wZW4gPSB0cnVlOwoJICAgICAgICAJdGhpcy50aXRsZSA9ICLnvJbovpEiK3RoaXMuZm9ybU5hbWU7CgkgICAgICAJfSk7CgkgICAgfSwKCSAgICAvKiog5o+Q5Lqk5oyJ6ZKuICovCgkgICAgc3VibWl0Rm9ybSgpIHsKICAgICAgICB0cnkgewogICAgICAgICAgbGV0IGxpc3QgPSB0aGlzLmZvcm0ubGlzdHMyOwogICAgICAgICAgLy8gcG1zX3N0YXRlCiAgICAgICAgICAvLyBjb25zb2xlLmxvZyhsaXN0LCdsaXN0JykKICAgICAgICAgIGZvciAobGV0IGkgPSAwOyBpIDwgbGlzdC5sZW5ndGg7IGkrKykgewogICAgICAgICAgICB0aGlzLmZvcm1bbGlzdFtpXS5maWVsZE5hbWVdID0gbGlzdFtpXS52YWw7CiAgICAgICAgICB9CiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5mb3JtLCAiZm9ybURlc2lnbklkIiwgdGhpcy5mb3JtRGVzaWduSWQpCiAgICAgICAgICB0aGlzLiRzZXQodGhpcy5mb3JtLCAiaWQiLCB0aGlzLmlkZCkKICAgICAgICAgIHRoaXMuJHJlZnNbImZvcm0iXS52YWxpZGF0ZSh2YWxpZCA9PiB7CiAgICAgICAgICAgIGlmICh2YWxpZCkgewogICAgICAgICAgICAgIGxldCBmb3JtID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmZvcm0pKQogICAgICAgICAgICAgIGRlbGV0ZSBmb3JtLmxpc3RzMjsKICAgICAgICAgICAgICBsZXQgYm9vbCA9IGZvcm0uaGFzT3duUHJvcGVydHkoJ2RlcHRfdHJhY2snKTsKICAgICAgICAgICAgICBpZiAoYm9vbCAmJiB0aGlzLmlzQWRkKSB7CiAgICAgICAgICAgICAgICBmb3JtLnBtc19zdGF0ZSA9ICIxIjsKICAgICAgICAgICAgICAgIGZvcm0ucG1zX3Jlc3VsdCA9IG51bGw7CiAgICAgICAgICAgICAgICBmb3JtLnBtc19ndWlkYW5jZSA9IG51bGw7CiAgICAgICAgICAgICAgfQogICAgICAgICAgICAgIGxldCBzYXZlTG9hZGluZyA9IHRoaXMuc2F2ZUxvYWRpbmcoKQogICAgICAgICAgICAgIGZvcm0uY3Nfc2NvcmUgPSBmb3JtLmNzX3Njb3JlID8gZm9ybS5jc19zY29yZSAqIDEgOiAwOwogICAgICAgICAgICAgIGlmICh0aGlzLmZvcm0uaWQgIT0gbnVsbCkgewogICAgICAgICAgICAgICAgaWYgKGZvcm0ucG1zX2d1aWRhbmNlKSB7CiAgICAgICAgICAgICAgICAgIGZvcm0ucG1zX3N0YXRlID0gIjIiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBpZiAoZm9ybS5wbXNfZ3VpZGFuY2UgJiYgZm9ybS5wbXNfcmVzdWx0KSB7CiAgICAgICAgICAgICAgICAgIGZvcm0ucG1zX3N0YXRlID0gIjMiCiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICAvL+aMh+agh+mHjeaWsOi1i+WAvOS4umlkCiAgICAgICAgICAgICAgICBsZXQgZm9ybVRhcmdldCA9IHRoaXMudGFyZ2V0VmFsdWUuZmlsdGVyKF8gPT4gewogICAgICAgICAgICAgICAgICBpZiAoXy5ldmFDb250ID09IGZvcm0uY3NfdGFyZ2V0IHx8IF8uaWQgPT0gZm9ybS5jc190YXJnZXQpIHsKICAgICAgICAgICAgICAgICAgICByZXR1cm4gXwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KQogICAgICAgICAgICAgICAgaWYoZm9ybVRhcmdldCAmJiBmb3JtVGFyZ2V0Lmxlbmd0aCA+IDApewogICAgICAgICAgICAgICAgICBmb3JtLmNzX3RhcmdldCA9IGZvcm1UYXJnZXRbMF0uaWQ7CiAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICBhZGRTYXZlRm9ybShmb3JtLCB0aGlzLmZvcm1EZXNpZ25JZCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgewogICAgICAgICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi57yW6L6R5oiQ5YqfIik7CiAgICAgICAgICAgICAgICAgICAgc2F2ZUxvYWRpbmcuY2xvc2UoKTsKICAgICAgICAgICAgICAgICAgICB0aGlzLm9wZW4gPSBmYWxzZTsKICAgICAgICAgICAgICAgICAgfQogICAgICAgICAgICAgICAgfSk7CiAgICAgICAgICAgICAgfSBlbHNlIHsKICAgICAgICAgICAgICAgIGZvcm0uY29tcF9jb2RlID0gdGhpcy4kc3RvcmUuc3RhdGUudXNlci51c2VySW5mby5kZXB0SWQ7CiAgICAgICAgICAgICAgICBmb3JtLmNzX3Njb3JlID0gZm9ybS5jc19zY29yZSArICIiOwogICAgICAgICAgICAgICAgLy8gY29uc29sZS5sb2coZm9ybSkKICAgICAgICAgICAgICAgIGFkZFNhdmVGb3JtKGZvcm0sIHRoaXMuZm9ybURlc2lnbklkKS50aGVuKHJlc3BvbnNlID0+IHsKICAgICAgICAgICAgICAgICAgaWYgKHJlc3BvbnNlLmNvZGUgPT0gMjAwKSB7CiAgICAgICAgICAgICAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCLmlrDlop7miJDlip8iKTsKICAgICAgICAgICAgICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpOwogICAgICAgICAgICAgICAgICAgIHRoaXMub3BlbiA9IGZhbHNlOwogICAgICAgICAgICAgICAgICB9CiAgICAgICAgICAgICAgICB9KTsKICAgICAgICAgICAgICB9CiAgICAgICAgICAgIH0KICAgICAgICAgIH0pOwogICAgICAgIH0gY2F0Y2ggKGUpIHsKICAgICAgICAgIHRoaXMuc2F2ZUxvYWRpbmcoKS5jbG9zZSgpOwogICAgICAgICAgdGhpcy4kbWVzc2FnZSh7CiAgICAgICAgICAgIHNob3dDbG9zZTogdHJ1ZSwKICAgICAgICAgICAgbWVzc2FnZTogJ+WHuumUmeS6hu+8jOivt+iBlOezu+euoeeQhuWRmCcsCiAgICAgICAgICAgIHR5cGU6ICdlcnJvcicsCiAgICAgICAgICAgIGR1cmF0aW9uOiA4MDAKICAgICAgICAgIH0pOwogICAgICAgIH0KCQkJfSwKCQkJLy/mn6Xor6Lorr7nva7kv53lrZgKCQkJc3VibWl0Rm9ybVNlYXJjaFNldCgpewoJCQkJbGV0IGZkY0xpc3Q9W107CgkJCQlmb3IobGV0IGkgPSAwOyBpIDwgdGhpcy5mb3JtRGF0YUxpc3QubGVuZ3RoOyBpKyspIHsKCQkJCQlsZXQgdGVtcEFycjEgPSB0aGlzLmZvcm1EYXRhTGlzdFtpXQoJCQkJCWZvcihsZXQgaiA9IDA7IGogPCB0aGlzLmZvcm1EYXRhTGlzdDEubGVuZ3RoOyBqKyspIHsKCQkJCQkJbGV0IHRlbXBBcnIyID0gdGhpcy5mb3JtRGF0YUxpc3QxW2pdOwoJCQkJCQlpZih0ZW1wQXJyMi5pZCA9PT0gdGVtcEFycjEuaWQpewoJCQkJCQkJdGVtcEFycjEucXVlcnlUeXBlPXRlbXBBcnIyLnF1ZXJ5VHlwZTsKCQkJCQkJCXRlbXBBcnIxLnF1ZXJ5RGVmYXVsdD10ZW1wQXJyMi5xdWVyeURlZmF1bHQ7CgkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCX0KCQkJCQlmb3IobGV0IGs9MDtrPHRoaXMuZm9ybURhdGFMaXN0Mi5sZW5ndGg7aysrKXsKCQkJCQkJCWxldCB0ZW1wQXJyMiA9IHRoaXMuZm9ybURhdGFMaXN0MltrXTsKCQkJCQkJCWlmKHRlbXBBcnIyLmlkID09PSB0ZW1wQXJyMS5pZCl7CgkJCQkJCQkJdGVtcEFycjEuc29vcnRUeXBlPXRlbXBBcnIyLnNvb3J0VHlwZTsKCQkJCQkJCQlicmVhazsKCQkJCQkJfQoJCQkJCX0KCQkJCQlmZGNMaXN0LnB1c2godGVtcEFycjEpCgkJCQl9CgkJCQlsZXQgc2F2ZUxvYWRpbmc9dGhpcy5zYXZlTG9hZGluZygpCgkJCQkJZWRpdEFkZEZvcm1EZXNpZ24oe2ZkY0xpc3Q6ZmRjTGlzdH0pLnRoZW4ocmVzcG9uc2UgPT4gewoJCQkJCQlpZihyZXNwb25zZS5jb2RlPT09MjAwKXsKCQkJCQkJCXRoaXMubXNnU3VjY2Vzcygi5L+d5a2Y5oiQ5YqfIik7CgkJCQkJCQl0aGlzLmNhbmNlbFNlYXJjaCgpOwoJCQkJCQkJc2F2ZUxvYWRpbmcuY2xvc2UoKTsKCQkJCQkJfQoJCQkJICB9KQoJCQl9LAoJCQkvL+afpeivouaMiemSruaTjeS9nAoJCQloYW5kbGVTZWFyY2goKXsKCSAgICAgIGxldCBmb3JtRGVzaWduSWQgPSB0aGlzLmZvcm1EZXNpZ25JZDsKCQkJCXRoaXMuZ2V0Rm9ybVRhYmxlTGlzdCgpOwoJCQkJdGhpcy5zZWFyY2hUaXRsZT0i5Yqo5oCB6KGo5Y2VL+afpeivouiuvue9riI7CgkJCQl0aGlzLm9wZW5fc2VhcmNoPXRydWU7CgkJCX0sCgkJCS8v5YWz6Zet5p+l6K+i5qGGCgkJCWNhbmNlbFNlYXJjaCgpewoJCQkJdGhpcy5vcGVuX3NlYXJjaD1mYWxzZTsKCQkJCXRoaXMuZ2V0VGFibGUoKTsKCQkJfSwKCSAgICAvKiog5Yig6Zmk5oyJ6ZKu5pON5L2cICovCgkgICAgaGFuZGxlRGVsZXRlKHJvdykgewoJICAgICAgY29uc3QgaWRzID0gcm93LmlkIHx8IHRoaXMuaWRzOwoJICAgICAgbGV0IGZvcm1EZXNpZ25JZCA9IHRoaXMuZm9ybURlc2lnbklkOwoJICAgICAgdGhpcy4kY29uZmlybSgn5piv5ZCm56Gu6K6k5Yig6Zmk6Ieq5a6a5LmJ6KGo5Y2V57yW5Y+35Li6IicgKyBpZHMgKyAnIueahOaVsOaNrumhuT8nLCAi6K2m5ZGKIiwgewoJICAgICAgICBjb25maXJtQnV0dG9uVGV4dDogIuehruWumiIsCgkgICAgICAgIGNhbmNlbEJ1dHRvblRleHQ6ICLlj5bmtogiLAoJICAgICAgICB0eXBlOiAid2FybmluZyIKCSAgICAgIH0pLnRoZW4oZnVuY3Rpb24oKSB7CgkgICAgICAgIHJldHVybiBkZWxGb3JtKGZvcm1EZXNpZ25JZCxpZHMpOwoJICAgICAgfSkudGhlbigoKSA9PiB7CgkgICAgICAgIHRoaXMuZ2V0VGFibGUoKTsKCSAgICAgICAgdGhpcy5tc2dTdWNjZXNzKCLliKDpmaTmiJDlip8iKTsKCSAgICAgIH0pLmNhdGNoKCgpID0+IHt9KTsKCSAgICB9LAogICAgfSwKfQo="},null]}
{"remainingRequest":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\pms_UI\\src\\layout\\index.vue?vue&type=style&index=0&id=13877386&lang=scss&scoped=true&","dependencies":[{"path":"F:\\pms_UI\\src\\layout\\index.vue","mtime":1716906170333},{"path":"F:\\pms_UI\\node_modules\\css-loader\\dist\\cjs.js","mtime":1693361949271},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1693362179282},{"path":"F:\\pms_UI\\node_modules\\postcss-loader\\src\\index.js","mtime":1693362110683},{"path":"F:\\pms_UI\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1693362152666},{"path":"F:\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"F:\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCkBpbXBvcnQgIn5AL2Fzc2V0cy9zdHlsZXMvbWl4aW4uc2NzcyI7CkBpbXBvcnQgIn5AL2Fzc2V0cy9zdHlsZXMvdmFyaWFibGVzLnNjc3MiOwoKLmVsLWZvb3RlciB7CiAgYm9yZGVyLXRvcDogMXB4IHNvbGlkICNlZWU7CiAgYmFja2dyb3VuZDogI2ZlZjlmOTsKICAuYm94IHsKICAgIGxpbmUtaGVpZ2h0OiAyNHB4OwogICAgd2lkdGg6IDEwMCU7CiAgICAuYm94cyB7CiAgICAgIGZvbnQtc2l6ZTogMTJweDsKICAgICAgbWFyZ2luLXJpZ2h0OiAzMHB4OwogICAgICBzcGFuIHsKICAgICAgICBjb2xvcjogIzY2NjsKICAgICAgfQogICAgfQogIH0KfQouYXBwLXdyYXBwZXIgewogIEBpbmNsdWRlIGNsZWFyZml4OwogIHBvc2l0aW9uOiByZWxhdGl2ZTsKICBoZWlnaHQ6IDEwMCU7CiAgd2lkdGg6IDEwMCU7CgogICYubW9iaWxlLm9wZW5TaWRlYmFyIHsKICAgIHBvc2l0aW9uOiBmaXhlZDsKICAgIHRvcDogMDsKICB9Cn0KCi5kcmF3ZXItYmcgewogIGJhY2tncm91bmQ6ICMwMDA7CiAgb3BhY2l0eTogMC4zOwogIHdpZHRoOiAxMDAlOwogIHRvcDogMDsKICBoZWlnaHQ6IDEwMCU7CiAgcG9zaXRpb246IGFic29sdXRlOwogIHotaW5kZXg6IDk5OTsKfQoKLmZpeGVkLWhlYWRlciB7CiAgcG9zaXRpb246IGZpeGVkOwogIHRvcDogMDsKICByaWdodDogMDsKICB6LWluZGV4OiA5OwogIHdpZHRoOiBjYWxjKDEwMCUgLSAjeyRzaWRlQmFyV2lkdGh9KTsKICB0cmFuc2l0aW9uOiB3aWR0aCAwLjI4czsKfQoKLmhpZGVTaWRlYmFyIC5maXhlZC1oZWFkZXIgewogIHdpZHRoOiBjYWxjKDEwMCUgLSA1NHB4KTsKfQoKLm1vYmlsZSAuZml4ZWQtaGVhZGVyIHsKICB3aWR0aDogMTAwJTsKfQo="},{"version":3,"sources":["index.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAuMA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA","file":"index.vue","sourceRoot":"src/layout","sourcesContent":["<script src=\"../../../zjry-spd-prov-ui/src/permission.js\"></script>\n<template>\n  <div :class=\"classObj\" class=\"app-wrapper\" :style=\"{'--current-color': theme}\">\n    <div v-if=\"device==='mobile'&&sidebar.opened\" class=\"drawer-bg\" @click=\"handleClickOutside\"/>\n    <template v-if=\"sideTheme === 'theme-dark' || sideTheme === 'theme-blue'\">\n    \t<sidebar class=\"sidebar-container\" :style=\"{ backgroundColor: variables.menuBg}\" />\n    </template>\n    <template v-else-if=\"sideTheme === 'theme-light' || sideTheme === 'theme-blue2' || sideTheme === 'theme-blue4'\">\n    \t<sidebar class=\"sidebar-container\" :style=\"{ backgroundColor: variables.menuLightBg}\" />\n    </template>\n    <template v-else-if=\"(sideTheme === 'theme-blue3' || sideTheme === 'theme-blue5') && (theme=== '#1890FF')\">\n    \t<sidebar class=\"sidebar-container\" :style=\"{ backgroundColor: variables.menuBlue}\" />\n    </template>\n    <template v-else-if=\"(sideTheme === 'theme-blue3' || sideTheme === 'theme-blue5') && (theme!= '#1890FF')\">\n    \t<sidebar class=\"sidebar-container\" :style=\"{ backgroundColor: theme}\" />\n    </template>\n\n    <div :class=\"{hasTagsView:needTagsView}\" class=\"main-container\" style=\"background:#f2f2f2\">\n      <div :class=\"{'fixed-header':fixedHeader}\">\n      \t<template v-if=\"sideTheme === 'theme-dark' || sideTheme === 'theme-blue3'\">\n        \t<navbar :style=\"{ backgroundColor: variables.menuLightBg }\"/>\n\t\t    </template>\n\t\t    <template v-else-if=\"sideTheme === 'theme-light'\">\n\t\t    \t<navbar :style=\"{ backgroundColor: variables.menuLightBg}\" />\n\t\t    </template>\n\t\t    <template v-else-if=\"(sideTheme === 'theme-blue' || sideTheme === 'theme-blue2' || sideTheme === 'theme-blue4'|| sideTheme === 'theme-blue5') && (theme=== '#1890FF')\">\n\t\t    \t<navbar :style=\"{ backgroundColor: variables.menuBlue}\" />\n\t\t    </template>\n\t\t    <template v-else-if=\"(sideTheme === 'theme-blue' || sideTheme === 'theme-blue2' || sideTheme === 'theme-blue4'|| sideTheme === 'theme-blue5') && (theme!= '#1890FF')\">\n\t\t    \t<navbar :style=\"{ backgroundColor: theme}\" />\n\t\t    </template>\n\n        <tags-view v-if=\"needTagsView\" />\n      </div>\n      <app-main />\n      <right-panel v-if=\"showSettings\">\n        <settings />\n      </right-panel>\n    </div>\n    <el-footer height=\"29px\">\n      <div class=\"box\">\n\t\t<span class=\"boxs\">\n          当前单位：<span>{{compName}}({{compId}})</span>\n        </span>\n\n        <span class=\"boxs\">\n          科室：<span>{{deptName}}({{deptId}})</span>\n        </span>\n        <span class=\"boxs\">\n          用户：<span>{{nickName}}({{userName}})</span>\n        </span>\n        <span class=\"boxs\">\n          IP地址：<span>{{ip}}</span>\n        </span>\n        <span class=\"boxs\">\n          当前时间：<span>{{nowTime}}</span>\n        </span>\n      </div>\n    </el-footer>\n\n  </div>\n</template>\n\n<script>\nimport RightPanel from \"@/components/RightPanel\";\nimport { AppMain, Navbar, Settings, Sidebar, TagsView } from \"./components\";\nimport ResizeMixin from \"./mixin/ResizeHandler\";\nimport { mapState } from \"vuex\";\nimport variables from \"@/assets/styles/variables.scss\";\nimport { getInfo } from \"@/api/basic/user\";\n// import baseSettings from \"@/utils/settingUrl\"\n\nexport default {\n  name: \"Layout\",\n  components: {\n    AppMain,\n    Navbar,\n    RightPanel,\n    Settings,\n    Sidebar,\n    TagsView\n  },\n  data() {\n    return {\n      compName: \"\",\n      compId: \"\",\n      deptName: \"\",\n      deptId: \"\",\n      userName: \"\",\n      nickName: \"\",\n      ip: \"\",\n      nowTime: \"\",\n      accountName: \"\",\n      accountId: \"\"\n    };\n  },\n  mixins: [ResizeMixin],\n  computed: {\n    ...mapState({\n      theme: state => state.settings.theme,\n      sideTheme: state => state.settings.sideTheme,\n      sidebar: state => state.app.sidebar,\n      device: state => state.app.device,\n      showSettings: state => state.settings.showSettings,\n      needTagsView: state => state.settings.tagsView,\n      fixedHeader: state => state.settings.fixedHeader\n    }),\n    classObj() {\n      return {\n        hideSidebar: !this.sidebar.opened,\n        openSidebar: this.sidebar.opened,\n        withoutAnimation: this.sidebar.withoutAnimation,\n        mobile: this.device === \"mobile\"\n      };\n    },\n    variables() {\n      return variables;\n    }\n  },\n  created() {\n    // baseSettings().then(()=>{\n      this.getSysParams()\n    // })\n    // this.$store.dispatch('GetAccountInfo');\n    // this.$store.dispatch(\"getBaseDicts\");\n  },\n  mounted() {\n    this.getInfo();\n    this.nowTimes();\n  },\n  methods: {\n    // 获取系统参数\n    getSysParams(){\n       // 获取系统参数  是否启用供应商  ISSUPPLY    0启用，1不启用\n        this.$store.dispatch('settings/getIssupply');\n        // 系统参数  是否启用波次管理   ISWELL  0启用，1不启用\n        this.$store.dispatch('settings/getIswell');\n        // 字典\n        this.$store.dispatch(\"getDicts\");\n    },\n    handleClickOutside() {\n      this.$store.dispatch(\"app/closeSideBar\", { withoutAnimation: false });\n    },\n    getInfo() {\n      getInfo().then(response => {\n        if (response.basicdataUser.deptName == null) {\n          this.compName = \"无\";\n        } else {\n          this.compName = response.basicdataUser.deptName;\n          this.compId = response.basicdataUser.deptId;\n          this.deptName = response.basicdataUser.deptRoomName;\n          this.deptId = response.basicdataUser.deptRoomId;\n          this.accountName = response.basicdataUser.accountSet.code;\n          this.accountId = response.basicdataUser.accountSet.name;\n        }\n        this.userName = response.basicdataUser.userName;\n        this.nickName = response.basicdataUser.nickName;\n        this.ip = response.basicdataUser.loginIp;\n      });\n    },\n    timeFormate(timeStamp) {\n      let year = new Date(timeStamp).getFullYear();\n      let month =\n        new Date(timeStamp).getMonth() + 1 < 10\n          ? \"0\" + (new Date(timeStamp).getMonth() + 1)\n          : new Date(timeStamp).getMonth() + 1;\n      let date =\n        new Date(timeStamp).getDate() < 10\n          ? \"0\" + new Date(timeStamp).getDate()\n          : new Date(timeStamp).getDate();\n      let hh =\n        new Date(timeStamp).getHours() < 10\n          ? \"0\" + new Date(timeStamp).getHours()\n          : new Date(timeStamp).getHours();\n      let mm =\n        new Date(timeStamp).getMinutes() < 10\n          ? \"0\" + new Date(timeStamp).getMinutes()\n          : new Date(timeStamp).getMinutes();\n      let ss =\n        new Date(timeStamp).getSeconds() < 10\n          ? \"0\" + new Date(timeStamp).getSeconds()\n          : new Date(timeStamp).getSeconds();\n      this.nowTime =\n        year + \"-\" + month + \"-\" + date + \"\" + \" \" + hh + \":\" + mm + \":\" + ss;\n    },\n    nowTimes() {\n      this.timeFormate(new Date());\n      setInterval(this.nowTimes, 1000);\n      this.clear();\n    },\n    clear() {\n      clearInterval(this.nowTimes);\n      this.nowTimes = null;\n    }\n  }\n};\n</script>\n\n<style lang=\"scss\" scoped>\n@import \"~@/assets/styles/mixin.scss\";\n@import \"~@/assets/styles/variables.scss\";\n\n.el-footer {\n  border-top: 1px solid #eee;\n  background: #fef9f9;\n  .box {\n    line-height: 24px;\n    width: 100%;\n    .boxs {\n      font-size: 12px;\n      margin-right: 30px;\n      span {\n        color: #666;\n      }\n    }\n  }\n}\n.app-wrapper {\n  @include clearfix;\n  position: relative;\n  height: 100%;\n  width: 100%;\n\n  &.mobile.openSidebar {\n    position: fixed;\n    top: 0;\n  }\n}\n\n.drawer-bg {\n  background: #000;\n  opacity: 0.3;\n  width: 100%;\n  top: 0;\n  height: 100%;\n  position: absolute;\n  z-index: 999;\n}\n\n.fixed-header {\n  position: fixed;\n  top: 0;\n  right: 0;\n  z-index: 9;\n  width: calc(100% - #{$sideBarWidth});\n  transition: width 0.28s;\n}\n\n.hideSidebar .fixed-header {\n  width: calc(100% - 54px);\n}\n\n.mobile .fixed-header {\n  width: 100%;\n}\n</style>\n"]}]}
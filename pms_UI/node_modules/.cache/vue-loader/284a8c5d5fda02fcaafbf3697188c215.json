{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\components\\Dept\\dept_tree.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\components\\Dept\\dept_tree.vue","mtime":1682043102694},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCBUcmVlc2VsZWN0IGZyb20gJ0ByaW9waGFlL3Z1ZS10cmVlc2VsZWN0JwppbXBvcnQgJ0ByaW9waGFlL3Z1ZS10cmVlc2VsZWN0L2Rpc3QvdnVlLXRyZWVzZWxlY3QuY3NzJwppbXBvcnQgeyB0cmVlc2VsZWN0IH0gZnJvbSAnQC9hcGkvc3lzdGVtL2RlcHQnCgpleHBvcnQgZGVmYXVsdCB7CiAgbmFtZTogJ2RlcHRUcmVlJywKICBjb21wb25lbnRzOiB7IFRyZWVzZWxlY3QgfSwKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgZGVwdE9wdGlvbnM6IHVuZGVmaW5lZCwKICAgICAgZGVmYXVsdFByb3BzOiB7CiAgICAgICAgY2hpbGRyZW46ICdjaGlsZHJlbicsCiAgICAgICAgbGFiZWw6ICdsYWJlbCcKICAgICAgfSwKICAgIH0KICB9LAogIG1ldGhvZHM6IHsKICAgIGdldERlcHREYXRhcyhub2RlLCByZXNvbHZlKSB7CiAgICAgIHZhciBwSWQgPSAnJwogICAgICBpZiAobm9kZS5sZXZlbCA9PT0gMCkgewogICAgICAgIHBJZCA9ICcwJwogICAgICB9IGVsc2UgewogICAgICAgIHBJZCA9IG5vZGUuZGF0YS5pZAogICAgICB9CiAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgIHRyZWVzZWxlY3QoeyBwYXJlbnRJZDogcElkIH0pLnRoZW4ocmVzID0+IHsKICAgICAgICAgIGlmIChyZXNvbHZlKSB7CiAgICAgICAgICAgIHJlc29sdmUocmVzLmRhdGEpCiAgICAgICAgICB9IGVsc2UgewogICAgICAgICAgICB0aGlzLmRlcHRPcHRpb25zID0gcmVzLmRhdGEKICAgICAgICAgIH0KICAgICAgICB9KQogICAgICB9LCAxMDApCiAgICB9LAogICAgaGFuZGxlTm9kZUNsaWNrKGRhdGEpewogICAgICB0aGlzLiRlbWl0KCdoYW5kbGVDbG9zZScsZGF0YSk7CiAgICB9CiAgfQp9Cg=="},{"version":3,"sources":["dept_tree.vue"],"names":[],"mappings":";;;;;;;;;;;;;;AAcA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"dept_tree.vue","sourceRoot":"src/components/Dept","sourcesContent":["<template>\n  <el-tree\n    :data=\"deptOptions\"\n    :props=\"defaultProps\"\n    :expand-on-click-node=\"false\"\n    ref=\"tree\"\n    :load=\"getDeptDatas\"\n    lazy\n    :indent=6\n    @node-click=\"handleNodeClick\"\n  />\n</template>\n\n<script>\n  import Treeselect from '@riophae/vue-treeselect'\n  import '@riophae/vue-treeselect/dist/vue-treeselect.css'\n  import { treeselect } from '@/api/system/dept'\n\n  export default {\n    name: 'deptTree',\n    components: { Treeselect },\n    data() {\n      return {\n        deptOptions: undefined,\n        defaultProps: {\n          children: 'children',\n          label: 'label'\n        },\n      }\n    },\n    methods: {\n      getDeptDatas(node, resolve) {\n        var pId = ''\n        if (node.level === 0) {\n          pId = '0'\n        } else {\n          pId = node.data.id\n        }\n        setTimeout(() => {\n          treeselect({ parentId: pId }).then(res => {\n            if (resolve) {\n              resolve(res.data)\n            } else {\n              this.deptOptions = res.data\n            }\n          })\n        }, 100)\n      },\n      handleNodeClick(data){\n        this.$emit('handleClose',data);\n      }\n    }\n  }\n</script>\n\n<style scoped>\n\n</style>\n"]}]}
{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\views\\skill\\achieve\\addEdit.vue?vue&type=style&index=0&id=ff0090b6&lang=scss&scoped=true&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\skill\\achieve\\addEdit.vue","mtime":1682043108572},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\css-loader\\dist\\cjs.js","mtime":1682058377861},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\loaders\\stylePostLoader.js","mtime":1682058382042},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\postcss-loader\\src\\index.js","mtime":1682058378631},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\sass-loader\\dist\\cjs.js","mtime":1682058378517},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCgoKCjo6di1kZWVwIC5lbC1kaWFsb2cgewogIGhlaWdodDogNzAlOwogIG92ZXJmbG93OiBoaWRkZW47CgogIC5lbC1kaWFsb2dfX2JvZHkgewogICAgaGVpZ2h0OiBjYWxjKDEwMCUgLSAxMDBweCk7CiAgICBvdmVyZmxvdzogYXV0bzsKCiAgICAuZWwtZm9ybS1pdGVtX19sYWJlbCB7CiAgICAgIHdpZHRoOiAxMjBweCAhaW1wb3J0YW50OwogICAgfQoKICAgIC5lbC1mb3JtLWl0ZW1fX2NvbnRlbnQgewogICAgICBtYXJnaW4tbGVmdDogMTIwcHggIWltcG9ydGFudDsKICAgIH0KICB9Cn0K"},{"version":3,"sources":["addEdit.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAokBA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA","file":"addEdit.vue","sourceRoot":"src/views/skill/achieve","sourcesContent":["<template>\n  <el-dialog :title=\"title\" :visible.sync=\"openDialog\" width=\"50%\" custom-class=\"el-button--primary\" append-to-body\n             :close-on-click-modal=\"false\" @close=\"handleDialogClose\"\n  >\n    <el-form ref=\"form\" :model=\"form\" :rules=\"rules\" label-width=\"120px\">\n      <el-row>\n        <el-col :span=\"12\">\n          <el-form-item label=\"成果编码\" prop=\"achieveCode\">\n            <el-input v-model=\"form.achieveCode\" placeholder=\"请输入成果编码\" maxlength=\"20\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"成果名称\" prop=\"achieveName\">\n            <el-input v-model=\"form.achieveName\" placeholder=\"请输入成果名称\" maxlength=\"100\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"科室\" prop=\"deptCode\">\n            <el-select v-model=\"form.deptCode\" clearable placeholder=\"请选择科室\" class=\"w100\" filterable clearable>\n              <el-option\n                v-for=\"item in deptList\"\n                :key=\"item.deptRoomId\"\n                :label=\"item.deptRoomName\"\n                :value=\"item.deptRoomId\"\n              >\n              </el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"主要完成单位\" prop=\"completeUnit\">\n            <el-input v-model=\"form.completeUnit\" placeholder=\"请输入主要完成单位\" maxlength=\"100\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"主要完成人\" prop=\"personCode\">\n            <el-input v-model=\"form.personCode\" placeholder=\"请输入完成人\" maxlength=\"20\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"完成人学历\" prop=\"education\">\n            <el-select v-model=\"form.education\" placeholder=\"请选择完成人学历\" class=\"w100\" filterable clearable>\n              <el-option\n                v-for=\"dict in educationOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"完成人职称\" prop=\"titleCode\">\n            <el-select v-model=\"form.titleCode\" placeholder=\"请选择完成人职称\" class=\"w100\" filterable clearable>\n              <el-option\n                v-for=\"dict in titleCodeOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n            <el-form-item label=\"获奖类别及等级\" prop=\"awardLevel\">\n              <el-select v-model=\"form.awardLevel\" placeholder=\"请选择获奖类别及等级\" class=\"w100\">\n                <el-option\n                  v-for=\"dict in awardLevelOptions\"\n                  :key=\"dict.dictValue\"\n                  :label=\"dict.dictLabel\"\n                  :value=\"dict.dictValue\"\n                ></el-option>\n              </el-select>\n            </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"是否推广应用\" prop=\"isExtension\">\n            <el-select v-model=\"form.isExtension\" placeholder=\"请选择是否推广\" class=\"w100\">\n              <el-option\n                v-for=\"dict in isExtensionOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"获奖时间\" prop=\"awardTime\">\n            <el-date-picker clearable size=\"small\" class=\"w100\"\n                            v-model=\"form.awardTime\"\n                            type=\"date\"\n                            value-format=\"yyyy-MM-dd\"\n                            placeholder=\"选择获奖时间\"\n            >\n            </el-date-picker>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"推广收益\" prop=\"extensionIncome\">\n            <el-input-number v-model=\"form.extensionIncome\" max=\"99999999999999999\" :precision=\"2\" controls-position=\"right\" :min=\"0\" :step=\"1\" @click.native.stop class=\"w100\"/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"批准单位\" prop=\"approve\">\n            <el-select v-model=\"form.approve\" placeholder=\"请选择批准单位\" class=\"w100\">\n              <el-option\n                v-for=\"dict in approveOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"任务来源\" prop=\"taskSource\">\n            <el-select v-model=\"form.taskSource\" placeholder=\"请选择任务来源\" class=\"w100\">\n              <el-option\n                v-for=\"dict in taskSourceOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"推广范围\" prop=\"extensionScope\">\n            <el-select v-model=\"form.extensionScope\" placeholder=\"请选择推广范围\" class=\"w100\">\n              <el-option\n                v-for=\"dict in extensionScopeOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"成果性质\" prop=\"achieveNature\">\n            <el-select v-model=\"form.achieveNature\" placeholder=\"请选择成果性质\" class=\"w100\">\n              <el-option\n                v-for=\"dict in achieveNatureOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"新药批文号\" prop=\"drugApproval\">\n            <el-input v-model=\"form.drugApproval\" placeholder=\"请输入新药批文号\" maxlength=\"50\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"专利收益\" prop=\"patentIncome\">\n            <el-input-number v-model=\"form.patentIncome\" max=\"99999999999999999\" :precision=\"2\" controls-position=\"right\" :min=\"0\" :step=\"1\" @click.native.stop class=\"w100\"/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"专利号\" prop=\"patentNo\">\n            <el-input v-model=\"form.patentNo\" placeholder=\"请输入专利号\" maxlength=\"50\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"专利类别\" prop=\"patentType\">\n            <el-select v-model=\"form.patentType\" placeholder=\"请选择专利类别\" class=\"w100\">\n              <el-option\n                v-for=\"dict in patentTypeOptions\"\n                :key=\"dict.dictValue\"\n                :label=\"dict.dictLabel\"\n                :value=\"dict.dictValue\"\n              ></el-option>\n            </el-select>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"主题词\" prop=\"subjectWords\">\n            <el-input v-model=\"form.subjectWords\" placeholder=\"请输入主题词\" maxlength=\"100\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n        <el-col :span=\"12\">\n          <el-form-item label=\"成果摘要\" prop=\"achieveAbstract\">\n            <el-input v-model=\"form.achieveAbstract\" placeholder=\"请输入成果摘要\" maxlength=\"200\" show-word-limit/>\n          </el-form-item>\n        </el-col>\n      </el-row>\n      <formItem :showDialog.sync=\"showDialog\" :showBaseInfo=\"btn3\" :open=\"btn4\" :open2=\"btn5\" :comment=\"form\"\n                :userOptions=\"userOptions\" @success=\"formItemSuccess\"\n      ></formItem>\n    </el-form>\n    <div slot=\"footer\" class=\"dialog-footer\">\n      <btns v-if=\"btn3\" @success=\"successSubmit\" :open=\"btn3\" :id=\"id\" :proclnsIds=\"proclnsIds\" :comment=\"form.comment\"\n            :assignee=\"form.assignee\"\n      ></btns>\n      <el-button v-if=\"btn2\" type=\"primary\" @click=\"submitFormContinue\">保存并提交</el-button>\n      <el-button v-if=\"btn1\" type=\"primary\" @click=\"submitForm\">保 存</el-button>\n      <el-button @click=\"cancel\">取 消</el-button>\n    </div>\n  </el-dialog>\n</template>\n\n<script>\nimport { addAchieve, getAchieve, listAchieve, updateAchieve, updateAchieve1 } from '@/api/skill/achieve'\nimport { getEmpList, treeRoom } from '@/api/until'\nimport btns from '@/views/skill/achieve/btns'\nimport formItem from '@/views/components/formItemNew'\n\nexport default {\n  name: 'addEdit',\n  props: {\n    open: {\n      type: Boolean,\n      default: false\n    },\n    id: {\n      type: [String, Number],\n      default: ''\n    },\n    proclnsIds: {\n      type: [String, Number],\n      default: ''\n    }\n  },\n  watch: {\n    'form.compCode': {\n      handler(val) {\n        this.getTreeDept(val)\n      },\n      deep: true,\n      immediate: true\n    },\n    id: {\n      handler(val) {\n        this.reset()\n        if (val) {\n          this.id = val\n          if (val != 0) {\n            this.title = '成果管理 / 修改'\n          } else {\n            this.title = '成果管理 / 新增'\n          }\n          this.getDetailInfo()\n        } else {\n          this.id = ''\n          this.title = '成果管理-新增'\n        }\n      },\n      deep: true,\n      immediate: true\n    },\n    open: {\n      handler(val) {\n        this.openDialog = val\n      },\n      deep: true\n    }\n  },\n  components: {\n    btns, formItem\n  },\n  data() {\n    return {\n      showDialog: false,\n      title: '成果管理-新增',\n      openDialog: this.open,\n      // 表单参数\n      form: {},\n      isExtensionOptions: [],\n      approveOptions: [],\n      taskSourceOptions: [],\n      awardLevelOptions: [],\n      extensionScopeOptions: [],\n      achieveNatureOptions: [],\n      patentTypeOptions: [],\n      deptList: [],\n      //用户列表\n      userOptions: [],\n      //学历\n      educationOptions: [],\n      specialOptions: [],\n      titleCodeOptions: [],\n      // 表单校验\n      rules: {\n        achieveCode: [\n          { required: true, message: '成果编号不能为空', trigger: 'blur' }\n        ],\n        achieveName: [\n          { required: true, message: '成果名称不能为空', trigger: 'blur' }\n        ],\n        deptCode: [\n          { required: true, message: '科室编码不能为空', trigger: 'blur' }\n        ],\n        completeUnit: [\n          { required: true, message: '主要完成单位不能为空', trigger: 'blur' }\n        ],\n        personCode: [\n          { required: true, message: '完成人不能为空', trigger: 'blur' }\n        ],\n        education: [\n          { required: true, message: '完成人学历不能为空', trigger: 'blur' }\n        ],\n        special: [\n          { required: true, message: '完成人专业不能为空', trigger: 'blur' }\n        ],\n        titleCode: [\n          { required: true, message: '职称不能为空', trigger: 'blur' }\n        ],\n        awardCategory: [\n          { required: true, message: '获奖类别不能为空', trigger: 'blur' }\n        ],\n        awardLevel: [\n          { required: true, message: '获奖级别不能为空', trigger: 'blur' }\n        ],\n        isExtension: [\n          { required: true, message: '是否推广不能为空', trigger: 'change' }\n        ],\n        awardTime: [\n          { required: true, message: '获奖时间不能为空', trigger: 'blur' }\n        ],\n        extensionIncome: [\n          { required: true, message: '获奖收益不能为空', trigger: 'blur' }\n        ],\n        approve: [\n          { required: true, message: '批准单位不能为空', trigger: 'change' }\n        ],\n        taskSource: [\n          { required: true, message: '任务来源不能为空', trigger: 'change' }\n        ],\n        extensionScope: [\n          { required: true, message: '推广范围不能为空', trigger: 'change' }\n        ],\n        achieveNature: [\n          { required: true, message: '成果性质不能为空', trigger: 'change' }\n        ],\n        drugApproval: [\n          { required: true, message: '药批号不能为空', trigger: 'blur' }\n        ],\n        patentIncome: [\n          { required: true, message: '专利收益不能为空', trigger: 'blur' }\n        ],\n        patentNo: [\n          { required: true, message: '专利号不能为空', trigger: 'blur' }\n        ],\n        patentType: [\n          { required: true, message: '专利类别不能为空', trigger: 'change' }\n        ],\n        subjectWords: [\n          { required: true, message: '主题词不能为空', trigger: 'blur' }\n        ],\n        achieveAbstract: [\n          { required: true, message: '成果摘要不能为空', trigger: 'blur' }\n        ],\n        assignee: [\n          {\n            required: true,\n            message: '下一节点审核人不能为空',\n            trigger: 'change'\n          }\n        ]\n      },\n      // 下级节点办理人\n      nextAssignee: [],\n      // 按钮编码\n      btn1: false,\n      btn2: false,\n      btn3: false,\n      btn4: false,\n      btn5: false,\n      datas: {}\n    }\n  },\n  created() {\n    this.getList()\n    this.getDicts('hr_is_change').then(response => {\n      this.isExtensionOptions = response.data\n    })\n    this.getDicts('SKILL_APPROVE').then(response => {\n      this.approveOptions = response.data\n    })\n    this.getDicts('SKILL_TASK_SOURCE').then(response => {\n      this.taskSourceOptions = response.data\n    })\n    this.getDicts('skill_kwdj').then(response => {\n      this.awardLevelOptions = response.data\n    })\n    this.getDicts('EXTENSION_SCOPE').then(response => {\n      this.extensionScopeOptions = response.data\n    })\n    this.getDicts('ACHIEVE_NATURE').then(response => {\n      this.achieveNatureOptions = response.data\n    })\n    this.getDicts('SKILL_PATENT_TYPE').then(response => {\n      this.patentTypeOptions = response.data\n    })\n    this.getDicts('GBT4658.2006').then(response => {\n      this.educationOptions = response.data\n    })\n    this.getDicts('DE02.01.037.00').then(response => {\n      this.specialOptions = response.data\n    })\n    this.getDicts('DE02.01.050.00').then(response => {\n      this.titleCodeOptions = response.data\n    })\n  },\n  methods: {\n    successSubmit() {\n      this.$emit('success', false)\n    },\n    //获取科室列表\n    getTreeDept(deptId) {\n      let data = {\n        deptId: this.$store.state.user.userInfo.deptId\n      }\n      this.formDeptList = []\n      treeRoom(data).then(response => {\n        if (response.code == 200) {\n          this.deptList = response.rows\n        } else {\n          this.msgError(response.msg)\n        }\n      })\n    },\n    getDetailInfo() {\n      getAchieve(this.id).then(response => {\n        console.log(response)\n        this.form = response.data\n        let that = this\n        let proclnsIds = response.data.procedureId\n        this.datas = {}\n        getEmpList(\n          that,\n          this.$store.state.user.name,\n          proclnsIds,\n          this.userOptions,\n          this.btn1,\n          this.btn2,\n          this.btn3,\n          this.btn4,\n          this.btn5\n        )\n      })\n    },\n    /** 查询成果列表 */\n    getList() {\n      this.loading = true\n      listAchieve(this.queryParams).then(response => {\n        this.achieveList = response.rows\n        this.total = response.total\n        this.loading = false\n      })\n    },\n    // 是否推广字典翻译\n    isExtensionFormat(row, column) {\n      return this.selectDictLabel(this.isExtensionOptions, row.isExtension)\n    },\n    // 批准单位字典翻译\n    approveFormat(row, column) {\n      return this.selectDictLabel(this.approveOptions, row.approve)\n    },\n    // 任务来源字典翻译\n    taskSourceFormat(row, column) {\n      return this.selectDictLabel(this.taskSourceOptions, row.taskSource)\n    },\n    // 获奖类别及等级字典翻译\n    awardLevelFormat(row, column) {\n      return this.selectDictLabel(this.awardLevelOptions, row.awardLevel)\n    },\n    // 推广范围字典翻译\n    extensionScopeFormat(row, column) {\n      return this.selectDictLabel(this.extensionScopeOptions, row.extensionScope)\n    },\n    // 成果性质字典翻译\n    achieveNatureFormat(row, column) {\n      return this.selectDictLabel(this.achieveNatureOptions, row.achieveNature)\n    },\n    // 专利类别字典翻译\n    patentTypeFormat(row, column) {\n      return this.selectDictLabel(this.patentTypeOptions, row.patentType)\n    },\n    // 弹框关闭\n    handleDialogClose() {\n      this.$emit('cancel', false)\n    },\n    // 取消\n    cancel() {\n      this.$emit('cancel', false)\n    },\n    // 表单重置\n    reset() {\n      this.form = {\n        id: null,\n        compCode: this.$store.state.user.userInfo.deptId,\n        accountCode: null,\n        achieveCode: null,\n        achieveName: null,\n        deptCode: null,\n        completeUnit: null,\n        personCode: null,\n        education: null,\n        special: null,\n        titleCode: null,\n        awardCategory: null,\n        awardLevel: null,\n        isExtension: null,\n        awardTime: null,\n        extensionIncome: null,\n        approve: null,\n        taskSource: null,\n        extensionScope: null,\n        achieveNature: null,\n        drugApproval: null,\n        patentIncome: null,\n        patentNo: null,\n        patentType: null,\n        subjectWords: null,\n        achieveAbstract: null,\n        annex: null,\n        auditState: null,\n        procedureId: null,\n        delFlag: null,\n        createBy: null,\n        createTime: null,\n        updateBy: null,\n        updateTime: null,\n        remark: null\n      }\n      this.resetForm('form')\n    },\n    /** 提交按钮 */\n    submitForm() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          let saveLoading = this.saveLoading()\n          this.form.compCode = this.$store.state.user.userInfo.deptId\n          if (this.form.id != null) {\n            updateAchieve(this.form).then(response => {\n              this.msgSuccess('修改成功')\n              this.$emit('success', false)\n              saveLoading.close()\n            })\n          } else {\n            addAchieve(this.form).then(response => {\n              this.msgSuccess('新增成功')\n              this.$emit('success', false)\n              saveLoading.close()\n            })\n          }\n        }\n      })\n    },\n    submitFormContinue() {\n      this.$refs['form'].validate(valid => {\n        if (valid) {\n          // 下级审核人弹框\n          this.showDialog = true\n        } else {\n          this.msgError('请输入必填项')\n        }\n      })\n    },\n    formItemSuccess(data) {\n      this.form = JSON.parse(JSON.stringify(data))\n      this.form.compCode = this.$store.state.user.userInfo.deptId\n      let saveLoading = this.saveLoading()\n      updateAchieve1(this.form).then(response => {\n        this.msgSuccess('修改成功')\n        this.$emit('success', false)\n        saveLoading.close()\n      }).catch(() => {\n        saveLoading.close()\n      })\n\n    }\n  }\n}\n</script>\n<style lang=\"scss\" scoped>\n::v-deep .el-dialog {\n  height: 70%;\n  overflow: hidden;\n\n  .el-dialog__body {\n    height: calc(100% - 100px);\n    overflow: auto;\n\n    .el-form-item__label {\n      width: 120px !important;\n    }\n\n    .el-form-item__content {\n      margin-left: 120px !important;\n    }\n  }\n}\n</style>\n"]}]}
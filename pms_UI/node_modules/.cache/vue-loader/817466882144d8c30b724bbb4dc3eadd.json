{"remainingRequest":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\components\\bscList\\setTypeIndex.vue?vue&type=script&lang=js&","dependencies":[{"path":"E:\\HRP_JAVA_pms\\pms_UI\\src\\views\\components\\bscList\\setTypeIndex.vue","mtime":1693362205010},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\babel-loader\\lib\\index.js","mtime":1693361909992},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1693361924439},{"path":"E:\\HRP_JAVA_pms\\pms_UI\\node_modules\\vue-loader\\lib\\index.js","mtime":1693362179279}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KCmltcG9ydCB7IHNwZE1jbGlzdCB9IGZyb20gIkAvYXBpL3NldHR5cGUvc2V0dHlwZSI7CmltcG9ydCBUcmVlc2VsZWN0IGZyb20gIkByaW9waGFlL3Z1ZS10cmVlc2VsZWN0IjsKaW1wb3J0ICJAcmlvcGhhZS92dWUtdHJlZXNlbGVjdC9kaXN0L3Z1ZS10cmVlc2VsZWN0LmNzcyI7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAiaW5kZXgiLAogIGNvbXBvbmVudHM6IHsgVHJlZXNlbGVjdCB9LAogIHByb3BzOiB7CiAgICBsYWJlbDogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6ICLmjIfmoIfpm4bliIbnsbsiCiAgICB9LAogICAgZm9ySXRlbVByb3A6IHsKICAgICAgdHlwZTogU3RyaW5nLAogICAgICBkZWZhdWx0OiAiYnNjQ29kZSIKICAgIH0sCiAgICBwbGFjZWhvbGRlcjogewogICAgICB0eXBlOiBTdHJpbmcsCiAgICAgIGRlZmF1bHQ6Iuivt+mAieaLqeaMh+agh+mbhuWIhuexuyIKICAgIH0sCiAgICBmb3JtOiB7CiAgICAgIHR5cGU6IFtPYmplY3QsIEFycmF5XQogICAgfSwKICAgIGRpc2FibGVkOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgbXVsdGlwbGU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICBzaXplOiB7CiAgICAgIHR5cGU6IFN0cmluZywKICAgICAgZGVmYXVsdDogIm1pbmkiCiAgICB9LAogICAgLy8g5Yik5pat5piv5ZCm5piv55So5oi35YWz6IGU55qE5LuT5bqT5o6l5Y+jCiAgICB1c2VyU3RvcmU6IHsKICAgICAgdHlwZTogQm9vbGVhbiwKICAgICAgZGVmYXVsdDogZmFsc2UKICAgIH0sCiAgICByZWZyZXNoOiB7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IGZhbHNlCiAgICB9LAogICAgZGlzYWJsZUJyYW5jaDp7CiAgICAgIHR5cGU6IEJvb2xlYW4sCiAgICAgIGRlZmF1bHQ6IHRydWUKICAgIH0KICB9LAogIGRhdGEoKSB7CiAgICByZXR1cm4gewogICAgICBic2NPcHRpb25zOiBbXQogICAgfTsKICB9LAogIHdhdGNoOnsKICAgIC8v55uR5ZCs5piv5ZCm6ZyA6KaB5Yi35paw5qCR57uT5p6E5pWw5o2uCiAgICByZWZyZXNoOnsKICAgICAgaGFuZGxlcigpewogICAgICAgIHRoaXMuZ2V0RGF0YSgpCiAgICAgIH0sCiAgICAgIGltbWVkaWF0ZTp0cnVlCiAgICB9CiAgfSwKICBtb3VudGVkKCkgewogICAgdGhpcy5nZXREYXRhKCkKICB9LAoKICBtZXRob2RzOiB7CiAgICBub3JtYWxpemVyKG5vZGUpIHsKICAgICAgcmV0dXJuIHsKICAgICAgICBpZDogbm9kZS5ic2NDb2RlLAogICAgICAgIGxhYmVsOiBub2RlLmJzY05hbWUsCiAgICAgICAgY2hpbGRyZW46IG5vZGUuY2hpbGRyZW4KICAgICAgfTsKICAgIH0sCiAgICAvLyDmkJzntKLmlbDmja4KICAgIGdldERhdGEoKSB7CiAgICAgIC8vIGxldCBkYXRhID0gT2JqZWN0LmFzc2lnbigKICAgICAgLy8gICAvLyB7CiAgICAgIC8vICAgLy8gICBxdWVyeVBhcmFtOnRoaXMucXVlcnlQYXJhbXNbdGhpcy5zZXRQcm9wXQogICAgICAvLyAgIC8vIH0KICAgICAgLy8gKTsKICAgICAgc3BkTWNsaXN0KCkudGhlbihyZXNwb25zZSA9PiB7CiAgICAgICAgdGhpcy5ic2NPcHRpb25zID0gdGhpcy5oYW5kbGVUcmVlKAogICAgICAgICAgcmVzcG9uc2UuZGF0YSwKICAgICAgICAgICJic2NDb2RlIiwKICAgICAgICAgICJwYXJlbnRDb2RlIgogICAgICAgICk7CiAgICAgIH0pOwogICAgfSwKICAgIGhhbmRsZVRyZWVTZWxlY3QodmFsKSB7CiAgICAgIHRoaXMuJGVtaXQoInNlbGVjdFRyZWUiLCB2YWwpOwogICAgfQogIH0KfTsK"},{"version":3,"sources":["setTypeIndex.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;AAkBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"setTypeIndex.vue","sourceRoot":"src/views/components/bscList","sourcesContent":["<template>\n  <!-- 物资分类 -->\n  <el-form-item :label=\"label\" :prop=\"forItemProp\">\n    <treeselect\n      :placeholder=\"placeholder\"\n      no-options-text=\"暂无数据\"\n      v-model=\"form[forItemProp]\"\n      :normalizer=\"normalizer\"\n      :show-count=\"true\"\n      :options=\"bscOptions\"\n      @select=\"handleTreeSelect\"\n      :disable-branch-nodes=\"disableBranch\"\n      :disabled = \"disabled\"\n    />\n  </el-form-item>\n</template>\n\n<script>\n  import { spdMclist } from \"@/api/settype/settype\";\n  import Treeselect from \"@riophae/vue-treeselect\";\n  import \"@riophae/vue-treeselect/dist/vue-treeselect.css\";\n  export default {\n    name: \"index\",\n    components: { Treeselect },\n    props: {\n      label: {\n        type: String,\n        default: \"指标集分类\"\n      },\n      forItemProp: {\n        type: String,\n        default: \"bscCode\"\n      },\n      placeholder: {\n        type: String,\n        default:\"请选择指标集分类\"\n      },\n      form: {\n        type: [Object, Array]\n      },\n      disabled: {\n        type: Boolean,\n        default: false\n      },\n      multiple: {\n        type: Boolean,\n        default: false\n      },\n      size: {\n        type: String,\n        default: \"mini\"\n      },\n      // 判断是否是用户关联的仓库接口\n      userStore: {\n        type: Boolean,\n        default: false\n      },\n      refresh: {\n        type: Boolean,\n        default: false\n      },\n      disableBranch:{\n        type: Boolean,\n        default: true\n      }\n    },\n    data() {\n      return {\n        bscOptions: []\n      };\n    },\n    watch:{\n      //监听是否需要刷新树结构数据\n      refresh:{\n        handler(){\n          this.getData()\n        },\n        immediate:true\n      }\n    },\n    mounted() {\n      this.getData()\n    },\n\n    methods: {\n      normalizer(node) {\n        return {\n          id: node.bscCode,\n          label: node.bscName,\n          children: node.children\n        };\n      },\n      // 搜索数据\n      getData() {\n        // let data = Object.assign(\n        //   // {\n        //   //   queryParam:this.queryParams[this.setProp]\n        //   // }\n        // );\n        spdMclist().then(response => {\n          this.bscOptions = this.handleTree(\n            response.data,\n            \"bscCode\",\n            \"parentCode\"\n          );\n        });\n      },\n      handleTreeSelect(val) {\n        this.$emit(\"selectTree\", val);\n      }\n    }\n  };\n</script>\n\n<style scoped>\n  ::v-deep .vue-treeselect__value-container,\n  ::v-deep .vue-treeselect__control {\n    height: 27px;\n    line-height: 26px;\n  }\n  ::v-deep .vue-treeselect__placeholder,\n  ::v-deep .vue-treeselect__single-value {\n    line-height: 26px;\n  }\n  ::v-deep .vue-treeselect__input-container {\n    font-size: 13px;\n  }\n</style>\n"]}]}
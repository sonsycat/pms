{"remainingRequest":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\hrp\\zjry-pms-ui\\src\\views\\revenue\\revenue\\revenueDept.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\hrp\\zjry-pms-ui\\src\\views\\revenue\\revenue\\revenueDept.vue","mtime":1682043106419},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\babel-loader\\lib\\index.js","mtime":1682058380827},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1682058377348},{"path":"D:\\hrp\\zjry-pms-ui\\node_modules\\vue-loader\\lib\\index.js","mtime":1682058381348}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQoNCmltcG9ydCB7IGdldFJldmVudWVEZXB0LGdldERlcHRMaXN0LGFkZERlcHRMaXN0IH0gZnJvbSAiQC9hcGkvcmV2ZW51ZS9yZXZlbnVlIjsNCg0KDQpleHBvcnQgZGVmYXVsdCB7DQogICAgbmFtZTogJ3JldmVudWVEZXB0JywNCiAgICBwcm9wczp7DQogICAgICAgIC8vIOS8oOWPguS4umZvcm3ooajljZUg5pa55L6/5pWw5o2u5Zue5pi+5riy5p+TDQogICAgICAgIHF1ZXJ5UGFyYW1zOiB7DQogICAgICAgICAgICB0eXBlOiBbT2JqZWN0LCBBcnJheV0NCiAgICAgICAgfSwNCiAgICAgICAgb3Blbjogew0KICAgICAgICAgICAgdHlwZTogQm9vbGVhbiwNCiAgICAgICAgICAgIGRlZmF1bHQ6IGZhbHNlDQogICAgICAgIH0sDQogICAgICAgIGlkOiB7DQogICAgICAgICAgICB0eXBlOiBbU3RyaW5nLCBOdW1iZXJdLA0KICAgICAgICAgICAgZGVmYXVsdDogIiINCiAgICAgICAgfSwNCiAgICB9LA0KICAgIHdhdGNoOnsNCiAgICAgICAgIG9wZW46IHsNCiAgICAgICAgICAgIGhhbmRsZXIodmFsKSB7DQogICAgICAgICAgICAgICAgdGhpcy5vcGVuRGlhbG9nID0gdmFsOw0KICAgICAgICAgICAgfSwNCiAgICAgICAgICAgIGRlZXA6IHRydWUNCiAgICAgICAgfQ0KICAgIH0sDQogICAgZGF0YSgpIHsNCiAgICAgICAgcmV0dXJuIHsNCiAgICAgICAgICAgIHRpdGxlOifmlLblhaXmoLjnrpfmlrnmoYgt56ys5LiJ5pa556eR5a6kJywgICAgICAgIA0KICAgICAgICAgICAgb3BlbkRpYWxvZzogdGhpcy5vcGVuLCAgDQogICAgICAgICAgICBsb2FkaW5nOmZhbHNlLA0KICAgICAgICAgICAgbG9hZGluZzE6ZmFsc2UsDQogICAgICAgICAgICBsb2FkaW5nMjpmYWxzZSwNCiAgICAgICAgICAgIGxvYWRpbmczOmZhbHNlLA0KICAgICAgICAgICAgY2xpY2tDb3VudDowLA0KICAgICAgICAgICAgYWN0aXZlTmFtZTogIm91dFBhdGllbnQiLCANCiAgICAgICAgICAgIHBhdFRvUmlnaHRCb29sOnRydWUsDQogICAgICAgICAgICBwYXRUb0xlZnRCb29sOnRydWUsDQogICAgICAgICAgICBob3NUb1JpZ2h0Qm9vbDp0cnVlLA0KICAgICAgICAgICAgaG9zVG9MZWZ0Qm9vbDp0cnVlLA0KICAgICAgICAgICAgZm9ybTp7DQogICAgICAgICAgICAgICAgb3V0cGF0aWVudFNlcnZpY2VMZWZ0OltdLC8v6Zeo6K+K5bem5L6n5pWw5o2uDQogICAgICAgICAgICAgICAgb3V0cGF0aWVudFNlcnZpY2VSaWdodDpbXSwvL+mXqOiviuWPs+S+p+aVsOaNrg0KICAgICAgICAgICAgICAgIGhvc3BpdGFsU2VydmljZUxlZnQ6W10sLy/kvY/pmaLlt6bkvqfmlbDmja4NCiAgICAgICAgICAgICAgICBob3NwaXRhbFNlcnZpY2VSaWdodDpbXSwvL+S9j+mZouWPs+S+p+aVsOaNrg0KICAgICAgICAgICAgfSwgICAgICAgIA0KICAgICAgICAgICAgcnVsZXM6e30sDQogICAgICAgICAgICBkZXB0RGF0YXM6W10sLy/pl6jor4rnp5HlrqTliJfooajmlbDmja4NCiAgICAgICAgICAgIGRlcHREYXRhc0xlbmd0aDowLC8v6Zeo6K+K56eR5a6k5YiX6KGo5pWw5o2u55So5LqO5q+U6L6D5YWo6YCJ5pWw5o2uDQogICAgICAgICAgICBjaGFuZ2VEZXB0TGlzdDE6W10sDQogICAgICAgICAgICBjaGFuZ2VEZXB0TGlzdDpbXSwNCiAgICAgICAgICAgIGRlcHREYXRhc0hvczpbXSwvL+mXqOiviuenkeWupOWIl+ihqOaVsOaNrg0KICAgICAgICAgICAgY2hhbmdlSG9zRGVwdExpc3Q6W10sDQogICAgICAgICAgICBjaGFuZ2VIb3NEZXB0TGlzdDE6W10sDQogICAgICAgICAgICBvdXRwYXRpZW50UmlnaHRMZW5ndGg6W10sDQogICAgICAgICAgICBob3NwaXRhbFJpZ2h0TGVuZ3RoOltdLA0KICAgICAgICAgICAgc2VsZWN0aW9uUm93b3V0cGF0aWVudExlZnQ6W10sLy/pl6jor4rlt6bkvqflpI3pgInmoYbmlbDmja4NCiAgICAgICAgICAgIHNlbGVjdGlvblJvd091dHBhdGllbnRSaWdodDpbXSwvL+mXqOiviuWPs+S+p+WkjemAieahhuaVsOaNrg0KICAgICAgICAgICAgc2VsZWN0aW9uUm93aG9zcGl0YWxMZWZ0OltdLC8v5L2P6Zmi5bem5L6n5aSN6YCJ5qGG5pWw5o2uDQogICAgICAgICAgICBzZWxlY3Rpb25Sb3dob3NwaXRhbFJpZ2h0OltdLC8v5L2P6Zmi5Y+z5L6n5aSN6YCJ5qGG5pWw5o2uDQogICAgICAgIH07DQogICAgfSwNCiAgICBjb21wdXRlZDp7DQogICAgICAgIG51bSgpey8v6K6h566X5bGe5oCn5Lyg6YCS5Y+C5pWw77yM5qC55o2u5Lyg5YWl55qE5pWw57uE6L+U5Zue56ym5ZCI5p2h5Lu255qE6ZW/5bqmDQoJCSAgcmV0dXJuIGRhdGEgPT4gIHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZUxlZnQmJnRoaXMuc2VsZWN0aW9uUm93b3V0cGF0aWVudExlZnQubGVuZ3RoDQogICAgICAgIH0sDQogICAgICAgIG51bTEoKXsvL+iuoeeul+WxnuaAp+S8oOmAkuWPguaVsO+8jOagueaNruS8oOWFpeeahOaVsOe7hOi/lOWbnuespuWQiOadoeS7tueahOmVv+W6pg0KICAgICAgICAgICAgcmV0dXJuIGRhdGEgPT4gIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VMZWZ0JiZ0aGlzLnNlbGVjdGlvblJvd091dHBhdGllbnRSaWdodC5sZW5ndGgNCiAgICAgICAgfSwNCiAgICAgICAgbnVtMigpey8v6K6h566X5bGe5oCn5Lyg6YCS5Y+C5pWw77yM5qC55o2u5Lyg5YWl55qE5pWw57uE6L+U5Zue56ym5ZCI5p2h5Lu255qE6ZW/5bqmDQogICAgICAgICAgICByZXR1cm4gZGF0YSA9PiAgdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQmJnRoaXMuc2VsZWN0aW9uUm93aG9zcGl0YWxMZWZ0Lmxlbmd0aA0KICAgICAgICB9LA0KICAgICAgICBudW0zKCl7Ly/orqHnrpflsZ7mgKfkvKDpgJLlj4LmlbDvvIzmoLnmja7kvKDlhaXnmoTmlbDnu4Tov5Tlm57nrKblkIjmnaHku7bnmoTplb/luqYNCiAgICAgICAgICAgIHJldHVybiBkYXRhID0+ICB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlTGVmdCYmdGhpcy5zZWxlY3Rpb25Sb3dob3NwaXRhbFJpZ2h0Lmxlbmd0aA0KICAgICAgICB9DQogICAgfSwNCiAgICBjcmVhdGVkKCl7DQogICAgICAgICB0aGlzLmdldERldGFpbCgxKSAgICAgICAgDQogICAgICAgICB0aGlzLmdldFRyZWVEZXB0KHsgY29tcENvZGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudEluZm8uZGVwdElkICxjbGluaWNUeXBlOjF9KQ0KICAgIH0sDQogICAgbW91bnRlZCgpIHsNCiAgICB9LA0KICAgIG1ldGhvZHM6IHsNCiAgICAgICAgLy/np5HlrqTmn6Xor6LkuIvmi4nmoYbkuovku7YNCiAgICAgICAgY2hhbmdlRGVwdChlKXsNCiAgICAgICAgICAgIGlmKHRoaXMuYWN0aXZlTmFtZT09J291dFBhdGllbnQnKXsNCiAgICAgICAgICAgICAgICBsZXQgZGF0YQ0KICAgICAgICAgICAgICAgIGlmKGUpew0KICAgICAgICAgICAgICAgICAgICBkYXRhID0geyBjb21wQ29kZTogdGhpcy4kc3RvcmUuc3RhdGUudXNlci5hY2NvdW50SW5mby5kZXB0SWQgLGNsaW5pY1R5cGU6MSxkZXB0TmFtZTplfTsNCiAgICAgICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsgY29tcENvZGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudEluZm8uZGVwdElkICxjbGluaWNUeXBlOjF9OyAgICAgIA0KICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICB0aGlzLmdldFRyZWVEZXB0KGRhdGEpDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZih0aGlzLmFjdGl2ZU5hbWU9PSdob3NwaXRhbCcpew0KICAgICAgICAgICAgICAgbGV0IGRhdGENCiAgICAgICAgICAgICAgICBpZihlKXsNCiAgICAgICAgICAgICAgICAgICAgZGF0YSA9IHsgY29tcENvZGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudEluZm8uZGVwdElkICxjbGluaWNUeXBlOjIsZGVwdE5hbWU6ZX07DQogICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgIGRhdGEgPSB7IGNvbXBDb2RlOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmFjY291bnRJbmZvLmRlcHRJZCAsY2xpbmljVHlwZToyfTsgICAgICANCiAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgIHRoaXMuZ2V0VHJlZURlcHQoZGF0YSkgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL3RhYuWIh+aNouS6i+S7tg0KICAgICAgIGFzeW5jIGhhbmRsZUNsaWNrKHRhYil7DQogICAgICAgICAgICBpZih0YWIubGFiZWw9PSLkvY/pmaIiKXsNCiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUhvc0RlcHRMaXN0PVtdDQogICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VIb3NEZXB0TGlzdDE9W10NCiAgICAgICAgICAgICAgICAvLyB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlTGVmdD1bXSAgICAgICAgICAgICAgICANCiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZU5hbWU9J2hvc3BpdGFsJw0KICAgICAgICAgICAgICAgIGlmKHRoaXMuY2xpY2tDb3VudD09MCl7DQogICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0RGV0YWlsKDIpICANCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgdGhpcy5jbGlja0NvdW50Kz0xDQogICAgICAgICAgICAgICAgYXdhaXQgdGhpcy5nZXRUcmVlRGVwdCh7IGNvbXBDb2RlOiB0aGlzLiRzdG9yZS5zdGF0ZS51c2VyLmFjY291bnRJbmZvLmRlcHRJZCAsY2xpbmljVHlwZToyfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKHRhYi5sYWJlbD09J+mXqOiviicpew0KICAgICAgICAgICAgICAgIC8vIHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZUxlZnQ9W10NCiAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZURlcHRMaXN0MT1bXQ0KICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRGVwdExpc3Q9W10NCiAgICAgICAgICAgICAgICB0aGlzLmFjdGl2ZU5hbWU9J291dFBhdGllbnQnICAgDQogICAgICAgICAgICAgICBhd2FpdCB0aGlzLmdldFRyZWVEZXB0KHsgY29tcENvZGU6IHRoaXMuJHN0b3JlLnN0YXRlLnVzZXIuYWNjb3VudEluZm8uZGVwdElkICxjbGluaWNUeXBlOjF9KSANCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy/ojrflj5bpl6jor4rlj4rkvY/pmaLlj7PkvqfliJfooajmlbDmja4NCiAgICAgICAgYXN5bmMgZ2V0RGV0YWlsKHR5cGUpew0KICAgICAgICAgICAgbGV0IHBhcmFtcz17DQogICAgICAgICAgICAgICAgY29tcENvZGU6dGhpcy5xdWVyeVBhcmFtcy5jb21wQ29kZSwNCiAgICAgICAgICAgICAgICByZXZlbnVlQ29kZTp0aGlzLnF1ZXJ5UGFyYW1zLnJldmVudWVDb2RlLA0KICAgICAgICAgICAgICAgIGRlcHRUeXBlOnR5cGUNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIGlmKHR5cGU9PTEpew0KICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZzE9dHJ1ZQ0KICAgICAgICAgICAgICAgIGxldCBhcnI9W10NCiAgICAgICAgICAgICAgICBhd2FpdCBnZXRSZXZlbnVlRGVwdChwYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4geyAgICAgICANCiAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpPTA7aTxyZXNwb25zZS50b3RhbDtpKyspew0KICAgICAgICAgICAgICAgICAgICAgICAgYXJyLmluZGV4T2YocmVzcG9uc2Uucm93c1tpXSk9PT0tMT9hcnIucHVzaCh7cmF0aW86cmVzcG9uc2Uucm93c1tpXS5yYXRpbyxkaWN0VmFsdWU6cmVzcG9uc2Uucm93c1tpXS5kZXB0Q29kZSxkaWN0TGFiZWw6cmVzcG9uc2Uucm93c1tpXS5kZXB0TmFtZX0pOmFycg0KICAgICAgICAgICAgICAgICAgICB9IA0KICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodCA9IEpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkoYXJyKSk7DQogICAgICAgICAgICAgICAgICAgIHRoaXMub3V0cGF0aWVudFJpZ2h0TGVuZ3RoPXJlc3BvbnNlLnRvdGFsDQogICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZzE9ZmFsc2UgDQogICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICB9DQogICAgICAgICAgICBpZih0eXBlPT0yKXsNCiAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmczPXRydWUNCiAgICAgICAgICAgICAgICBsZXQgYXJyPVtdDQogICAgICAgICAgICAgICBhd2FpdCBnZXRSZXZlbnVlRGVwdChwYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8cmVzcG9uc2UudG90YWw7aSsrKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIGFyci5pbmRleE9mKHJlc3BvbnNlLnJvd3NbaV0pPT09LTE/YXJyLnB1c2goe3JhdGlvOnJlc3BvbnNlLnJvd3NbaV0ucmF0aW8sZGljdFZhbHVlOnJlc3BvbnNlLnJvd3NbaV0uZGVwdENvZGUsZGljdExhYmVsOnJlc3BvbnNlLnJvd3NbaV0uZGVwdE5hbWV9KTphcnINCiAgICAgICAgICAgICAgICAgICAgfSANCiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0ID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShhcnIpKTsNCiAgICAgICAgICAgICAgICAgICAgdGhpcy5ob3NwaXRhbFJpZ2h0TGVuZ3RoPXJlc3BvbnNlLnRvdGFsIA0KICAgICAgICAgICAgICAgICAgICB0aGlzLmxvYWRpbmczPWZhbHNlICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgfQ0KICAgICAgICAgICAgIA0KICAgICAgICB9LA0KICAgICAgICAvL+iOt+WPluenkeWupOWIl+ihqOWPiumXqOiviuWSjOS9j+mZouW3puS+p+aVsOaNrg0KICAgICAgICBhc3luYyBnZXRUcmVlRGVwdChkYXRhKSB7DQogICAgICAgICAgICAgdGhpcy5sb2FkaW5nPXRydWUNCiAgICAgICAgICAgICB0aGlzLmxvYWRpbmcyPXRydWUNCiAgICAgICAgICAgICBpZih0aGlzLmNsaWNrQ291bnQ9PTApew0KICAgICAgICAgICAgICAgIGF3YWl0IHRoaXMuZ2V0RGV0YWlsKDIpDQogICAgICAgICAgICB9DQogICAgICAgICAgICB0aGlzLmNsaWNrQ291bnQrPTENCiAgICAgICAgICAgIGF3YWl0IGdldERlcHRMaXN0KGRhdGEpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgIGlmIChyZXNwb25zZS5jb2RlID09IDIwMCkgew0KICAgICAgICAgICAgICAgICAgICB0aGlzLmRlcHREYXRhc0xlbmd0aD1yZXNwb25zZS5kYXRhLmxlbmd0aA0KICAgICAgICAgICAgICAgICAgICBpZihkYXRhLmNsaW5pY1R5cGU9PTEpew0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlTGVmdD1bXQ0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VEZXB0TGlzdDE9W10NCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRGVwdExpc3Q9W10NCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwdERhdGFzPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5tYXAoaXRlPT57DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlLnJhdGlvPTANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlDQogICAgICAgICAgICAgICAgICAgICAgICB9KSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5vdXRwYXRpZW50UmlnaHRMZW5ndGghPT0wIHx8IHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0Lmxlbmd0aD09MSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VEZXB0TGlzdDE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLm1hcChpdGU9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGUucmF0aW89MA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGUNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0KXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgayBpbiB0aGlzLmNoYW5nZURlcHRMaXN0MSl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodFtpXS5kaWN0VmFsdWUgPT0gdGhpcy5jaGFuZ2VEZXB0TGlzdDFba10uZGljdFZhbHVlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZURlcHRMaXN0MS5zcGxpY2UoaywxKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlTGVmdD1KU09OLnBhcnNlKEpTT04uc3RyaW5naWZ5KHRoaXMuY2hhbmdlRGVwdExpc3QxKSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZz1mYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZih0aGlzLm91dHBhdGllbnRSaWdodExlbmd0aD4xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZURlcHRMaXN0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5tYXAoaXRlPT57DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlLnJhdGlvPTANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlDQogICAgICAgICAgICAgICAgICAgICAgICB9KSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGZvcihsZXQgaSBpbiB0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGsgaW4gdGhpcy5jaGFuZ2VEZXB0TGlzdCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodFtpXS5kaWN0VmFsdWUgPT0gdGhpcy5jaGFuZ2VEZXB0TGlzdFtrXS5kaWN0VmFsdWUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlRGVwdExpc3Quc3BsaWNlKGssMSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZUxlZnQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNoYW5nZURlcHRMaXN0KSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZz1mYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuDQogICAgICAgICAgICAgICAgICAgICAgICB9ZWxzZSBpZih0aGlzLm91dHBhdGllbnRSaWdodExlbmd0aD09MCYmdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHQubGVuZ3RoPT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VMZWZ0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5kZXB0RGF0YXMpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZz1mYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKGRhdGEuY2xpbmljVHlwZT09Mil7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUhvc0RlcHRMaXN0PVtdDQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUhvc0RlcHRMaXN0MT1bXQ0KICAgICAgICAgICAgICAgICAgICAgICAgLy8gdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQ9W10NCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGVwdERhdGFzSG9zPUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkocmVzcG9uc2UuZGF0YS5tYXAoaXRlPT57DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgaXRlLnJhdGlvPTANCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gaXRlDQogICAgICAgICAgICAgICAgICAgICAgICB9KSkpOw0KICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5ob3NwaXRhbFJpZ2h0TGVuZ3RoIT09MCB8fCB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQubGVuZ3RoPT0xKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5jaGFuZ2VIb3NEZXB0TGlzdDE9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLm1hcChpdGU9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGUucmF0aW89MA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGUNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGsgaW4gdGhpcy5jaGFuZ2VIb3NEZXB0TGlzdDEpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0W2ldLmRpY3RWYWx1ZSA9PSB0aGlzLmNoYW5nZUhvc0RlcHRMaXN0MVtrXS5kaWN0VmFsdWUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlSG9zRGVwdExpc3QxLnNwbGljZShrLDEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQ9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLmNoYW5nZUhvc0RlcHRMaXN0MSkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nMj1mYWxzZSAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0Lmxlbmd0aD4xKXsgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuY2hhbmdlSG9zRGVwdExpc3Q9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShyZXNwb25zZS5kYXRhLm1hcChpdGU9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBpdGUucmF0aW89MA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybiBpdGUNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pKSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgZm9yKGxldCBpIGluIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBmb3IobGV0IGsgaW4gdGhpcy5jaGFuZ2VIb3NEZXB0TGlzdCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHRbaV0uZGljdFZhbHVlID09IHRoaXMuY2hhbmdlSG9zRGVwdExpc3Rba10uZGljdFZhbHVlKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmNoYW5nZUhvc0RlcHRMaXN0LnNwbGljZShrLDEpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5sb2FkaW5nMj1mYWxzZQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VMZWZ0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5jaGFuZ2VIb3NEZXB0TGlzdCkpDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV0dXJuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2UgaWYodGhpcy5ob3NwaXRhbFJpZ2h0TGVuZ3RoPT0wICYmIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodC5sZW5ndGg9PTApew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VMZWZ0PUpTT04ucGFyc2UoSlNPTi5zdHJpbmdpZnkodGhpcy5kZXB0RGF0YXNIb3MpKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubG9hZGluZzI9ZmFsc2UNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgIH0NCg0KICAgICAgICAgICAgICAgIH0gZWxzZSB7DQogICAgICAgICAgICAgICAgICAgIHRoaXMubXNnRXJyb3IocmVzcG9uc2UubXNnKTsNCiAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIA0KICAgICAgICAgICAgDQogICAgICAgIH0sDQogICAgICAgIGhvc3BpdGFsVG9yaWdodCgpew0KICAgICAgICAgICAgLy/lsIbov4fmu6TlkI7nmoTmlbDnu4TpnIDopoHmt7vliqDliLDlj7PovrnnmoTmlbDnu4TkuK0NCiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7aTx0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsTGVmdC5sZW5ndGg7aSsrKXsNCiAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0LmluZGV4T2YodGhpcy5zZWxlY3Rpb25Sb3dob3NwaXRhbExlZnRbaV0pID09PSAtMSA/ICB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQucHVzaCh0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsTGVmdFtpXSkgOiAgdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0DQogICAgICAgICAgICB9OyAgICAgICAgDQogICAgICAgICAgICAvL+WJqeS9meW3pui+ueaVsOaNrg0KICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlTGVmdC5sZW5ndGg7aSsrKXsNCiAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0LmZvckVhY2goaXRlPT57DQogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VMZWZ0W2ldJiZ0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlTGVmdFtpXS5kaWN0VmFsdWU9PWl0ZS5kaWN0VmFsdWUpeyAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VMZWZ0LnNwbGljZShpLDEpDQogICAgICAgICAgICAgICAgICAgICAgICAgIGktPTENCiAgICAgICAgICAgICAgICAgICAgICAgICAgaTwwPzA6aQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgaG9zcGl0YWxUb0xlZnQoKXsNCiAgICAgICAgICAgIGZvcihsZXQgaSA9IDA7aTx0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsUmlnaHQubGVuZ3RoO2krKyl7DQogICAgICAgICAgICAgICAgdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQuaW5kZXhPZih0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsUmlnaHRbaV0pID09PSAtMSA/ICB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlTGVmdC5wdXNoKHRoaXMuc2VsZWN0aW9uUm93aG9zcGl0YWxSaWdodFtpXSkgOiAgdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZUxlZnQNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvL+WJqeS9meWPs+i+ueaVsOaNrg0KICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQubGVuZ3RoO2krKyl7DQogICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VMZWZ0LmZvckVhY2goaXRlPT57DQogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodFtpXSYmdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0W2ldLmRpY3RWYWx1ZT09aXRlLmRpY3RWYWx1ZSl7ICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0LnNwbGljZShpLDEpDQogICAgICAgICAgICAgICAgICAgICAgICAgIGktPTENCiAgICAgICAgICAgICAgICAgICAgICAgICAgaTwwPzA6aQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgb3V0cGF0aWVudFRvcmlnaHQoKXsNCiAgICAgICAgICAvL+Wwhui/h+a7pOWQjueahOaVsOe7hOmcgOimgea3u+WKoOWIsOWPs+i+ueeahOaVsOe7hOS4rQ0KICAgICAgICAgICAgZm9yKGxldCBpID0gMDtpPHRoaXMuc2VsZWN0aW9uUm93b3V0cGF0aWVudExlZnQubGVuZ3RoO2krKyl7DQogICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0LmluZGV4T2YodGhpcy5zZWxlY3Rpb25Sb3dvdXRwYXRpZW50TGVmdFtpXSkgPT09IC0xID8gIHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0LnB1c2godGhpcy5zZWxlY3Rpb25Sb3dvdXRwYXRpZW50TGVmdFtpXSkgOiAgdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHQNCiAgICAgICAgICAgIH07ICAgIA0KICAgICAgICAgICAgLy/liankvZnlt6bovrnmlbDmja4NCiAgICAgICAgICAgIGZvcihsZXQgaT0wO2k8dGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlTGVmdC5sZW5ndGg7aSsrKXsNCiAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHQuZm9yRWFjaChpdGU9PnsNCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlTGVmdFtpXSYmdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlTGVmdFtpXS5kaWN0VmFsdWU9PWl0ZS5kaWN0VmFsdWUpew0KICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VMZWZ0LnNwbGljZShpLDEpDQogICAgICAgICAgICAgICAgICAgICAgICAgIGktPTENCiAgICAgICAgICAgICAgICAgICAgICAgICAgaTwwPzA6aQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgIH0NCgkJfSwNCiAgICAgICAgLy/lsIblj7PovrnmlbDmja7mlL7liLDlt6bovrkNCiAgICAgICAgb3V0cGF0aWVudFRvbGVmdCgpew0KICAgICAgICAgICAgZm9yKGxldCBpID0gMDtpPHRoaXMuc2VsZWN0aW9uUm93T3V0cGF0aWVudFJpZ2h0Lmxlbmd0aDtpKyspew0KICAgICAgICAgICAgICAgICB0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VMZWZ0LmluZGV4T2YodGhpcy5zZWxlY3Rpb25Sb3dPdXRwYXRpZW50UmlnaHRbaV0pID09PSAtMSA/ICB0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VMZWZ0LnB1c2godGhpcy5zZWxlY3Rpb25Sb3dPdXRwYXRpZW50UmlnaHRbaV0pIDogIHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZUxlZnQNCiAgICAgICAgICAgIH07DQogICAgICAgICAgICAvL+WJqeS9meWPs+i+ueaVsOaNrg0KICAgICAgICAgICAgZm9yKGxldCBpPTA7aTx0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodC5sZW5ndGg7aSsrKXsNCiAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlTGVmdC5mb3JFYWNoKGl0ZT0+ew0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodFtpXSYmdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHRbaV0uZGljdFZhbHVlPT1pdGUuZGljdFZhbHVlKXsgICAgICAgICANCiAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHQuc3BsaWNlKGksMSkNCiAgICAgICAgICAgICAgICAgICAgICAgICAgaS09MQ0KICAgICAgICAgICAgICAgICAgICAgICAgICBpPDA/aT0wOmkNCiAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIC8vIOmXqOiviuWkmumAieahhumAieS4reaVsOaNrg0KICAgICAgICBoYW5kbGVTZWxlY3Rpb25PdXRwYXRpZW50Q2hhbmdlKHNlbGVjdGlvbikgew0KICAgICAgICAgICAgdGhpcy5zZWxlY3Rpb25Sb3dvdXRwYXRpZW50TGVmdD1zZWxlY3Rpb24ubWFwKGl0ZT0+ew0KICAgICAgICAgICAgICAgIGl0ZS5yYXRpbz0wDQogICAgICAgICAgICAgICAgcmV0dXJuIGl0ZQ0KICAgICAgICAgICAgfSk7DQogICAgICAgICAgICBpZihzZWxlY3Rpb24ubGVuZ3RoIT09MCl7DQogICAgICAgICAgICAgICAgdGhpcy5wYXRUb1JpZ2h0Qm9vbD1mYWxzZTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgIHRoaXMucGF0VG9SaWdodEJvb2w9dHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy/pl6jor4rlj7PkvqflpJrpgInmoYbmlbDmja4NCiAgICAgICAgaGFuZGxlU2VsZWN0aW9uQ2hhbmdlUmlnaHQoc2VsZWN0aW9uKXsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uUm93T3V0cGF0aWVudFJpZ2h0PXNlbGVjdGlvbjsNCiAgICAgICAgICAgIGlmKHNlbGVjdGlvbi5sZW5ndGghPT0wKXsNCiAgICAgICAgICAgICAgICB0aGlzLnBhdFRvTGVmdEJvb2w9ZmFsc2U7DQogICAgICAgICAgICB9ZWxzZXsNCiAgICAgICAgICAgICAgICB0aGlzLnBhdFRvTGVmdEJvb2w9dHJ1ZTsNCiAgICAgICAgICAgIH0NCiAgICAgICAgfSwNCiAgICAgICAgLy/kvY/pmaLlt6bkvqflpJrpgInmoYYNCiAgICAgICAgaGFuZGxlU2VsZWN0aW9uSG9zcGl0YWxDaGFuZ2Uoc2VsZWN0aW9uKXsNCiAgICAgICAgICAgIHRoaXMuc2VsZWN0aW9uUm93aG9zcGl0YWxMZWZ0PXNlbGVjdGlvbi5tYXAoaXRlPT57DQogICAgICAgICAgICAgICAgaXRlLnJhdGlvPTANCiAgICAgICAgICAgICAgICByZXR1cm4gaXRlDQogICAgICAgICAgICB9KTsNCiAgICAgICAgICAgIGlmKHNlbGVjdGlvbi5sZW5ndGghPT0wKXsNCiAgICAgICAgICAgICAgICB0aGlzLmhvc1RvUmlnaHRCb29sPWZhbHNlOw0KICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgdGhpcy5ob3NUb1JpZ2h0Qm9vbD10cnVlOw0KICAgICAgICAgICAgfQ0KICAgICAgICB9LA0KICAgICAgICAvL+S9j+mZouWPs+S+p+WkmumAieahhg0KICAgICAgICBoYW5kbGVTZWxlY3Rpb25Ib3NwaXRhbENoYW5nZVJpZ2h0KHNlbGVjdGlvbil7DQogICAgICAgICAgICB0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsUmlnaHQ9c2VsZWN0aW9uOw0KICAgICAgICAgICAgaWYoc2VsZWN0aW9uLmxlbmd0aCE9PTApew0KICAgICAgICAgICAgICAgIHRoaXMuaG9zVG9MZWZ0Qm9vbD1mYWxzZTsNCiAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgdGhpcy5ob3NUb0xlZnRCb29sPXRydWU7DQogICAgICAgICAgICB9DQogICAgICAgIH0sDQogICAgICAgIHJvd0NsaWNrKHJvdywgY29sdW1uLCBldmVudCkgew0KICAgICAgICAgICAgbGV0IHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlOw0KICAgICAgICAgICAgbGV0IGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvd291dHBhdGllbnRMZWZ0LmZpbmQoYyA9PiBjLnJvd0luZGV4ID09IHJvdy5yb3dJbmRleCk7DQogICAgICAgICAgICBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvd291dHBhdGllbnRMZWZ0Lmxlbmd0aCA9PSAxKSB7DQogICAgICAgICAgICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdywgZmFsc2UpOw0KICAgICAgICAgICAgICAgIHJldHVybjsNCiAgICAgICAgICAgIH0NCiAgICAgICAgICAgIHJlZnNFbFRhYmxlLmNsZWFyU2VsZWN0aW9uKCk7DQogICAgICAgICAgICByZWZzRWxUYWJsZS50b2dnbGVSb3dTZWxlY3Rpb24ocm93KTsNCiAgICAgICAgfSwNCiAgICAgICAgcm93Q2xpY2tQYXRSaWdodChyb3csIGNvbHVtbiwgZXZlbnQpew0KICAgICAgICAgICAgbGV0IHJlZnNFbFRhYmxlID0gdGhpcy4kcmVmcy5tdWx0aXBsZVRhYmxlUmlnaHQ7DQogICAgICAgICAgICBsZXQgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93T3V0cGF0aWVudFJpZ2h0LmZpbmQoYyA9PiBjLnJvd0luZGV4ID09IHJvdy5yb3dJbmRleCk7DQogICAgICAgICAgICBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvd091dHBhdGllbnRSaWdodC5sZW5ndGggPT0gMSkgew0KICAgICAgICAgICAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIGZhbHNlKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZWZzRWxUYWJsZS5jbGVhclNlbGVjdGlvbigpOw0KICAgICAgICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7DQogICAgICAgIH0sDQogICAgICAgIHJvd0NsaWNrSG9zKHJvdywgY29sdW1uLCBldmVudCl7DQogICAgICAgICAgICBsZXQgcmVmc0VsVGFibGUgPSB0aGlzLiRyZWZzLm11bHRpcGxlVGFibGVIb3M7DQogICAgICAgICAgICBsZXQgZmluZFJvdyA9IHRoaXMuc2VsZWN0aW9uUm93aG9zcGl0YWxMZWZ0LmZpbmQoYyA9PiBjLnJvd0luZGV4ID09IHJvdy5yb3dJbmRleCk7DQogICAgICAgICAgICBpZiAoZmluZFJvdyAmJiB0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsTGVmdC5sZW5ndGggPT0gMSkgew0KICAgICAgICAgICAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIGZhbHNlKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZWZzRWxUYWJsZS5jbGVhclNlbGVjdGlvbigpOw0KICAgICAgICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7DQogICAgICAgIH0sDQogICAgICAgIHJvd0NsaWNrSG9zUmlnaHQocm93LCBjb2x1bW4sIGV2ZW50KXsNCiAgICAgICAgICAgIGxldCByZWZzRWxUYWJsZSA9IHRoaXMuJHJlZnMubXVsdGlwbGVUYWJsZVJpZ2h0SG9zOw0KICAgICAgICAgICAgbGV0IGZpbmRSb3cgPSB0aGlzLnNlbGVjdGlvblJvd2hvc3BpdGFsUmlnaHQuZmluZChjID0+IGMucm93SW5kZXggPT0gcm93LnJvd0luZGV4KTsNCiAgICAgICAgICAgIGlmIChmaW5kUm93ICYmIHRoaXMuc2VsZWN0aW9uUm93aG9zcGl0YWxSaWdodC5sZW5ndGggPT0gMSkgew0KICAgICAgICAgICAgICAgIHJlZnNFbFRhYmxlLnRvZ2dsZVJvd1NlbGVjdGlvbihyb3csIGZhbHNlKTsNCiAgICAgICAgICAgICAgICByZXR1cm47DQogICAgICAgICAgICB9DQogICAgICAgICAgICByZWZzRWxUYWJsZS5jbGVhclNlbGVjdGlvbigpOw0KICAgICAgICAgICAgcmVmc0VsVGFibGUudG9nZ2xlUm93U2VsZWN0aW9uKHJvdyk7DQogICAgICAgIH0sDQogICAgICAgIHJlc2V0KCl7DQogICAgICAgICAgICB0aGlzLmZvcm09ew0KICAgICAgICAgICAgICAgIG91dHBhdGllbnRTZXJ2aWNlTGVmdDpbXSwvL+mXqOiviuW3puS+p+aVsOaNrg0KICAgICAgICAgICAgICAgIG91dHBhdGllbnRTZXJ2aWNlUmlnaHQ6W10sLy/pl6jor4rlj7PkvqfmlbDmja4NCiAgICAgICAgICAgICAgICBob3NwaXRhbFNlcnZpY2VMZWZ0OltdLC8v5L2P6Zmi5bem5L6n5pWw5o2uDQogICAgICAgICAgICAgICAgaG9zcGl0YWxTZXJ2aWNlUmlnaHQ6W10sLy/kvY/pmaLlj7PkvqfmlbDmja4NCiAgICAgICAgICAgIH07DQogICAgICAgICAgICB0aGlzLmNsaWNrQ291bnQ9MA0KICAgICAgICB9LA0KICAgICAgICAvKiog56eR5a6k5o+Q5Lqk5oyJ6ZKuICovDQogICAgICAgIHN1Ym1pdEZvcm1EZXB0KCkgew0KICAgICAgICAgICAgdGhpcy4kcmVmc1sicXVlcnlGb3JtIl0udmFsaWRhdGUodmFsaWQgPT4gew0KICAgICAgICAgICAgICAgIGlmICh2YWxpZCkgew0KICAgICAgICAgICAgICAgIGxldCBwYXJhbXMsYXJyPVtdLGFycjE9W10sc3VtPTAsc3VtMT0wOw0KICAgICAgICAgICAgICAgICAgICBpZih0aGlzLmZvcm0ub3V0cGF0aWVudFNlcnZpY2VSaWdodC5sZW5ndGg9PTAgJiYgdGhpcy5mb3JtLmhvc3BpdGFsU2VydmljZVJpZ2h0PT0wKXsNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcz17DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZW51ZUNvZGU6dGhpcy5xdWVyeVBhcmFtcy5yZXZlbnVlQ29kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbXNSZXZlbnVlRGVwdHM6W10sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcENvZGU6dGhpcy5xdWVyeVBhcmFtcy5jb21wQ29kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzYXZlTG9hZGluZyA9IHRoaXMuc2F2ZUxvYWRpbmcoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGREZXB0TGlzdChwYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MoIuaUtuWFpeaguOeul+enkeWupOiuvue9ruaIkOWKnyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJzdWNjZXNzIiwgZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHQubGVuZ3RoPT0wICYmIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodCE9MCl7DQogICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQuZm9yRWFjaChpdGU9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW0xKz1OdW1iZXIoaXRlLnJhdGlvKSAgICAgICAgICAgICAgICAgICAgICAgIA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFycjEucHVzaCh7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHROYW1lOml0ZS5kaWN0TGFiZWwsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIGRlcHRDb2RlOml0ZS5kaWN0VmFsdWUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJhdGlvOml0ZS5yYXRpbw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgcGFyYW1zPXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXZlbnVlQ29kZTp0aGlzLnF1ZXJ5UGFyYW1zLnJldmVudWVDb2RlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHBtc1JldmVudWVEZXB0czphcnIxLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBDb2RlOnRoaXMucXVlcnlQYXJhbXMuY29tcENvZGUsDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihzdW0xPjEwMCl7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5tc2dFcnJvcigi5L2P6Zmi5bey6YCJ56eR5a6k5YiG5pGK5q+U5L6L55qE5oC75ZKM5bqU5bCP5LqO5oiW562J5LqOMTAwIikNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICByZXR1cm4NCiAgICAgICAgICAgICAgICAgICAgICAgIH1lbHNlew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGxldCBzYXZlTG9hZGluZyA9IHRoaXMuc2F2ZUxvYWRpbmcoKTsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBhZGREZXB0TGlzdChwYXJhbXMpLnRoZW4ocmVzcG9uc2UgPT4gew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1zZ1N1Y2Nlc3MoIuaUtuWFpeaguOeul+enkeWupOiuvue9ruaIkOWKnyIpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLiRlbWl0KCJzdWNjZXNzIiwgZmFsc2UpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBzYXZlTG9hZGluZy5jbG9zZSgpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIH0pOw0KICAgICAgICAgICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIGlmKHRoaXMuZm9ybS5vdXRwYXRpZW50U2VydmljZVJpZ2h0Lmxlbmd0aCE9MCAmJiB0aGlzLmZvcm0uaG9zcGl0YWxTZXJ2aWNlUmlnaHQ9PTApew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHQuZm9yRWFjaChpdGU9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW0rPU51bWJlcihpdGUucmF0aW8pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0TmFtZTppdGUuZGljdExhYmVsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0Q29kZTppdGUuZGljdFZhbHVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbzppdGUucmF0aW8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHBhcmFtcz17DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcmV2ZW51ZUNvZGU6dGhpcy5xdWVyeVBhcmFtcy5yZXZlbnVlQ29kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBwbXNSZXZlbnVlRGVwdHM6YXJyLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGNvbXBDb2RlOnRoaXMucXVlcnlQYXJhbXMuY29tcENvZGUsDQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgICAgICBpZihzdW0+MTAwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1zZ0Vycm9yKCLpl6jor4rlt7LpgInnp5HlrqTliIbmkYrmr5TkvovnmoTmgLvlkozlupTlsI/kuo7miJbnrYnkuo4xMDAiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhdmVMb2FkaW5nID0gdGhpcy5zYXZlTG9hZGluZygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZERlcHRMaXN0KHBhcmFtcykudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5pS25YWl5qC4566X56eR5a6k6K6+572u5oiQ5YqfIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoInN1Y2Nlc3MiLCBmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVMb2FkaW5nLmNsb3NlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgaWYodGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHQubGVuZ3RoIT0wICYmIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodC5sZW5ndGghPTApew0KICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtLm91dHBhdGllbnRTZXJ2aWNlUmlnaHQuZm9yRWFjaChpdGU9PnsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICBzdW0rPU51bWJlcihpdGUucmF0aW8pDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyLnB1c2goew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0TmFtZTppdGUuZGljdExhYmVsLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICBkZXB0Q29kZTppdGUuZGljdFZhbHVlLA0KICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICByYXRpbzppdGUucmF0aW8NCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB9KQ0KICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybS5ob3NwaXRhbFNlcnZpY2VSaWdodC5mb3JFYWNoKGl0ZT0+ew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHN1bTErPU51bWJlcihpdGUucmF0aW8pICAgICAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgYXJyMS5wdXNoKHsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdE5hbWU6aXRlLmRpY3RMYWJlbCwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgZGVwdENvZGU6aXRlLmRpY3RWYWx1ZSwNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgcmF0aW86aXRlLnJhdGlvDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSkNCiAgICAgICAgICAgICAgICAgICAgICAgIH0pDQogICAgICAgICAgICAgICAgICAgICAgICBwYXJhbXM9ew0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldmVudWVDb2RlOnRoaXMucXVlcnlQYXJhbXMucmV2ZW51ZUNvZGUsDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgcG1zUmV2ZW51ZURlcHRzOlsuLi5hcnIxLC4uLmFycl0sDQogICAgICAgICAgICAgICAgICAgICAgICAgICAgY29tcENvZGU6dGhpcy5xdWVyeVBhcmFtcy5jb21wQ29kZSwNCiAgICAgICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgICAgIGlmKHN1bT4xMDB8fHN1bTE+MTAwKXsNCiAgICAgICAgICAgICAgICAgICAgICAgICAgICB0aGlzLm1zZ0Vycm9yKCLpl6jor4rlj4rkvY/pmaLlt7LpgInnp5HlrqTliIbmkYrmr5TkvovnmoTmgLvlkozlupTliIbliKvlsI/kuo7miJbnrYnkuo4xMDAiKQ0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIHJldHVybg0KICAgICAgICAgICAgICAgICAgICAgICAgfWVsc2V7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgbGV0IHNhdmVMb2FkaW5nID0gdGhpcy5zYXZlTG9hZGluZygpOw0KICAgICAgICAgICAgICAgICAgICAgICAgICAgIGFkZERlcHRMaXN0KHBhcmFtcykudGhlbihyZXNwb25zZSA9PiB7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMubXNnU3VjY2Vzcygi5pS25YWl5qC4566X56eR5a6k6K6+572u5oiQ5YqfIik7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuJGVtaXQoInN1Y2Nlc3MiLCBmYWxzZSk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIHNhdmVMb2FkaW5nLmNsb3NlKCk7DQogICAgICAgICAgICAgICAgICAgICAgICAgICAgfSk7DQogICAgICAgICAgICAgICAgICAgICAgICB9DQogICAgICAgICAgICAgICAgICAgIH0NCiAgICAgICAgICAgICAgICAgICAgDQogICAgICAgICAgICAgICAgfQ0KICAgICAgICAgICAgfSk7DQogICAgICAgIH0sDQogICAgICAvLyDlvLnmoYblhbPpl60NCiAgICAgICAgaGFuZGxlRGlhbG9nQ2xvc2UoKSB7DQogICAgICAgICAgICB0aGlzLiRlbWl0KCJjYW5jZWwiLCBmYWxzZSk7DQogICAgICAgICAgICB0aGlzLnJlc2V0KCkNCiAgICAgICAgfSwNCiAgICAgICAgLy8g5Y+W5raIDQogICAgICAgIGNhbmNlbCgpIHsNCiAgICAgICAgICAgIHRoaXMuJGVtaXQoImNhbmNlbCIsIGZhbHNlKTsNCiAgICAgICAgICAgIHRoaXMucmVzZXQoKQ0KICAgICAgICB9LA0KICAgIH0sDQp9Ow0K"},null]}
{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-e0a149dc\"],{2334:function(e,t,a){\"use strict\";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"deptSearch el-form-item\"},[a(\"el-form-item\",{attrs:{label:e.label,prop:e.compName}},[a(\"el-input\",{staticStyle:{width:\"100%\"},attrs:{size:e.size,readonly:e.readonly,clearable:!e.readonly,placeholder:\"请选择\"+e.label},on:{change:e.handleChange},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleQuery(t)},click:function(t){return e.handleClickInput(t)}},model:{value:e.deptParams[e.compName],callback:function(t){e.$set(e.deptParams,e.compName,t)},expression:\"deptParams[compName]\"}})],1),a(\"el-form-item\",{staticStyle:{display:\"none\"},attrs:{label:\"\",prop:e.compCode}},[a(\"el-input\",{attrs:{type:\"text\"},nativeOn:{keyup:function(t){return!t.type.indexOf(\"key\")&&e._k(t.keyCode,\"enter\",13,t.key,\"Enter\")?null:e.handleQuery(t)}},model:{value:e.deptParams[e.compCode],callback:function(t){e.$set(e.deptParams,e.compCode,t)},expression:\"deptParams[compCode]\"}})],1),a(\"el-dialog\",{attrs:{\"custom-class\":\"el-button--primary\",visible:e.deptSearchFormDialog,id:\"deptDialog\",\"close-on-click-modal\":!1,title:\"选择\"+e.label,\"append-to-body\":\"\",width:\"500px\"},on:{\"update:visible\":function(t){e.deptSearchFormDialog=t}}},[a(\"div\",[a(\"div\",{staticClass:\"head-container\"},[a(\"el-row\",[a(\"el-col\",{staticClass:\"pr5\",attrs:{span:16}},[a(\"el-input\",{staticStyle:{\"margin-bottom\":\"20px\"},attrs:{placeholder:\"请输入编码名称\",clearable:\"\",size:\"small\",\"prefix-icon\":\"el-icon-search\"},model:{value:e.deptNameForm,callback:function(t){e.deptNameForm=t},expression:\"deptNameForm\"}})],1),a(\"el-col\",{attrs:{span:8}},[a(\"el-button\",{attrs:{size:\"mini\",type:\"text\",icon:\"el-icon-refresh\"},on:{click:e.handleRefresh}},[e._v(\"刷新\")]),a(\"el-button\",{attrs:{size:\"mini\",type:\"text\",icon:\"el-icon-arrow-down\"},on:{click:function(t){return e.handleExpand(!0)}}},[e._v(\"展开\")]),a(\"el-button\",{attrs:{size:\"mini\",type:\"text\",icon:\"el-icon-arrow-up\"},on:{click:function(t){return e.handleExpand(!1)}}},[e._v(\"折叠\")])],1)],1)],1),a(\"div\",{staticClass:\"head-container\"},[a(\"el-tree\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],ref:\"treeForm\",attrs:{lazy:\"\",\"node-key\":\"id\",data:e.deptOptions,load:e.getDeptDatas,props:e.defaultProps,\"filter-node-method\":e.filterNode,\"default-expand-all\":e.defaultExpand},on:{\"node-click\":e.handleFormNodeClick}})],1)])])],1)},n=[],i=(a(\"4de4\"),a(\"d3b7\"),a(\"0b70\")),l={name:\"index\",props:{queryParams:Object,label:{type:String,default:\"单位\"},size:{type:String,default:\"mini\"},readonly:{type:Boolean,default:!1},compCode:{type:String,default:\"compCode\"},compName:{type:String,default:\"compName\"},deptCode:{type:String,default:\"deptCode\"}},data:function(){return{treeClickCount:0,deptParams:this.queryParams,deptSearchFormDialog:!1,deptNameForm:void 0,deptOptions:void 0,defaultProps:{children:\"children\",label:\"label\"},deptList:[],open:!1,loading:!0,defaultExpand:!1}},mounted:function(){},watch:{deptNameForm:function(e){this.$refs.treeForm.filter(e)},queryParams:{handler:function(e){this.deptParams=e},deep:!0,immediate:!0},handleFormNodeClick:function(e){\"compCode\"==this.compCode&&(this.queryParams.deptCode=null),this.deptParams[this.compCode]=e.id,this.deptParams[this.compName]=e.label,this.deptSearchFormDialog=!1,this.$emit(\"click\",this.deptParams),this.$emit(\"input\",this.deptParams)}},methods:{handleClickInput:function(){this.readonly||(this.deptSearchFormDialog=!0)},getDeptDatas:function(e,t){var a=this,o=\"\";o=0===e.level?\"\":e.data.id,setTimeout((function(){a.loading=!0,Object(i[\"e\"])({parentId:o}).then((function(e){t?t(e.data):a.deptOptions=e.data,a.loading=!1}))}),100)},getTreeSelect:function(){var e=this;this.loading=!0,Object(i[\"e\"])().then((function(t){e.deptOptions=t.data,e.loading=!1}))},handleFormNodeClick:function(e){var t=this;this.treeClickCount++,this.treeClickCount>=2||(this.timer=window.setTimeout((function(){1==t.treeClickCount?t.treeClickCount=0:t.treeClickCount>1&&(t.treeClickCount=0,t.queryParams[t.deptCode]=null,t.deptParams[t.compCode]=e.id,t.deptParams[t.compName]=e.label,t.deptSearchFormDialog=!1,t.$emit(\"input\",t.deptParams),t.$emit(\"click\",t.deptParams))}),300))},filterNode:function(e,t){return!e||-1!==t.label.indexOf(e)},handleChange:function(e){e||(this.deptParams[this.compCode]=\"\",this.$emit(\"input\",this.deptParams))},handleRefresh:function(){this.getDeptDatas()},handleExpand:function(e){for(var t=this.deptOptions,a=0;a<t.length;a++)this.$refs.treeForm.store.nodesMap[t[a].id].expanded=e}}},r=l,s=(a(\"8887\"),a(\"2877\")),d=Object(s[\"a\"])(r,o,n,!1,null,\"45c6dbcf\",null);t[\"default\"]=d.exports},\"404c\":function(e,t,a){},8887:function(e,t,a){\"use strict\";a(\"8f65\")},\"8f65\":function(e,t,a){},afe5:function(e,t,a){\"use strict\";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"div\",{staticClass:\"app-container\",staticStyle:{padding:\"2px 0 0 0\"}},[a(\"div\",{ref:\"btns\"},[a(\"el-row\",{staticClass:\"mb8\",attrs:{gutter:10}},[a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{attrs:{type:\"info\",icon:\"el-icon-back\",size:\"mini\",loading:e.exportLoading},on:{click:e.goBack}},[e._v(\"返回 \")])],1),a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bonus:staff:add\"],expression:\"['bonus:staff:add']\"}],attrs:{type:\"primary\",icon:\"el-icon-plus\",size:\"mini\"},on:{click:e.handleAdd}},[e._v(\"新增\")])],1),a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bonus:staff:edit\"],expression:\"['bonus:staff:edit']\"}],attrs:{type:\"success\",icon:\"el-icon-save\",size:\"mini\",disabled:e.single},on:{click:e.handleUpdate}},[e._v(\"修改\")])],1),a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bonus:staff:remove\"],expression:\"['bonus:staff:remove']\"}],attrs:{type:\"danger\",icon:\"el-icon-delete\",size:\"mini\",disabled:e.multiple},on:{click:e.handleDelete}},[e._v(\"删除\")])],1),a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bonus:staff:add\"],expression:\"['bonus:staff:add']\"}],attrs:{type:\"primary\",icon:\"el-icon-upload2\",size:\"mini\"},on:{click:e.handleImport}},[e._v(\"导入Excel\")])],1),a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{directives:[{name:\"hasPermi\",rawName:\"v-hasPermi\",value:[\"bonus:staff:exportDetail\"],expression:\"['bonus:staff:exportDetail']\"}],attrs:{type:\"warning\",icon:\"el-icon-upload2\",size:\"mini\",loading:e.exportLoading},on:{click:e.handleExportMes}},[e._v(\"导出\")])],1),a(\"right-toolbar\",{attrs:{showSearch:e.showSearch},on:{\"update:showSearch\":function(t){e.showSearch=t},\"update:show-search\":function(t){e.showSearch=t},queryTable:e.getList}})],1)],1),a(\"el-table\",{directives:[{name:\"loading\",rawName:\"v-loading\",value:e.loading,expression:\"loading\"}],ref:\"multipleTable\",attrs:{border:\"\",stripe:\"\",data:e.EvaluateDataList,height:\"calc(100vh - 180px)\",\"row-style\":e.rowStyle,\"row-class-name\":e.rowClassName,\"show-summary\":!0,\"summary-method\":e.getSummaries},on:{\"selection-change\":e.handleSelectionChange,\"row-click\":e.rowClick}},[a(\"el-table-column\",{attrs:{type:\"selection\",width:\"55\",align:\"center\"}}),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"科室名称\",align:\"left\",prop:\"deptName\"}}),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"员工编码\",align:\"left\",prop:\"staffName\"}}),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"员工姓名\",align:\"left\",prop:\"staffName\"}}),a(\"el-table-column\",{attrs:{sortable:\"\",label:\"奖金金额\",align:\"right\",prop:\"bonusAmount\"},scopedSlots:e._u([{key:\"default\",fn:function(t){return[a(\"el-input-number\",{model:{value:t.row.bonusAmount,callback:function(a){e.$set(t.row,\"bonusAmount\",a)},expression:\"scope.row.bonusAmount\"}})]}}])})],1),a(\"pagination\",{directives:[{name:\"show\",rawName:\"v-show\",value:e.total>0,expression:\"total>0\"}],attrs:{total:e.total,page:e.queryParams.pageNum,limit:e.queryParams.pageSize},on:{\"update:page\":function(t){return e.$set(e.queryParams,\"pageNum\",t)},\"update:limit\":function(t){return e.$set(e.queryParams,\"pageSize\",t)},pagination:e.getList}}),e.open?a(\"addEdit\",{attrs:{open:e.open,id:e.addEditId},on:{cancel:e.cancel,success:e.successSubmit}}):e._e(),a(\"el-dialog\",{attrs:{title:e.upload.title,visible:e.upload.open,width:\"400px\",\"custom-class\":\"el-button--primary\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){return e.$set(e.upload,\"open\",t)}}},[a(\"el-upload\",{ref:\"upload\",attrs:{limit:1,data:e.uploadDate,accept:\".xlsx, .xls\",headers:e.upload.headers,action:e.upload.url+\"?updateSupport=\"+e.upload.updateSupport,disabled:e.upload.isUploading,\"on-progress\":e.handleFileUploadProgress,\"on-success\":e.handleFileSuccess,\"on-error\":e.handleFileError,\"auto-upload\":!1,drag:\"\"}},[a(\"i\",{staticClass:\"el-icon-upload\"}),a(\"div\",{staticClass:\"el-upload__text\"},[e._v(\" 将文件拖到此处，或 \"),a(\"em\",[e._v(\"点击上传\")])]),a(\"div\",{staticClass:\"el-upload__tip\",attrs:{slot:\"tip\"},slot:\"tip\"},[e._v(\" 注意：生成数据需要大约俩分钟时间，在此期间请不要关闭您的浏览器或刷新界面。 \")]),a(\"div\",{staticClass:\"el-upload__tip\",attrs:{slot:\"tip\"},slot:\"tip\"},[a(\"el-link\",{staticStyle:{\"font-size\":\"12px\"},attrs:{type:\"info\"},on:{click:e.handleExport}},[e._v(\"下载模板\")])],1),a(\"div\",{staticClass:\"el-upload__tip\",staticStyle:{color:\"#cb6c6c\"},attrs:{slot:\"tip\"},slot:\"tip\"},[e._v(\"提示：仅允许导入“xls”或“xlsx”格式文件！\")])]),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.submitFileForm}},[e._v(\"确 定\")]),a(\"el-button\",{on:{click:function(t){e.upload.open=!1}}},[e._v(\"取 消\")])],1)],1)],1)},n=[],i=(a(\"d81d\"),a(\"7db0\"),a(\"d3b7\"),a(\"159b\"),a(\"a9e3\"),a(\"13d5\"),a(\"b680\"),a(\"c466\")),l=(a(\"e472\"),a(\"3b86\"),a(\"b775\"));function r(e){return Object(l[\"a\"])({url:\"/bonus/staff/listBonusStaff\",method:\"get\",params:e})}var s=a(\"0e67\"),d=a(\"986b\"),c=(a(\"0b70\"),a(\"f2d9\")),u=a(\"2b0e\"),p=a(\"d623\"),m=a(\"fead\"),f=a(\"5f87\");u[\"default\"].component(\"downloadExcel\",c[\"a\"]);var h={name:\"EvaluateData\",deptCode:{type:[String,String],default:\"\"},components:{addEdit:m[\"default\"],formItem:s[\"default\"],btns:d[\"default\"],selectList:p[\"default\"]},filters:{transToValue:function(e,t){return e[t]}},computed:{sumDataList:function(){return this.sumDataList_.push({}),this.sumDataList_.push(this.bottomTotal),this.sumDataList_},excelName:function(){return\"人员奖金\"+Object(i[\"c\"])()+\".xls\"}},mounted:function(){},watch:{},data:function(){return{processOpen:!1,height:\"500px;\",src:\"\",showAudit:!1,id:\"\",showDialog:!1,userOptions:[],auditState:\"\",saveLoading:!1,loading:!1,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,EvaluateDataList:[],sumDataList_:[],selectionRow:[],title:\"\",open:!1,queryParams:{pageNum:1,pageSize:30,compCode:null,deptCode:null,deptName:null,accountCode:null,guideCode:null,guideValue:null,delFlag:null,actDate:Object(i[\"c\"])()+\"-01\",createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null,deptType:null},form:{procedureId:null,assignee:null},nextAssignee:[],btn1:!1,btn2:!1,btn3:!1,btn4:!1,btn5:!1,comment:\"\",proclnsIds:\"\",datas:{},openSelect:!1,doctorOpen:!1,docParams:{pageNum:1,pageSize:20},doctorList:[],docTotal:0,tableTitle:\"人员奖金数据\",jsonFields:{\"科室名称\":\"deptRoomName\",\"人员姓名\":\"docName\"},bottomTotal:{deptRoomName:\"合计\",docName:\"\",total:0},uploadDate:{enterTime:null},upload:{open:!1,title:\"\",isUploading:!1,updateSupport:0,headers:{Authorization:\"Bearer \"+Object(f[\"a\"])()},url:\"/pms/system/staff/importData\"}}},created:function(){this.getList()},methods:{handleExportMes:function(){var e=this,t=this.queryParams;this.$confirm(\"是否确认导出所有员工数据项?\",\"警告\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){return e.exportLoading=!0,exportDetail(t)})).then((function(t){e.download(t.msg),e.exportLoading=!1})).catch((function(){}))},handleImport:function(){this.upload.title=\"员工导入\",this.upload.open=!0},handleDelete:function(e){var t=this,a=e.id||this.ids;this.$confirm(\"是否确认删除选中的员工数据项?\",\"警告\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){return delStaff(a)})).then((function(){t.getList(),t.msgSuccess(\"删除成功\")})).catch((function(){}))},handleAdd:function(){this.open=!0,this.addEditId=\"\"},handleUpdate:function(e){this.reset();var t=e.id||this.ids[0];this.open=!0,this.addEditId=t},submitFileForm:function(){this.uploadDate.enterTime=this.form.enterTime,this.$refs.upload.submit()},handleFileUploadProgress:function(e,t,a){this.upload.isUploading=!0},handleFileSuccess:function(e,t,a){this.upload.open=!1,this.upload.isUploading=!1,this.$refs.upload.clearFiles(),this.$alert(e.msg,\"导入结果\",{dangerouslyUseHTMLString:!0}),this.getList()},handleFileError:function(e,t,a){this.upload.isUploading=!1,this.msgError(\"上传失败！\")},getList:function(){var e=this;this.loading=!0,this.queryParams.deptCode=this.$route.params.deptCode,this.queryParams.actDate=this.$route.params.actDate,r(this.queryParams).then((function(t){e.EvaluateDataList=t.data,e.tableDoLayout(),e.loading=!1}))},cancel:function(){this.open=!1},successSubmit:function(e){this.open=e,this.getList()},cancelSelect:function(){this.openSelect=!1},reset:function(){this.form={id:null,compCode:null,deptName:null,accountCode:null,guideCode:null,guideValue:null,delFlag:null,actDate:null,createBy:null,createTime:null,updateBy:null,updateTime:null,remark:null},this.resetForm(\"form\")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm(\"queryForm\"),this.handleQuery()},handleSelectionChange:function(e){this.ids=e.map((function(e){return e.docCode})),this.single=1!==e.length,this.multiple=!e.length,this.selectionRow=e},rowClick:function(e,t,a){var o=this.$refs.multipleTable,n=this.selectionRow.find((function(t){return t.rowIndex==e.rowIndex}));n&&1==this.selectionRow.length?o.toggleRowSelection(e,!1):(o.clearSelection(),o.toggleRowSelection(e))},rowStyle:function(e){var t=e.row,a=e.rowIndex;Object.defineProperty(t,\"rowIndex\",{value:a,writable:!0,enumerable:!1})},rowClassName:function(e){var t=e.row,a=(e.rowIndex,\"\"),o=this.selectionRow.find((function(e){return e.rowIndex===t.rowIndex}));return o&&(a=\"current-row \"),a},tableRowClassName:function(e){var t=e.row,a=e.rowIndex;t.row_index=a},singleTable:function(e){var t=this.$refs.itsmDataTable;t.clearSelection(),this.currentRowIndex==e.row_index?(t.toggleRowSelection(e,!1),this.currentRowIndex=null,this.docSelectData=null):(t.toggleRowSelection(e),this.currentRowIndex=e.row_index,this.docSelectData=e)},handleExport:function(){var e=this;this.queryParams;this.$confirm(\"是否确认导出科室奖金数据项?\",\"警告\",{confirmButtonText:\"确定\",cancelButtonText:\"取消\",type:\"warning\"}).then((function(){e.exportLoading=!0})).catch((function(){}))},goBack:function(){this.$store.dispatch(\"tagsView/delView\",this.$route),this.$router.go(-1)},getSummaries:function(e){var t=this,a=e.columns,o=e.data,n=[];return a.forEach((function(e,a){if(0!==a){var i=o.map((function(t){return Number(t[e.property])}));i.every((function(e){return isNaN(e)}))?n[a]=\"\":(n[a]=i.reduce((function(e,t){var a=Number(t);return isNaN(a)?e:e+t}),0),\"deptName\"!=e.property&&(t.bottomTotal[e.property]=parseFloat(n[a])),n[a]=n[a].toFixed(2))}else n[a]=\"合计\"})),n},tableDoLayout:function(){var e=this;this.$refs.multipleTable&&this.$nextTick((function(){e.$refs.multipleTable.doLayout()}))}}},g=h,b=a(\"2877\"),y=Object(b[\"a\"])(g,o,n,!1,null,null,null);t[\"default\"]=y.exports},cf5e:function(e,t,a){\"use strict\";a(\"404c\")},ef6c:function(e,t,a){\"use strict\";a.d(t,\"f\",(function(){return n})),a.d(t,\"e\",(function(){return i})),a.d(t,\"a\",(function(){return l})),a.d(t,\"g\",(function(){return r})),a.d(t,\"b\",(function(){return s})),a.d(t,\"d\",(function(){return d})),a.d(t,\"c\",(function(){return c}));var o=a(\"b775\");function n(e){return Object(o[\"a\"])({url:\"/system/staff/list\",method:\"get\",params:e})}function i(e){return Object(o[\"a\"])({url:\"/system/staff/\"+e,method:\"get\"})}function l(e){return Object(o[\"a\"])({url:\"/system/staff\",method:\"post\",data:e})}function r(e){return Object(o[\"a\"])({url:\"/system/staff\",method:\"put\",data:e})}function s(e){return Object(o[\"a\"])({url:\"/system/staff/\"+e,method:\"delete\"})}function d(e){return Object(o[\"a\"])({url:\"/system/staff/export\",method:\"get\",params:e})}function c(e){return Object(o[\"a\"])({url:\"/system/staff/exportDetail\",method:\"get\",params:e})}},fead:function(e,t,a){\"use strict\";a.r(t);var o=function(){var e=this,t=e.$createElement,a=e._self._c||t;return a(\"el-dialog\",{attrs:{title:e.title,visible:e.openDialog,width:\"30%\",\"custom-class\":\"el-button--primary\",\"append-to-body\":\"\",\"close-on-click-modal\":!1},on:{\"update:visible\":function(t){e.openDialog=t},close:e.handleDialogClose}},[a(\"el-form\",{ref:\"form\",attrs:{model:e.form,rules:e.rules,\"label-width\":\"80px\"}},[a(\"el-form-item\",{attrs:{label:\"员工编码\",prop:\"staffCode\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入员工编码\",maxlength:\"50\",\"show-word-limit\":\"\"},model:{value:e.form.staffCode,callback:function(t){e.$set(e.form,\"staffCode\",t)},expression:\"form.staffCode\"}})],1),a(\"el-form-item\",{attrs:{label:\"员工姓名\",prop:\"staffName\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入员工姓名\",maxlength:\"50\",\"show-word-limit\":\"\"},model:{value:e.form.staffName,callback:function(t){e.$set(e.form,\"staffName\",t)},expression:\"form.staffName\"}})],1),a(\"orgSearch\",{attrs:{label:\"单位\",queryParams:e.form,compCode:\"orgCode\",compName:\"orgName\"},on:{click:e.handleClickOrg}}),a(\"el-form-item\",{attrs:{label:\"科室\",prop:\"deptCode\"}},[a(\"el-select\",{staticClass:\"w100\",attrs:{placeholder:\"请选择科室\",filterable:\"\"},on:{change:e.handleChangeDeptRoom},model:{value:e.form.deptCode,callback:function(t){e.$set(e.form,\"deptCode\",t)},expression:\"form.deptCode\"}},e._l(e.deptList,(function(e){return a(\"el-option\",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"用户性别\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.form.sex,callback:function(t){e.$set(e.form,\"sex\",t)},expression:\"form.sex\"}},e._l(e.sexOptions,(function(e){return a(\"el-option\",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"证件类型\",prop:\"cardtype\"}},[a(\"el-select\",{attrs:{placeholder:\"请选择\"},model:{value:e.form.cardType,callback:function(t){e.$set(e.form,\"cardType\",t)},expression:\"form.cardType\"}},e._l(e.cardtypeOptions,(function(e){return a(\"el-option\",{key:e.dictValue,attrs:{label:e.dictLabel,value:e.dictValue}})})),1)],1),a(\"el-form-item\",{attrs:{label:\"证件号\",prop:\"cardNo\"}},[a(\"el-input\",{attrs:{placeholder:\"请输入证件号\",maxlength:\"50\",\"show-word-limit\":\"\"},model:{value:e.form.cardNo,callback:function(t){e.$set(e.form,\"cardNo\",t)},expression:\"form.cardNo\"}})],1),a(\"el-form-item\",{attrs:{label:\"备注\",prop:\"remark\"}},[a(\"el-input\",{attrs:{type:\"textarea\"},model:{value:e.form.remark,callback:function(t){e.$set(e.form,\"remark\",t)},expression:\"form.remark\"}})],1)],1),a(\"div\",{staticClass:\"dialog-footer\",attrs:{slot:\"footer\"},slot:\"footer\"},[a(\"el-button\",{attrs:{type:\"primary\"},on:{click:e.submitForm}},[e._v(\"确 定\")]),a(\"el-button\",{on:{click:e.cancel}},[e._v(\"取 消\")])],1)],1)},n=[],i=(a(\"a9e3\"),a(\"4de4\"),a(\"d3b7\"),a(\"ef6c\")),l=a(\"aa3a\"),r=a(\"2334\"),s=a(\"ca17\"),d=a.n(s),c=(a(\"542c\"),{name:\"addEdit\",props:{open:{type:Boolean,default:!1},id:{type:[String,Number],default:\"\"}},watch:{orgName:function(e){this.$refs.tree.filter(e)},\"form.deptId\":{handler:function(e){this.getDeptByComp(e)},immediate:!0,deep:!0},id:{handler:function(e){this.reset(),e?(this.id=e,this.title=\"奖金导入-编辑\",this.getDetailInfo()):(this.id=\"\",this.title=\"奖金导入-新增\")},deep:!0,immediate:!0},open:{handler:function(e){this.openDialog=e},deep:!0}},components:{TreeSelect:d.a,orgSearch:r[\"default\"]},data:function(){return{title:\"员工信息-新增\",openDialog:this.open,deptList:[],orgName:void 0,sexOptions:[],cardtypeOptions:[],form:{},rules:{staffCode:[{required:!0,message:\"员工编码不能为空\",trigger:\"blur\"}],staffName:[{required:!0,message:\"员工姓名不能为空\",trigger:\"blur\"}],deptCode:[{required:!0,message:\"科室编码不能为空\",trigger:\"blur\"}],deptName:[{required:!0,message:\"科室名称不能为空\",trigger:\"blur\"}],cardNo:[{pattern:/(^\\d{8}(0\\d|10|11|12)([0-2]\\d|30|31)\\d{3}$)|(^\\d{6}(18|19|20)\\d{2}(0\\d|10|11|12)([0-2]\\d|30|31)\\d{3}(\\d|X|x)$)/,message:\"请输入正确的证件号码\",trigger:\"blur\"}]}}},created:function(){var e=this;this.getDicts(\"sys_user_sex\").then((function(t){e.sexOptions=t.data})),this.getDicts(\"CV02.01.101\").then((function(t){e.cardtypeOptions=t.data}))},methods:{handleClickOrg:function(e){this.deptList=[],this.form.deptCode=null,this.getDeptByComp(e.orgCode)},getDeptByComp:function(e){var t=this,a={compCode:e};Object(l[\"f\"])(a).then((function(e){t.deptList=e.data}))},handleChangeDeptRoom:function(e){this.form.deptName=this.selectDictLabel(this.deptList,e)},getDetailInfo:function(){var e=this;Object(i[\"e\"])(this.id).then((function(t){e.form=t.data}))},handleDialogClose:function(){this.$emit(\"cancel\",!1)},cancel:function(){this.$emit(\"cancel\",!1)},reset:function(){this.form={id:null,compCode:this.$store.state.user.accountInfo.deptId,deptCode:null,deptName:null,oraName:null,oraCode:null,enterDate:null,remark:null},this.resetForm(\"form\")},submitForm:function(){var e=this;this.$refs[\"form\"].validate((function(t){if(t){var a=e.saveLoading();null!=e.form.id?Object(i[\"g\"])(e.form).then((function(t){e.msgSuccess(\"修改成功\"),e.$emit(\"success\",!1),a.close()})):Object(i[\"a\"])(e.form).then((function(t){e.msgSuccess(\"新增成功\"),e.$emit(\"success\",!1),a.close()}))}}))}}}),u=c,p=(a(\"cf5e\"),a(\"2877\")),m=Object(p[\"a\"])(u,o,n,!1,null,\"365f5234\",null);t[\"default\"]=m.exports}}]);","extractedComments":[]}
{"code":"(window[\"webpackJsonp\"]=window[\"webpackJsonp\"]||[]).push([[\"chunk-fd9fe414\"],{\"15d8\":function(t,e,a){\"use strict\";a(\"f7c7\")},\"460c\":function(t,e,a){\"use strict\";a.r(e);var n=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"app-container\",attrs:{t:\"\"}},[a(\"div\",{ref:\"search\"},[a(\"el-form\",{directives:[{name:\"show\",rawName:\"v-show\",value:t.showSearch,expression:\"showSearch\"}],ref:\"queryForm\",attrs:{model:t.queryParams,inline:!0,\"label-width\":\"68px\"}},[a(\"el-form-item\",{attrs:{label:\"奖金年月\",prop:\"period\"}},[a(\"el-date-picker\",{attrs:{clearable:!1,editable:!1,size:\"small\",type:\"month\",\"value-format\":\"yyyy-MM-dd\",placeholder:\"选择奖金年月\"},model:{value:t.queryParams.period,callback:function(e){t.$set(t.queryParams,\"period\",e)},expression:\"queryParams.period\"}})],1),a(\"el-form-item\",[a(\"el-button\",{attrs:{type:\"primary\",icon:\"el-icon-search\",size:\"mini\"},on:{click:t.handleQuery}},[t._v(\"搜索\")]),a(\"el-button\",{attrs:{icon:\"el-icon-refresh\",size:\"mini\"},on:{click:t.resetQuery}},[t._v(\"重置\")])],1)],1)],1),a(\"div\",{ref:\"btns\"},[a(\"el-row\",{staticClass:\"mb8\",attrs:{gutter:10}},[a(\"el-col\",{attrs:{span:1.5}},[a(\"el-button\",{attrs:{type:\"info\",icon:\"el-icon-back\",size:\"mini\",loading:t.exportLoading},on:{click:t.goBack}},[t._v(\"返回 \")])],1),a(\"right-toolbar\",{attrs:{showSearch:t.showSearch},on:{\"update:showSearch\":function(e){t.showSearch=e},\"update:show-search\":function(e){t.showSearch=e},queryTable:t.getList}})],1)],1),a(\"div\",{staticStyle:{\"text-align\":\"center\"}},[a(\"div\",{staticClass:\"el-table\",staticStyle:{width:\"60%\",\"margin-left\":\"calc((100vw - 200px)*0.4/2)\"}},[t._m(0),a(\"div\",{staticClass:\"el-table__body-wrapper is-scrolling-none\",staticStyle:{height:\"auto\"}},[a(\"table\",{staticClass:\"el-table__body\",staticStyle:{width:\"100%\"},attrs:{cellspacing:\"0\",cellpadding:\"0\",border:\"0\"}},[a(\"tbody\",[a(\"tr\",{staticClass:\"el-table__row\"},[t._m(1),a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-content\"},[t._v(t._s(t.formatDateOfZh))])])]),a(\"tr\",{staticClass:\"el-table__row el-table__row--striped\"},[t._m(2),a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-content\"},[t._v(t._s(t.detailInfo.dateBegin))])])]),a(\"tr\",{staticClass:\"el-table__row\"},[t._m(3),a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-content\"},[t._v(t._s(t.detailInfo.dateEnd))])])]),a(\"tr\",{staticClass:\"el-table__row el-table__row--striped\"},[t._m(4),a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-content\",staticStyle:{\"text-align\":\"right\"}},[a(\"el-link\",{staticClass:\"displayBlock text-ellipsis \",attrs:{type:\"primary\",underline:!1},on:{click:function(e){return t.bonusAloneDetail()}}},[t._v(t._s(t.detailInfo.bonusAlone)+\" \")])],1)])]),a(\"tr\",{staticClass:\"el-table__row\"},[t._m(5),a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-content\",staticStyle:{\"text-align\":\"right\"}},[a(\"el-link\",{staticClass:\"displayBlock text-ellipsis \",attrs:{type:\"primary\",underline:!1},on:{click:function(e){return t.bonusAverageDetail()}}},[t._v(t._s(t.detailInfo.bonusAverage)+\" \")])],1)])]),a(\"tr\",{staticClass:\"el-table__row el-table__row--striped\"},[t._m(6),a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-content\",staticStyle:{\"text-align\":\"right\"}},[t._v(t._s(t.detailInfo.bonusTotal))])])])])])])])])])},s=[function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"div\",{staticClass:\"el-table__header-wrapper\"},[a(\"table\",{staticClass:\"el-table__header\",staticStyle:{width:\"100%\"},attrs:{cellspacing:\"0\",cellpadding:\"0\",border:\"0\"}},[a(\"thead\",{staticClass:\"has-gutter\"},[a(\"tr\",{},[a(\"th\",{staticClass:\"is-leaf\",attrs:{colspan:\"1\",rowspan:\"1\"}},[a(\"div\",{staticClass:\"cell\"},[t._v(\"项目\")])]),a(\"th\",{staticClass:\"is-leaf\",attrs:{colspan:\"1\",rowspan:\"1\"}},[a(\"div\",{staticClass:\"cell\"},[t._v(\"内容\")])])])])])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-title\"},[t._v(\"考核月份\")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-title\"},[t._v(\"开始时间\")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-title\"},[t._v(\"结束时间\")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-title\"},[t._v(\"独立核算科室奖金\")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-title\"},[t._v(\"平均奖科室奖金\")])])},function(){var t=this,e=t.$createElement,a=t._self._c||e;return a(\"td\",{attrs:{rowspan:\"1\",colspan:\"1\"}},[a(\"div\",{staticClass:\"cell c-title\"},[t._v(\"总奖金\")])])}],i=(a(\"a9e3\"),a(\"ac1f\"),a(\"5319\"),a(\"d81d\"),a(\"7db0\"),a(\"d3b7\"),a(\"4d1c\")),r={name:\"Calculation\",id:{type:[String,Number],default:\"\"},data:function(){return{loading:!0,exportLoading:!1,ids:[],single:!0,multiple:!0,showSearch:!0,total:0,detailInfo:{period:\"\",dateBegin:\"\",dateEnd:\"\",bonusAlone:\"\",bonusAverage:\"\",bonusTotal:\"\"},selectionRow:[],title:\"\",open:!1,queryParams:{period:this.$route.params.period},form:{},rules:{}}},created:function(){this.getList()},computed:{formatDateOfZh:function(){return this.detailInfo.period?this.formatDate(this.detailInfo.period):\"\"}},methods:{getList:function(){var t=this;this.loading=!0,Object(i[\"d\"])(this.queryParams.period).then((function(e){t.detailInfo=e.data,t.queryParams.period=t.detailInfo.period+\"-01\",e.msg&&(t.detailInfo.bonusAlone=\"--\",t.detailInfo.bonusAverage=\"--\",t.detailInfo.bonusTotal=\"--\",t.$message.error(t.formatDate(t.detailInfo.period)+e.msg)),t.loading=!1})).catch((function(e){t.loading=!1}))},successSubmit:function(t){this.open=t,this.getList()},formatDate:function(t){var e=new Date(Date.parse(t.replace(/-/g,\"/\")));return e.getFullYear()+\"年\"+(e.getMonth()+1)+\"月\"},cancel:function(){this.open=!1,this.reset()},reset:function(){this.form={id:null,name:null},this.resetForm(\"form\")},handleQuery:function(){this.queryParams.pageNum=1,this.getList()},resetQuery:function(){this.resetForm(\"queryForm\"),this.handleQuery()},handleSelectionChange:function(t){this.ids=t.map((function(t){return t.id})),this.single=1!==t.length,this.multiple=!t.length,this.selectionRow=t},rowClick:function(t,e,a){var n=this.$refs.multipleTable,s=this.selectionRow.find((function(e){return e.rowIndex==t.rowIndex}));s&&1==this.selectionRow.length?n.toggleRowSelection(t,!1):(n.clearSelection(),n.toggleRowSelection(t))},rowStyle:function(t){var e=t.row,a=t.rowIndex;Object.defineProperty(e,\"rowIndex\",{value:a,writable:!0,enumerable:!1})},rowClassName:function(t){var e=t.row,a=(t.rowIndex,\"\"),n=this.selectionRow.find((function(t){return t.rowIndex===e.rowIndex}));return n&&(a=\"current-row \"),a},goBack:function(){this.$store.dispatch(\"tagsView/delView\",this.$route),this.$router.go(-1)},bonusAloneDetail:function(){if(!isNaN(this.detailInfo.bonusAlone)){var t=\"0\";this.$store.dispatch(\"tagsView/delView\",this.$route),this.$router.push(\"/deptBonus/index/\"+t+\"/\"+this.queryParams.period)}},bonusAverageDetail:function(){if(!isNaN(this.detailInfo.bonusAverage)){var t=\"1\";this.$store.dispatch(\"tagsView/delView\",this.$route),this.$router.push(\"/deptBonus/index/\"+t+\"/\"+this.queryParams.period)}}}},o=r,l=(a(\"15d8\"),a(\"2877\")),c=Object(l[\"a\"])(o,n,s,!1,null,\"e40a3ea8\",null);e[\"default\"]=c.exports},\"4d1c\":function(t,e,a){\"use strict\";a.d(e,\"i\",(function(){return s})),a.d(e,\"g\",(function(){return i})),a.d(e,\"a\",(function(){return r})),a.d(e,\"j\",(function(){return o})),a.d(e,\"f\",(function(){return l})),a.d(e,\"b\",(function(){return c})),a.d(e,\"d\",(function(){return u})),a.d(e,\"e\",(function(){return d})),a.d(e,\"h\",(function(){return h})),a.d(e,\"c\",(function(){return f}));var n=a(\"b775\");function s(t){return Object(n[\"a\"])({url:\"/bonus/calculation/list\",method:\"get\",params:t})}function i(t){return Object(n[\"a\"])({url:\"/bonus/calculation/\"+t,method:\"get\"})}function r(t){return Object(n[\"a\"])({url:\"/bonus/calculation\",method:\"post\",data:t})}function o(t){return Object(n[\"a\"])({url:\"/bonus/calculation\",method:\"put\",data:t})}function l(t){return Object(n[\"a\"])({url:\"/bonus/calculation/\"+t,method:\"delete\"})}function c(t){return Object(n[\"a\"])({url:\"/bonus/calculation/archive/\"+t,method:\"post\"})}function u(t){return Object(n[\"a\"])({url:\"/bonus/calculation/detail/\"+t,method:\"get\"})}function d(t){return Object(n[\"a\"])({url:\"/bonus/calculation/commit/audit\",method:\"post\",data:t})}function h(t){return Object(n[\"a\"])({url:\"/bonus/calculation/get/proId\",method:\"post\",data:t})}function f(t){return Object(n[\"a\"])({url:\"/bonus/calculation/audit\",method:\"post\",data:t})}},f7c7:function(t,e,a){}}]);","extractedComments":[]}